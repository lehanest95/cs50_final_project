AuthorID,Author,Date,Content,Attachments,Reactions
"194900754304073729","arlyd#9228","28-Dec-17 11:41 PM","Hey guys, hoping you can help me:

I've been watching the pset video and working through it but I'm a little bit confused as to how the data is going to be stored on this ""memory stick"" - we read the stick 512 bytes at a time but how do we know when we've reached the end of a file? Are they literally back-to-back so I just need to read ahead, check the header and then, if the header exists, close off the old file, rewind 512 to the beginning of this new header and then start saving in a new file? We're not taking in to account that there might be random bytes in between files in this scenario?","",""
"161289504747945984","LiberaVeritas#1294","28-Dec-17 11:51 PM","Everything is aligned to the block so no data will start in the middle of the block.
If you find a jpg header at the start of the block, then the jpg data starts from there up to the point a new data header is at the start of a block.
Jpgs can span multiple blocks.","",""
"194900754304073729","arlyd#9228","28-Dec-17 11:59 PM","Thank you so much. üòÉ Nice and straight forward then!","",""
"194900754304073729","arlyd#9228","29-Dec-17 12:00 AM","Oh and if you use fread and get to the end of a file, does the seek position reset to 0? Or do you need to manually dial it back?","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 12:23 AM","@arlyd it will not reset automatically.  But if you get to the end of the file, you're finished anyway, so you'll probably just be closing the file.  You don't have to manage the fread cursor.","",""
"194900754304073729","arlyd#9228","29-Dec-17 12:26 AM","Thanks. @curiouskiwi üòÉ Holding the fort single-handedly! üëè 

I was just thinking as I go through the data I will need to use fread to collect 512 bytes and then, only if it doesn't have a jpg header in it, I would need to rewind 512 bytes and then use fwrite to add it to the .jpg file. However thinking about this ""out loud""  I guess I could just put it all in a buffer and do it from there. So that'll probably be easier to do I guess?","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 12:27 AM","a buffer that holds 512 bytes is the usual method.  no rewinding ever necessary. (if you do too much rewinding, you'll probably time out on check50)","",""
"194900754304073729","arlyd#9228","29-Dec-17 12:28 AM","But if you scan the buffer for any jpg headers, wouldn't you then need to rewind to 0 to scan the next one?","",""
"194900754304073729","arlyd#9228","29-Dec-17 12:28 AM","Oh derp","",""
"194900754304073729","arlyd#9228","29-Dec-17 12:28 AM","Nevermind","",""
"194900754304073729","arlyd#9228","29-Dec-17 12:28 AM","I could just question the exact parts of the array","",""
"194900754304073729","arlyd#9228","29-Dec-17 12:28 AM","Stupid question sorry! Thanks for your help üòÉ","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 12:29 AM","You have one file that you are scanning through ... you should never be resetting to 0","",""
"194900754304073729","arlyd#9228","29-Dec-17 12:31 AM","So I place the next 512 bytes into the buffer. Then I have to check that buffer for the signs of a new jpg file starting and if it isn't starting, I then move that buffer into the jpg. I can check the buffer easily but to move it into the jpeg I will need to use fwrite on the buffer though wouldn't I?","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 12:34 AM","""use fwrite on the buffer""  if by that you mean, use the buffer as the source bytes when you fwrite to the already open jpg file, then yes.","",""
"194900754304073729","arlyd#9228","29-Dec-17 12:35 AM","So you use something like:

    fwrite(buffer, 512, 1, img);

To move the data from the buffer to the open jpg file.

And then the next time you've loaded up the buffer, you'd need to reset the position of the buffer to 0 again wouldn't you?","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 12:35 AM","if you haven't yet found a signature, then you won't have an open file, so you'll just read into the buffer the next 512 bytes from the raw file","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 12:35 AM","there is no ""position"" of the buffer.","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 12:36 AM","it's an array of 512 bytes in memory","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 12:36 AM","it's not a file","",""
"194900754304073729","arlyd#9228","29-Dec-17 12:37 AM","So if you had a buffer with the size of 1024 bytes and did fwrite for the first 512 bytes. What would happen when you do fwrite again? It would start from the beginning? You can't skip ahead?","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 12:40 AM","it will start from wherever you tell it to.  If you say `fwrite(buffer, 512, 1, output_file);`  that says,  write 512 bytes found at the address of the first byte of buffer to the output_file","",""
"194900754304073729","arlyd#9228","29-Dec-17 12:42 AM","Oh ok, I thought the ""512"" in your example was how many bytes to read and then the ""1"" was how many times to read this number. I didn't think the ""1"" was the position for it to start.","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 12:42 AM","if you had a 1024-byte buffer and you wanted to write from the 512th byte, then you'd have to say `fwrite(buffer+512, 512, 1, output_file);`   this uses pointer arithmetic.  But in this problem, you are dealing with 512 bytes.","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 12:42 AM","512 is the number of bytes to write","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 12:42 AM","and 1 is the number of blocks of 512 to write","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 12:43 AM","for the purposes of recover, use a 512 byte array for your buffer.","",""
"194900754304073729","arlyd#9228","29-Dec-17 12:43 AM","Ok cool, I didn't realise pointer arhitmetic was involved. I know it's not for this exercise I was just trying to get a better understanding of it. Thank you so much. üòÉ","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 12:45 AM","when you declare an array, the variable name is an implicit pointer to the first element in the block of memory.   so `buffer[1]` is shorthand for `*(buffer+1)`","",""
"194900754304073729","arlyd#9228","29-Dec-17 12:47 AM","Yeah I get undestood that, I just hadn't put the pieces together to realise I would need to do that in that sort of scenario. I had it in my head that fwrite would rely on a position tracker regardless of whether it's being used to read from a file or an array. I see now that the position trackers are specific to files only.","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 12:54 AM","well, for this problem you don't need to know about pointer arithmetic etc.  You are dealing with blocks of 512 and a buffer of 512. üòÉ","",""
"194900754304073729","arlyd#9228","29-Dec-17 12:55 AM","I know, I know! Curiousity killed the cat and all that üòÑ Thanks for your help!","","üòÉ (2)"
"194900754304073729","arlyd#9228","29-Dec-17 02:18 AM","Wow, I did it! It's so rewarding to see it work and all these Jpgs appear üòÑ üòÑ üòÑ","","üí™ (1)"
"161289504747945984","LiberaVeritas#1294","29-Dec-17 02:19 AM","I think this one was my favourite because it is so rewarding.","",""
"194900754304073729","arlyd#9228","29-Dec-17 02:19 AM","Yeah, mine so far too! The pictures aren't too bad either!  üòÑ","",""
"348596248565121036","Interstellar#7388","29-Dec-17 08:45 AM","lol. I was doing this set this morning.","",""
"348596248565121036","Interstellar#7388","29-Dec-17 08:49 AM","I finished the program and it worked almost perfectly. The only problem is that check50 says it ""failed to execute program due to segmentation fault"" when ""handles lack of foresnsic image""","",""
"348596248565121036","Interstellar#7388","29-Dec-17 08:49 AM","Anyone knows how to solve this?","",""
"84197211113533440","Trainermax#4196","29-Dec-17 08:52 AM","@Interstellar  I had the same issue!","",""
"84197211113533440","Trainermax#4196","29-Dec-17 08:52 AM","I was able to fix it although = )","",""
"84197211113533440","Trainermax#4196","29-Dec-17 08:53 AM","@ others, yeah I thought I learned a lot from resize.. but then after I did recover I realized that I learned much more from this and it really helped me understand fread and fwrite : )","",""
"348596248565121036","Interstellar#7388","29-Dec-17 08:54 AM","how did you fix it?","",""
"84197211113533440","Trainermax#4196","29-Dec-17 08:58 AM","@Interstellar  my issue was that I was using cs50's library.","",""
"84197211113533440","Trainermax#4196","29-Dec-17 08:59 AM","because when you make the jpeg files you have strings as numbers in their name","",""
"84197211113533440","Trainermax#4196","29-Dec-17 08:59 AM","i decided to do string foundjpeg = """";","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:00 AM","the fix was doing char foundjpeg[10] which created memory on the stack for the array of chars","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:00 AM","@Alex Yang are you returning an error when there is no raw file?  per the spec?  `./recover`","",""
"348596248565121036","Interstellar#7388","29-Dec-17 09:01 AM","@curiouskiwi no","",""
"348596248565121036","Interstellar#7388","29-Dec-17 09:01 AM","oh i forgot to do the sanity checker","",""
"348596248565121036","Interstellar#7388","29-Dec-17 09:01 AM","is that the problem?","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:01 AM","sanity checker?","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:02 AM","spec says: ""If the forensic image cannot be opened for reading, your program should inform the user as much, as with fprintf (to stderr), and main should return 2.""","",""
"348596248565121036","Interstellar#7388","29-Dec-17 09:03 AM","```if(file == NULL)
        {    
                fclose(file);
                fprintf(stderr, ""Not able to open the file.\n"");
                return 1;
        }```","",""
"348596248565121036","Interstellar#7388","29-Dec-17 09:04 AM","@curiouskiwi i did this","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:04 AM","what's `file`?  and if it's null, how can it be closed?","",""
"348596248565121036","Interstellar#7388","29-Dec-17 09:05 AM","```FILE* file = fopen(""card.raw"", ""r"");```","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:05 AM","@curiouskiwi  do you have a clue on why I got a segmentation error when doing string but no segmentation error when doing char (without star) ? (I was using datatype string as well for my sprintf's)","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:05 AM","@Interstellar  it should be ```FILE *file```","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:05 AM","@Interstellar why are you hardcoding the file name?","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:06 AM","@curiouskiwi  if I sent you the before and after code could you explain it to me? (in dm)","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:07 AM","@Trainermax if you were using a `char *`, that is a pointer, and there is no space allocated for any chars, so if you try to assign something to it, you will segfault.","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:07 AM","whereas a char array has space.","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:07 AM","so it's not possible to do string jpeg[10]","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:07 AM","because that would be 10 pointers?","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:08 AM","string jpeg[10] is an array of 10 strings.","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:08 AM","10 char pointers.","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:09 AM","char jpg[10] would be a char array that can hold 9 chars + the null char (so it can be treated as a string)","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:09 AM","that makes sense that I cant do string jpeg[10] then","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:10 AM","because im trying to use one string, not an array of strings","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:10 AM","but then why couldnt i do string jpeg but I could do char jpeg[8] ?","",""
"348596248565121036","Interstellar#7388","29-Dec-17 09:12 AM","wait so what's the difference between char array and char *","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:13 AM","I'd suggest reviewing the Lecture 4 notes about strings.  https://docs.cs50.net/2016/fall/notes/4/week4.html#strings","",""
"348596248565121036","Interstellar#7388","29-Dec-17 09:13 AM","ok thanks","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:14 AM","@Interstellar  char array is an array of chars. these chars can be stored anywhere in memory","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:14 AM","char * is a pointer to a character which is right next to the next set of letters which denotes what we call a string","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:14 AM","my issue is not understanding why my program wont use string jpeg but it would use char jpeg[8]","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:16 AM","@curiouskiwi  if you want to look at my code to better see what my issue is i can send it via dm","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:17 AM","@Trainermax `char *jpeg` is a pointer to a char.  No memory is allocated for the actual ""string"" that you are going to point to.  `char jpeg[8]` is an array that can hold 8 chars, and it has memory allocated on the stack for it.  If you try to `sprintf` to the first one, it's not pointing at any memory, so it will segfault.  Whereas if you `sprintf` to the second one, it will fill those 8 bytes with the ""000.jpg"" for example.","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:18 AM","then that leads me to question","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:19 AM","isnt a pointer equal to one byte? that's what I understood since starting to work on PSET 5","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:19 AM","thanks for that explanation although.","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:20 AM","another question ~ why cant we do int[128] for the buffer size of 512? an int is 4 bytes so 4 * 128 = 512 for the memory","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:21 AM","@Trainermax the size of a pointer is dependent on the hardware.  In the IDE, a pointer is 64 bit (8 bytes)","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:23 AM","@curiouskiwi  thank you for clarifying that about pointers! useful to know that = )","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:23 AM","could you help me out with understanding my int question too?","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:23 AM","or is the issue because I didnt use an unsigned 32 bit int","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:24 AM","because using an unsigned 8 bit int worked","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:24 AM","For the buffer, it doesn't really matter until it comes time to check the first 4 bytes for the signature.","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:25 AM","it's much easier if you have a BYTE array and you can check each of the first 4 BYTEs.","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:25 AM","if you're storing the data in a different data type, then you have to deal with how that data is interpreted for that type by the compiler.","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:26 AM","underneath the hood, it's all 0s and 1s. üòÉ","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:27 AM","so you're saying it's harder for the int data type because the four bytes are in arrays instead of one byte arrays?","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:27 AM","so it's harder for the program to recognize START/STOP ?","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:28 AM","?","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:30 AM","why is it harder for the program to check the first 4 bytes for the int data type?","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:31 AM","hold a sec. let me write an example.","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:36 AM","so, let's say your jpg starts with the first four bytes that are in the signature: ```BYTE sig[4] = {0xff, 0xd8, 0xff, 0xe1};

if you stored those bytes in an unsigned 32 bit integer, they would be stored like this: 

uint32_t sig = 0xe1ffd8ff;
```","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:36 AM","At that point, the only easy way to determine if those bytes represent a signature is to use a bitmask.  (bitmasks aren't really taught in CS50).","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:37 AM","I actually learned how to use a bitmask for recover! another thing you guys expect us to know -.-","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:37 AM","```(buffer[3] & 0xf0) == 0xe0``` is the line im referring to","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:38 AM","0xf0 = 1110 0000","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:38 AM","1 means to turn a bit on","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:38 AM","0 means it leave it the way it is","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:38 AM","yes, I know.  But we don't expect you to use bitmasks in your own code.","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:38 AM","that's why we give it to you.","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:39 AM","yeah, itd be nice if it was explained as well = ) , anyways sorry about that interruption could you continue with your example","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:40 AM","well, that was my example. I'm not going to show you how to use a bitmask to check the signature. üòÉ  That would be solution code.  I would say that we don't expect students to use a 128-int buffer and then have to deal with this.","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:41 AM","we give you the code in the walkthrough for testing whether the first 4 bytes of the BYTE array are a signature or not.","",""
"161289504747945984","LiberaVeritas#1294","29-Dec-17 09:42 AM","Wait, we were given code for that in the walkthrough?","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:43 AM","@LiberaVeritas yes. the alternative was writing 15 lines of code = )","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:43 AM","kiwi :((((","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:45 AM","https://i.imgur.com/EMqw2hW.png","",""
"161289504747945984","LiberaVeritas#1294","29-Dec-17 09:47 AM","Oh. I just used >= for the last byte.","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:47 AM","@curiouskiwi why would we need to use a bitmask to check an int (back to your example)","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:48 AM","because it's not actually an int. it's 4 bytes.","",""
"84197211113533440","Trainermax#4196","29-Dec-17 09:49 AM","We'd need a bitmask to convert those 4 bytes into 4 seperate bytes???","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:50 AM","no, you just have to create a 32-bit bitmask.","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:53 AM","I fear this discussion is going beyond what is expected of students in this problem. üòâ","",""
"393854278764068875","curiouskiwi#1671","29-Dec-17 09:58 AM","@Trainermax shall we go private for a bit?","",""
"84197211113533440","Trainermax#4196","29-Dec-17 10:02 AM","@curiouskiwi sure! I would love to learn more about this","",""
"161289504747945984","LiberaVeritas#1294","04-Jan-18 05:42 AM","Are your directories expanded in the browser?","",""
"161289504747945984","LiberaVeritas#1294","04-Jan-18 05:42 AM","Can you post a screenshot?","",""
"161289504747945984","LiberaVeritas#1294","04-Jan-18 05:51 AM","I see card.raw in your directory...","",""
"161289504747945984","LiberaVeritas#1294","04-Jan-18 05:54 AM","I guess you just redownloaded it?","",""
"276841927037419521","H311 YE4H#7766","06-Jan-18 11:41 AM","So. My recover program works. All good","",""
"276841927037419521","H311 YE4H#7766","06-Jan-18 11:41 AM","Check50 not so good","",""
"276841927037419521","H311 YE4H#7766","06-Jan-18 11:42 AM","No joy with lack of forensic evidence check","",""
"276841927037419521","H311 YE4H#7766","06-Jan-18 11:42 AM","I get a set fault","",""
"276841927037419521","H311 YE4H#7766","06-Jan-18 11:42 AM","Seg","",""
"276841927037419521","H311 YE4H#7766","06-Jan-18 11:42 AM","Fault","",""
"276841927037419521","H311 YE4H#7766","06-Jan-18 11:43 AM","The instruction is a little confusing. It says in the instruction to accept one command line arguement","",""
"276841927037419521","H311 YE4H#7766","06-Jan-18 11:43 AM","Is this just ./recover","",""
"276841927037419521","H311 YE4H#7766","06-Jan-18 11:43 AM","Or ./recover card.raw","",""
"276841927037419521","H311 YE4H#7766","06-Jan-18 11:46 AM","Haha. Damn should just look at my code again with fresh morning eyes before posting. Was really obvious that my error code was set to 1 not 2.","",""
"276841927037419521","H311 YE4H#7766","06-Jan-18 11:46 AM","All fine now","",""
"276841927037419521","H311 YE4H#7766","06-Jan-18 12:05 PM","However, does anyone know where the form to submit at the end of the pset has gone.","",""
"252555661630636032","mcheisenburglar#8092","06-Jan-18 02:16 PM","i dont understand what sort of variable we should make `buffer`","",""
"252555661630636032","mcheisenburglar#8092","06-Jan-18 02:17 PM","i understand that it's probably a variable, but of what?","",""
"252555661630636032","mcheisenburglar#8092","06-Jan-18 02:17 PM","what sort of var is smth like `0xff`","",""
"221045496523915264","PenguinKingXI#8212","06-Jan-18 02:38 PM","byte?","",""
"252555661630636032","mcheisenburglar#8092","06-Jan-18 02:39 PM","is byte a variable in C?","",""
"221045496523915264","PenguinKingXI#8212","06-Jan-18 02:39 PM","char","",""
"221045496523915264","PenguinKingXI#8212","06-Jan-18 02:40 PM","http://prntscr.com/hwt75v","",""
"252555661630636032","mcheisenburglar#8092","06-Jan-18 02:50 PM","i'm getting a seg fault in this code:","",""
"252555661630636032","mcheisenburglar#8092","06-Jan-18 02:50 PM","```if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xe0) == 0xe0)
        {

            printf(""Found one! #%i\n"", jpegcount);

            if (foundjpg == true)
            {
                fclose(image);
            }
            else
            {
                foundjpg = true;
            }

            char *filename;
            sprintf(filename, ""%03i.jpg"", jpegcount);
            image = fopen(filename, ""w"");
            jpegcount++;
        }```","",""
"252555661630636032","mcheisenburglar#8092","06-Jan-18 02:50 PM","i've confirmed that it's in the last four lines of code, and idk what the problem is","",""
"252555661630636032","mcheisenburglar#8092","06-Jan-18 02:52 PM","i tried doing char filename[7] but that gets stuck at 001 for some reason","",""
"252555661630636032","mcheisenburglar#8092","06-Jan-18 03:46 PM","fixed it. changed filename to [8]","",""
"252555661630636032","mcheisenburglar#8092","06-Jan-18 03:46 PM","i guess it needed the backslash 0","",""
"393854278764068875","curiouskiwi#1671","06-Jan-18 11:46 PM","@H311 YE4H we removed the forms this year. (except for pset0 and the project)","",""
"276841927037419521","H311 YE4H#7766","07-Jan-18 12:03 AM","Cheers for the info üòÉ","",""
"341706123612520451","Aurea#9477","07-Jan-18 03:17 AM","How are you supposed to initialize the buffer? previously when we wrote over bytes initialized triple to RGBTRIPLE, I'd imagine you'd use malloc to initialize the 512 byte buffer but I'm a ilttle lost on how exactly to do it","",""
"393854278764068875","curiouskiwi#1671","07-Jan-18 03:28 AM","@Aurea your buffer can be an array of 512 bytes. No need to initialize since the first time you use it, you'll be putting bytes into with fread.","",""
"341706123612520451","Aurea#9477","07-Jan-18 03:38 AM","thanks for the response. I'm a little confused on malloc, since I did not use it at all for the previous problems. When would it be appropiate to use it in this project?","",""
"393854278764068875","curiouskiwi#1671","07-Jan-18 03:38 AM","@Aurea no need to use malloc in recover.","",""
"393854278764068875","curiouskiwi#1671","07-Jan-18 03:41 AM","it's not necessary here because you know in advance the amount of memory that you want for your buffer.  (512 bytes).  If you had to allocate memory based on other factors while the program was running, then you could use malloc to do that.   You *can* use malloc here if you want to allocate the 512 bytes, but be sure that you free that memory at the end.  But it's simpler to use an array.","",""
"341706123612520451","Aurea#9477","07-Jan-18 03:46 AM","ok, that makes sense. thank you!","",""
"341706123612520451","Aurea#9477","07-Jan-18 04:23 AM","I'm still having some issues with buffer. I nkow you said that you don't need to initialize, but I get an intiaizliation error if I don't initialize it, so I've been using char buffer[512];","",""
"341706123612520451","Aurea#9477","07-Jan-18 04:23 AM","however my if statement for (buffer[0] = 0xff, etc..) does not flag at all","",""
"341706123612520451","Aurea#9477","07-Jan-18 04:23 AM","I've tried using int buffer[512]","",""
"341706123612520451","Aurea#9477","07-Jan-18 04:24 AM","I suspect I'm not reading in the bytes in the correct format correctly but I'm not sure how you would dothat","",""
"393854278764068875","curiouskiwi#1671","07-Jan-18 04:25 AM","@Aurea you want your buffer to be 512 bytes.  what data type is a byte?  (hint, you dealt with bytes in the resize problem; how were they defined in bmp.h?)","",""
"341706123612520451","Aurea#9477","07-Jan-18 04:26 AM","they were defined as BYTE rbgtblue;","",""
"341706123612520451","Aurea#9477","07-Jan-18 04:26 AM","but BYTE buffer[512] also triggers an error","",""
"341706123612520451","Aurea#9477","07-Jan-18 04:27 AM","recover.c:28:5: error: use of undeclared identifier 'BYTE'
    BYTE buffer[512];","",""
"341706123612520451","Aurea#9477","07-Jan-18 04:28 AM","oh wait nvm, I see that BYTE is actually uint8_t","","üòÉ (1)"
"380372610124611594","Autodidactic AI#2183","08-Jan-18 09:18 PM","I'm gonna start the PSET, anyone available to pair program? or just talk about the pset?","",""
"194179352915738624","jayso#2477","10-Jan-18 05:24 AM","Could someone help me understand that last line of code?","https://cdn.discordapp.com/attachments/395684916056031245/400490058618109952/Screenshot_1.png",""
"194179352915738624","jayso#2477","10-Jan-18 05:24 AM","I understand the first 3 and I understand the purpose","",""
"194179352915738624","jayso#2477","10-Jan-18 05:25 AM","I just don't get what's going on in the last line","",""
"194179352915738624","jayso#2477","10-Jan-18 05:25 AM","This is from the walkthrough btw","",""
"393854278764068875","curiouskiwi#1671","10-Jan-18 05:45 AM","@jayso that's a bitwise operator, which is a way to do comparisons.  Here's an explanation that might help? https://cs50.stackexchange.com/a/25330/1090","",""
"194179352915738624","jayso#2477","10-Jan-18 05:50 AM","I probably have to give that like 20 more reads but it does give me an idea of what's happening. Ty.","",""
"344668731789803521","milo yiannopoulos#2669","10-Jan-18 07:55 AM","is it safe to assume that the first byte of data read from `card.raw` will be on the same data alignment scheme as the all the bytes which comprise the jpegs?","",""
"393854278764068875","curiouskiwi#1671","10-Jan-18 08:16 AM","@milo yiannopoulos Yes.","",""
"344668731789803521","milo yiannopoulos#2669","10-Jan-18 08:18 AM","also I plan to store my fread temporary data in a structure like this... will it work?","",""
"344668731789803521","milo yiannopoulos#2669","10-Jan-18 08:19 AM","```
typedef uint8_t  BYTE;
typedef struct
{
    BYTE rgb1;
    BYTE rgb2;
    BYTE rgb3;
    BYTE rgb4;
}
QUADRUPLE;

QUADRUPLE quad;```","",""
"344668731789803521","milo yiannopoulos#2669","10-Jan-18 08:22 AM","and i'll set my fread function to write 4 bytes to &quad","",""
"344668731789803521","milo yiannopoulos#2669","10-Jan-18 08:24 AM","alternatively I could a 5 element array like this: `BYTE quad[5];`","",""
"344668731789803521","milo yiannopoulos#2669","10-Jan-18 08:27 AM","if they both work, i'm free to choose either method right? (i don't wanna find out the hard way after hours wasted) üò°","",""
"393854278764068875","curiouskiwi#1671","10-Jan-18 08:38 AM","you should read in 512 bytes at a time, as the spec suggests.","",""
"393854278764068875","curiouskiwi#1671","10-Jan-18 08:38 AM","if you read in 4 bytes at a time, it will take too long to run.","",""
"344668731789803521","milo yiannopoulos#2669","10-Jan-18 08:41 AM","ohhhh, so glad you told me, lol","",""
"344668731789803521","milo yiannopoulos#2669","10-Jan-18 08:42 AM","I like starting the assignment without watching the tutorial, then using the tutorial when I get ""stuck""","",""
"393854278764068875","curiouskiwi#1671","10-Jan-18 08:47 AM","I would always assume when someone asks questions that they've watched the walkthrough. üòÉ","",""
"393854278764068875","curiouskiwi#1671","10-Jan-18 08:47 AM","the walkthrough is part of the learning materials of the problem set. Not everything is taught in the lecture.","",""
"194179352915738624","jayso#2477","11-Jan-18 05:40 AM","Is this actually what we're supposed to use? Or is it just an example?","https://cdn.discordapp.com/attachments/395684916056031245/400856350717902851/Screenshot_1.png",""
"194179352915738624","jayso#2477","11-Jan-18 05:40 AM","That 2nd parameter is confusing even after reading up on sprintf on the reference page and other sites.","",""
"393854278764068875","curiouskiwi#1671","11-Jan-18 05:48 AM","@jayso  well, in that example, the filename would become ""002.jpg""   so, yes, pretty much, except you wouldn't hard code the number, but use a counting variable that you increment for each jpg you create.","",""
"393854278764068875","curiouskiwi#1671","11-Jan-18 05:49 AM","`""%03i""`  says ... put my integer value here, padded with leading zeroes such that there are 3 digits.  So, if the number was 12, then you'd get `""012.jpg""`.  If it were 0, you'd get `""000.jpg""`  etc.","",""
"194179352915738624","jayso#2477","11-Jan-18 05:51 AM","Oh ok that makes much more sense","",""
"194179352915738624","jayso#2477","11-Jan-18 05:51 AM","I just hadnt seen anything like ""%03i"" in any reference","",""
"194179352915738624","jayso#2477","11-Jan-18 05:51 AM","Do you know where I could read up on that particular usage? Or a term I could search up?","",""
"393854278764068875","curiouskiwi#1671","11-Jan-18 05:52 AM","https://reference.cs50.net/stdio/printf","",""
"393854278764068875","curiouskiwi#1671","11-Jan-18 05:54 AM","after reading the Less Comfortable version (which I think is the default when you first visit), uncheck that to see the full reference, and every possible argument will be shown!","",""
"194179352915738624","jayso#2477","11-Jan-18 06:07 AM","Wow that'll be quite the read. Thank you I had no idea that checkbox was there üòÇ","",""
"393854278764068875","curiouskiwi#1671","11-Jan-18 06:10 AM","it's a bit overwhelmingly technical for beginners, so we default to the ""less comfortable"" which is usually just enough to be able to understand how to use it. üòÉ","",""
"344668731789803521","milo yiannopoulos#2669","11-Jan-18 07:24 AM","holy shit i just stumbled upon a new and more improved version of Zamyla C. explaining how to recover the pset! https://www.youtube.com/watch?v=Y4vV61lbL3g","",""
"344668731789803521","milo yiannopoulos#2669","11-Jan-18 07:25 AM","but it's from Oct 2013 however","",""
"344668731789803521","milo yiannopoulos#2669","11-Jan-18 09:02 AM","also what's with the weird/creepy way which Zamyla drops bit operators on us during the walkthrough? like wtf?","",""
"344668731789803521","milo yiannopoulos#2669","11-Jan-18 09:02 AM","it's 2am, way too damn late for dropping bombshells like bit operators, thanks but no thanks!","",""
"344668731789803521","milo yiannopoulos#2669","11-Jan-18 04:32 PM","so I finished this assignment using feof function","",""
"344668731789803521","milo yiannopoulos#2669","11-Jan-18 04:32 PM","is that the ""normal way"" we are supposed to do it?","",""
"357166762564780033","brian#1055","11-Jan-18 04:36 PM","@milo yiannopoulos, there are many ways to solve all of CS50's problems, so there isn't a single ""normal way."" Congratulations on finishing the assignment!","",""
"344668731789803521","milo yiannopoulos#2669","11-Jan-18 04:36 PM","because my code looks really bad/messy, lol","",""
"344668731789803521","milo yiannopoulos#2669","11-Jan-18 04:37 PM","I have a while statement that reads:```
        while ((!((buffer[0] == 0xff) && (buffer[1] == 0xd8) && (buffer[2] == 0xff)
                && ((buffer[3] & 0xf0) == 0xe0))) && (!(feof(inptr)))) ;```","",""
"344668731789803521","milo yiannopoulos#2669","11-Jan-18 04:37 PM","i hate seeing that many sets of parenthesis üò°","",""
"357166762564780033","brian#1055","11-Jan-18 04:37 PM","If you find your code to be messy, though, you can definitely use that as an opportunity to go back and think about how you might design the problem better. Often, once you've completed the assignemnt, it's easier to go back and think about it and consider how you would do it again differently.","",""
"456226577798135808","Deleted User#0000","11-Jan-18 05:31 PM","@milo yiannopoulos U sweared 2 more times!","",""
"194179352915738624","jayso#2477","12-Jan-18 06:03 AM","I'm having a lot of trouble with closing the previous file in my program","",""
"194179352915738624","jayso#2477","12-Jan-18 06:03 AM","I'm aware the function fclose","",""
"194179352915738624","jayso#2477","12-Jan-18 06:04 AM","But it seems whenever i try to write a condition that involves closing the previous file when a jpeg has already been found the img pointer is seen as undeclared","",""
"194179352915738624","jayso#2477","12-Jan-18 06:08 AM","```            // first jpeg
            if (found == 0)
            {
                FILE* img = fopen(filename, ""w"");
                fwrite(cardpntr, 512, 1, img);
            }

            // following jpegs
            if (found >= 1)
            {
                fclose (img);
                FILE* img = fopen(filename, ""w"");
                fwrite(cardpntr, 512, 1, img);
            }```","",""
"194179352915738624","jayso#2477","12-Jan-18 06:08 AM","this is only for the start of jpegs so far I havent included support for when already within a jpeg","",""
"194179352915738624","jayso#2477","12-Jan-18 06:09 AM","```recover.c:64:25: error: use of undeclared identifier 'img'
                fclose (img);```","",""
"194179352915738624","jayso#2477","12-Jan-18 06:09 AM","Thats the error im getting","",""
"393854278764068875","curiouskiwi#1671","12-Jan-18 06:12 AM","@jayso you're running into scope issues.  You need `img` to exist outside of that loop.  Best to declare it first and then, when you open a file, simple assign it, rather than declaring a new one.","",""
"194179352915738624","jayso#2477","12-Jan-18 06:23 AM","Ok I got my program to compile but when I try to do a test run to see what I get I'm getting a segmentation fault","",""
"194179352915738624","jayso#2477","12-Jan-18 06:24 AM","i know it has something to do with a restricted area of memory bit i dont really know what that means","",""
"393854278764068875","curiouskiwi#1671","12-Jan-18 06:33 AM","how are you declaring your filename variable?","",""
"393854278764068875","curiouskiwi#1671","12-Jan-18 06:33 AM","is it a char array large enough to hold the string? `""000.jpg""`","",""
"393854278764068875","curiouskiwi#1671","12-Jan-18 06:33 AM","(and the null char at the end)","",""
"194179352915738624","jayso#2477","12-Jan-18 06:41 AM","Yeah that was probably the issue I'm no longer getting the segmentation fault","",""
"194179352915738624","jayso#2477","12-Jan-18 08:56 PM","By any chance was the memory card storing glitch art üòÇ","https://cdn.discordapp.com/attachments/395684916056031245/401449479183663125/download.png",""
"259549018781253632","turtle#6555","12-Jan-18 09:01 PM","no","",""
"398740117038301194","conge#5560","16-Jan-18 09:11 PM","Hi all, I want to say thank you for all your discussions here. very helpful. I solved my problem without even ask my questions because they were all asked and answered!","",""
"394586780810346496","Baris Can Ceylan#4867","24-Jan-18 02:48 AM","i have initialized the filename as char filename[7], not including '/0', yet it works well with sprintf. how come?","",""
"393854278764068875","curiouskiwi#1671","24-Jan-18 02:48 AM","luck?","",""
"394586780810346496","Baris Can Ceylan#4867","24-Jan-18 02:55 AM","If you call sprintf'ing all pics dozens of times without any garbage values luck, that is. also all Im doing is checking the first bytes and creating & writing new file until next occurrance, and finish when less than 512. code works and checks out with check50 but still feels loose. I'll rework it in the morning.","",""
"394586780810346496","Baris Can Ceylan#4867","24-Jan-18 02:57 AM","It felt weird spending only 30 mins to get it done after working  days on resize. nothing good happens after 2 am. See you all later, have a nice day/night.","",""
"194900754304073729","arlyd#9228","24-Jan-18 11:13 PM","Aw man, now I wanna binge watch the entire HIMYM for the third time, thanks @Baris Can Ceylan","","üòÄ (1)"
"340913065975611402","RC (Rencocom)#1628","24-Jan-18 11:24 PM","hellllo","",""
"340913065975611402","RC (Rencocom)#1628","24-Jan-18 11:24 PM","i need help with this problem","",""
"194900754304073729","arlyd#9228","24-Jan-18 11:52 PM","What's up?","",""
"340913065975611402","RC (Rencocom)#1628","25-Jan-18 05:11 AM","is there someone online right now that can help?","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:16 PM","Ah. Recovered the first photo succesfully, though my program ended after it. I must've durped up something else","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:17 PM","OH","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:17 PM","I forgot to increment the number I name my JPEG by..","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:17 PM","So I recovered 50 photos in a row and then overwrote all of them","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:19 PM","oh","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:19 PM","oh my god","",""
"397677328660037632","Maarten#1004","30-Jan-18 02:20 PM","Those faces ain't that scary!","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:20 PM","This is a disappointment. It worked, within 30 minutes of me finishing the program. This is almost anti-climatic","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:21 PM","CS50 (And previous attempt to program somewhere else) has geared me toward expecting program to never work within 30 minutes of me finishing writing it initially and debugging","",""
"397677328660037632","Maarten#1004","30-Jan-18 02:22 PM","Suppose this is good than, one step closer to writing proper code? üòÉ","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:22 PM","Yep!*","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:23 PM","the course's pretty difficult compared to an earlier CS class I took partially (But lost motivations for various reasons) but when things do click, it feels pretty educational","",""
"397677328660037632","Maarten#1004","30-Jan-18 02:24 PM","Sure does üòÉ I'm currently working on speller... that one is giving me some headaches though üòÆ","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:24 PM","I'll be facing that headache after I wake up tommorow","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:24 PM","Resize gave the most headache so far","",""
"397677328660037632","Maarten#1004","30-Jan-18 02:25 PM","Ranking that nr 2 now, but probably I'm just making a stupid mistake somewhere again","",""
"397677328660037632","Maarten#1004","30-Jan-18 02:26 PM","Anyways, back to work now! Good luck tomorrow on the next headache :p","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:27 PM","üòõ","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:27 PM","I'll probably re-watch the shorts on pointers and lecture part on pointers too, I feel like I haven't grasped it 100% yet","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:27 PM","especially what the ampersand and all mean","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:28 PM","I spent 1 hour figuring out what's wrong because I used fwrite &array instead of fwrite array in the earlier assignment","",""
"397677328660037632","Maarten#1004","30-Jan-18 02:32 PM","Stuck a bit on the whole structs/pointers/lists here too, but I'll find it out eventually üòÉ","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:32 PM","Huh. Actually, I am still stuck on one problem with this problem","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:32 PM","The last image don't match for some raisin","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:32 PM","Even though if I count from 0 and 049 all images are OK...:thinking","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:33 PM","and 049.jpg exists","",""
"397677328660037632","Maarten#1004","30-Jan-18 02:34 PM","do all images look proper when opening?","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:34 PM","yes, 049.jpg look proper and is a very familar face (All I can say!)","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:34 PM","But it says recovered image does not match. All other checks are OK though. And I am sure I returned 0, too..","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:36 PM","This is very strangfe. I reocvered from 0 to 049, all images look ok but it say it doesn't match..","",""
"397677328660037632","Maarten#1004","30-Jan-18 02:38 PM","Hard to give suggestions without knowing the details, but I had some issues similar to those. Using a strict definition of a byte (uintsomething) for the buffer array helped fixed it then. Perhaps there is something similar going on?","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:38 PM","I actually stole bmp.h's typedef for byte","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:38 PM","For exactly that purpose","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:39 PM",":u","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:40 PM","Week 5 looks intimidating just from the maount of short. This is also the problem set / week where i learned to watch the shorts. Very educational and cover things that isn't covered in lecture. I regret skipping them earlier","",""
"397677328660037632","Maarten#1004","30-Jan-18 02:42 PM","The shorts are usually lifesavers for me or help to firmly/deeper grasp the subject. Anyways, if you're stuck, feel free to pm me the code. I'm no expert but maybe something pops out (finished it with 100%).","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:42 PM","*nods*","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:42 PM","I'll smash my head against it tommorow","",""
"129045744542810112","Ansari#0490","30-Jan-18 02:42 PM","I feel accomplsihed enough today after cracking resize","",""
"393854278764068875","curiouskiwi#1671","30-Jan-18 08:41 PM","@Ansari#9230 as a hint, if your last jpg doesn't match, more than likely you are writing the last 512 bytes twice.  Be careful if you are using `feof` to indicate the end.","",""
"129045744542810112","Ansari#0490","31-Jan-18 03:18 AM","GHmm..this is strange. I've used the return value of fread to indicate the end","",""
"393854278764068875","curiouskiwi#1671","31-Jan-18 03:20 AM","well, that should work.  are you sure your fwrite can't run an extra time?","",""
"129045744542810112","Ansari#0490","31-Jan-18 03:21 AM","Looking through my main loop to figure out what could make it run an extra time","",""
"129045744542810112","Ansari#0490","31-Jan-18 03:21 AM","I am using a do while loop","",""
"393854278764068875","curiouskiwi#1671","31-Jan-18 03:22 AM","049.jpg should be 34304 bytes","",""
"129045744542810112","Ansari#0490","31-Jan-18 03:22 AM","How do I count that ?","",""
"393854278764068875","curiouskiwi#1671","31-Jan-18 03:26 AM","list the directory in the terminal","",""
"393854278764068875","curiouskiwi#1671","31-Jan-18 03:26 AM","`ls -la`","",""
"129045744542810112","Ansari#0490","31-Jan-18 03:27 AM","34816 bytes..
34816 - 512 = 34304 (Thanks google)","",""
"129045744542810112","Ansari#0490","31-Jan-18 03:27 AM","Well, I see the problem now! Part of it. Gonna figure out what is leading to it writing twice","",""
"129045744542810112","Ansari#0490","31-Jan-18 02:31 PM","Aha! Problem solved","",""
"403905944053874689","kclarch#4820","02-Feb-18 07:31 PM","Can someone explain where I am going wrong, I have been able to recover all the photos there is no extra loop on the last one I have checked the size and yet @curiouskiwi  @staff 

Update: fixed it using a weird solution that i was just trying, anyone care to look at my code to explain why it worked? thanks","https://cdn.discordapp.com/attachments/395684916056031245/409038102254977030/unknown.png",""
"393854278764068875","curiouskiwi#1671","02-Feb-18 10:39 PM","I'll have a look @kclarch  if you'd like.","",""
"393854278764068875","curiouskiwi#1671","02-Feb-18 10:39 PM","send me a private message","",""
"403905944053874689","kclarch#4820","03-Feb-18 10:38 AM","ok  thanks I have messaged you","",""
"143463999227297792","0chazuke#7802","04-Feb-18 09:37 AM","@Ansari  thanks for following up, your problem helped me solve mine","",""
"129045744542810112","Ansari#0490","04-Feb-18 09:38 AM","Glad to be of help","",""
"348898174137532417","Kinno#3002","11-Feb-18 09:15 PM","AHHH","",""
"348898174137532417","Kinno#3002","11-Feb-18 09:15 PM","it's not a hard one","",""
"348898174137532417","Kinno#3002","11-Feb-18 09:15 PM","but I just don't wanna start it","",""
"348898174137532417","Kinno#3002","11-Feb-18 09:15 PM","x-x","",""
"348898174137532417","Kinno#3002","11-Feb-18 09:15 PM","Ill do it monday","",""
"348898174137532417","Kinno#3002","12-Feb-18 08:41 PM","ok so im pretty sure I fucked up bigtime somewhere","",""
"248692731163967498","Purified#5778","12-Feb-18 08:42 PM","...","",""
"348898174137532417","Kinno#3002","12-Feb-18 08:42 PM","it's saying pretty much all my variables are undefined","",""
"348898174137532417","Kinno#3002","12-Feb-18 08:42 PM","even argc and argv[]","",""
"348898174137532417","Kinno#3002","12-Feb-18 08:44 PM","oh I figured some of it out","",""
"348898174137532417","Kinno#3002","12-Feb-18 08:53 PM","anybody want to review my code?","",""
"348898174137532417","Kinno#3002","12-Feb-18 08:54 PM","I went a few days without any programming and a lot of sports","",""
"348898174137532417","Kinno#3002","12-Feb-18 08:54 PM","it wasnt a hard problem but I think I probably messed up somewhere anyways","",""
"397677328660037632","Maarten#1004","12-Feb-18 08:59 PM","You can do it üòÉ had some quirky errors with this one at the first few tries. But if you managed resize, this one should be pretty doable","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:00 PM","ohh","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:00 PM","my errors were these 2","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:00 PM","undefined vars: I pretty much forgot to put the type before declarations","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:01 PM","because I helped people with python while not doing this too","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:01 PM","and the other was me using the namecounter to check if it was the first jpeg","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:02 PM","since I declared it as 0, and on every new jpeg found did `namecounter++;`","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:02 PM","so `namecounter == 0` was great for checking some stuff","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:03 PM","but check50 wasnt images from 0-49, so I had to change the declaration to `-1`","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:03 PM","and now it looks worse üò¶","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:03 PM","oh","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:03 PM","I also used .jpeg instead of .jpg","",""
"397677328660037632","Maarten#1004","12-Feb-18 09:05 PM","haha, yeah I'm doing the python parts now too, quite a difference with C","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:09 PM","it's just that my mind takes a minute or 2","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:09 PM","to switch between","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:09 PM","also this is annoying af","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:09 PM","```
        //check for start of jpeg
        if (buffer[0] == 0xff &&
            buffer[1] == 0xd8 &&
\t            buffer[2] == 0xff &&
\t            (buffer[3] & 0xf0) == 0xe0)
        {```","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:10 PM","I cant get style50 right üôÑ","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:10 PM","ah nevermind it works now","",""
"397677328660037632","Maarten#1004","12-Feb-18 09:11 PM","if (buffer[0] == 0xff && buffer[1] == 0xd8 &&
            buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0)","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:11 PM","a space got in there somehow and messed it up","",""
"397677328660037632","Maarten#1004","12-Feb-18 09:11 PM","ah oke","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:11 PM","which sent me on a tab killing spree","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:11 PM","```        if (buffer[0] == 0xff &&
            buffer[1] == 0xd8 &&
            buffer[2] == 0xff &&
            (buffer[3] & 0xf0) == 0xe0)
        {```","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:11 PM","just like I had it at the start, but got rid of that pesky space","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:12 PM","Wait","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:12 PM","since I dont use cs50.h anymore","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:12 PM","I could have just done this in my actual IDE","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:12 PM","instead of messing with the slow online one ü§¶üèº","",""
"397677328660037632","Maarten#1004","12-Feb-18 09:13 PM","slow? :\","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:13 PM","WARNING TO PEOPLE OF THE FUTURE","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:13 PM","with internet like mine","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:13 PM","You can use your own IDE for the most part and just copy to submit!","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:13 PM","I wish I could pin :c","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:14 PM","my internet is suuuper slow atm, so terminals are slow and annoying","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:14 PM","the 50 jpgs dont help","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:15 PM","also is it just me or is chat dead the last few days?","",""
"397677328660037632","Maarten#1004","12-Feb-18 09:15 PM","Ah ok, don't have that problem here thankfully üòÉ stable 40 Mbps (which is a budget contract over here)","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:15 PM","uh like","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:15 PM","what speeds does that translate to when downloading stuff?","",""
"397677328660037632","Maarten#1004","12-Feb-18 09:16 PM","depends what unit you are measuring in","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:16 PM","wait so like","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:16 PM","you acually download stuff in 40 Mbps?","",""
"397677328660037632","Maarten#1004","12-Feb-18 09:17 PM","Megabit yes, so 5 MegaByte/ps","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:17 PM","damn","",""
"397677328660037632","Maarten#1004","12-Feb-18 09:18 PM","Could get a bit more if I was willing to spend more. I could switch over to fiber","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:18 PM","I have 1 Mbps","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:18 PM","","https://cdn.discordapp.com/attachments/395684916056031245/412689047249747978/unknown.png",""
"348898174137532417","Kinno#3002","12-Feb-18 09:19 PM","and this is after an upgrade x~x","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:19 PM","i used to have 500 kbps","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:19 PM","wait","",""
"397677328660037632","Maarten#1004","12-Feb-18 09:20 PM","I'm able to get up to a 600 Mbit/s contract here, but I don't like paying that much (it's a triple-play for 70 euros p.m.)","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:20 PM","im watching week 4","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:21 PM","before doing pset 5, which should make sense because one week was continued","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:21 PM","but he starts explaining the whole 3d glasses thing of whodunit","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:21 PM","even stating that its from pset 5?","",""
"397677328660037632","Maarten#1004","12-Feb-18 09:22 PM","Yeah","",""
"397677328660037632","Maarten#1004","12-Feb-18 09:22 PM","""You long ago threw away that piece of red plastic from childhood that would solve this mystery for you, and so you must attack it as a computer scientist instead."" where the red plastic part links to: https://docs.cs50.net/2018/x/psets/4/whodunit/a6100c96163cd9ec3e6df3621d5db6d5.jpg","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:23 PM","yeah but whats with him saying whodunit is in pset 5","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:23 PM","and why couldnt he explain this before we got to it (‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØÔ∏µ ‚îª‚îÅ‚îª","",""
"397677328660037632","Maarten#1004","12-Feb-18 09:25 PM","Haven't noticed that to be honest, but the lectures of the week after a certain pset is introduced on edx tend to cover the pset.","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:25 PM","oh","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:25 PM","another weird thing is","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:25 PM","psets end at 7 or 8 iirc","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:25 PM","but theres 12 or so weeks?","",""
"397677328660037632","Maarten#1004","12-Feb-18 09:26 PM","Yes, but you've got the final project too","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:26 PM","oh","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:26 PM","so Im guessing","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:26 PM","adam finished the main part of cs50","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:26 PM","we get an explenation on the final project","",""
"348898174137532417","Kinno#3002","12-Feb-18 09:26 PM","and then the host lectures begin?","",""
"393854278764068875","curiouskiwi#1671","12-Feb-18 10:43 PM","pset8 is in week 9, week 10 is actually a holiday and week 11 is the last lecture.","",""
"348898174137532417","Kinno#3002","12-Feb-18 10:47 PM","makes sense","",""
"348898174137532417","Kinno#3002","12-Feb-18 11:54 PM","uh so","",""
"348898174137532417","Kinno#3002","12-Feb-18 11:54 PM","If I have a file pointer","",""
"348898174137532417","Kinno#3002","12-Feb-18 11:54 PM","`FILE *img;`","",""
"348898174137532417","Kinno#3002","12-Feb-18 11:55 PM","I should probably allocate memory for it right?","",""
"348898174137532417","Kinno#3002","13-Feb-18 12:05 AM","ah nevermind","",""
"403211213699547157","Aternus#9711","13-Feb-18 10:55 AM","@Kinno File Pointers are used only for File I/O functions. More generally, they are referred to as Streams.","",""
"348898174137532417","Kinno#3002","13-Feb-18 11:15 AM","yeah I know","",""
"348898174137532417","Kinno#3002","13-Feb-18 11:15 AM","I was just thinking why I didnt get memory errors if I declared it like that","",""
"348898174137532417","Kinno#3002","13-Feb-18 11:15 AM","But I misunderstood sth david said in the lecture before","",""
"403211213699547157","Aternus#9711","15-Feb-18 11:53 AM","Hey all! Can anyone confirm my assetion about arrays?
```c
/**
 * Array Instantiation Methods
 *
 * Instantiation: initialization of each variable inside the array.
 */

#include <stdio.h>

int main(void)
{
    // step 1: create an array of chars named ""jpg_name""
    // step 2: set its size to the size of the string to the right of the assignment operator (+1 for '\0')
    // step 3: populate the array with the value of ""xxx.jpg""
    char jpg_name[] = ""xxx.jpg"";

    // step 1: create pointer-to-char named ""jpg_name_2""
    // step 2: create a string in (where?) memory section
    // step 3: save the address of the string in ""jpg_name_2"" (initialize the pointer)
    char *jpg_name_2 = ""xxx.jpg"";

    // tests
    jpg_name[0] = 'y';
    printf(""%s\n"", jpg_name);

    jpg_name_2[0] = 'y';
    printf(""%s\n"", jpg_name_2);
}
```
The second test results in `segmentation fault` which means that the memory where that string stored is read-only, can anyone explain the reason behind it?","",""
"403211213699547157","Aternus#9711","15-Feb-18 11:54 AM","@staff Help with the above would be much appriciated üòÉ","",""
"397677328660037632","Maarten#1004","15-Feb-18 12:52 PM","@Aternus this will probably answer your question: https://stackoverflow.com/questions/164194/why-do-i-get-a-segmentation-fault-when-writing-to-a-string-initialized-with-cha","",""
"403211213699547157","Aternus#9711","15-Feb-18 01:35 PM","@Maarten Thanks a lot! So my assertion was correct, the string is created in the ""text"" memory section, where the instructions of the program are stored - which is read-only","",""
"397677328660037632","Maarten#1004","15-Feb-18 01:46 PM","Correct üòÉ","",""
"403211213699547157","Aternus#9711","15-Feb-18 01:55 PM","```c
/**
 * Array instantiation
 *
 * Instantiation: initialization of each variable inside the array.
 *
 * @author Kiril Reznik (c) 2018
 * @see https://stackoverflow.com/questions/164194/why-do-i-get-a-segmentation-fault-when-writing-to-a-string-initialized-with-cha
 */

#include <stdio.h>

int main(void)
{
    // step-by-step breakdown of the process for each case

    // step 1: create an array of chars (using the []), ""jpg_name""
    // step 2: set its size to the size of the string literal to the right of the assignment operator (+1 for '\0')
    // step 3: instantiate the array with the char values of ""xxx.jpg""
    char jpg_name[] = ""xxx.jpg"";
    // same as
    char jpg_name_expanded[] = {'x', 'x', 'x', '.', 'j', 'p', 'g', '\0'};

    // step 1: create pointer-to-char named ""jpg_name_2""
    // step 2: create an static string in the ""text"" memory section, where program instructions are stored (read-only)
    // step 3: save the address of the static string in ""jpg_name_2"" (initialize the pointer)
    char *jpg_name_2 = ""xxx.jpg"";

    // tests

    // will work
    jpg_name[0] = 'y';
    printf(""%s\n"", jpg_name);

    // will work
    jpg_name_expanded[0] = 'y';
    printf(""%s\n"", jpg_name_expanded);

    // seg fault
    jpg_name_2[0] = 'y';
    printf(""%s\n"", jpg_name_2);
}
```","",""
"403211213699547157","Aternus#9711","15-Feb-18 01:55 PM","Thanks a lot! Hope someone else finds it useful üòÉ","",""
"353268272956702720","iJaylan#8612","24-Feb-18 09:33 PM","just a quick syntax doubt, what does %03i do in sprintf?","",""
"348898174137532417","Kinno#3002","24-Feb-18 09:38 PM","well","",""
"348898174137532417","Kinno#3002","24-Feb-18 09:38 PM","I kinda just assumed that it was a way to say","",""
"348898174137532417","Kinno#3002","24-Feb-18 09:38 PM","format the number passed","",""
"348898174137532417","Kinno#3002","24-Feb-18 09:38 PM","into a 3 space format - `xxx`","",""
"348898174137532417","Kinno#3002","24-Feb-18 09:39 PM","so `1` gets formatted as `001`","",""
"353268272956702720","iJaylan#8612","24-Feb-18 09:40 PM","oh, so i can use that to format more or less spaces then","",""
"353268272956702720","iJaylan#8612","24-Feb-18 09:40 PM","like %05i, giving me xxxxx","",""
"348898174137532417","Kinno#3002","24-Feb-18 09:41 PM","probably","",""
"348898174137532417","Kinno#3002","24-Feb-18 09:41 PM","try it out","",""
"353268272956702720","iJaylan#8612","25-Feb-18 01:16 AM","anybody here?","",""
"329977469350445069","Lord of Galaxy#9211","25-Feb-18 10:18 AM","Check https://en.m.wikipedia.org/wiki/Printf_format_string for a detailed explanation of how to format strings in C.","",""
"353268272956702720","iJaylan#8612","25-Feb-18 06:32 PM","ok, will check","",""
"353268272956702720","iJaylan#8612","25-Feb-18 09:54 PM","would anybody be willing to take a look at my code to help? i'm getting segmentation fault error and i don't know why","",""
"348898174137532417","Kinno#3002","25-Feb-18 09:55 PM","yep","",""
"348898174137532417","Kinno#3002","25-Feb-18 09:55 PM","just pm me","",""
"264694414645919745","Mrenda#1577","27-Feb-18 06:04 PM","I'm getting the following error about comparing my buffer (defined as a byte like bmp.h) byte to an int. `recover.c:58:23: error: invalid operands to binary expression ('JPG' and 'int') if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0)`","",""
"264694414645919745","Mrenda#1577","27-Feb-18 06:05 PM","JPG is what I've called the struct for the array of bytes.","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:06 PM","is a struct needed here?","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:07 PM","and if so","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:07 PM","you might not wanna compare with the struct iself","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:08 PM","but what's inside of it?(the array of chars)","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:08 PM","if you still can't solve it PM me your code","",""
"264694414645919745","Mrenda#1577","27-Feb-18 06:08 PM","ok, thanks","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:08 PM","since I honestly want to see your implementation","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:09 PM","I never thought of using a struct here :<","",""
"264694414645919745","Mrenda#1577","27-Feb-18 06:11 PM","I'm just not sure what to make the buffer with as a type.","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:12 PM","well","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:12 PM","you could do an `unsigned char`","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:12 PM","but it's probably better to use a primitive data type","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:12 PM","since you want an array of bytes(8 bits)","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:13 PM","unisgned chars are ussually that, but some implementations differ","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:13 PM","so you probably want  uint8_t (**u**nsigned **int**, **8** bits)","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:14 PM","from stdint.h","",""
"264694414645919745","Mrenda#1577","27-Feb-18 06:24 PM","I've changed it to an unsigned int (I did try using a regular `int` at one point) but now my comparison with buffer[0] == hexcode never evaluates as true.","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:27 PM","because an unsigned int is wrong","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:28 PM","since you need an array of unsigned bytes(8 bits)","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:28 PM","and a typical unsigned int won't help you there since its typically 4 bytes","",""
"264694414645919745","Mrenda#1577","27-Feb-18 06:28 PM","/o\ ugh, it was as easy as just using `uint8_t` as the type.","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:28 PM","so your options are `unsigned char`, or that yeah","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:28 PM","`uint8_t` is better in this case than an `unsigned char`","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:29 PM","since on some computers/implementations, an `unsigned char` doesn't actually have to be 8 bits","",""
"264694414645919745","Mrenda#1577","27-Feb-18 06:29 PM","How many jpgs should we end up with?","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:29 PM","but `uint8_t` will always be 8 bits","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:29 PM","umm","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:29 PM","50?","",""
"348898174137532417","Kinno#3002","27-Feb-18 06:29 PM","from 0 to 49 I think","",""
"264694414645919745","Mrenda#1577","27-Feb-18 06:45 PM","thanks for all your help üòÉ","",""
"264694414645919745","Mrenda#1577","27-Feb-18 06:53 PM","And again, now I've checked my score and got 100%, thanks. üòÑ","",""
"352133794930622474","Bangaren#0018","28-Feb-18 05:00 PM","Came up with a neat way to check for that fourth byte.  They covered boolean operators like AND and OR in the lectures, but those can be applied bitwise as well.","",""
"352133794930622474","Bangaren#0018","28-Feb-18 05:01 PM","For AND, both bits must be 1 for the result to be 1.  For OR, if either bits are 1 the result is 1.","",""
"352133794930622474","Bangaren#0018","28-Feb-18 05:04 PM","So, if we want to see if the first half of the fourth byte is '1110' or '0xE', we can AND that together with itself.  '1110' AND '1110' will result in '1110'.  But '1111' (0xF) and '1110' will also equal '1110'.","",""
"352133794930622474","Bangaren#0018","28-Feb-18 05:05 PM","Since anything AND-ed together with zero is zero, we can do this;","",""
"352133794930622474","Bangaren#0018","28-Feb-18 05:06 PM","( 0xF0 AND (the byte we're checking)  ) == 0xE0","",""
"352133794930622474","Bangaren#0018","28-Feb-18 05:08 PM","Came up with this at 3 a.m. and it worked, thought i'd share","",""
"329977469350445069","Lord of Galaxy#9211","28-Feb-18 06:08 PM","Yes, that is the way to get parts of a byte","",""
"329977469350445069","Lord of Galaxy#9211","28-Feb-18 06:10 PM","Similar logic can be used for many different things, like reversing the order of bytes","",""
"403211213699547157","Aternus#9711","28-Feb-18 10:18 PM","I'm sorry to be that guy but it is covered in the Walkthrough","",""
"96354527464157184","Hagetsu#3482","06-Mar-18 08:04 PM","does malloc only allocate read-only memory for you? I have this line, uint8_t *infoRead = malloc(512); 
which results in segmentation fault, while if i change that to this line, uint8_t infoRead[512]; 
it works fine. I searched up online and it seems that it has to do with allocating read-only memory if i use char * and i get segmentation fault because im trying to write onto it, but malloc doesn't work (or maybe i don't know the proper syntax for allocating write memory using malloc) unless I use char *, which seems to be read-only. Can i not use malloc in this case?","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:05 PM","I think you are misunderstanding some things","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:05 PM","it is possible to get mutable(editable) char *'s in C, thanks to malloc","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:06 PM","so `char *string = malloc(512)` will be editable, and *not* read-only","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:07 PM","`uint8_t *infoRead = malloc(512)` should allocate 512 bytes for you","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:08 PM","that you should be able to edit, the segmenation fault is happening for some other reason","",""
"96354527464157184","Hagetsu#3482","06-Mar-18 08:10 PM","is there any difference between uint8_t *infoRead = malloc(512) and uint8_t infoRead[512]; ?","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:10 PM","yup","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:10 PM","the first creates a pointer to the type uint8_t","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:10 PM","and allocates 512 bytes to use","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:10 PM","this memory is on the heap","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:11 PM","the second creates an array of 512 uint8_t's","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:11 PM","and this array is on the stack","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:12 PM","btw you can use the first one as an array too","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:12 PM","with the typical `[]` syntax","",""
"96354527464157184","Hagetsu#3482","06-Mar-18 08:12 PM","oh, so since first isnt an array","",""
"96354527464157184","Hagetsu#3482","06-Mar-18 08:13 PM","i cant random access the things inside the memory","",""
"96354527464157184","Hagetsu#3482","06-Mar-18 08:13 PM","because im getting segmentation fault at","",""
"96354527464157184","Hagetsu#3482","06-Mar-18 08:13 PM","the conditional line concerning this: infoRead[0] == 0xff","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:13 PM","you can use [] to do such access","",""
"96354527464157184","Hagetsu#3482","06-Mar-18 08:13 PM","with just uint8_t *infoRead = malloc(512)?","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:14 PM","that shouldn't be throwing a seg fault","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:14 PM","yup!","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:14 PM","since the square brackets `[]` are just syntactic sugar","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:14 PM","and what it means is actually","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:14 PM","* (infoRead + i)","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:15 PM","`i` being the number in the square brackets","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:15 PM","so it will point to the `i`th place in memory that you allocated for it","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:15 PM","so your `infoRead[0]` should be perfectly valid","",""
"96354527464157184","Hagetsu#3482","06-Mar-18 08:15 PM","are u able to take a quick look at my code?","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:16 PM","yup","",""
"348898174137532417","Kinno#3002","06-Mar-18 08:16 PM","just pm it","",""
"96354527464157184","Hagetsu#3482","06-Mar-18 08:16 PM","ok thx","",""
"139296384158400512","Albis#2754","12-Mar-18 05:12 PM","Is it possible to insert ""create new file"" code inside of if condition?","",""
"397677328660037632","Maarten#1004","12-Mar-18 06:24 PM","why wouldn't it be?","",""
"139296384158400512","Albis#2754","12-Mar-18 07:26 PM","hmmm i should do more research ü§î","",""
"280154315098685441","MC Kevmeister#3166","13-Mar-18 11:11 AM","When it comes to reading the files, don't we need header file to #include so that we have a typedef struct  to point to with fread?","",""
"280154315098685441","MC Kevmeister#3166","13-Mar-18 11:21 AM","Do we create our own header file with the JPEG  Header format?","",""
"280154315098685441","MC Kevmeister#3166","13-Mar-18 11:38 AM","I've found what appears to be the jpeg header files but I'm not sure. http://www.file-recovery.com/jpg-signature-format.htm","",""
"280154315098685441","MC Kevmeister#3166","13-Mar-18 11:41 AM","Although this seems really complicated and is not covered by the walkthrough. Although in the walkthrough covering fread it has on the screen ""data: pointer to a struct that contains the bytes that you are reading"" so if we are given everything that we need and don't need to make a header file, then where is this struct?","",""
"139296384158400512","Albis#2754","13-Mar-18 01:14 PM","@MC Kevmeister this might help. https://stackoverflow.com/questions/5672746/what-exactly-is-the-file-keyword-in-c","",""
"280154315098685441","MC Kevmeister#3166","13-Mar-18 01:31 PM","er, no that leaves me more confused.","",""
"139296384158400512","Albis#2754","13-Mar-18 07:42 PM","lmao what just happened what is this","https://cdn.discordapp.com/attachments/395684916056031245/423174122009526293/what.JPG",""
"280154315098685441","MC Kevmeister#3166","14-Mar-18 03:30 AM","Wow, maybe I shouldn't be doing this course anymore. I'm really not sure at all what to do with this problem?","",""
"393854278764068875","curiouskiwi#1671","14-Mar-18 03:32 AM","@MC Kevmeister so you need to read in 512 bytes at a time, so maybe an array of 512 bytes would be a good destination?","",""
"280154315098685441","MC Kevmeister#3166","14-Mar-18 03:36 AM","from what struct though?","",""
"393854278764068875","curiouskiwi#1671","14-Mar-18 03:37 AM","what do you mean?","",""
"393854278764068875","curiouskiwi#1671","14-Mar-18 03:38 AM","you read from card.raw (which you open using fopen just like you did in resize) and read into the array that you will declare.","",""
"280154315098685441","MC Kevmeister#3166","14-Mar-18 03:39 AM","https://youtu.be/hOWYGowwId0?t=2m10s","",""
"280154315098685441","MC Kevmeister#3166","14-Mar-18 03:39 AM","data: pointer to a struct that will contain the bytes you're reading","",""
"280154315098685441","MC Kevmeister#3166","14-Mar-18 03:40 AM","Where is this struct?","",""
"393854278764068875","curiouskiwi#1671","14-Mar-18 03:40 AM","the array of 512 bytes that you declare","",""
"280154315098685441","MC Kevmeister#3166","14-Mar-18 03:40 AM","array=struct?","",""
"393854278764068875","curiouskiwi#1671","14-Mar-18 03:40 AM","an array is a data structure, yes","",""
"280154315098685441","MC Kevmeister#3166","14-Mar-18 03:58 AM","So let me see if I understand this correctly. fread stores the data it reads from the file its reading from, in temporary memory that the program allocates that is pointed to by the data pointer, by the size and number defined in the condition?","",""
"393854278764068875","curiouskiwi#1671","14-Mar-18 04:20 AM","yes, just like it did in your resize program.  In resize (if you used copy.c as your base), you did 
```
RGBTRIPLE  triple;
fread(&triple, sizeof(RGBTRIPLE), 1, inptr);```","",""
"393854278764068875","curiouskiwi#1671","14-Mar-18 04:21 AM","that declares a variable that will hold a pixel.  then it reads from inptr, 1 block of 3 bytes (the size of triple) and stores it in the `triple` variable.","",""
"393854278764068875","curiouskiwi#1671","14-Mar-18 04:22 AM","Zamyla shows this in the walkthrough  `fread(buffer, 512, 1, inptr);` which reads 1 block of 512 bytes from inptr and stores it in buffer (where buffer is an array of 512 bytes)","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 03:02 PM","This is my code,I really appriciate it if you can helpe me.I really stuck in reverse now...","",""
"397677328660037632","Maarten#1004","16-Mar-18 03:31 PM","I think you're not writing the first 512 bytes with the way you constructed that loop.","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 03:52 PM","But I think bug is not here,cuz in my do while loop,I use fwrite first","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 03:53 PM","Can I post such long message?","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 03:56 PM","@Maarten","",""
"348898174137532417","Kinno#3002","16-Mar-18 03:57 PM","fclose(img);","",""
"348898174137532417","Kinno#3002","16-Mar-18 03:58 PM","you probably don't need to close an image if `img == NULL`","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 03:58 PM","Let me take a shot","",""
"348898174137532417","Kinno#3002","16-Mar-18 03:58 PM","it won't fix the corrupt image tho","",""
"348898174137532417","Kinno#3002","16-Mar-18 03:59 PM","the do while loop is suspicsous","",""
"348898174137532417","Kinno#3002","16-Mar-18 03:59 PM","`                fwrite(buffer, 1, 512, img);//read 512 bytes which are from while loop
` doesn't read, but write","",""
"397677328660037632","Maarten#1004","16-Mar-18 03:59 PM","that was my idea too, think something is wrong there but don't have enough time to look at it right now üòÆ","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 04:00 PM","yeah,It's write,my code is right@Kinno","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:00 PM","your comment isn't","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:00 PM","that's what I'm reffering to","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 04:00 PM","I fixed it.","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 04:01 PM","üòÅ","",""
"397677328660037632","Maarten#1004","16-Mar-18 04:03 PM","What made it work?","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:03 PM","I think he meant the comment","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:03 PM","anyways","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:03 PM","while(buffer[0] != 0xff &&
            buffer[1] != 0xd8 &&
            buffer[2] != 0xff &&
            (buffer[3] & 0xf0) != 0xe0 && (judge == 512));","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:03 PM","is faulty logic","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:03 PM","since if just one of those bytes happens to match","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:04 PM","it will automatically trigger this","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:04 PM","to stop","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:04 PM","ff00000000 would make this stop","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:05 PM","also","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:05 PM","the whole do while logic is kinda faulty","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:05 PM","you read 512 bytes into a buffer","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:05 PM","if this is the start of the jpeg","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:06 PM","you do all the naming and opening stuff","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 04:06 PM","That makes sense","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:06 PM","actually the do while loop could work depending on the rest of your code","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:06 PM","but the while condition is just wrong","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 04:07 PM","I should read in the start of the jpeg into my file right?","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:08 PM","yeah the start is in the jpeg","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:08 PM","try changing the whilte condition to this","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 04:08 PM","what about this","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:08 PM","try it out","",""
"397677328660037632","Maarten#1004","16-Mar-18 04:09 PM","On a sidenote: you might want to remove that code in a few moments, because it might be against academic honesty. Kino and me are both finished on this one, but it might spoil for others.","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:09 PM","^","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 04:10 PM","@Maarten okey","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 04:11 PM","yes!","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 04:11 PM","yes!","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 04:11 PM","I did it!Bro","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 04:12 PM","@Kinno @Maarten I love you guys!","",""
"348898174137532417","Kinno#3002","16-Mar-18 04:12 PM","üëå","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 04:13 PM","I tried to figue out what happen for  6 hours yesterday","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 04:14 PM","I don't know what to say","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 04:14 PM","I just so excited!","",""
"397677328660037632","Maarten#1004","16-Mar-18 04:14 PM","Good stuff! üòÉ","",""
"397677328660037632","Maarten#1004","16-Mar-18 04:14 PM","(and now remove them gists from here and general üòõ )","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 04:14 PM","I removed them!","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 04:15 PM","Thx a lot!","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 04:18 PM","Can I post these photos I recovered to my Social software ?","",""
"397677328660037632","Maarten#1004","16-Mar-18 04:20 PM","You should ask someone from staff about that I suppose","",""
"415723860416266241","Cretaceousgeek#9108","16-Mar-18 04:21 PM","Alright","",""
"280154315098685441","MC Kevmeister#3166","17-Mar-18 07:24 AM","Question, why does sprintf need dynamically allocated memory?","",""
"280154315098685441","MC Kevmeister#3166","17-Mar-18 07:33 AM","I should add, that's beginner friendly. I'd like to know cause I fluked the solution to this pset and well, thats a bit and not knowing why something works is lame, and super technical answers with only a beginners knowledge are also lame.  I've read something technical about undefined behaviour but I couldn't understand it","",""
"393854278764068875","curiouskiwi#1671","17-Mar-18 08:25 AM","@MC Kevmeister `sprintf` doesn't need dynamically allocated memory.","",""
"393854278764068875","curiouskiwi#1671","17-Mar-18 08:26 AM","```C
#include <stdio.h>

int main(void)
{
    char name[8];
    sprintf(name, ""%s"", ""jistbug"");
    printf(""name is now %s\n"", name);
}```","",""
"393854278764068875","curiouskiwi#1671","17-Mar-18 08:39 AM","or another example using different formatting","",""
"393854278764068875","curiouskiwi#1671","17-Mar-18 08:39 AM","```C
#include <stdio.h>

int main(void)
{
    // declare and initialize the variables that make up the address
    int number = 221;
    char *street = ""Baker St"";

    // declare a char array large enough to hold the address
    char address[18];

    // set the value of address
    sprintf(address, ""%iB %s"", number, street);
    
    // print the address to the screen
    printf(""address is %s\n"", address);

}```","",""
"280154315098685441","MC Kevmeister#3166","17-Mar-18 12:40 PM","Hmmm","",""
"280154315098685441","MC Kevmeister#3166","17-Mar-18 12:53 PM","What is considered good practice when declaring the size of arrays? For example, I kept hitting seg faults when I sized my buffer array to a reasonable size that the program recover would use, yet in trouble shooting I decided to give the array an abnormally large size that the program wouldn't use and I no longer hit a seg fault. Maybe there is a bug in my code, I'm not sure though.","",""
"280154315098685441","MC Kevmeister#3166","17-Mar-18 12:58 PM","I've confused myself in my testing and cannot now replicate the problem I was having. I'm still interested to know though what the best practice is however.","",""
"329977469350445069","Lord of Galaxy#9211","17-Mar-18 01:44 PM","You use the minimum size that will be able to hold the _maximum_ number of elements that the array might need to hold at any time","","üëå (1)"
"414306147953016832","nadiabereal#4084","20-Mar-18 03:28 AM","I'm confused as to how to initialize the buffer array, since I have no idea how many items it'll hold. Any tips?","",""
"393854278764068875","curiouskiwi#1671","20-Mar-18 03:37 AM","The walkthrough shows that your buffer should hold 512 bytes, since you'll be reading the card file in 512 byte blocks","",""
"414306147953016832","nadiabereal#4084","20-Mar-18 03:38 AM","That makes sense","",""
"414306147953016832","nadiabereal#4084","20-Mar-18 03:38 AM","Thank you","",""
"142401252209328128","Elliot#4479","27-Mar-18 04:45 PM","Hi, I'm having trouble figuring out why this code is not working. In theory it should detect the beginning of each jpeg and then print the jpeg number in the console window. I'm doing this to check that I can actually find all the jpegs before I start implementing the rest of my code.","https://cdn.discordapp.com/attachments/395684916056031245/428187797279735829/unknown.png",""
"142401252209328128","Elliot#4479","27-Mar-18 04:48 PM","Instead what is happening is the console window prints nothing. It seems to detect the end of the file correctly since the program finishes, but it doesn't seem to be able to find the first 4 bytes of the JPEG when I feel like it should","",""
"426454067582205956","JesusAndTacos#9685","27-Mar-18 04:59 PM","@Elliot your buffer is 511 ints, not 512","",""
"142401252209328128","Elliot#4479","27-Mar-18 05:00 PM","Isn't that right though? Since computers start from 0?","",""
"142401252209328128","Elliot#4479","27-Mar-18 05:00 PM","Regardless, just tried it with 512 but it still does the same thing","",""
"426454067582205956","JesusAndTacos#9685","27-Mar-18 05:03 PM","good try, @Elliot but an array of size 0 will be able to store nothing while an array of size 1 can store one thing, and so forth","",""
"142401252209328128","Elliot#4479","27-Mar-18 05:04 PM","Yeah that makes sense. Thank you! However, even with this change my code still doesn't work üòñ","",""
"426454067582205956","JesusAndTacos#9685","27-Mar-18 05:05 PM","are you compiling it? are you running it with ""./recover card.raw""?","",""
"142401252209328128","Elliot#4479","27-Mar-18 05:07 PM","Yup. Compiling works and the program runs. However, it's as though it has reached the end of the file without finding any jpegs.","https://cdn.discordapp.com/attachments/395684916056031245/428193225786785822/unknown.png",""
"426454067582205956","JesusAndTacos#9685","27-Mar-18 05:21 PM","* clears throat * @Elliot your logic is all sound but your buffer is not sound. Your while loop checks if the amount of data read in from ""raw"" into ""buffer"" is equal to 512 bytes. Recall that a usual ""int"" is a signed, 32-bit data type and so a buffer of size  512 that consists of ints will be 512 * 32 = 16,384 bytes large.
However, there exists another data type called an ""unsigned char"" that is an unsigned, 1 byte large, integer storage type (even though it can be used for storing characters). So when you read 512 bytes into a buffer of 512 unsigned char's, the buffer you will read into will be 512 * 1 = 512 bytes large.
Therefore, the code inside your while loop will run if your buffer uses the appropriate data type (ints are not appropriate).","",""
"142401252209328128","Elliot#4479","27-Mar-18 05:22 PM","Ah, I think I understand. Thank you I'll give that a try","",""
"142401252209328128","Elliot#4479","27-Mar-18 05:26 PM","@JesusAndTacos Thank you so much! Progress has been made.  I've only been able to find 23 jpegs for some reason, but that is miles ahead of where I was a minute ago. I'll get to work on trying to figure out what the problem is from here. I was stuck there for 2 - 3 hours so thank you very very much.","",""
"426454067582205956","JesusAndTacos#9685","27-Mar-18 05:26 PM","yes @Elliot ! I'm so glad for you!","",""
"383269379904897024","Archdevil#2094","27-Mar-18 06:05 PM","Hi all what does this line of code mean (in the video) ((buffer[3] & 0xf0) == 0xe0)","",""
"426454067582205956","JesusAndTacos#9685","27-Mar-18 06:26 PM","it calculates the range of the last byte using fancy boolean algebraic byte manipulation, it's a critical but advanced line of code that you don't need to know how it works, but you will need to know what it does. It checks the last byte to see if it is in line with the ""start of jpeg"" pattern","",""
"383269379904897024","Archdevil#2094","27-Mar-18 09:12 PM","@JesusAndTacos much appreciated!","",""
"426454067582205956","JesusAndTacos#9685","27-Mar-18 09:12 PM","yes, you're welcome!","",""
"175637864808316928","NinjaCow31#7504","01-Apr-18 05:39 PM","how do we know when we have reached the end of the card.raw file","",""
"383269379904897024","Archdevil#2094","01-Apr-18 05:51 PM","Hi all, my code compiles and in my brain it makes sense and should supposedly run without any problems. However, when i run it with card.raw, there were no jpeg files created and nothing happens .-.  can someone kind enough pm me and help me out?","",""
"175637864808316928","NinjaCow31#7504","01-Apr-18 09:36 PM","the while loop is not running because fread is not returning 512 and i can't figure out why","https://cdn.discordapp.com/attachments/395684916056031245/430072891988639756/chrome_2018-04-02_00-04-47.png",""
"175637864808316928","NinjaCow31#7504","01-Apr-18 11:04 PM","I have tried everything I can think of and the while loop does not seem to work","",""
"175637864808316928","NinjaCow31#7504","01-Apr-18 11:04 PM","i deleted the directory and made everything again, but now it give a seg fault","",""
"393854278764068875","curiouskiwi#1671","02-Apr-18 12:59 AM","your segfault is probably because you are trying to sprintf to `filename` when it only has enough space to hold NO chars.  ("""")","",""
"175637864808316928","NinjaCow31#7504","02-Apr-18 07:21 AM","ok, I'll give it a try","",""
"175637864808316928","NinjaCow31#7504","02-Apr-18 09:28 AM","The program finally worked after i deleted the recover directory and remade it (again)","",""
"175637864808316928","NinjaCow31#7504","02-Apr-18 09:28 AM","i have no clue why","",""
"383269379904897024","Archdevil#2094","02-Apr-18 11:43 AM","","https://cdn.discordapp.com/attachments/395684916056031245/430286256304291850/Capture.PNG",""
"383269379904897024","Archdevil#2094","02-Apr-18 11:44 AM","Hi all, my code compiles and the program runs, but the jpeg files created are kinda weird, with some empty blanks in some parts of the picture. Can someone help me see whats the problem here?","",""
"383269379904897024","Archdevil#2094","02-Apr-18 12:08 PM","it seems the fseek function in this case is not working as intended? It does not matter if i removed it or i have it there","",""
"132257794253520896","DMuffin#6434","02-Apr-18 10:22 PM","why are you using fseek?","",""
"383269379904897024","Archdevil#2094","03-Apr-18 11:03 AM","@DMuffin it is so the fread loop is reading the block whose starting bytes are that of a JPEG, so the conditions in ""if"" is fulfilled","",""
"383269379904897024","Archdevil#2094","03-Apr-18 11:03 AM","I assume if i do not fseek back, the fread will read the next block whose starting bytes are not the start of a JPEG? Or am i missing something here","",""
"393854278764068875","curiouskiwi#1671","03-Apr-18 11:07 AM","@Archdevil you need to read in a block of 512.  If the first 4 bytes represent a JPG signature, then you need to close the open jpg file (if there is one), then open a new jpg file and write those 512 bytes to it.  Then, you need to read the next 512 bytes, test it for a signature, and if its not a signature,  write those to the file and keep doing that until you hit a signature.  At that point, you close that file, open the next one, and repeat the process until you finally reach the end of the rawfile.  There is no need to use fseek in this problem.","",""
"383269379904897024","Archdevil#2094","03-Apr-18 11:43 AM","@curiouskiwi Sorry but i thought my code there executes this :X Do correct me on any misunderstanding","",""
"393854278764068875","curiouskiwi#1671","03-Apr-18 11:50 AM","what if buffer[1] *is* 0xd8 but buffer[2] *is not* 0xff  (ie, it's not a signature).  would your do/while loop keep running?","",""
"383269379904897024","Archdevil#2094","04-Apr-18 02:34 PM","","https://cdn.discordapp.com/attachments/395684916056031245/431053847730061332/change.PNG",""
"383269379904897024","Archdevil#2094","04-Apr-18 02:35 PM","I did not change anything other than this?? And somehow it works and passes the checks and everything??? Im so confused because doesnt this mean that whatever jpegs that are opened are not closed ultimately?? Shouldnt this introduce some other error?","",""
"393854278764068875","curiouskiwi#1671","04-Apr-18 11:58 PM","You should make sure that `img` actually isn't NULL before you try to write to it.","",""
"248195556466360321","CRSO#4359","08-Apr-18 05:42 PM","@curiouskiwi  what you said above about filename being to small to hold the actual string was the last problem in my code i tried to figure for the apst 2 hours XD. thnx a bunch","","üòÉ (1)"
"248195556466360321","CRSO#4359","08-Apr-18 05:44 PM","and i just noticed that was days ago, sorry","",""
"133274850419539968","AlexTheFlyingDutchman#4395","14-Apr-18 01:44 PM","OK....   I made it though the first steps of opening the file card.raw, and checking if that went well.
Now... am I on the right track with this code to read a single block of 512 bytes with this code : 

'''    char* buffer[512];

    fread(buffer,512,1,ptr);'''","",""
"133274850419539968","AlexTheFlyingDutchman#4395","14-Apr-18 01:45 PM","https://i.imgur.com/D2MpYeD.png","",""
"133274850419539968","AlexTheFlyingDutchman#4395","14-Apr-18 01:49 PM","... or maybe this is better : 

https://i.imgur.com/8exuUmE.png","",""
"133274850419539968","AlexTheFlyingDutchman#4395","14-Apr-18 03:05 PM","EUREKA !

Nvm... .I DID IT !  üòÉ 
I recovered the first .jpg  :-)

.","",""
"133274850419539968","AlexTheFlyingDutchman#4395","14-Apr-18 03:05 PM","https://i.imgur.com/ruxBIIR.png","",""
"133274850419539968","AlexTheFlyingDutchman#4395","14-Apr-18 04:10 PM","Can someone confirm that there are 48 pics in the raw file /","",""
"397677328660037632","Maarten#1004","14-Apr-18 04:20 PM","""But you should ultimately find that the image contains 50 JPEGs.""","",""
"397677328660037632","Maarten#1004","14-Apr-18 04:21 PM","So you're missing one or two (000.jpg - 049.jpg)","",""
"133274850419539968","AlexTheFlyingDutchman#4395","14-Apr-18 04:28 PM","Hmm...    this is the last pic my application finds :","https://cdn.discordapp.com/attachments/395684916056031245/434706628764499969/unknown.png",""
"133274850419539968","AlexTheFlyingDutchman#4395","14-Apr-18 04:29 PM","If I don't cut the process after that I get a ""File size limit exceeded""  error....","",""
"133274850419539968","AlexTheFlyingDutchman#4395","14-Apr-18 04:30 PM","I figured that means the app keeps writing and writing, while the EOF has been reached long time ago....","",""
"133274850419539968","AlexTheFlyingDutchman#4395","14-Apr-18 04:31 PM","My aproach was to find the file-length before the while reading and writing :
.
https://i.imgur.com/vBuLf7Q.png","",""
"397677328660037632","Maarten#1004","14-Apr-18 04:38 PM","there is one picture after that one","",""
"397677328660037632","Maarten#1004","14-Apr-18 04:43 PM","My solution doesn't use fseek/ftell (made an own counter to keep track of where I am), so can't really help you there (busy fiddling around with C#/unity right now).","",""
"133274850419539968","AlexTheFlyingDutchman#4395","14-Apr-18 05:04 PM","KK... thanks anyway.. now I know I got 1 more pic to go  üòÉ","",""
"133274850419539968","AlexTheFlyingDutchman#4395","14-Apr-18 05:04 PM","How did you fix the 000  before the filenames ?","",""
"133274850419539968","AlexTheFlyingDutchman#4395","14-Apr-18 05:05 PM","My names are now :  1.jpg   2.jpg  ...  but it should be 001.jpg  and 002.jpg ...","",""
"397677328660037632","Maarten#1004","14-Apr-18 05:08 PM","Check Zamayla's walkthrough (around the 5 minute mark), basically that code with a tip she gave","",""
"133274850419539968","AlexTheFlyingDutchman#4395","14-Apr-18 05:12 PM","Cool cool ... thanks again...","",""
"427831800811749417","robi#1416","17-Apr-18 02:49 AM","hey guys, what am I missing in my code, i get 50 images but they're not right, any tips?","",""
"393854278764068875","curiouskiwi#1671","17-Apr-18 02:52 AM","fwrite ... sizeof(int)    why are you writing 512 ""ints"" worth of data, when your buffer is 512 BYTEs","",""
"427831800811749417","robi#1416","17-Apr-18 02:58 AM","wow.... i would never find this, thanx üòÉ","",""
"135252782654423040","android wk#8670","22-Apr-18 11:38 AM","https://pastebin.com/9Uquq6gf

I'm having trouble with the recover problem set. After running gdb on my code, it seems like the FAT_block buffer I have made never actually fills with data. Instead remaining static throughout. I do get an output though - around 50 files files with the same 8 bytes over and over. I would like to finish it up tonight or at least soon, but I think I have looked at it so long that I can't really get any further.","",""
"393854278764068875","curiouskiwi#1671","22-Apr-18 11:44 AM","@android wk you've declared FAT_block as a pointer, so `sizeof(FAT_block)` will be 8.  Try declaring it as an array of 512 unsigned chars instead.","",""
"135252782654423040","android wk#8670","22-Apr-18 11:44 AM","...I can't believe I've done this. I did this exact same thing in the problem before this.","",""
"135252782654423040","android wk#8670","22-Apr-18 11:48 AM","Ugh. I would have had a memory leak from the malloc as well that I didn't think about. Thanks, Kiwi. Get some sleep. I don't know how you are always awake.","",""
"393854278764068875","curiouskiwi#1671","22-Apr-18 11:49 AM","it's only 8:50pm here on Sunday night. üòÉ","",""
"403211213699547157","Aternus#9711","22-Apr-18 11:50 AM","Hey kiwi üòÉ","",""
"393854278764068875","curiouskiwi#1671","22-Apr-18 11:50 AM","I'm watching LOTR for the first time in years while I answer cs50 questions. üòÉ","",""
"393854278764068875","curiouskiwi#1671","22-Apr-18 11:50 AM","(lord of the rings)","",""
"403211213699547157","Aternus#9711","22-Apr-18 11:51 AM","with commentary?","",""
"393854278764068875","curiouskiwi#1671","22-Apr-18 11:51 AM","no.","",""
"403211213699547157","Aternus#9711","22-Apr-18 11:52 AM","Did you ever watch it with commentary?","",""
"393854278764068875","curiouskiwi#1671","22-Apr-18 11:52 AM","I think so.","",""
"393854278764068875","curiouskiwi#1671","22-Apr-18 11:52 AM","I've had the DVD since 2002. üòÉ","",""
"403211213699547157","Aternus#9711","22-Apr-18 11:52 AM","lol","",""
"403211213699547157","Aternus#9711","22-Apr-18 11:53 AM","I'm not sure they had it on the DVD version","",""
"403211213699547157","Aternus#9711","22-Apr-18 11:53 AM","I have the Bluray version with the commentary track","",""
"393854278764068875","curiouskiwi#1671","22-Apr-18 11:53 AM","ah, that's the only version I've seen (well, other than the cinema version)","",""
"403211213699547157","Aternus#9711","22-Apr-18 11:53 AM","Might not be too interesting if you're watching it with the kids","",""
"393854278764068875","curiouskiwi#1671","22-Apr-18 11:53 AM","just checked. there are 4 different commentary tracks I can pick from.","",""
"393854278764068875","curiouskiwi#1671","22-Apr-18 11:54 AM","nah, it's playing on a corner of my laptop.","",""
"403211213699547157","Aternus#9711","22-Apr-18 11:54 AM","üòÑ Multi screen?","",""
"393854278764068875","curiouskiwi#1671","22-Apr-18 11:54 AM","no, just a small window.","",""
"393854278764068875","curiouskiwi#1671","22-Apr-18 11:54 AM","üòÉ","",""
"403211213699547157","Aternus#9711","22-Apr-18 11:54 AM","Must be a pretty big laptop lol","",""
"393854278764068875","curiouskiwi#1671","22-Apr-18 11:54 AM","on my 13"" laptop","",""
"403211213699547157","Aternus#9711","22-Apr-18 11:55 AM","lol","",""
"403211213699547157","Aternus#9711","22-Apr-18 11:55 AM","Are you using windows?","",""
"393854278764068875","curiouskiwi#1671","22-Apr-18 11:56 AM","no","",""
"393854278764068875","curiouskiwi#1671","22-Apr-18 11:56 AM","mac","",""
"393854278764068875","curiouskiwi#1671","22-Apr-18 11:56 AM","so I've got itunes","",""
"403211213699547157","Aternus#9711","22-Apr-18 11:58 AM","I was trying to get used to macos but didn't like it as much üò¶","",""
"393854278764068875","curiouskiwi#1671","22-Apr-18 12:00 PM","haven't had a windows machine since XP.","",""
"393854278764068875","curiouskiwi#1671","22-Apr-18 12:01 PM","or maybe that horrible Vista. üòÉ","",""
"329977469350445069","Lord of Galaxy#9211","22-Apr-18 01:48 PM","Linux vs Mac vs Windows, which is your favourite?","",""
"318140321403895808","nil4k#5220","22-Apr-18 05:26 PM","Sounds like you‚Äôre in sydney‚Äôs time zone.","",""
"318140321403895808","nil4k#5220","22-Apr-18 05:27 PM","also itunes has been available on windows for a long time","",""
"318140321403895808","nil4k#5220","22-Apr-18 05:28 PM","the thing that keeps me on macos is that it‚Äôs the only way i can use final cut pro x and logic pro x","",""
"318140321403895808","nil4k#5220","22-Apr-18 05:29 PM","Windows on the other hand is better for streaming because it fully supports the hardware encoder on the gtx1080","",""
"263277418696015874","LemonS#0531","24-Apr-18 06:32 AM","i have a question with the buffer for fread","",""
"263277418696015874","LemonS#0531","24-Apr-18 06:34 AM","in the previous programs we used BITMAPINFOHEADER bf; (for example) and then we stored there what we were reading right?","",""
"263277418696015874","LemonS#0531","24-Apr-18 06:39 AM","so how should i store the bytes from the memory'","",""
"263277418696015874","LemonS#0531","24-Apr-18 06:39 AM","?","",""
"393854278764068875","curiouskiwi#1671","24-Apr-18 06:39 AM","so you need a buffer of 512 BYTES","",""
"393854278764068875","curiouskiwi#1671","24-Apr-18 06:39 AM","how about an array?","",""
"264001135319318528","Quektis#3370","24-Apr-18 09:41 PM","I've seen 0x00 used to look for the EOF in this problem. for example: while(fread(buffer, 1, 512, inptr) != 0x00)","",""
"264001135319318528","Quektis#3370","24-Apr-18 09:42 PM","is that standard for C? I can't figure out why 0x00 would mean EOF. What header file supports it?","",""
"393854278764068875","curiouskiwi#1671","25-Apr-18 12:10 AM","It doesn't.  `fread` returns the number of elements read, so your while condition will become true if fread didn't read anything (which means it probably hit the end of the file).  It's not using EOF.","",""
"264001135319318528","Quektis#3370","25-Apr-18 10:34 PM","Thanks, Ive finished writing my code for this problem. However I get this compilation error: clang -fsanitize=signed-integer-overflow -fsanitize=undefined","",""
"264001135319318528","Quektis#3370","25-Apr-18 10:34 PM","not sure what that means","",""
"264001135319318528","Quektis#3370","25-Apr-18 10:34 PM","I should be using something else instead of an int? like a long or something?","",""
"264001135319318528","Quektis#3370","25-Apr-18 10:50 PM","It's really strange as I was able to compile yesterday with the exact same code","",""
"393854278764068875","curiouskiwi#1671","26-Apr-18 12:31 AM","that's not a compiler error, those are just some of the clang flags that we are using","",""
"264001135319318528","Quektis#3370","26-Apr-18 10:22 PM","yea, I eventually figured that out lol","",""
"119179670036938752","spüëÄder#2370","27-Apr-18 01:09 PM","can I just confirm (because my code is in no state to actually compile atm) that this is the correct usage of fread:  

```c
//read in 512 bytes to buffer
fread(buffer, 512, 1, inptr); ```","",""
"119179670036938752","spüëÄder#2370","27-Apr-18 01:20 PM","also to confirm my understanding of a filename: ` sprintf(filename, ""%03i.jpg"", 2);`  - creates a pointer to a string (char array) which will be a filename, the %03i means the name of the file will be  3 characters long, padded with 0s + an integer converted to a char, the integer being the number after the final comma? in this case, 2.","",""
"119179670036938752","spüëÄder#2370","27-Apr-18 02:59 PM","also my files opened in one conditional branch which always has to run aren't being recognised later in other branches.","",""
"119179670036938752","spüëÄder#2370","27-Apr-18 03:30 PM","my pseudocode is as follows:

```
while (not the end of the raw file)
    if (start of new jpeg)
        if (first ever file)
            open new file
            write buffer to new file
            increment file count
            change is first file to false
        else (not first file)
            close previous file
            open new file
            write buffer to new file
            increment file count
    else (not start of jpeg)
        if (a file has been opened)
            write buffer to open file
        else (no file open)
            discard data as it's before first file
    read in next 512 bytes to buffer
endwhile

close raw file ```","",""
"119179670036938752","spüëÄder#2370","27-Apr-18 03:31 PM","the issue is that it doesn't like me trying to close the file when the program gets to the start of a new jpg and it's not the first file.","",""
"119179670036938752","spüëÄder#2370","27-Apr-18 03:32 PM","it also doesn't like me writing to the file when it's NOT the start of a new jpg and I have an open file.","",""
"119179670036938752","spüëÄder#2370","27-Apr-18 04:58 PM","ok, yay I solved it: my issue was that I was declaring the file inside the loop and totally forgot about scope","",""
"119179670036938752","spüëÄder#2370","27-Apr-18 04:58 PM","I also realised there was an error in my pseudocode","",""
"397677328660037632","Maarten#1004","27-Apr-18 08:12 PM","Good job üòÉ","",""
"433355003919335444","matsterdam#5263","03-May-18 11:13 PM","ah i'm stuck with recover... it looks like it should work but I can't get it to compile. It throws an error because I try and use fclose within a loop, but the file hasn't been declared there. Help?","",""
"393854278764068875","curiouskiwi#1671","03-May-18 11:14 PM","always check if the file is open before you run fclose.  (ie, if the FILE* inptr is NULL, that means no file is open.)","",""
"433355003919335444","matsterdam#5263","03-May-18 11:15 PM","nice, thanks!","",""
"433355003919335444","matsterdam#5263","03-May-18 11:16 PM","we'll see how that goes","",""
"260757571445587968","LT.Sana#9372","04-May-18 08:31 PM","Hey, Im done making my code yesterday,  but I'm curious what happens if you don't `fclose()` your JPG's","",""
"260757571445587968","LT.Sana#9372","04-May-18 08:32 PM","my first one worked without needing to `fclose()` any of them, but I put it in when I was cleaning up, I think it's bad to just leave the files open","",""
"170270655755976704","Bjorno#5100","04-May-18 09:28 PM","When a program exits, it will automatically do something equivalent to ``fclose()`` on all open files. Generally nothing should happen with non-closed files, although there is always several things that can go wrong.","",""
"393854278764068875","curiouskiwi#1671","05-May-18 02:09 AM","if you run `valgrind` you'll see that your program leaked memory (the unclosed files).  You should always close any file you opened.","",""
"433355003919335444","matsterdam#5263","05-May-18 07:16 PM","@curiouskiwi  do you ever sleep? you're everywhere on discord","",""
"397677328660037632","Maarten#1004","05-May-18 08:53 PM","New Zealanders are weird like that. But that's to be expected, living on Paradise island üòâ","",""
"274896239781216256","theFreakingCat#6841","06-May-18 12:13 PM","Hi, having some problems again, can someone help me out? What I intend to do is to use a do while loop to continuosly read in 512 bytes. This is until `fread()` no longer returns the correct amount of elements. But I'm having some issues where after the first iteration it will exit. Can someone point me in the right direction?","",""
"274896239781216256","theFreakingCat#6841","06-May-18 12:13 PM","```c
unsigned char* buffer = calloc(1, 512); //buffer used to test block for ""JPEG"" format.
    //TODO: Go through 512 bytes at a time.
    fread(buffer, 1, 512, image); //read from file once
    do
    {
        if (buffer[1] == 0xff &&
            buffer[2] == 0xd8 &&
            buffer[3] == 0xff &&
            (buffer[4] & 0xe0) == 0xe0)
            {
                printf(""Found a JPEG\n"");
            }
    }
    while (fread(buffer, 1, 512, image) == 512); //fread doesnt return value if it cannot read a full n byte where n is the requested bytes to be read.
```","",""
"433355003919335444","matsterdam#5263","06-May-18 06:47 PM","Haha, I'm from New Zealand as well but living in Europe.","",""
"397677328660037632","Maarten#1004","06-May-18 10:42 PM","Amsterdam?","",""
"403211213699547157","Aternus#9711","07-May-18 09:07 AM","@theFreakingCat Looks like you've misunderstood the fread() function prototype, the size comes first, the count after. A FAT file system has blocks of 512 bytes.","",""
"274896239781216256","theFreakingCat#6841","07-May-18 09:29 AM","You're right. I'll quickly make some edits and see if it works. Worst thing about `calloc()` and `malloc()` is that inside the debugger I only get the address of the heap and not the values inside the heap. Is it supposed to be like that though or did I mess up something in my code?","",""
"274896239781216256","theFreakingCat#6841","07-May-18 09:48 AM","Hmm well still doesn't work as expected. I'm trying to do baby steps so that whenever it encounters a JPEG first four bytes for every 512 bytes it will print ""Found a JPEG"" before moving to the rest.","",""
"393854278764068875","curiouskiwi#1671","07-May-18 09:50 AM","is it actually reading the entire file and not finding a signature? or not properly reading? can you tell?","",""
"274896239781216256","theFreakingCat#6841","07-May-18 09:54 AM","I'll try check a bit. Have to head to bank now so need some time. But I don't think its properly reading in. In debug50 all values ( means all 512 of them ) have values of zero when it reaches the ""test buffer[n] for x value"" line.

Btw I changed my code slightly so that its cleaner in this.

```c
//---------------------------------------------------------------------------------------------------------------------------------
    //TODO: Go through 512 bytes at a time.
    int buffer[BLOCK];
    while (fread(buffer, BLOCK, 1, image) == 1)
    {
        if (buffer[1] == 0xff &&
            buffer[2] == 0xd8 &&
            buffer[3] == 0xff &&
            (buffer[4] & 0xe0) == 0xe0)
            {
                printf(""Found a JPEG\n"");
            }
    }
    //TODO: Open a new JPEG

    //TODO: Write until a new JPEG is found

    //TODO: Detect end of file
}
```","",""
"274896239781216256","theFreakingCat#6841","07-May-18 09:55 AM","The top of file consists of the #define BLOCK 512 that I learned from internet while trying to solve this problem.","",""
"274896239781216256","theFreakingCat#6841","07-May-18 09:55 AM","other than that its the usual check if file is there and stuff.","",""
"393854278764068875","curiouskiwi#1671","07-May-18 11:09 AM","`int buffer[BLOCK];`  you need a buffer of BYTEs, not of ints.","",""
"274896239781216256","theFreakingCat#6841","07-May-18 12:18 PM","Alright, changed it to `unsigned char buffer[BLOCK];`. Still not working though, its not reading anything into it. I'll try a bit more","",""
"403211213699547157","Aternus#9711","07-May-18 12:53 PM","Are you using the CS50 IDE?","",""
"403211213699547157","Aternus#9711","07-May-18 12:57 PM","Also, did you check that the pointers you're creating are actually available?","",""
"403211213699547157","Aternus#9711","07-May-18 12:57 PM","```c
    // open image
    FILE *img_ptr = fopen(img_name, ""r"");
    if (img_ptr == NULL)
    {
        fprintf(stderr, ""cannot read from %s\n"", img_name);
        return 2;
    }

    // get a FAT block of memory (ha!)
    uint8_t *fat_block_ptr = malloc(FAT_BLOCK_SIZE);
    if (fat_block_ptr == NULL)
    {
        fprintf(stderr, ""not enough memory to perform this operation\n"");
        return 3;
    }
```","",""
"403211213699547157","Aternus#9711","07-May-18 12:59 PM","Lastly, you shouldn't be using `char` really, in Whodunit you've been introduced to the `stdint` library, which is the perfect tool for this job","",""
"403211213699547157","Aternus#9711","07-May-18 12:59 PM","http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/stdint.h.html","",""
"274896239781216256","theFreakingCat#6841","07-May-18 03:14 PM","Hi, checked the pointers and yep they exist.  I switched over to the uint8_t but still it doesn't work correctly. I narrowed the issue down to this line of code:  `while (fread(buffer, BLOCK, 1, image) == 1)`. Is there anything wrong with this?","",""
"274896239781216256","theFreakingCat#6841","07-May-18 03:15 PM","basically the value it return is not equal to one. so there's definitely either something wrong in the image ( which I don't think so because all the values returned are zeroes, which are correct as the card.raw contains them too )","",""
"170270655755976704","Bjorno#5100","07-May-18 03:16 PM","Correct me if I am wrong, but if you take a look at the walkthrough, I think she talks about ``fread();`` and which arguments should correspond to what","",""
"170270655755976704","Bjorno#5100","07-May-18 03:17 PM","What does it return @theFreakingCat ?","",""
"274896239781216256","theFreakingCat#6841","07-May-18 03:19 PM","Yep she did, well it should return the number of elements read. This is specified as a second argument.","",""
"274896239781216256","theFreakingCat#6841","07-May-18 03:19 PM","Well I'll test it out then let you know back.","",""
"274896239781216256","theFreakingCat#6841","07-May-18 03:21 PM","I'd be happier if the internet is faster, having to wait like 5 secs between saving and such is a pain xD","",""
"170270655755976704","Bjorno#5100","07-May-18 03:22 PM","I'm not quite sure about the return value of the function though, so we'll have to look that up. But IIRC the return value should be equal to the number of elements read, in your case 1, if successful. Otherwise there was an error or EOF has been reached. Now I'm not sure how you can determine if it's either of those based on the return value","",""
"274896239781216256","theFreakingCat#6841","07-May-18 03:22 PM","Hmm yep, I tested it and it returned 1. I used this `printf(""fread returned: %zu"", fread(buffer, BLOCK, 1, image));`","",""
"170270655755976704","Bjorno#5100","07-May-18 03:24 PM","So it returns what you want, but the code doesn't work how you assume it should?","",""
"274896239781216256","theFreakingCat#6841","07-May-18 03:25 PM","Yep, I'm thinking its because it returned a value with the type `size_t` instead of `int`. I'll work on it.","",""
"170270655755976704","Bjorno#5100","07-May-18 03:25 PM","Of course, test the return value more than one iteration, but I am assuming you've done that","",""
"274896239781216256","theFreakingCat#6841","07-May-18 03:25 PM","cause one of the error messages pops up when i try to compile it","",""
"170270655755976704","Bjorno#5100","07-May-18 03:28 PM","What do you mean? Doesn't ``fread();`` return an int?","",""
"170270655755976704","Bjorno#5100","07-May-18 03:28 PM","Nevermind, vice versa","",""
"274896239781216256","theFreakingCat#6841","07-May-18 03:30 PM","Well fread() returns an int but the type is size_t, I got this error message","",""
"274896239781216256","theFreakingCat#6841","07-May-18 03:30 PM","```c
error: format specifies type 'int' but the argument has type 'size_t' (aka 'unsigned long') [-Werror,-Wformat]
    printf(""fread returned: %i\n"", fread(buffer, BLOCK, 1, image));
                            ~~     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
                            %zu
```","",""
"170270655755976704","Bjorno#5100","07-May-18 03:31 PM","That's just an error for the formatting though, no?","",""
"274896239781216256","theFreakingCat#6841","07-May-18 03:31 PM","What do you mean?","",""
"425957346879995924","AndrewF#7449","07-May-18 03:34 PM","Change it to %zu as indicated. See what happens","",""
"274896239781216256","theFreakingCat#6841","07-May-18 03:34 PM","yep changed and it worked","",""
"274896239781216256","theFreakingCat#6841","07-May-18 03:35 PM","I wonder why though, I thought signed bit is 0 when positive.","",""
"170270655755976704","Bjorno#5100","07-May-18 03:36 PM","What do you mean?","",""
"274896239781216256","theFreakingCat#6841","07-May-18 03:37 PM","nah nothing, just something that I learned but weird, it works now.","",""
"170270655755976704","Bjorno#5100","07-May-18 03:38 PM","The loop as well?","",""
"274896239781216256","theFreakingCat#6841","07-May-18 03:38 PM","I mean even after changing back to `while (fread(buffer, BLOCK, 1, image) == 1)`. Yep the loop as well","",""
"170270655755976704","Bjorno#5100","07-May-18 03:38 PM","What was the issue?","",""
"274896239781216256","theFreakingCat#6841","07-May-18 03:39 PM","No idea, originally it won't even iterate, it'll go once and then go out.","",""
"274896239781216256","theFreakingCat#6841","07-May-18 03:39 PM","But after changing things around and changing back it worked,","",""
"170270655755976704","Bjorno#5100","07-May-18 03:40 PM","Weird","",""
"274896239781216256","theFreakingCat#6841","07-May-18 03:42 PM","Yep, I'll just screen around for more clues. Probably forgot something.","",""
"274896239781216256","theFreakingCat#6841","07-May-18 04:02 PM","I think I forgot to make before launching it again or something. thats the only possible cause that I could think of. Thanks though! Well now it still doesn't work but at least it iterates.","",""
"170270655755976704","Bjorno#5100","07-May-18 04:03 PM","Haha okay","",""
"274896239781216256","theFreakingCat#6841","07-May-18 04:05 PM","Yep, think I'll hide in a corner and slowly solve it haha.","",""
"274896239781216256","theFreakingCat#6841","07-May-18 04:50 PM","I think I hit another wall. I'm really becoming a freeloader here lol. Using `debug50` the only clue I found is that instead of getting a FF D8 FF like in the Hex editor, I got this: `0x1084250 ""\377\330\377"", <incomplete sequence \340>` in my buffer instead. Can someone point me in the right direction? Thanks!","",""
"274896239781216256","theFreakingCat#6841","07-May-18 04:51 PM","if I'm not wrong it should go something like `""\255\216/255\...""`instead","",""
"274896239781216256","theFreakingCat#6841","07-May-18 04:52 PM","*`""\255\216\255\...""`","",""
"274896239781216256","theFreakingCat#6841","07-May-18 05:24 PM","Silly me, biggest mistake ever xD","",""
"274896239781216256","theFreakingCat#6841","07-May-18 05:25 PM","```c
while (fread(buffer, BLOCK, 1, image) == 1)
    {
        if (buffer[1] == 0xff &&
            buffer[2] == 0xd8 &&
            buffer[3] == 0xff &&
            (buffer[4] & 0xe0) == 0xe0)
            {
                printf(""Found a JPEG\n"");
            }
    }
```
I started counting buffer from buffer[1] instead of buffer[0] lol","",""
"274896239781216256","theFreakingCat#6841","07-May-18 05:25 PM","thanks everyone xD","",""
"425957346879995924","AndrewF#7449","07-May-18 06:06 PM","reminded me of this : https://imgur.com/r/programmerhumor/VRSkSGd","",""
"274896239781216256","theFreakingCat#6841","07-May-18 06:20 PM","Lol xD","",""
"274896239781216256","theFreakingCat#6841","07-May-18 06:21 PM","Until you realize you were the disappointment that disappointed your disappointed self and the disappointing cycle disappoints on and on.","",""
"425957346879995924","AndrewF#7449","07-May-18 06:24 PM","Pretty much. I put myself in that box plenty of times during this course haha","",""
"274896239781216256","theFreakingCat#6841","07-May-18 07:32 PM","Same hahaha","",""
"403211213699547157","Aternus#9711","07-May-18 09:46 PM","Glad you've figured it out","",""
"403211213699547157","Aternus#9711","07-May-18 09:46 PM","Always remember to recompile! üòÑ","",""
"274896239781216256","theFreakingCat#6841","08-May-18 03:58 AM","YepüòÖ","",""
"274896239781216256","theFreakingCat#6841","08-May-18 08:04 AM","Finally got it done, thanks a lot everyone! On another point, there are so many beautiful and handsome people in CS50 üíØ  haha.","",""
"400677508145610753","Timothy#4671","22-May-18 10:58 PM","I've succeded! Honestly for anyone struggling with this problem my best advice would be to sit down and think about what you want the program to do and write lots of pseudocode. It may sound dull and useless but if I'd done it earlier I would've been done ages ago","",""
"400677508145610753","Timothy#4671","22-May-18 10:58 PM","The code is fairly simple you just have to think of how you want to implement it","","üëå (2)"
"393854278764068875","curiouskiwi#1671","22-May-18 11:29 PM","That's good advice for all coding projects. üòÉ","",""
"419405328770400259","ChristianOtieno#9809","28-May-18 11:25 PM","How do i turn the frown to a smile now? ü§î","https://cdn.discordapp.com/attachments/395684916056031245/450756552211693581/Screenshot_2018-05-28_23.18.58.png",""
"393854278764068875","curiouskiwi#1671","29-May-18 12:01 AM","@ChristianOtieno looks like check50 can't even compile your program.  Are you including any other files that check50 won't know about?  Perhaps you are using bmp.h to get the BYTE typedef? If so, simply copy the line you need to recover.c itself.","",""
"419405328770400259","ChristianOtieno#9809","29-May-18 12:02 AM","I'm using bmp.h","",""
"419405328770400259","ChristianOtieno#9809","29-May-18 12:03 AM","Thanks","",""
"419405328770400259","ChristianOtieno#9809","29-May-18 01:17 AM","Took care of the bmp.h . Removed a bit of code (for correct usage) int main(int argc, char*argv[])
{
    //ensure proper usage
    int i;
    if(argc > 1)
    {
        fprintf(stderr, ""Usage: ./recover\n"");
        return 1;

    }
    for (i = 0; i < argc; i++)
    {
        printf(""%s"", argv[i]);
        return 1;
    }","https://cdn.discordapp.com/attachments/395684916056031245/450784820218298369/Screenshot_2018-05-29_01.10.51.png",""
"393854278764068875","curiouskiwi#1671","29-May-18 01:22 AM","Per the spec: Your program should accept exactly one command-line argument, the name of a forensic image from which to recover JPEGs. + If your program is not executed with exactly one command-line argument, it should remind the user of correct usage, as with fprintf (to stderr), and main should return 1.","",""
"393854278764068875","curiouskiwi#1671","29-May-18 01:22 AM","so your program needs to run like this:  `./recover card.raw`","",""
"419405328770400259","ChristianOtieno#9809","29-May-18 01:43 AM","We're all good now captain. Gracias‚ò∫","https://cdn.discordapp.com/attachments/395684916056031245/450791255828463617/Screenshot_2018-05-29_01.41.16.png","üëç (1)"
"199332236250578946","yesdefinitely#3055","01-Jun-18 03:21 AM","So this is from the recover walkthrough","https://cdn.discordapp.com/attachments/395684916056031245/451903065730318336/unknown.png",""
"199332236250578946","yesdefinitely#3055","01-Jun-18 03:22 AM","Could someone explain to me exactly what the `(buffer[3] & 0xfo) == 0xe0)` is doing?","",""
"393854278764068875","curiouskiwi#1671","01-Jun-18 03:27 AM","the `0xf0` is the bitmask.  If you look at an example in binary, you can see better. Let‚Äôs say that buffer[3] is `0xe5`:  
   ```   0xe5 1110 0101
  &
   0xf0 1111 0000
-------
   0xe0 1110 0000```

when you AND the two numbers, any bits that are equal get set to 1 and any that are different get set to 0.  So this has the effect of masking away the lower 4 bits of the number
so `0xe5 & 0xf0` will equal `0xe0`  as will any number in the range `0xe0` to `0xef`","",""
"199332236250578946","yesdefinitely#3055","01-Jun-18 03:32 AM","Makes sense, thank you! I'd never heard of bitmasking before","",""
"199332236250578946","yesdefinitely#3055","01-Jun-18 05:10 AM","Should I initialize the filename to something other than NULL?","",""
"199332236250578946","yesdefinitely#3055","01-Jun-18 05:11 AM","Here's my initialization","https://cdn.discordapp.com/attachments/395684916056031245/451930726833586186/unknown.png",""
"199332236250578946","yesdefinitely#3055","01-Jun-18 05:11 AM","And then here during my while loop I get a segmentation fault","https://cdn.discordapp.com/attachments/395684916056031245/451930789421252639/unknown.png",""
"199332236250578946","yesdefinitely#3055","01-Jun-18 05:11 AM","I can send my full code in a private message if needed","",""
"393854278764068875","curiouskiwi#1671","01-Jun-18 05:13 AM","I'd suggest using a char array rather than a pointer.  Just declare an array that's long enough to hold the filename (remembering about the null char at the end too)","",""
"199332236250578946","yesdefinitely#3055","01-Jun-18 05:18 AM","That fixed the issue. Thanks!","",""
"199332236250578946","yesdefinitely#3055","01-Jun-18 05:18 AM","Now I just have to fix my program so that all the jpgs aren't blank, haha üòÑ","",""
"336209581778665472","VallarfaxTF#4459","02-Jun-18 09:16 PM","Hello! I'm facing a problem with recover right now. You see, I didn't like the idea of copy and pasting several times the code which checks if a new JPEG is about to begin in the card.raw, so I decided to write a function (called isjpeg()) which does exactly that:","",""
"336209581778665472","VallarfaxTF#4459","02-Jun-18 09:17 PM","``` bool isjpeg(char buffer)
{
    if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0)
    {
        return true;
    }

    else
    {
        return false;
    }
}```","",""
"336209581778665472","VallarfaxTF#4459","02-Jun-18 09:18 PM","Then, I tried to put it to the test through an ""incomplete"" version of the recover program","",""
"336209581778665472","VallarfaxTF#4459","02-Jun-18 09:20 PM","```  // Declare array to store a FAT
    char card[512];

    bool hasjpeg = false;
    int outfnum = 0;

    while (fread(&card, 512, 1, inptr) == 1)
    {
        if (hasjpeg == false)
        {
            if (isjpeg(card) == true)
            {
                char* outfile;
                sprintf(outfile,""%03i.jpg"", outfnum);
                FILE* outpr = fopen(""%i.jpeg"", ""w"");
            }
        }
    }
    else
    {
        return 0;
    }


}```","",""
"336209581778665472","VallarfaxTF#4459","02-Jun-18 09:21 PM","But, when I try to compile it, that happens","",""
"336209581778665472","VallarfaxTF#4459","02-Jun-18 09:21 PM","``` clang -fsanitize=signed-integer-overflow -fsanitize=undefined -ggdb3 -O0 -std=c11 -Wall -Werror -Wextra -Wno-sign-compare -Wshadow    recover.c  -lcrypt -lcs50 -lm -o recover
recover.c:37:24: error: incompatible pointer to integer conversion passing 'char [512]' to parameter of type 'char' [-Werror,-Wint-conversion]
            if (isjpeg(card) == true)
                       ^~~~
recover.c:4:18: note: passing argument to parameter 'buffer' here
bool isjpeg(char buffer);```","",""
"336209581778665472","VallarfaxTF#4459","02-Jun-18 09:22 PM","What could be the problem?","",""
"336209581778665472","VallarfaxTF#4459","02-Jun-18 09:24 PM","All the variables involved are chars. So why is it telling me about a ""pointer"" to ""integer"" conversion?","",""
"393854278764068875","curiouskiwi#1671","03-Jun-18 05:25 AM","your function is declared to take a char as input and you are passing it an array of chars.","",""
"199332236250578946","yesdefinitely#3055","05-Jun-18 04:03 AM","Anyone willing to take a look at my code and point me in the right direction? I'm a bit stuck","",""
"336209581778665472","VallarfaxTF#4459","07-Jun-18 03:09 AM","Sorry for taking so long to answer @curiouskiwi . Thanks for the help!","",""
"354687216238329857","bakedbrowni#4858","10-Jun-18 01:02 PM","Hey guys, could someone help me out. I","",""
"354687216238329857","bakedbrowni#4858","10-Jun-18 01:02 PM","I'm getting 4/5 for code and 3/5 for style on my recover implementation","",""
"354687216238329857","bakedbrowni#4858","10-Jun-18 01:02 PM","https://github.com/submit50/Bakedbrownie/blob/cs50/2018/x/recover/recover.c","",""
"354687216238329857","bakedbrowni#4858","10-Jun-18 01:03 PM","I've gone over it a couple of times and have no idea why","",""
"354687216238329857","bakedbrowni#4858","10-Jun-18 01:03 PM","would love a couple of pointers (pun intended)","",""
"393854278764068875","curiouskiwi#1671","10-Jun-18 01:13 PM","(I answered you on Facebook)","",""
"199332236250578946","yesdefinitely#3055","11-Jun-18 03:46 AM","@staff I ran into this issue while submitting recover for check50. Should I just contact the email that it listed then?","https://cdn.discordapp.com/attachments/395684916056031245/455533341865803787/unknown.png",""
"393854278764068875","curiouskiwi#1671","11-Jun-18 03:47 AM","@yesdefinitely that probably means you have some corrupted files in the folder that check50 can't deal with.","",""
"199332236250578946","yesdefinitely#3055","11-Jun-18 03:48 AM","Ah yeah one of my old recover programs would make corrupted files that I'm not sure how to remove","",""
"393854278764068875","curiouskiwi#1671","11-Jun-18 03:48 AM","you only need to submit recover.c so if you move that to another folder, then submit from there.","",""
"199332236250578946","yesdefinitely#3055","11-Jun-18 03:48 AM","Will do, thanks","",""
"393854278764068875","curiouskiwi#1671","11-Jun-18 03:50 AM","and this answer might help you delete the others...    https://unix.stackexchange.com/a/402563  @yesdefinitely","",""
"199332236250578946","yesdefinitely#3055","11-Jun-18 04:00 AM","Thanks again for all your help!","",""
"292496316175482890","UltimateGamer07#0020","25-Jun-18 07:16 PM","Fought with segmentation fault for nearly an hour , trying different things, luckily the first time it ran, it worked","",""
"449537326172078081","Titan_Vaibhav#3642","27-Jun-18 08:39 AM","How to return 0 after closing an image file? If I return 0 it just does it once and then the program closes. Please help.","",""
"393854278764068875","curiouskiwi#1671","27-Jun-18 09:01 AM","why do you want to return 0 after closing an image file?  As you say, that will end the program.","",""
"273591620115365898","Ji E Toy#8326","29-Jun-18 06:27 PM","Wooo, after two days of sweat, I've done it:D","",""
"409536742836797443","MeHere#2310","29-Jun-18 08:26 PM","You know what is funny? My image was not doubling in size because I was not updating the headers and I couldn‚Äôt figure it until I studied my code for like 3 hours","",""
"384583686353321994","alan#2806","01-Jul-18 09:26 PM","I setup buffer as `int buffer[512]` and iterated over each block per buffer population to look for any instances of `0xff`(or 255) for jpg header detection anywhere in the buffer (not just in the first element) but turned up empty-handed.","",""
"393854278764068875","curiouskiwi#1671","01-Jul-18 11:21 PM","You want a buffer of 512 bytes.  (an int is not a byte)","",""
"384583686353321994","alan#2806","02-Jul-18 12:17 AM","@curiouskiwi  thanks. I borrowed the code from bmp.h and am using the BYTE data type now.  My function was able to parse the raw file to create a bunch of jpgs, but they all appear to be blank. Upon inspection, I'm seeing that the first byte has a hex value of '00d8' instead of 'ffd8' although the following three bytes are written as expected","",""
"393854278764068875","curiouskiwi#1671","02-Jul-18 12:24 AM","My guess?  Your string to hold the filename isn't long enough, so the null char that ends it is stomping on the first byte of your buffer. @alan","",""
"384583686353321994","alan#2806","02-Jul-18 12:36 AM","@curiouskiwi thanks. I had tried to set up the variable that stores my filename to be long enough to include the null char but doing that results in a segmentation fault","",""
"393854278764068875","curiouskiwi#1671","02-Jul-18 12:36 AM","did you use a char array that can hold 8 chars?","",""
"384583686353321994","alan#2806","02-Jul-18 12:37 AM","yeah, doing that resulted in a segmentation fault but reducing it to 7 leads to file generation so I was really confused","",""
"393854278764068875","curiouskiwi#1671","02-Jul-18 12:37 AM","that in itself can't cause a segfault.","",""
"393854278764068875","curiouskiwi#1671","02-Jul-18 12:38 AM","it has to be 8","",""
"384583686353321994","alan#2806","02-Jul-18 12:38 AM","I don't explicitly add the null char right?","",""
"384583686353321994","alan#2806","02-Jul-18 12:38 AM","sprintf adds it","",""
"393854278764068875","curiouskiwi#1671","02-Jul-18 12:38 AM","that's correct","",""
"393854278764068875","curiouskiwi#1671","02-Jul-18 12:39 AM","and if your array is only 7, then it will still add it, and it will overwrite the first byte in your buffer.","",""
"393854278764068875","curiouskiwi#1671","02-Jul-18 12:39 AM","since that's next in memory","",""
"393854278764068875","curiouskiwi#1671","02-Jul-18 12:39 AM","so you get 00d8","",""
"384583686353321994","alan#2806","02-Jul-18 12:40 AM","yeah","",""
"384583686353321994","alan#2806","02-Jul-18 12:41 AM","and I noticed that many of the files are 512B exactly and when I manually change the hex value from 00d8 to ffd8, the files look really funky as if they're just like 3 rows of pixels","",""
"393854278764068875","curiouskiwi#1671","02-Jul-18 12:42 AM","each jpg should be at least 20k","",""
"384583686353321994","alan#2806","02-Jul-18 12:42 AM","ah","",""
"393854278764068875","curiouskiwi#1671","02-Jul-18 12:42 AM","are you writing all the blocks until you find the next signature?","",""
"384583686353321994","alan#2806","02-Jul-18 12:43 AM","@curiouskiwi that's what I thought it was doing, but I'll reexamine that.","",""
"384583686353321994","alan#2806","02-Jul-18 12:55 AM","awesome! I found my block adding logic was placed in an if statement and it's adding properly/as expected.  I'm now just left with the weird filename behavior","",""
"384583686353321994","alan#2806","02-Jul-18 12:57 AM","`sprintf(filename, ""%03i.jpg"", counter);` with filename being declared as `char filename[8]`","",""
"393854278764068875","curiouskiwi#1671","02-Jul-18 12:58 AM","that's perfectly fine.","",""
"384583686353321994","alan#2806","02-Jul-18 12:59 AM","only when I change the filename declaration to `char filename[7]` do I get files generated with no segmentation fault","",""
"393854278764068875","curiouskiwi#1671","02-Jul-18 01:00 AM","have you run debug50 or valgrind to see where the segfault is happening?","",""
"384583686353321994","alan#2806","02-Jul-18 01:02 AM","I haven't. I'll try that now","",""
"384583686353321994","alan#2806","02-Jul-18 01:03 AM","oh wow! so, I've been running this code locally and haven't tried it in the ide.  after you prompted me to use debug50, just running it in the ide, (the same code) led to no issues!","",""
"384583686353321994","alan#2806","02-Jul-18 01:04 AM","no segmentation fault and all the images are extracted","",""
"384583686353321994","alan#2806","02-Jul-18 01:05 AM","thanks, @curiouskiwi !","","üòÉ (1)"
"407472198081708043","aoritoioho#5162","02-Jul-18 10:31 PM","can i paste my code here? ive been working at this problem for hours now. It compiled but it only creates a 000.jpeg file that's it üò¶","",""
"407472198081708043","aoritoioho#5162","02-Jul-18 10:38 PM","lol i finally solved it hahaha","",""
"388708210774769666","Bhau#9899","03-Jul-18 03:43 PM","Could somebody explain how the bitwise & operator works to extract the first few bits of a byte?","",""
"403211213699547157","Aternus#9711","03-Jul-18 03:43 PM","https://code.tutsplus.com/articles/understanding-bitwise-operators--active-11301","",""
"388708210774769666","Bhau#9899","03-Jul-18 03:47 PM","those diagrams really helped me understand the implementation. Thank You","",""
"403211213699547157","Aternus#9711","03-Jul-18 03:48 PM","You're welcome üòÉ","",""
"388708210774769666","Bhau#9899","03-Jul-18 05:24 PM","i can't compare char to the given first bytes?","",""
"388708210774769666","Bhau#9899","03-Jul-18 05:24 PM","it's giving an error","",""
"388708210774769666","Bhau#9899","03-Jul-18 05:25 PM","I've declared my buffer as char* and dynamically allocated memory","",""
"388708210774769666","Bhau#9899","03-Jul-18 05:26 PM","it says","",""
"388708210774769666","Bhau#9899","03-Jul-18 05:26 PM","recover.c:38:63: error: comparison of constant 255 with expression of type 'char' is always false [-Werror,-Wtautological-constant-out-of-range-compare]
      if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0)","",""
"394107574062022657","dmahajan98#8643","03-Jul-18 10:59 PM","Hey guys, could someone help me out. Here's my code:
https://pastebin.com/ALchT6xN
I'm getting 4/5 for code. Check50 says that the last image is incorrect and I can't figure out the reason behind it.","",""
"394107574062022657","dmahajan98#8643","04-Jul-18 12:06 AM","Is there anyone who can help me with this problem?","",""
"393854278764068875","curiouskiwi#1671","04-Jul-18 12:10 AM","@dmahajan98 look at the timing for when you exit the loop.  After you read the very last block of the file, your `end` will be equal to `block`.  But you don't test that until after you write, so the loop will run one time more than it should, and your last jpg will have an extra duplicate block at the end.","",""
"394107574062022657","dmahajan98#8643","04-Jul-18 01:15 AM","@curiouskiwi What will fread do if the file pointer is already at the end of file? and does fread moves the file pointer after reading or before reading the data?","",""
"393854278764068875","curiouskiwi#1671","04-Jul-18 01:20 AM","fread returns the number of elements read.  If it's at the end of the file and tries to read, it will return 0.  It's common to use a while loop that uses the return value of fread, like `while (fread(...) == bytes_expected)`  That way, if it can't read, the loop simply doesn't run.","",""
"394107574062022657","dmahajan98#8643","04-Jul-18 01:23 AM","And will it move the cursor when it is called or after reading the data from the file?","",""
"393854278764068875","curiouskiwi#1671","04-Jul-18 01:25 AM","aren't they essentially the same?  when you call it, it reads the bytes and moves the cursor.  (you can't access anything *during* that)","",""
"259722254613610496","Randy#3719","06-Jul-18 11:56 AM","is that illegal to define typestruct like ""bmp.h"" in this challenge?","",""
"259722254613610496","Randy#3719","06-Jul-18 11:57 AM","it can not compile when I defined them in other file","",""
"393854278764068875","curiouskiwi#1671","06-Jul-18 01:27 PM","@Randy you should define it in recover.c","",""
"259722254613610496","Randy#3719","06-Jul-18 01:36 PM","thank you","",""
"390274000271704077","Dillon#3924","07-Jul-18 11:58 PM","I'm pretty confused about why my images look strange. Everything seems to go well in debug50, and it creates 23 images.","",""
"390274000271704077","Dillon#3924","07-Jul-18 11:59 PM","I even added fprintf's to make sure that everything happens in the correct order. File is opened, then written to, then closed, then filenumber is incremented, new file is opened, etc.","",""
"390274000271704077","Dillon#3924","08-Jul-18 12:01 AM","","https://cdn.discordapp.com/attachments/395684916056031245/465261040586850304/000.jpg",""
"390274000271704077","Dillon#3924","08-Jul-18 12:01 AM","ü§î","",""
"390274000271704077","Dillon#3924","08-Jul-18 12:45 AM","figured it out. I was reading over the file for no reason... still don't quite understand why I thought I needed to do that","",""
"390274000271704077","Dillon#3924","08-Jul-18 12:45 AM","An extra time*","",""
"152438978354741248","Kendall#1426","08-Jul-18 12:49 AM","A true artist","","üëå (1)"
"445300576385761290","alez#3983","08-Jul-18 12:53 AM","indeed","",""
"445300576385761290","alez#3983","08-Jul-18 12:54 AM","ill pay a dollar for it","",""
"390274000271704077","Dillon#3924","08-Jul-18 01:10 AM","sold","",""
"322023981425229826","WalrusUnicorn#1558","11-Jul-18 11:45 AM","Hello. Is it ok that every time when my program wants to write a block of bytes to jpg file it does all of that routine stuff: opens the file, writes block of 512 bytes to it, closes the file, then again opens it and so on. I guess it's not efficient way. At first I planned that my program would close files only when it finds next JPG signature, but the compiler throws errors in me, when `fopen` and `fclose` are in different scopes. ü§î","",""
"273591620115365898","Ji E Toy#8326","11-Jul-18 02:02 PM","The way I made it, it opens every file only once","",""
"322023981425229826","WalrusUnicorn#1558","11-Jul-18 03:38 PM","I just figured out that my problem was in file declaration. Initially I wrote `FILE* out = fopen(...)` inside the if - else construction and after some googling I moved declaration of file higher, to the beginning of my main function, just like that:`FILE* out;` Then in if-else construction I just use `out = fopen(...)` and all works now!","",""
"273591620115365898","Ji E Toy#8326","11-Jul-18 03:50 PM","Nice work, it's always so good when you get through a bottleneck like that","",""
"322023981425229826","WalrusUnicorn#1558","11-Jul-18 03:57 PM","Yeah, that's true. I'm feeling victorious now üòâ","",""
"273591620115365898","Ji E Toy#8326","11-Jul-18 04:19 PM","On to the next!","",""
"458401406370709524","Kimoss#0245","15-Jul-18 10:54 AM","uint8_t buffer[512];
fread(&buffer, 512, 1, inptr);

I get a segmentation fault at the fread

I have tried using char *buffer , char buffer[512] and even int buffer[512]  ,tried putting and removing the & for all possibilities ,tried restarting the IDE but it always says ""Process received SIGSEGV: Segmentation fault""

Any help?","",""
"416211713554120704","Shogun#1760","15-Jul-18 10:58 AM","@Kimoss  can you download your recover file and upload it to me in a priv message","",""
"416211713554120704","Shogun#1760","15-Jul-18 10:58 AM","i will take a looka t it.","",""
"458401406370709524","Kimoss#0245","15-Jul-18 11:00 AM","ok","",""
"159448318064197633","Ok_Tempest#9189","19-Jul-18 05:28 AM","the pseudocode for this is flying right over my headüòï","",""
"273591620115365898","Ji E Toy#8326","19-Jul-18 09:49 AM","Try to make your own psuedocode for the problem, and see if you can then start to understand the one in the walkthrough","",""
"221266872497078272","SQUISHY TEDDY BEAR#1126","19-Jul-18 10:23 PM","I just finished it as of a few minutes ago. Its not that hard to make but you just need to understand it. For me it just took watching the videos about 3 times then going for a break until it hit me lol","",""
"159448318064197633","Ok_Tempest#9189","19-Jul-18 11:43 PM","@Ji E Toy  @SQUISHY TEDDY BEAR  thanks guys, the tips really helped","",""
"159448318064197633","Ok_Tempest#9189","20-Jul-18 01:10 AM","well, i thought i could write my own pseudocode but i'm just confusing myself even further.üò©","",""
"159448318064197633","Ok_Tempest#9189","20-Jul-18 01:11 AM","even when i finish writing my pseudocode i can't translate it into the proper syntax","",""
"159448318064197633","Ok_Tempest#9189","20-Jul-18 01:12 AM","which is then leading me to go back and edit my pseudocode, only to find that the syntax won't make sense","",""
"159448318064197633","Ok_Tempest#9189","20-Jul-18 01:12 AM","and i just keep rinsing and repeating","",""
"273591620115365898","Ji E Toy#8326","20-Jul-18 08:28 AM","Did you watch the walkthrough? And could you post your psuedocode here?","",""
"371307366937001986","Kaunta#1271","20-Jul-18 06:21 PM","ye the walkthrough is great","",""
"371307366937001986","Kaunta#1271","20-Jul-18 06:21 PM","i just worked through with it and got it after fixing a few bugs","",""
"391897221299306497","Silden#7786","21-Jul-18 12:07 AM","I had something similar, how much are you advancing when you read the input file?","",""
"159448318064197633","Ok_Tempest#9189","21-Jul-18 12:17 AM","including the header it should be reading 512 byte blocks at a time , the pseudocode makes more sense to me today. so now i've moved on to my next problem, coming up with some true/false bools.","",""
"159448318064197633","Ok_Tempest#9189","21-Jul-18 12:36 AM","To clarify, it only advances once per loop in this instance. More than one read would read/skip over some data, since fread progressively moves its pointer for each read.","",""
"159448318064197633","Ok_Tempest#9189","21-Jul-18 01:22 AM","OH MY GOSH, i did it!!!!","",""
"159448318064197633","Ok_Tempest#9189","21-Jul-18 01:33 AM","I deleted the image of my pseudocode. Thanks for all the input guys, the walkthrough was definitely good on the pseudocode, turns out that my brain just needed time to decompress the info.","","üëç (1)"
"152438978354741248","Kendall#1426","21-Jul-18 01:45 AM","Good job! üòÑ","",""
"470318064903389185","Chewy#4008","22-Jul-18 12:01 AM","is anyone else able to open their array of 512 bytes in debugger? when I try and look inside the array using debug50 it crashes...","",""
"470318064903389185","Chewy#4008","24-Jul-18 05:26 PM","I know that each of the first 4 values of the array is 0 from eprintf, data type is in BYTES declared as uint8_t like in bmp.h","",""
"470318064903389185","Chewy#4008","24-Jul-18 05:30 PM","```char *infile = argv[1];
FILE *inptr = fopen(infile, ""r"")
BYTE buffer[512];
fread(buffer, 1, 512, inptr);```
are these correct?","",""
"221266872497078272","SQUISHY TEDDY BEAR#1126","24-Jul-18 07:19 PM","Yup","",""
"221266872497078272","SQUISHY TEDDY BEAR#1126","24-Jul-18 07:19 PM","Looks correct","",""
"221266872497078272","SQUISHY TEDDY BEAR#1126","24-Jul-18 07:20 PM","I'm assuming that extra ``` ` ``` after ```BYTE buffer[512]; ``` is a typo","",""
"470318064903389185","Chewy#4008","24-Jul-18 07:25 PM","yes i fixed it","",""
"470318064903389185","Chewy#4008","24-Jul-18 07:26 PM","is the reason that eprintf gives 0 because the first block of the memory card  is not a jpeg?","",""
"470318064903389185","Chewy#4008","24-Jul-18 07:28 PM","because that would explain a lot","",""
"132439569856462848","wb#1287","24-Jul-18 10:23 PM","yep, you can't assume that .raw file you need to recover start right away with jpeg","",""
"132439569856462848","wb#1287","24-Jul-18 10:24 PM","btw you can open that .raw as hexadecimal so you can see values at the beginning","",""
"470318064903389185","Chewy#4008","25-Jul-18 12:35 AM","my ide crashes when i do that","",""
"470318064903389185","Chewy#4008","25-Jul-18 12:35 AM","nvm it is just very reluctant","",""
"250285201723228161","johanlh#8859","28-Jul-18 07:42 PM","hello","",""
"250285201723228161","johanlh#8859","28-Jul-18 07:43 PM","I am getting a weird behavior from sprintf function","",""
"250285201723228161","johanlh#8859","28-Jul-18 07:44 PM","sprintf(filename, ""%03i.jpg"", counter);","",""
"393854278764068875","curiouskiwi#1671","29-Jul-18 01:44 AM","@johanlh what sort of weird behavior?","",""
"250285201723228161","johanlh#8859","29-Jul-18 06:19 PM","Hi again","",""
"250285201723228161","johanlh#8859","29-Jul-18 06:30 PM","@curiouskiwi  thanks but it seems it got fixed","",""
"250285201723228161","johanlh#8859","29-Jul-18 06:32 PM","In my recover implementation I was using a variable type int to keep track of the consecutive number for the file naming of jpegs found so far","",""
"250285201723228161","johanlh#8859","29-Jul-18 06:33 PM","but everytime I call sprintf the value of my counter was reset to 0, so I couldn't keep track of my naming in my program","",""
"250285201723228161","johanlh#8859","29-Jul-18 06:34 PM","you see there the value of my counter variable set to 1","https://cdn.discordapp.com/attachments/395684916056031245/473151268383358976/unknown.png",""
"250285201723228161","johanlh#8859","29-Jul-18 06:36 PM","but after using sprintf that value becomes 0. So I had to implement another variable called tmp and copy the value from counter to tmp just before to call sprintf, in order to be able to restore the counter, as you can read on my code","",""
"250285201723228161","johanlh#8859","29-Jul-18 06:38 PM","Yesterday I gave up and submitted the code that way, however I tried to replicate the behavior today, but now it is working fine... so it seems it was a bug with the debugger or something.","",""
"250285201723228161","johanlh#8859","29-Jul-18 06:39 PM","My variable ""counter"" was called ""secuence"" before, and it was with that name that I got the strange behavior.","",""
"250285201723228161","johanlh#8859","29-Jul-18 06:54 PM","Ok, I was able to replicate it, I restored the old version of the source code and check what it happens","",""
"250285201723228161","johanlh#8859","29-Jul-18 06:56 PM","here the value of secuence is 1 just before calling the sprintf","https://cdn.discordapp.com/attachments/395684916056031245/473156746685317151/unknown.png",""
"250285201723228161","johanlh#8859","29-Jul-18 06:56 PM","And here, after calling sprintf I got the secuence value reset to zero","https://cdn.discordapp.com/attachments/395684916056031245/473156946929647617/unknown.png",""
"219075227668316161","Mark Cangila#8039","29-Jul-18 09:37 PM","Is there any way to fseek half a byte","",""
"219075227668316161","Mark Cangila#8039","29-Jul-18 09:37 PM","and do negative numbers fseek backward?","",""
"393854278764068875","curiouskiwi#1671","29-Jul-18 11:07 PM","Half a byte? No. Can‚Äôt think of any reason why you‚Äôd want to. Negative? Yes backwards.","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:13 AM","For some reason, there are only 49 pictures according to my program","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:14 AM","does the 50th picture have the 0xff 0xd8 0xff 0xe* string in it?","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:16 AM","how do I check if every value in an array is 0?","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:16 AM","do I have to do it by hand","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:16 AM","wait","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:16 AM","no nevermind","",""
"393854278764068875","curiouskiwi#1671","30-Jul-18 12:19 AM","so you're all set now?","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:49 AM","nope","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:49 AM","My current code","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:49 AM","makes a new file each time it gets to the header","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:49 AM","and it works","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:49 AM","except at one place","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:50 AM","049.jpg doesn't load","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:50 AM","I think it has the starting byte combo","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:50 AM","and I don't know what to do about that except hardcode","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:50 AM","and hardcoding it feels cheaty","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:50 AM","unelegant","",""
"393854278764068875","curiouskiwi#1671","30-Jul-18 12:51 AM","all of the 50 jpgs start with the signature.  You shouldn't need any special handling for it.","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:52 AM","My issue is I think jpg 50 has the signature in it","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:53 AM","or not","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:53 AM","What does ""File size limit exceeded"" mean?","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:53 AM","I think that is my real issue","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 12:54 AM","I'm stumped","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 01:01 AM","I can't get EOF detection working","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 01:01 AM","I have it check for 1 block of zeros on the last pic","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 01:01 AM","but that happens midway","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 01:01 AM","and searching for 2 blocks doesn't work","",""
"393854278764068875","curiouskiwi#1671","30-Jul-18 01:16 AM","Recall the `fread` returns the number of bytes (or blocks) read, so you could use that as your loop condition.","",""
"159448318064197633","Ok_Tempest#9189","30-Jul-18 03:24 AM","I have a question after looking through all my recover code again. Do you really need to do anything to 'discard' the buffer of unused data? Like initialize it to 0? Couldn't it just be left 'as is' as long as it's not used?","",""
"393854278764068875","curiouskiwi#1671","30-Jul-18 03:28 AM","Your buffer is overwritten with each call to fread.  There's no need to discard anything.","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:34 AM","That isn't my issue @curiouskiwi","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:34 AM","I have read 49 pictures","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:34 AM","I want to detect end of file","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:34 AM","My current method","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:34 AM","Is read a block","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:34 AM","And","",""
"393854278764068875","curiouskiwi#1671","30-Jul-18 03:34 AM","so fread will return 0 if it can't read 512 bytes.","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:34 AM","Thing is it can read","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:34 AM","It is all zeros I belive","",""
"393854278764068875","curiouskiwi#1671","30-Jul-18 03:34 AM","if it can read, it's not at the end.","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:35 AM","After the 50 images there are all zeros","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:35 AM","I think","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:35 AM","That is what the page for the challenge seemed to say","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:36 AM","I can't pull it up rn","",""
"393854278764068875","curiouskiwi#1671","30-Jul-18 03:42 AM","but you dont' need to care about those. Just write them to the jpg file.","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:44 AM","File size exceeded error","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:44 AM","I'm stupid","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:44 AM","I misread it","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:44 AM","""So that you don‚Äôt waste time iterating over millions of 0s unnecessarily, I‚Äôve only imaged the first few megabytes of the memory card.¬†"" This means there aren't millions of zeros","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:44 AM","How do I delete a file using C?","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:44 AM","I created a temp useless fille","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:45 AM","Because there are a few zeros at the start ad it makes it easier to do this","",""
"393854278764068875","curiouskiwi#1671","30-Jul-18 03:46 AM","`rm filename`","",""
"393854278764068875","curiouskiwi#1671","30-Jul-18 03:46 AM","what, you mean, in the program itself?","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:46 AM","Yeah","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:47 AM","A quirk of my program","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:47 AM","I need a trash file","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:47 AM","To store the first few trash bytes at the start","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:47 AM","Makes it easier to code","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 03:48 AM","I get a wierd seg fault otherwise","",""
"393854278764068875","curiouskiwi#1671","30-Jul-18 03:52 AM","why are you storing the trash bytes?","",""
"393854278764068875","curiouskiwi#1671","30-Jul-18 03:52 AM","sounds like you've really overcomplicated it.","",""
"393854278764068875","curiouskiwi#1671","30-Jul-18 03:54 AM","the basic pseudocode:   read in 512 bytes into a buffer.  if it's a signature, close any open jpg file, open a new one, write the 512 bytes.  if it's not a signature, if you have an open file, write the 512 bytes.","",""
"393854278764068875","curiouskiwi#1671","30-Jul-18 03:54 AM","close the last file.  that's it.","",""
"159448318064197633","Ok_Tempest#9189","30-Jul-18 04:09 AM","@curiouskiwi Thanks for answering my question!","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 06:21 AM","I tried that","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 06:21 AM","It segfaulted","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 06:21 AM","My current setup is I have a function that takes current file and file number","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 06:22 AM","I run that if I get a signature","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 06:22 AM","Thing is, I need a current file that isn't null","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 06:22 AM","Wait","",""
"219075227668316161","Mark Cangila#8039","30-Jul-18 06:22 AM","Figured it out, nevermind","",""
"463758904585879553","why#8537","01-Aug-18 07:15 PM","heys all, my program seems fine, recovers all the images and everything, but when i check50 it says the final image isnt correct - the only reason in the world i could think this would be is because of these (https://lambda.sx/ao0L.png) little bytes right at the end of it here, which would normally be zero'd","",""
"463758904585879553","why#8537","01-Aug-18 07:16 PM","but i havent a clue where they come from","",""
"463758904585879553","why#8537","01-Aug-18 07:25 PM","nvm, im lowiq","",""
"463758904585879553","why#8537","01-Aug-18 07:32 PM","it was a typo","",""
"397503119019474955","sokoloff06#3061","05-Aug-18 09:09 PM","Hey guys! I started CS50 several years ago and now decided to finish it finally üòÑ  I am currently at recover problem and I managed to get it work locally (all images are created and look fine). however check50 claims XXX.jpg  not found... That's really weird cause it works fine for me. Doe anyone have any ideas? Does check50 use different card.raw file and if yes, what can cause it not to work... thanks for any help in advance!","",""
"397503119019474955","sokoloff06#3061","05-Aug-18 09:11 PM","Everything looks fine for me...","https://cdn.discordapp.com/attachments/395684916056031245/475727554129690624/2018-08-05_21h10_53.png",""
"131804744950743040","HoneyBadger#5685","06-Aug-18 01:59 AM","@sokoloff06 maybe there are some slight issues with the files? the can still read as a jpg but have minor bits wrong or something which triggers check50, I suppose make sure all is correct","",""
"131804744950743040","HoneyBadger#5685","06-Aug-18 02:00 AM","Like for example did you by accident write the last block into a file?","",""
"389987179377721344","XavierX#5513","06-Aug-18 02:21 AM","My code returns all pictures from 000 - 049 (50 total) but it aborts the program and gives me this:
```~/workspace/pset4/recover/ $ ./recover card.raw
*** Error in `./recover': double free or corruption (out): 0x00007ffe76fba7c0 ***
Aborted```","",""
"389987179377721344","XavierX#5513","06-Aug-18 02:23 AM","I cant figure out what is happening at the EOF and I dont know how to use debugger without sitting there for 40 minutes till I get to the EOF","",""
"159448318064197633","Ok_Tempest#9189","06-Aug-18 02:32 AM","@XavierX did you free something twice?","",""
"389987179377721344","XavierX#5513","06-Aug-18 02:33 AM","i've played around with that a little but no I should check that again","",""
"159448318064197633","Ok_Tempest#9189","06-Aug-18 02:33 AM","you only need to free memory that was allocated","",""
"159448318064197633","Ok_Tempest#9189","06-Aug-18 02:34 AM","maybe something got free'd that shouldn't have","",""
"159448318064197633","Ok_Tempest#9189","06-Aug-18 02:34 AM","wait a sec","",""
"159448318064197633","Ok_Tempest#9189","06-Aug-18 02:35 AM","you shouldn't even be worrying about that for this pset...hmmm","",""
"159448318064197633","Ok_Tempest#9189","06-Aug-18 02:35 AM","i wonder","",""
"389987179377721344","XavierX#5513","06-Aug-18 02:35 AM","oh my gosh... I've sat here the whole stinking day to figure this out.... that was the issue","",""
"389987179377721344","XavierX#5513","06-Aug-18 02:35 AM","no errors and all the pics, thank you Dalmascan!","",""
"159448318064197633","Ok_Tempest#9189","06-Aug-18 02:35 AM","glad to help","",""
"389987179377721344","XavierX#5513","06-Aug-18 02:41 AM","I ran this a few hours ago and it worked fine... or maybe that was yesterday...","https://cdn.discordapp.com/attachments/395684916056031245/475810568960475146/ProblemInHappyTown.jpg",""
"389987179377721344","XavierX#5513","06-Aug-18 03:11 AM","I'm pretty sure me not being able to ""check"" or ""submit"" ""recover"" has to do with the ""file"" that does not exist when I try to delete it and it shows up everytime I run my recover code. Getting out of IDE and updating did not help. Guess I will give it a couple days but otherwise has anyone seen this problem? I would like to be able to submit my code. I emailed the system admin as instructed and got an email back saying the email address doesn't exist...","https://cdn.discordapp.com/attachments/395684916056031245/475818160503914516/ProblemInHappyTown2.jpg",""
"159448318064197633","Ok_Tempest#9189","06-Aug-18 03:22 AM","it seems like your recover.c is creating it","",""
"159448318064197633","Ok_Tempest#9189","06-Aug-18 03:23 AM","is it being included as part of the submission? and if it isnt then that might mean that your recover.c is creating the file inside of check50 and messing it up","",""
"159448318064197633","Ok_Tempest#9189","06-Aug-18 03:24 AM","as for it not being able to be deleted, it might be that it's not closed properly. might be an open ended jpg","",""
"397503119019474955","sokoloff06#3061","06-Aug-18 10:36 AM","@HoneyBadger hm, I actually really do write the last block to the last, didn't think it can be an issue. Will double check, thanks for a hint! But not sure if that's really related to the problem, because it says that even 000.jpg cannot be found :(","",""
"131804744950743040","HoneyBadger#5685","06-Aug-18 10:38 AM","¬Ø\_(„ÉÑ)_/¬Ø","",""
"393854278764068875","curiouskiwi#1671","06-Aug-18 10:40 AM","@sokoloff06 I'd suggest deleting all the jpg files in your folder and then running recover again. It may be that your latest version isn't actually working, but the jpgs already there are hiding that.","",""
"397503119019474955","sokoloff06#3061","06-Aug-18 10:42 AM","@curiouskiwi Thanks for the suggestion! also do that every time., Though :D","",""
"393854278764068875","curiouskiwi#1671","06-Aug-18 10:42 AM","hmm.  are your files named 000.jpg through 049.jpg?","",""
"393854278764068875","curiouskiwi#1671","06-Aug-18 10:43 AM","@sokoloff06 ^^","",""
"397503119019474955","sokoloff06#3061","06-Aug-18 10:45 AM","@curiouskiwi OMG! You are genius! üòÑ","",""
"397503119019474955","sokoloff06#3061","06-Aug-18 10:45 AM","I named them as 'XXX.jpEg'","",""
"397503119019474955","sokoloff06#3061","06-Aug-18 10:45 AM","not jpg üòÑ","","üòÅ (1)"
"397503119019474955","sokoloff06#3061","06-Aug-18 10:47 AM","@curiouskiwi testing now... ü•Å","",""
"397503119019474955","sokoloff06#3061","06-Aug-18 10:48 AM","@curiouskiwi Yay! Only last image has issues now which I believe related to what @HoneyBadger mentioned. Thank you so much guys, I believe I am good from now üòÉ","",""
"131804744950743040","HoneyBadger#5685","06-Aug-18 10:49 AM","congrats, you are now magic programmer man","",""
"397503119019474955","sokoloff06#3061","06-Aug-18 10:53 AM","@HoneyBadger I am working on it üòÉ","",""
"179764389673566208","Pluto#1506","06-Aug-18 10:54 AM","could someone point me in the right direction? Im able to create 50 photos but they are all blank and im unsure whats causing it.  It looks like this. https://i.imgur.com/EQlnYUv.png","",""
"131804744950743040","HoneyBadger#5685","06-Aug-18 10:54 AM","bad content prob","",""
"131804744950743040","HoneyBadger#5685","06-Aug-18 10:54 AM","make sure you are writing the right bytes","",""
"397503119019474955","sokoloff06#3061","06-Aug-18 10:55 AM","@Pluto meaning that you open new files correctly but after the file is opened it seems you do not actually write content into it, only header (UPD: first block, not header as Fancy mentions below is more correct)","",""
"131804744950743040","HoneyBadger#5685","06-Aug-18 10:55 AM","maybe you are only writing the first block and not all the others?","",""
"179764389673566208","Pluto#1506","06-Aug-18 11:00 AM","Well im freading from infile(to buffer) and fwriting from buffer(to outfile) and it should include all of the bytes? Heres my code rn if you'll have a look. https://github.com/twotonerebel3/stuff/blob/master/recover.c","",""
"393854278764068875","curiouskiwi#1671","06-Aug-18 11:02 AM","@Pluto you are only writing the 512 bytes in the signature block","",""
"397503119019474955","sokoloff06#3061","06-Aug-18 11:03 AM","@Pluto lines 24-33: it seems you only write into the file if the current block is the beginning of the image. You need to add a case, when it's not a beginning and you continue writing to the file that was already opened","",""
"179764389673566208","Pluto#1506","06-Aug-18 11:10 AM","I think I understand now.  So if im understanding correctly, the first 512 bytes is not the full image and instead header information. Instead I would need to continue to write until the end of jpg file is detected.","",""
"179764389673566208","Pluto#1506","06-Aug-18 11:11 AM","Thank you for your help, I will continue to work on it.","",""
"397503119019474955","sokoloff06#3061","06-Aug-18 11:12 AM","@Pluto Correct! And in this Problem set end of jpg file is actually right before the beginning of the next file","",""
"393854278764068875","curiouskiwi#1671","06-Aug-18 11:16 AM","no need to check for the 'end'...  you can assume the end of the jpg file is when you hit the next one.","",""
"470930030764228618","Marcel Ferrari#0967","12-Aug-18 12:38 AM","There is a secret surprise that has to be discovered in this problem set üòÉ","",""
"232215051052908545","QParticle#9469","14-Aug-18 07:38 AM","```shellsession
~/workspace/pset4/recover/ $ ./recover card.raw
recover: malloc.c:2374: sysmalloc: Assertion `(old_top == (((mbinptr) (((char *) &((av)->bins[((1) - 1) * 2])) - __builtin_offsetof (struct malloc_chunk, fd)))) && old_size == 0) || ((unsigned long) (old_size) >= (unsigned long)((((__builtin_offsetof (struct malloc_chunk, fd_nextsize))+((2 *(sizeof(size_t))) - 1)) & ~((2 *(sizeof(size_t))) - 1))) && ((old_top)->size & 0x1) && ((unsigned long) old_end & pagemask) == 0)' failed.```","",""
"232215051052908545","QParticle#9469","14-Aug-18 07:39 AM","why is my memory leaking and idk how to prevrent that from happening actualy","",""
"232215051052908545","QParticle#9469","14-Aug-18 07:59 AM","I tried to use `free` and now I'm getting a segmentation fault","",""
"232215051052908545","QParticle#9469","14-Aug-18 07:59 AM","I'm at a loss can anyone take a look thanks","",""
"232215051052908545","QParticle#9469","14-Aug-18 07:59 AM","please help me I don't understand why im getting a segmentagtion fault","",""
"393854278764068875","curiouskiwi#1671","14-Aug-18 08:04 AM","`char *filename="""";`  you've declared a string literal.  By definition, that is read-only, so if you try to `sprintf` to it, you'll segfault.  maybe you meant a char array instead?  one that is big enough to hold the filename (plus the ending null char)?","",""
"232215051052908545","QParticle#9469","14-Aug-18 09:21 AM","Hmm, I changed it to `char filename[8]=""000.jpg""` but I'm still getting a segmentation fault","",""
"232215051052908545","QParticle#9469","14-Aug-18 09:21 AM","according to `debug50` the segmentation fault occurs when I call `free(buffer)` at the start of the do-while loop","",""
"393854278764068875","curiouskiwi#1671","14-Aug-18 09:24 AM","I'd suggest declaring buffer as an array of bytes and do away with needing malloc/free at all.  There's no need to use malloc in this problem since you know the size of the array in advance.","",""
"393854278764068875","curiouskiwi#1671","14-Aug-18 09:26 AM","You are freading into buffer (in your while condition) and then immediately freeing it and mallocing a new one, so you're throwing away those bytes each time.  You only need one buffer, not a new one each time.","",""
"232215051052908545","QParticle#9469","14-Aug-18 09:30 AM","that's true, I do not know why I did not consider that","",""
"232215051052908545","QParticle#9469","14-Aug-18 09:42 AM","With this code, it is managing to create an image, but only one image called 002.jpg which is blank.","",""
"232215051052908545","QParticle#9469","14-Aug-18 09:43 AM","wait im an idiot","",""
"232215051052908545","QParticle#9469","14-Aug-18 09:44 AM","ok","",""
"232215051052908545","QParticle#9469","14-Aug-18 09:45 AM","this code creates 23 files and they're all white although they have varying dimensions","",""
"393854278764068875","curiouskiwi#1671","14-Aug-18 09:57 AM","you are still freading twice in a row, throwing out every other 512 bytes.  So you're missing some jpg headers.  Secondly, you are only writing the 512 bytes that are a header.  You need to write *all* bytes from that point until you hit the next header.","",""
"393854278764068875","curiouskiwi#1671","14-Aug-18 09:58 AM","(also, I deleted your code to avoid spoilers for others).  Feel free to send me a private message if you are still stuck.  @QParticle","",""
"232215051052908545","QParticle#9469","14-Aug-18 10:01 AM","oh hmm I must have misunderstood what you said earlier. I'll look into that ty","",""
"232215051052908545","QParticle#9469","14-Aug-18 10:32 AM","@curiouskiwi I got it working.","",""
"232215051052908545","QParticle#9469","14-Aug-18 10:32 AM","Thanks for all the help","",""
"232215051052908545","QParticle#9469","14-Aug-18 10:32 AM","Not only was I freading twice, but I was also opening it every time I looped, so the position kept getting reset","",""
"232215051052908545","QParticle#9469","14-Aug-18 10:32 AM","that was the real problem","",""
"393854278764068875","curiouskiwi#1671","14-Aug-18 10:35 AM","Glad you got it working. üòÉ","",""
"232215051052908545","QParticle#9469","14-Aug-18 10:47 AM","it doesnt pass check50 though","",""
"232215051052908545","QParticle#9469","14-Aug-18 10:47 AM","it says the final image doesn't match expectations","",""
"232215051052908545","QParticle#9469","14-Aug-18 10:47 AM","I'll probably end up figuring it out but idk right now","",""
"232215051052908545","QParticle#9469","14-Aug-18 10:48 AM","image 49 definitely exists and its definitely an image","",""
"232215051052908545","QParticle#9469","14-Aug-18 10:50 AM","049 is 34816 bytes for me","",""
"232215051052908545","QParticle#9469","14-Aug-18 10:53 AM","I think I see the problem","",""
"232215051052908545","QParticle#9469","14-Aug-18 10:54 AM","ok it passed check50 we yeet on em","",""
"113004836890378240","AstroCode#9853","15-Aug-18 08:14 AM","Do I have to do anything special to the data I get, or do I just find it and then write it to another file?","",""
"113004836890378240","AstroCode#9853","15-Aug-18 08:17 AM","Somehow I got this link out of the data and now I'm very confused. cs50.ly/surprise","",""
"393854278764068875","curiouskiwi#1671","15-Aug-18 08:50 AM","you read the file until you find a signature block, then you write/read to a new jpg until you find the next signature, and repeat until the end of the file.","",""
"113004836890378240","AstroCode#9853","15-Aug-18 09:12 AM","Recovered all except #49 D:","",""
"113004836890378240","AstroCode#9853","15-Aug-18 09:14 AM","It's definitely there tho.","https://cdn.discordapp.com/attachments/395684916056031245/479170880937918464/unknown.png",""
"113004836890378240","AstroCode#9853","15-Aug-18 09:14 AM","Doesn't pass check50.","",""
"232215051052908545","QParticle#9469","15-Aug-18 09:15 AM","I had the same issue","",""
"113004836890378240","AstroCode#9853","15-Aug-18 09:15 AM","How did you resolve it?","",""
"232215051052908545","QParticle#9469","15-Aug-18 09:15 AM","just a hint: my correct image was 34304 bytes large","",""
"113004836890378240","AstroCode#9853","15-Aug-18 09:16 AM","Mine is 34.00 kb","",""
"232215051052908545","QParticle#9469","15-Aug-18 09:16 AM","really","",""
"232215051052908545","QParticle#9469","15-Aug-18 09:16 AM","can you use ls -la","",""
"232215051052908545","QParticle#9469","15-Aug-18 09:16 AM","in the CL","",""
"113004836890378240","AstroCode#9853","15-Aug-18 09:16 AM","It's 34816 bytes","",""
"113004836890378240","AstroCode#9853","15-Aug-18 09:16 AM","There's something extra in there.","",""
"232215051052908545","QParticle#9469","15-Aug-18 09:17 AM","34304 is the correct size","",""
"113004836890378240","AstroCode#9853","15-Aug-18 09:17 AM","Actually, 512 bytes extra","",""
"232215051052908545","QParticle#9469","15-Aug-18 09:17 AM","how many more bytes do you have than is necessary?","",""
"113004836890378240","AstroCode#9853","15-Aug-18 09:17 AM","Exactly 512","",""
"232215051052908545","QParticle#9469","15-Aug-18 09:19 AM","well somewhere you've got an extra block","",""
"113004836890378240","AstroCode#9853","15-Aug-18 10:20 AM","I literally didn't change a thing, but it works now.","",""
"113004836890378240","AstroCode#9853","15-Aug-18 10:20 AM","wat","",""
"232215051052908545","QParticle#9469","15-Aug-18 08:17 PM","Lol","",""
"136081839474343936","3vofnGGo#5368","20-Aug-18 12:14 AM","Im having a problem with sprintf","",""
"136081839474343936","3vofnGGo#5368","20-Aug-18 12:14 AM","Somehow it stops `blockcounter++;`","",""
"136081839474343936","3vofnGGo#5368","20-Aug-18 12:18 AM","fixed by increasing the array size to 8","",""
"393854278764068875","curiouskiwi#1671","20-Aug-18 12:20 AM","If your array size was less than 8, you didn't have room for the null char that sprintf puts at the end of the string.  As a consequence, it probably overwrote the memory where you were storing `blockcounter`","",""
"136081839474343936","3vofnGGo#5368","20-Aug-18 12:32 AM","I always forget about nul char","",""
"352995141721653248","JamesWong#0436","20-Aug-18 05:43 AM","Hi everyone, just a small question regarding sprintf function. 

[REMOVED CODE]

Now I obtain an error on the sprintf line, which is , ""recover.c:46:44: error: format specifies type 'void *' but the argument has type 'int' [-Werror,-Wformat]           sprintf(image, ""%###.jpg"", file_counter++);
~~~~~~~    ^~~~~~~~~~~~~~                           %d"". I'm not too sure what to do as I think I declared the ""image"" and all that, not as an integar","",""
"393854278764068875","curiouskiwi#1671","20-Aug-18 05:45 AM","the first argument to sprintf must be a string (a char *)  (ie, the filename that you will then open with fopen)","",""
"393854278764068875","curiouskiwi#1671","20-Aug-18 05:47 AM","so you need to declare a filename that is a char array large enough to hold the chars you want in the string (eg, ""000.jpg"" which is 8 chars (including the null char at the end), so filename needs to be able to hold 8 chars.)","",""
"352995141721653248","JamesWong#0436","20-Aug-18 05:48 AM","Ooooh right right, I see what I should be doing now","",""
"352995141721653248","JamesWong#0436","20-Aug-18 05:48 AM","OK, I've definitely got a better idea now, cheers kiwi!","",""
"480317354501341184","NAmbry#2791","26-Aug-18 06:29 PM","question : why does char *buffer[512] work but not char *buffer = malloc(512 * sizeof(char)) ?","",""
"480317354501341184","NAmbry#2791","26-Aug-18 06:30 PM","I was getting the error earlier that the second causes a segmentation fault but can't figure out why...","",""
"480317354501341184","NAmbry#2791","26-Aug-18 06:35 PM","wait 512 * sizeof(char) is way more than 512 bytes because char is 8 bytes long","",""
"480317354501341184","NAmbry#2791","26-Aug-18 07:10 PM","got it !","",""
"480317354501341184","NAmbry#2791","26-Aug-18 07:10 PM","recover done üòÉ","",""
"393854278764068875","curiouskiwi#1671","26-Aug-18 11:22 PM","a char is one byte","",""
"480317354501341184","NAmbry#2791","27-Aug-18 12:11 AM","owh","",""
"480317354501341184","NAmbry#2791","27-Aug-18 12:12 AM","ok","",""
"480317354501341184","NAmbry#2791","27-Aug-18 12:29 AM","tried it and worked","",""
"480317354501341184","NAmbry#2791","27-Aug-18 12:29 AM","thanks","",""
"381753299273252865","GriseldaBlanco#5580","29-Aug-18 07:02 AM","my program works","",""
"381753299273252865","GriseldaBlanco#5580","29-Aug-18 07:02 AM","but check50","",""
"381753299273252865","GriseldaBlanco#5580","29-Aug-18 07:02 AM","is convinced its returning 1 instead of 0","",""
"381753299273252865","GriseldaBlanco#5580","29-Aug-18 07:03 AM","anyone mind having a gander","",""
"393854278764068875","curiouskiwi#1671","29-Aug-18 07:07 AM","@GriseldaBlanco do you mean it's not compiling? or it's failing some tests?","",""
"381753299273252865","GriseldaBlanco#5580","29-Aug-18 07:08 AM","it compiles","",""
"381753299273252865","GriseldaBlanco#5580","29-Aug-18 07:09 AM","passes all tests","",""
"381753299273252865","GriseldaBlanco#5580","29-Aug-18 07:09 AM","üò¶ recover.c compiles.
    expected exit code 0, not 1","",""
"381753299273252865","GriseldaBlanco#5580","29-Aug-18 07:09 AM","but this thing right here","",""
"381753299273252865","GriseldaBlanco#5580","29-Aug-18 07:09 AM","i tested the echo and it returns the right codes when I do it","",""
"393854278764068875","curiouskiwi#1671","29-Aug-18 07:10 AM","so that means it's not compiling for check50.","",""
"393854278764068875","curiouskiwi#1671","29-Aug-18 07:11 AM","did you add any extra files that check50 doesn't know about?  check50 needs to able to compile with just `recover.c`","",""
"381753299273252865","GriseldaBlanco#5580","29-Aug-18 07:11 AM","bmp.h is in the same folder","",""
"381753299273252865","GriseldaBlanco#5580","29-Aug-18 07:11 AM","and the 50 jpegs","",""
"393854278764068875","curiouskiwi#1671","29-Aug-18 07:12 AM","so check50 doesn't know about bmp.h   Whatever you are using from that should be put into recover.c","",""
"393854278764068875","curiouskiwi#1671","29-Aug-18 07:12 AM","(I'm guessing it's the typedef for BYTE?)","",""
"381753299273252865","GriseldaBlanco#5580","29-Aug-18 07:12 AM","typedef uint8_t  BYTE;","",""
"381753299273252865","GriseldaBlanco#5580","29-Aug-18 07:13 AM","yeh so i can just dump that in","",""
"381753299273252865","GriseldaBlanco#5580","29-Aug-18 07:15 AM","so for future reference when it errors at that point","",""
"381753299273252865","GriseldaBlanco#5580","29-Aug-18 07:15 AM","it means failed compilation","",""
"381753299273252865","GriseldaBlanco#5580","29-Aug-18 07:15 AM","not compilation is fine something else failed","",""
"393854278764068875","curiouskiwi#1671","29-Aug-18 07:27 AM","the test was ""recover.c compiles"" and the frown means that test failed.","",""
"486134760456978432","-][-M-][-#3424","03-Sep-18 02:43 PM","hyy","",""
"342416970009804810","Demi-hero#5106","06-Sep-18 07:51 PM","Bit of a convoluted question but lets see if I can word this one properly 

In one part of an if/else loop I open a file but don't close it before that particular condition completes. How do I access it to close it in another part of the same if/else loop. An example in psudo code below  
```If condition 1 
    open up file 
    write in to open file 
else If condition 2 
   close currently open file 
   open up new file  
   write to open file```","",""
"480317354501341184","NAmbry#2791","06-Sep-18 08:17 PM","@Demi-hero  use a while loop ?","",""
"342416970009804810","Demi-hero#5106","06-Sep-18 08:34 PM","I am currently trying the shut when done with that part of the loop and just append method","",""
"342416970009804810","Demi-hero#5106","06-Sep-18 08:42 PM","The whole thing is in a while loop thou","",""
"342416970009804810","Demi-hero#5106","06-Sep-18 08:42 PM","but it seems like my logic for comparing the first 4 bites is wrong.","",""
"101756747542171648","Mito#5970","06-Sep-18 11:18 PM","I'm suffering a Segmentation Fault and I'm not 100% sure what's happening. It appears to be happening when I try to write my buffer to my image file.","",""
"101756747542171648","Mito#5970","06-Sep-18 11:19 PM","I can send my code.","",""
"393854278764068875","curiouskiwi#1671","06-Sep-18 11:37 PM","@Demi-hero declare the `FILE *` before the loop, then it will be accessible.","",""
"393854278764068875","curiouskiwi#1671","06-Sep-18 11:38 PM","@Mito are you checking that your output file was successfully opened?","",""
"393854278764068875","curiouskiwi#1671","06-Sep-18 11:42 PM","and you have no `fwrite`s that can happen without this check?","",""
"101756747542171648","Mito#5970","06-Sep-18 11:43 PM","this is in a if statement that checks for the header, then my only `fwrite`s are in a do-while loop that occurs after this if statement","",""
"101756747542171648","Mito#5970","06-Sep-18 11:45 PM","There's the fwrite line","",""
"393854278764068875","curiouskiwi#1671","06-Sep-18 11:49 PM","are you sure it's segfaulting on the fwrite and not before?  how have you declared `filename`?","",""
"393854278764068875","curiouskiwi#1671","06-Sep-18 11:49 PM","is it a char array large enough to hold 8 chars?","",""
"393854278764068875","curiouskiwi#1671","06-Sep-18 11:50 PM","can you send me your complete code privately ?","",""
"101756747542171648","Mito#5970","06-Sep-18 11:50 PM","I've also tried char filename[8] and char *filename = malloc(8);","",""
"393854278764068875","curiouskiwi#1671","06-Sep-18 11:51 PM","(I'm going to delete all of your code snippets here, because otherwise it ends up being almost the entire solution) üòâ","",""
"101756747542171648","Mito#5970","06-Sep-18 11:51 PM","Thanks!","",""
"342416970009804810","Demi-hero#5106","07-Sep-18 12:34 AM","If you read in the 512 bites straight in to an array are we meant to read them in as an int? When I try and compare the first 4 bytes I get nothing = the conditions.","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 12:39 AM","512 bytes, not ints","",""
"342416970009804810","Demi-hero#5106","07-Sep-18 12:41 AM","Ahhhh that is definitely a good place to start fixing it.  thanks :)","",""
"211711548949921794","ToastyTempura#4800","07-Sep-18 03:10 AM","int buffer[512];

    //reads first 512 byte
    fread(buffer, 1, 512, inptr);

    //gets to first jpeg
    while (buffer[0] != 0xff && buffer[1] != 0xd8 && buffer[2] != 0xff && (buffer[3] & 0xf0) != 0xe0)
    {
        fread(buffer, 1, 512, inptr);
    }

    printf(buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0 ? ""true\n"" : ""false\n"");","",""
"211711548949921794","ToastyTempura#4800","07-Sep-18 03:11 AM","why does this print false when even though it exits the while loop?","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 03:13 AM","why is your buffer of ints?  you want 512 bytes  (ie, an unsigned 8-bit type )","",""
"211711548949921794","ToastyTempura#4800","07-Sep-18 03:13 AM","how would I declare buffer to do that?","",""
"211711548949921794","ToastyTempura#4800","07-Sep-18 03:14 AM","typedef uint8_t  BYTE;?","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 03:14 AM","that would work.  and then you'd use `BYTE buffer[512];`","",""
"211711548949921794","ToastyTempura#4800","07-Sep-18 03:15 AM","recover.c:6:9: error: unknown type name 'uint8_t'
typedef uint8_t  BYTE;
        ^","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 03:15 AM","also, as for your question ...  `A == B && C == D`  is not reversed by `A!=B && C!=D`","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 03:16 AM","did you include the library where uint8_t is declared?","",""
"211711548949921794","ToastyTempura#4800","07-Sep-18 03:16 AM","is that #include <stdint.h>","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 03:16 AM","yes","",""
"211711548949921794","ToastyTempura#4800","07-Sep-18 03:16 AM","ok nope","",""
"211711548949921794","ToastyTempura#4800","07-Sep-18 03:17 AM","""also, as for your question ...  A == B && C == D  is not reversed by A!=B && C!=D(edited)
did you include the library where uint8_t is declared?""","",""
"211711548949921794","ToastyTempura#4800","07-Sep-18 03:18 AM","what are you asking here? in the while loop I want to fread until it finds a jpeg, therefore the while would have to check for the opposite","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 03:19 AM","yes, but that's not the opposite","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 03:20 AM","""not A and not B"" isn't the opposite of ""A and B""","",""
"211711548949921794","ToastyTempura#4800","07-Sep-18 03:21 AM","!(buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0)","",""
"211711548949921794","ToastyTempura#4800","07-Sep-18 03:21 AM","does this work in c then?","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 03:23 AM","yes, or you could use `buffer[0] != 0xff || ...`  (or instead of and)","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 03:23 AM","saying all that, there is an easier way to structure your code that you don't need to worry about the NOT condition at all.","",""
"211711548949921794","ToastyTempura#4800","07-Sep-18 03:30 AM","how? by running through the whole card.raw in one while loop that will go through the garbage before the first jpeg, and doing the writing into new image files in the same loop, instead of going through the garbage first then going into another loop to write like I was originally","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 03:33 AM","one loop that reads the block into the buffer.  Then deal with each block. If it's not a signature and you don't have an open jpg file, then you just loop around.","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 03:33 AM","if it is a signature, you close any open jpg, open a new one, and write to it.  and loop around.","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 03:34 AM","if it's not a signature and you do have an open jpg, write the block to it.","",""
"211711548949921794","ToastyTempura#4800","07-Sep-18 03:34 AM","okey so if I do it that way, how to I check the beginning of a block using buffer?","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 03:35 AM","with an if statement","",""
"211711548949921794","ToastyTempura#4800","07-Sep-18 03:35 AM","will it be different then buffer[0]","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 03:35 AM","Zamyla gives you this in the walkthrough.","",""
"211711548949921794","ToastyTempura#4800","07-Sep-18 03:36 AM","ya, thanks","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 03:36 AM","https://imgur.com/EMqw2hW","",""
"211711548949921794","ToastyTempura#4800","07-Sep-18 03:40 AM","I guess what I was trying to ask was if I do it the way Zamyla says do I read 512 bytes from one block or 1 byte from 512 blocks?","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 03:41 AM","do you mean in your fread call?  you can do fread(...,1, 512 ...)  or fread(..., 512, 1, ...)  and you'd end up with the same 512 bytes in your buffer.  The only difference is the the value that fread will return (which you can use as your while condition)","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 03:42 AM","so if you said `fread(buffer,512,1,file)`  then it would return 1 if it read all 512 bytes.","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 03:44 AM","so you can use that in your overall while loop   (while it is 1)","",""
"211711548949921794","ToastyTempura#4800","07-Sep-18 03:48 AM","ooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooo, I get it now","",""
"211711548949921794","ToastyTempura#4800","07-Sep-18 05:55 AM","Where should I look when I get a Segmentation fault?","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 06:24 AM","`char *filename = ""000"";` would do it.  You've declared a read-only string and then later, you try to sprintf to it.  You need a char array that's large enough to hold 8 chars:  `'0' '0' '0' '.' 'j' 'p'  'g' '\n'`","",""
"393854278764068875","curiouskiwi#1671","07-Sep-18 06:24 AM","@ToastyTempura ^^","",""
"211711548949921794","ToastyTempura#4800","07-Sep-18 06:35 AM","thanks","",""
"342416970009804810","Demi-hero#5106","07-Sep-18 11:04 AM","Would someone be able to explain why the last part of the logic works in the if statement give in walkthrough?","",""
"480317354501341184","NAmbry#2791","07-Sep-18 11:50 AM","@Demi-hero what was it about again ?","",""
"480317354501341184","NAmbry#2791","07-Sep-18 11:51 AM","Owh yes : it is test which is done at the binary level","",""
"480317354501341184","NAmbry#2791","07-Sep-18 11:52 AM","Think about it as a logic gate","",""
"480317354501341184","NAmbry#2791","07-Sep-18 11:52 AM","(AND, OR, NOT, XOR etc)","",""
"480317354501341184","NAmbry#2791","07-Sep-18 11:54 AM","Here the test is written in a way that only the right sequence of bits returns true when passed through the logic gate with the right hand side of the equation","",""
"480317354501341184","NAmbry#2791","07-Sep-18 11:55 AM","For instance 1010 OR 1000 gives 1010","",""
"480317354501341184","NAmbry#2791","07-Sep-18 11:55 AM","1010 XOR 1000 gives 0010","",""
"342416970009804810","Demi-hero#5106","07-Sep-18 11:57 AM","oh so the (x & y) == z is just how you write xor gates in c?","",""
"342416970009804810","Demi-hero#5106","07-Sep-18 12:00 PM","so long as buffer 3 spits out not an f it will register as true?","",""
"480317354501341184","NAmbry#2791","07-Sep-18 12:33 PM","@Demi-hero I think it is an AND gate in this case","",""
"480317354501341184","NAmbry#2791","07-Sep-18 12:33 PM","So for instance 1010 AND 1000 gives 1000","",""
"342416970009804810","Demi-hero#5106","07-Sep-18 12:45 PM","I think I am just being dense on this one","",""
"342416970009804810","Demi-hero#5106","07-Sep-18 12:52 PM","Also thought you should all enjoy the cold dead eye my code just gave me for an image","https://cdn.discordapp.com/attachments/395684916056031245/487560822374006785/unknown.png",""
"480317354501341184","NAmbry#2791","07-Sep-18 12:56 PM","Mouhaha. I couldn't even open the files when my code was still broken, so the fact you still get something is cool üòÉ","",""
"342416970009804810","Demi-hero#5106","07-Sep-18 12:58 PM","I am like 90% sure its a read error given the displacement of the image. And the fact i get 26 of them","",""
"342416970009804810","Demi-hero#5106","07-Sep-18 12:58 PM","but ü§∑ I shall poke it some more and then probably reapear","",""
"342416970009804810","Demi-hero#5106","07-Sep-18 01:36 PM","As I said I will reappear victorious","https://cdn.discordapp.com/attachments/395684916056031245/487571849144696842/unknown.png",""
"415206152968732684","Ivanhoe#8977","07-Sep-18 07:50 PM","error: incompatible pointer types passing 'char *[3]' to
      parameter of type 'FILE *' (aka 'struct _IO_FILE *')
      [-Werror,-Wincompatible-pointer-types]
                    fclose(filename);
Can someone explain to me what this means?","",""
"480317354501341184","NAmbry#2791","07-Sep-18 08:00 PM","@Ivanhoe You are trying to pass an array of chars as a parameter to a function that needs a  variable of type file","",""
"415206152968732684","Ivanhoe#8977","07-Sep-18 08:21 PM","oooh ok that makes sense, thank you!","",""
"415206152968732684","Ivanhoe#8977","08-Sep-18 10:13 AM","so can an array serve as a buffer for the fread() function?","",""
"415206152968732684","Ivanhoe#8977","08-Sep-18 10:13 AM","or is it better to use byte* data  = malloc(512)?","",""
"415206152968732684","Ivanhoe#8977","08-Sep-18 10:15 AM","or is it char* since char is 1 byte?","",""
"480317354501341184","NAmbry#2791","08-Sep-18 10:53 AM","You can use char or int","",""
"480317354501341184","NAmbry#2791","08-Sep-18 10:53 AM","I personally used a pointer","",""
"415206152968732684","Ivanhoe#8977","08-Sep-18 10:57 AM","how do you only read 2 bytes from that data?","",""
"415206152968732684","Ivanhoe#8977","08-Sep-18 10:57 AM","1 byte*","",""
"415206152968732684","Ivanhoe#8977","08-Sep-18 11:03 AM","I tried using the bmp.h header file","",""
"415206152968732684","Ivanhoe#8977","08-Sep-18 11:04 AM","but I started getting a message from check50 ""expected exit code0, not 1""","",""
"415206152968732684","Ivanhoe#8977","08-Sep-18 11:04 AM","and my code does not return a value of 1","",""
"480317354501341184","NAmbry#2791","08-Sep-18 11:08 AM","if you want to only read 2 bytes you have to change the value of your fread function","",""
"415206152968732684","Ivanhoe#8977","08-Sep-18 11:12 AM","no I mean every unit of my buffer should have 2 bytes","",""
"415206152968732684","Ivanhoe#8977","08-Sep-18 11:12 AM","so I can compare it with the hex values","",""
"415206152968732684","Ivanhoe#8977","08-Sep-18 11:13 AM","I tried using  BYTE from bmp.h","",""
"415206152968732684","Ivanhoe#8977","08-Sep-18 11:13 AM","but for some reason it doesn't work","",""
"415206152968732684","Ivanhoe#8977","08-Sep-18 11:25 AM","it worked i defined BYTE in my recover.c","",""
"415206152968732684","Ivanhoe#8977","08-Sep-18 11:25 AM","it doesn't work logically however","",""
"415206152968732684","Ivanhoe#8977","08-Sep-18 11:26 AM","I ran the debugger and the code doesn't actually go past this if statement ever","",""
"415206152968732684","Ivanhoe#8977","08-Sep-18 11:26 AM","BYTE info[512];
    int count = 0; //number of JPEGs found
    bool endofimg = false;
    int chunks=512;

    while(chunks==512){

        if(!endofimg)
            chunks = fread(info, 1, 512, inptr);
        if(info[0] == 0xff && info[1] == 0xd8 && info[2] == 0xff && (info[3] & 0xf0) == 0xe0)","",""
"415206152968732684","Ivanhoe#8977","08-Sep-18 11:26 AM","do you see the problem?","",""
"415206152968732684","Ivanhoe#8977","08-Sep-18 11:58 AM","my buffer is info not chunks","",""
"393854278764068875","curiouskiwi#1671","09-Sep-18 12:43 AM","I don't see any problem.   When you say ""ever"" do you mean after hundreds of loops? the first jpg isn't at the beginning of the raw file.","",""
"415206152968732684","Ivanhoe#8977","10-Sep-18 02:57 PM","I've set the break point inside the if statement","",""
"415206152968732684","Ivanhoe#8977","10-Sep-18 02:57 PM","and whenever I dun the debugger it doesn't stop","",""
"393854278764068875","curiouskiwi#1671","10-Sep-18 11:30 PM","I'm confused.  You first said, ""it doesn't go past it"" and now you say ""it doesn't stop"".","",""
"385299646421139457","kenterminator#7274","11-Sep-18 11:20 AM","when going through the debugger with while fread(jpeg_block, sizeof(jpeg_block), 1, inptr) == 512) to check if the BYTE jpeg_block[512] indeed has 512 counts of size 1, I noted that the jpeg_block indeed had 512 entries, but it escaped the while loop into the end of the code","",""
"385299646421139457","kenterminator#7274","11-Sep-18 11:20 AM","is there something wrong with my logic?","",""
"385299646421139457","kenterminator#7274","11-Sep-18 11:21 AM","I already passed the ""cs.50 surprise"" code and afterwards, the first four BYTES were as specified","",""
"393854278764068875","curiouskiwi#1671","11-Sep-18 11:26 AM","I'd expect your `fread` as written would return 1, not 512.","",""
"385299646421139457","kenterminator#7274","11-Sep-18 11:28 AM","oops i meant fread(jpeg_block, 1, sizeof(jpeg_block), inptr) == 512","",""
"385299646421139457","kenterminator#7274","11-Sep-18 11:29 AM","so that should work then, but I'm still somehow having the duplicate fread issue then","",""
"393854278764068875","curiouskiwi#1671","11-Sep-18 11:29 AM","that's your only `fread` right?","",""
"385299646421139457","kenterminator#7274","11-Sep-18 11:34 AM","yes. let me write my pseudocode to see..","",""
"385299646421139457","kenterminator#7274","11-Sep-18 11:46 AM","1. Do-while loop until it finds the JPEG header
2. While size of JPEG block is 512
2a. If JPEG header is correct
2ai. If image file exists, close previous image and increase counter. 
2aii. Create a filename and image file
2b. If JPEG header is incorrect, check if image file exists, if not, then write jpeg block to current image
3. Close files and free memory","",""
"385299646421139457","kenterminator#7274","11-Sep-18 11:46 AM","It seems that I'm getting closer with 49 images. However it seems that I'm stopping and starting at the wrong files, because I get an ""unsupported file type"" error, meaning that my header isn't starting with the JPEG","",""
"393854278764068875","curiouskiwi#1671","11-Sep-18 12:45 PM","so your do while loop is reading in blocks until it find a signature?  and then you start a while loop that also reads in blocks?","",""
"385299646421139457","kenterminator#7274","11-Sep-18 02:16 PM","yes that's correct","",""
"483672946209193985","ikmrgrv#8222","11-Sep-18 08:29 PM","for me too, same ""Unsupported file type"" error is showing ...","",""
"483672946209193985","ikmrgrv#8222","11-Sep-18 08:29 PM","i don't know how  to even ask for help in this pset","",""
"483672946209193985","ikmrgrv#8222","11-Sep-18 08:30 PM","can anyone help me with the recover ???","",""
"483672946209193985","ikmrgrv#8222","11-Sep-18 08:31 PM","i am able to get 50 files, but they show error on opening","",""
"483672946209193985","ikmrgrv#8222","11-Sep-18 08:34 PM","i am actually getting 51 image files","",""
"480317354501341184","NAmbry#2791","11-Sep-18 11:38 PM","@ikmrgrv check your headers if you get unsupported file type error","",""
"472495048773074974","ritesh#0522","13-Sep-18 02:41 PM","Finished recover, but could have spent less time if I could have figured out earlier that to compare buffer values i.e. buff[0],buff[1],....... I had to convert them into char. Since in walkthrough buffer values were compared without conversion so I was not much focussing on this part","",""
"472495048773074974","ritesh#0522","13-Sep-18 02:43 PM","If anyone compared the values without conversion please let me know, I want to understand it?","",""
"250476047378808842","thorndeux#8839","13-Sep-18 03:58 PM","Hmm, for me it was the opposite, actually. I could not compare the buffer elements as chars, and declared the buffer as uint8_t instead.","",""
"472495048773074974","ritesh#0522","13-Sep-18 05:19 PM","@thorndeux Ok, now I get it . I also tried with int but since int is 4 bytes  long and 0xff is only 1 byte long  thus the comparison was not working. And when u declared int 8 bit(1 Byte) it was able to compare byte by byte. Thanks","","üëç (1)"
"415206152968732684","Ivanhoe#8977","15-Sep-18 03:39 PM","@curiouskiwi  I meant to say the debugger doesn't stop at the break point indicating how it never goes inside the if statement block","",""
"393854278764068875","curiouskiwi#1671","16-Sep-18 08:11 AM","I see nothing wrong with the if statement. @Ivanhoe","",""
"344929126349799426","Chugga#1483","16-Sep-18 01:35 PM","ok i've managed to get an output of 50 jpg's but they're all 512 bytes. I'm assuming thats wrong?","",""
"344929126349799426","Chugga#1483","16-Sep-18 01:38 PM","the only thing I can think of is that i'm somehow iterating over the same 512 bytes each time?","",""
"344929126349799426","Chugga#1483","16-Sep-18 02:30 PM","is there some way of making the outptr a global variable? I think I'm constantly re opening files with fread and going back to the start","",""
"344929126349799426","Chugga#1483","16-Sep-18 02:31 PM","but when I tried to declare it as a global variable i keep getting segmentation faults whenever I try to write something","",""
"393854278764068875","curiouskiwi#1671","16-Sep-18 10:51 PM","@Chugga open the file (not globally) once and don't close it until you find the next signature. Keep writing the blocks in the meantime.","",""
"344929126349799426","Chugga#1483","16-Sep-18 11:02 PM","I got it in the end by declaring it before I started the loops and then assigning it different stuff depending on what I wanted it to do (fclose, fwrite, etc)","",""
"344929126349799426","Chugga#1483","16-Sep-18 11:03 PM","Thanks though, I appreciate you taking the time out of your day to help us","",""
"229345538783313921","Gigolas#6655","17-Sep-18 03:07 AM","fellas, can you debug me please? My last image is different, no idea why","",""
"393854278764068875","curiouskiwi#1671","17-Sep-18 03:08 AM","different from what?","",""
"229345538783313921","Gigolas#6655","17-Sep-18 03:08 AM","from how it has to be, opens perfectly thou","",""
"393854278764068875","curiouskiwi#1671","17-Sep-18 03:09 AM","so it's probably 512 bytes too long.  Are you sure you aren't writing the last block twice?","",""
"393854278764068875","curiouskiwi#1671","17-Sep-18 03:09 AM","`while (!feof(inptr))`  feof won't return true until it tries to read past the end of the file.","",""
"229345538783313921","Gigolas#6655","17-Sep-18 03:10 AM","so i should evade last cycle?","",""
"393854278764068875","curiouskiwi#1671","17-Sep-18 03:11 AM","you should verify that `fread` returned the correct value and if it didn't, break out.  Alternatively, use fread's return value as your while condition, and not feof.","",""
"229345538783313921","Gigolas#6655","17-Sep-18 03:13 AM","as far as i understand, when i use ``fread``, it steps one step ahead(thats 512 bytes)","",""
"229345538783313921","Gigolas#6655","17-Sep-18 03:13 AM","so when i put it into while loop it steps as well, isn't it?","",""
"393854278764068875","curiouskiwi#1671","17-Sep-18 03:15 AM","yes, so if you are going to do that, you only have it in your while condition and not in the body of the loop","","‚òÄ (1)"
"229345538783313921","Gigolas#6655","17-Sep-18 03:25 AM","@curiouskiwi love your help my man, thanks ALOT!","",""
"153965724711256064","PortobelloPirate#1091","20-Sep-18 01:30 AM","Would
```C
while (fread == 512)
{
    fread(block, 1, 512, inptr);
}```

loop until a `block` is less than 512 bytes?","",""
"393854278764068875","curiouskiwi#1671","20-Sep-18 01:35 AM","that wouldn't work because how are you updating the variable called `fread`?","",""
"393854278764068875","curiouskiwi#1671","20-Sep-18 01:35 AM","perhaps you meant ```C
while (fread(block, 1, 512, inptr) == 512)``` ?","",""
"153965724711256064","PortobelloPirate#1091","20-Sep-18 01:39 AM","Ok, so to check if a function returns a specific value the entire function must be written?","",""
"393854278764068875","curiouskiwi#1671","20-Sep-18 01:53 AM","the only way to get the return value is to call the function.","",""
"153965724711256064","PortobelloPirate#1091","20-Sep-18 02:08 AM","```C
int block[512];



//repeat until buffer returns less than 512 bytes

int x = 0;

int y = 0;

while (fread(block, 1, 512, inptr) == 512)

{
 
    //read the sdcard

    fread(block, 1, 512, inptr);


    if (block[0] == 0xff &&

        block[1] == 0xd8 &&

        block[2] == 0xff &&

        (block[3] & 0xf0) == 0xe0)

    {

        x++;

    }


    y++;
    
}

    
printf(""x= %i y= %i\n"", x, y);```

Thank you. That makes sense. Then I ran this to see; (1) How many 512b blocks are on the card; and (2) How many JPEGs there are using Zamyla's code in the walkthrough.
recover.c printed
`x= 0 y= 5128`
So, it looks like the `while` loop worked, and there is 5128 ""blocks"" of 512 bytes. Unfortunately the `if` statement does not seem to work.","",""
"393854278764068875","curiouskiwi#1671","20-Sep-18 02:12 AM","you've declared your buffer as 512 ints.  It should be 512 bytes.","",""
"393854278764068875","curiouskiwi#1671","20-Sep-18 02:13 AM","also, you are skipping every other block, because you are calling fread twice in a row.","",""
"153965724711256064","PortobelloPirate#1091","20-Sep-18 02:29 AM","Yes! I changed `int` to `unsigned char` and deleted the second `fread`. Now  recover.c prints `x= 50 y= 10255`
Thank you!","",""
"298518538958667786","XtratoS#2159","21-Sep-18 05:36 PM","My code works perfectly on the cloud, no problems, but check50 gives me this
```
:) recover.c exists.
:) recover.c compiles.
:) handles lack of forensic image
:( recovers 000.jpg correctly
    failed to execute program due to segmentation fault
:( recovers middle images correctly
    failed to execute program due to segmentation fault
:( recovers 049.jpg correctly
    failed to execute program due to segmentation fault
```","",""
"298518538958667786","XtratoS#2159","21-Sep-18 05:37 PM","I recovered all the images on the cloud though","",""
"366971957499002901","Neo#7814","21-Sep-18 11:11 PM","if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0))","",""
"366971957499002901","Neo#7814","21-Sep-18 11:12 PM","Can anyone explain why this code, specifically the last bit, is able to check all values from 0xe0 to 0xef?","",""
"250476047378808842","thorndeux#8839","21-Sep-18 11:24 PM","@Neo  The trick is in the last element `buffer[3] & 0xf0`. Notice the `&`, which is one of several 'bitwise operators'. Check out how 'bitwise and' works and you'll understand...","",""
"143483727014526976","DeadWay#5271","25-Sep-18 03:12 AM","hi guys i seem to have a problem, when i check the program it gives me a segmentation fault","",""
"143483727014526976","DeadWay#5271","25-Sep-18 03:12 AM","i dunno why if someone can help me, thanks","",""
"393854278764068875","curiouskiwi#1671","25-Sep-18 03:17 AM","@DeadWay most common cause here would be if your char array that you've declared to hold the string for the filename isn't large enough (or is read-only).","",""
"143483727014526976","DeadWay#5271","27-Sep-18 12:07 AM","hi @curiouskiwi  i cannot seem to find the mistake for the segmentation fault (looked at the code over a few hours now) would you mind if you take a look so i can see where i got it wrong","",""
"143483727014526976","DeadWay#5271","27-Sep-18 12:07 AM","thanks a lot","",""
"393854278764068875","curiouskiwi#1671","27-Sep-18 12:20 AM","@DeadWay send me a private message with the code. I'll take a look when I have a chance.","",""
"415206152968732684","Ivanhoe#8977","27-Sep-18 08:29 PM","Hi, I had a problem before with my recover program in that the if statement that checks the jpegs is never true","",""
"415206152968732684","Ivanhoe#8977","27-Sep-18 08:30 PM","I used:  uint8_t *info = malloc(512); to store bytes off of the input file","",""
"415206152968732684","Ivanhoe#8977","27-Sep-18 08:32 PM","and info gets strange values like: 0x1084250 ""(8N\255^\327\205r\002n\324\312\071\362\213\034\371\224\353x\032\263*\026\377\215i\216\071\027Teb\322\335d\303\270\205\335\214""","",""
"415206152968732684","Ivanhoe#8977","27-Sep-18 08:32 PM","and : 0x1084250 ""andle_cfi_bad_icall_abort""","",""
"415206152968732684","Ivanhoe#8977","27-Sep-18 08:33 PM","or: 0x1084250 ""_""","",""
"415206152968732684","Ivanhoe#8977","27-Sep-18 08:33 PM","I tried declaring the buffer as an array and it also didn't work","",""
"415206152968732684","Ivanhoe#8977","27-Sep-18 08:33 PM","can someone help me with this?","",""
"250476047378808842","thorndeux#8839","27-Sep-18 08:55 PM","what syntax do you use to check whether it's a jpg? the syntax given in the walktrough assumes you are using an array as your buffer, I think","",""
"415206152968732684","Ivanhoe#8977","27-Sep-18 09:25 PM","no this syntax should work for pointers too","",""
"415206152968732684","Ivanhoe#8977","27-Sep-18 09:26 PM","I also checked by using *(info+1) for example instead of info[1]","",""
"415206152968732684","Ivanhoe#8977","27-Sep-18 09:26 PM","and it still didn't work","",""
"250476047378808842","thorndeux#8839","27-Sep-18 09:40 PM","hmm, true - not sure then","",""
"250476047378808842","thorndeux#8839","27-Sep-18 09:41 PM","if you like you can pm me your code and I can see whether I find sth - if not someone with more experience needs to have a look üòÑ","",""
"415206152968732684","Ivanhoe#8977","27-Sep-18 10:33 PM","let's try why not","",""
"415206152968732684","Ivanhoe#8977","27-Sep-18 11:11 PM","hey guys, so I've solved it with the help of @thorndeux but we encountered something strange","",""
"415206152968732684","Ivanhoe#8977","27-Sep-18 11:11 PM","if I only have an array of 4 chars for the filename - I get the following image","",""
"415206152968732684","Ivanhoe#8977","27-Sep-18 11:12 PM","the image still has the "".jpg"" extension but I only get one image from my program and the image starts with the correct pixels and then gets jumbled up","https://cdn.discordapp.com/attachments/395684916056031245/494964676984307727/000.jpg",""
"415206152968732684","Ivanhoe#8977","27-Sep-18 11:13 PM","(open original to view the photo)","",""
"415206152968732684","Ivanhoe#8977","27-Sep-18 11:13 PM","the program works fine if filename is an array of 8 chars","",""
"415206152968732684","Ivanhoe#8977","27-Sep-18 11:14 PM","this is not necessary for my solution I just want to figure out what happened so as to understand how strings really work here and why it affects the logic of the program","",""
"393854278764068875","curiouskiwi#1671","27-Sep-18 11:23 PM","if your array of 4 bytes isn't long enough to hold the 8 chars that sprintf put in memory, the extra 4 bytes will still be put there and overwrite whatever happens to be in that memory.  More than likely, that is the first four bytes of the buffer.","","üëç (1)"
"123171263064702977","Vital#3425","28-Sep-18 11:22 PM","my program is timing out when trying to check it","",""
"123171263064702977","Vital#3425","28-Sep-18 11:22 PM","https://i.imgur.com/Zo64get.png","",""
"393854278764068875","curiouskiwi#1671","29-Sep-18 01:35 AM","did it work when you ran it yourself?","",""
"123171263064702977","Vital#3425","29-Sep-18 01:42 AM","i can see all of the pictures except for the last one","",""
"123171263064702977","Vital#3425","29-Sep-18 01:42 AM","it says ""invalid or unsupported image format""","",""
"393854278764068875","curiouskiwi#1671","29-Sep-18 01:49 AM","are you closing each jpg before opening a new one?  how are you determining the end of the raw file?","",""
"123171263064702977","Vital#3425","29-Sep-18 01:54 AM","i pm'd my code","",""
"469756465863983124","Fer#1196","30-Sep-18 03:10 AM","Hi, i'm running the fread() as a condition for the loop. But in the second iteration of the loop, i get a segmentation fault.  I think is something about the the buffer. Any suggestions ?","https://cdn.discordapp.com/attachments/395684916056031245/495749152651739136/unknown.png",""
"469756465863983124","Fer#1196","30-Sep-18 03:18 AM","i changed the buffer to  uint8_t buffer[512]:  because the number of bytes required are 512. so this is no longer a problem","",""
"469756465863983124","Fer#1196","02-Oct-18 01:59 AM","Hi, i already solved the problem, but i do not quite understand why a statement works,  what is the difference between this   while (fread(buffer, 1, 512, inptr) == 512) and this   while (fread(buffer, 1, 512, inptr) != EOF)","",""
"469756465863983124","Fer#1196","02-Oct-18 02:00 AM","the first one recovers the last img correct and the second one doesn't","",""
"469756465863983124","Fer#1196","02-Oct-18 02:06 AM","if the block is less than 512 bytes, then EOF comes in that block right ?","",""
"393854278764068875","curiouskiwi#1671","02-Oct-18 02:18 AM","(my earlier reply misunderstood the question)","",""
"393854278764068875","curiouskiwi#1671","02-Oct-18 02:18 AM","EOF is -1 and fread won't return that, so you'll go into an infinite loop","",""
"454139290939555850","dacheatisgrounded#4990","04-Oct-18 10:23 PM","So, my program seems to find JPGs correctly...and render them....but the images have a bunch of missing pixels at the bottom, and the rest of the images seem very corrupted as well....also it spits out 50 broken images....

This is my Do loop, that runs when it finds the correct header. 
do{
            fwrite(theData, 512, 1, outptr);

            fread(theData, 512, 1, pictures);


        } while (theData->s1 != 0xff && theData->s2 != 0xd8 && theData->s3 != 0xff && (theData->s4 & 0xf0) != 0xe0);","",""
"454139290939555850","dacheatisgrounded#4990","04-Oct-18 10:25 PM","I have this struct, which I copied from something I found on Stackoverflow
typedef struct
{
    BYTE s1;
    BYTE s2;
    BYTE s3;
    BYTE s4;
    BYTE image[508];
}
BUFFER;

that's what ""theData"" 's data type is","",""
"454139290939555850","dacheatisgrounded#4990","04-Oct-18 10:27 PM","the values of s1,s2,s3,s4 when the loop breaks, are 173,179,218,236...which are clearly not the HEX values for FF, DX, e0-9...so I'm not sure why the loop  is breaking...","",""
"393854278764068875","curiouskiwi#1671","04-Oct-18 11:07 PM","Your boolean expression isn't doing what you think.   the opposite of (A and B) is not (!A and !B)  but (!A or !B).  The way you have it, if any of the 4 bytes happens to be the one in the signature your loop won't stop.","","üòÄ (1)"
"454139290939555850","dacheatisgrounded#4990","04-Oct-18 11:13 PM","ohhhhh, of course!","",""
"454139290939555850","dacheatisgrounded#4990","04-Oct-18 11:15 PM","could I just put an ! at the beginning of the statement? while (! theData->s1 == 0xff && theData->s2 == 0xd8 && theData->s3 == 0xff && (theData->s4 & 0xf0) == 0xe0);","",""
"454139290939555850","dacheatisgrounded#4990","04-Oct-18 11:16 PM","hmm, no that doesn't compile...","",""
"454139290939555850","dacheatisgrounded#4990","04-Oct-18 11:19 PM","while ((!(theData->s1 == 0xff && theData->s2 == 0xd8 && theData->s3 == 0xff && (theData->s4 & 0xf0) == 0xe0)))","",""
"454139290939555850","dacheatisgrounded#4990","04-Oct-18 11:19 PM","That works!","",""
"454139290939555850","dacheatisgrounded#4990","04-Oct-18 11:35 PM","Thank you VERY VERY much @curiouskiwi","",""
"393854278764068875","curiouskiwi#1671","04-Oct-18 11:35 PM","üëç","",""
"454139290939555850","dacheatisgrounded#4990","04-Oct-18 11:56 PM","Hmm....my code only extracts 24 photos now.....strange....I even removed the conditional that ends the program (when it can no longer read 512 bytes.) and left it running in an infinite loop....still only 24 photos....","",""
"250476047378808842","thorndeux#8839","04-Oct-18 11:58 PM","odds are you are freading twice, once in the condtion of your while loop and once within the loop itself","",""
"454139290939555850","dacheatisgrounded#4990","05-Oct-18 12:05 AM","But why would two freads() cause it to stop at image 24? wouldn't reading and writing an extra 512 bytes only affect the last image of 50?","",""
"250476047378808842","thorndeux#8839","05-Oct-18 12:19 AM","if you read twice for each write operation you are only writing every second block","",""
"454139290939555850","dacheatisgrounded#4990","05-Oct-18 12:21 AM","ohh","",""
"207503709746233345","Secure Me Musk#8567","10-Oct-18 03:50 AM","why is it when i open up card.raw in the hex viewer in cs50 ide this is what i see","",""
"207503709746233345","Secure Me Musk#8567","10-Oct-18 03:50 AM","","https://cdn.discordapp.com/attachments/395684916056031245/499383085322993664/unknown.png",""
"207503709746233345","Secure Me Musk#8567","10-Oct-18 03:51 AM","Shouldn't there be way more cotent? Shouldn't i see 0xff 0xd8 0xff somewhere?","",""
"344929126349799426","Chugga#1483","10-Oct-18 04:15 AM","if I recall, there's a bug with the hex viewer that makes it display stuff improperly on some themes of the IDE","",""
"207503709746233345","Secure Me Musk#8567","10-Oct-18 04:15 AM","okay, so this isn't correct? just wanted to manually look thru the file before starting the pset and i was very confused","",""
"393854278764068875","curiouskiwi#1671","10-Oct-18 04:18 AM","the card.raw file isn't guaranteed to start with a jpg.  Your program needs to keep reading blocks until it find the first jpg","",""
"207503709746233345","Secure Me Musk#8567","10-Oct-18 04:21 AM","Yeh, I do understand that. But shouldn't card.raw when viewing the hex in the IDE be full of content?","",""
"393854278764068875","curiouskiwi#1671","10-Oct-18 04:25 AM","what's the size of your card.raw file?","",""
"393854278764068875","curiouskiwi#1671","10-Oct-18 04:27 AM","hmm, I see the same thing. Not sure what's happening with the hex viewer.","",""
"393854278764068875","curiouskiwi#1671","10-Oct-18 04:30 AM","you could run `xxd card.raw` to get a hex dump, but it will be very long.","",""
"393854278764068875","curiouskiwi#1671","10-Oct-18 04:32 AM","@Secure Me Musk run this:  `xxd -s 1000 -l 200 card.raw`   (that will skip the first 1000 octets and then print the next 200)","",""
"393854278764068875","curiouskiwi#1671","10-Oct-18 04:32 AM","you should see the start of one of the jpgs there","",""
"207503709746233345","Secure Me Musk#8567","10-Oct-18 04:33 AM","ah i see. thanks. very weird!","",""
"173573265753767936","Firipu#3981","10-Oct-18 11:23 AM","Been stuck on recover for almost a week. I'm fairly certain the flow behind my code is correct. But I am doing something wrong somewhere, because it doesn:t do anything. Could someone take a look at my code and give me  nudge in the right direction?","",""
"250476047378808842","thorndeux#8839","10-Oct-18 12:57 PM","Hey, I think you want to open your image files in write mode, not append. Probably won't hurt to initialize your filename string, to make sure it's null terminated.","",""
"250476047378808842","thorndeux#8839","10-Oct-18 12:57 PM","@Firipu","",""
"250476047378808842","thorndeux#8839","10-Oct-18 12:58 PM","I think you shouldn't post your whole code here. Just PM it to those willing to help.","",""
"173573265753767936","Firipu#3981","10-Oct-18 02:02 PM","I removed the code. If anyone wants to help, much appreciated","",""
"173573265753767936","Firipu#3981","10-Oct-18 03:36 PM","Thx a lot. @thorndeux . Issue completely solved. Nasty little bugs üòÑ","",""
"492085255243563036","brodyalbers#1301","11-Oct-18 06:41 PM","I'm having an issue right at the beginning of recover. fopen is returning NULL but I can't see anything weird in my syntax. The line is 'FILE *infile = fopen(""argv[1]"", ""r"");'","",""
"492085255243563036","brodyalbers#1301","11-Oct-18 06:42 PM","and then I check If (infile == NULL) and it always comes out true and runs the return 2; in the if","",""
"492085255243563036","brodyalbers#1301","11-Oct-18 06:42 PM","I'm sure I'm doing something stupid,","",""
"492085255243563036","brodyalbers#1301","11-Oct-18 06:43 PM","","https://cdn.discordapp.com/attachments/395684916056031245/499970427175567371/null_infile.PNG",""
"480317354501341184","NAmbry#2791","11-Oct-18 06:44 PM","Leave out the """"","",""
"480317354501341184","NAmbry#2791","11-Oct-18 06:44 PM","Just use argv[1]","",""
"480317354501341184","NAmbry#2791","11-Oct-18 06:45 PM","Here you are using the string ""argv[1]"" and not the actual value","",""
"492085255243563036","brodyalbers#1301","11-Oct-18 06:45 PM","Ah thanks. That makes sense","",""
"492085255243563036","brodyalbers#1301","12-Oct-18 12:34 AM","Got another problem someone might be able to help me out with.. I have the file opening and reading, and then I store the first 512 bytes in a variable called buffer. I can't get it to recognize `0xff 0xd8 0xff 0xe*` at all in the first bytes. I scaled it back to just be `If (buffer[0] == 0xff)` but it always returns false. Any ideas? Maybe I'm not reading the first bit of each 512 block like I think I'm doing...","https://cdn.discordapp.com/attachments/395684916056031245/500058608529047552/recover_if.PNG",""
"393854278764068875","curiouskiwi#1671","12-Oct-18 12:35 AM","you've declared buffer to be an array of integer pointers.  Don't you want it to be an array of bytes?  (ie, unsigned 8 bit variables)","",""
"492085255243563036","brodyalbers#1301","12-Oct-18 01:09 AM","I see, I'm using malloc to get 512 bytes of memory and then declaring buffer to be an array of pointers to that memory, correct? In that case, I want change that line to something like `int buffer[blocksz];` to declare an array of 512 ints in which to store the data. Rather than just comparing the pointer to `0xff`.  But then do I need to change `fread` at all since I thought `fread` takes a pointer first.","",""
"492085255243563036","brodyalbers#1301","12-Oct-18 01:13 AM","Oh no it needs to not just be `int buffer[blocksz];` but a uint8_t, or `unsigned char buffer[blocksz];`","",""
"393854278764068875","curiouskiwi#1671","12-Oct-18 01:22 AM","yes, an int is a 32 bit variable which is not what you are storing.","",""
"492085255243563036","brodyalbers#1301","12-Oct-18 05:22 AM","Thanks after a lot of struggling I got recover implemented.","",""
"157291647061852161","jensen1441#1418","18-Oct-18 01:54 AM","can someone explain this line of code","",""
"157291647061852161","jensen1441#1418","18-Oct-18 01:54 AM","if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xe0) == 0xe0)","",""
"157291647061852161","jensen1441#1418","18-Oct-18 01:54 AM","the end part has me confused","",""
"157291647061852161","jensen1441#1418","18-Oct-18 01:54 AM","(buffer[3] & 0xe0) == 0xe0)","",""
"157291647061852161","jensen1441#1418","18-Oct-18 01:58 AM","paging @curiouskiwi üòÑ","",""
"157291647061852161","jensen1441#1418","18-Oct-18 01:59 AM","not grasping how bitwise operator work","",""
"393854278764068875","curiouskiwi#1671","18-Oct-18 02:01 AM","see if this helps? https://www.reddit.com/r/cs50/comments/8uc049/recovery_how_does_this_code_check_for_the_fourth/","",""
"157291647061852161","jensen1441#1418","18-Oct-18 02:36 AM","it does, thank you","",""
"157291647061852161","jensen1441#1418","18-Oct-18 07:27 AM","üòÉ recover.c exists.
üòÉ recover.c compiles.
üòÉ handles lack of forensic image
üòÉ recovers 000.jpg correctly
üòÉ recovers middle images correctly
üò¶ recovers 049.jpg correctly
    recovered image does not match","",""
"157291647061852161","jensen1441#1418","18-Oct-18 07:27 AM","anyone know whats wrong? the image seems to work","",""
"157291647061852161","jensen1441#1418","18-Oct-18 07:27 AM","program also returns 0","",""
"393854278764068875","curiouskiwi#1671","18-Oct-18 07:29 AM","@jensen1441 my guess would be that your last image has one extra block, because you've determined the end of the file after you've failed to read in a block, but still written what was in the buffer from the previous loop.","",""
"157291647061852161","jensen1441#1418","18-Oct-18 07:30 AM","hmm","",""
"157291647061852161","jensen1441#1418","18-Oct-18 07:30 AM","i used a while(!feof(inptr))","",""
"393854278764068875","curiouskiwi#1671","18-Oct-18 07:30 AM","as I suspected.  `feof` doesn't get set until *after* it tries to read past the end of the file.  So it will still be true when you've read everything and are sitting at the very end of the file.","",""
"393854278764068875","curiouskiwi#1671","18-Oct-18 07:31 AM","so your loop will run one more time","",""
"157291647061852161","jensen1441#1418","18-Oct-18 07:31 AM","ugh","",""
"157291647061852161","jensen1441#1418","18-Oct-18 07:31 AM","any quick fix","",""
"393854278764068875","curiouskiwi#1671","18-Oct-18 07:32 AM","a better way is to use the return value of the `fread` as your condition.  (so your fread will be in your while condition, not in the loop itself)","",""
"393854278764068875","curiouskiwi#1671","18-Oct-18 07:33 AM","a quick/dirty fix might be to check feof again after your fread call, and break the loop if it's true.","",""
"157291647061852161","jensen1441#1418","18-Oct-18 07:33 AM","hehe","",""
"157291647061852161","jensen1441#1418","18-Oct-18 07:34 AM","alright i'll play apound a bit","",""
"157291647061852161","jensen1441#1418","18-Oct-18 07:34 AM","these error take time for me to understand","",""
"157291647061852161","jensen1441#1418","18-Oct-18 07:34 AM","maybe cs not for me üòÉ","",""
"393854278764068875","curiouskiwi#1671","18-Oct-18 07:35 AM","just takes practice. üòâ","",""
"157291647061852161","jensen1441#1418","18-Oct-18 07:36 AM","i dont really get why the loop fires one more time","",""
"157291647061852161","jensen1441#1418","18-Oct-18 07:37 AM","ohhhhhh","",""
"157291647061852161","jensen1441#1418","18-Oct-18 07:37 AM","lol k it clucked","",""
"157291647061852161","jensen1441#1418","18-Oct-18 07:37 AM","it reads the last jpg","",""
"157291647061852161","jensen1441#1418","18-Oct-18 07:38 AM","then writes the next bytf","",""
"157291647061852161","jensen1441#1418","18-Oct-18 08:06 AM","just added a  if (feof(inptr))
        break;","",""
"157291647061852161","jensen1441#1418","18-Oct-18 08:06 AM","at the end of the while loop","",""
"329977469350445069","Lord of Galaxy#9211","18-Oct-18 08:46 AM","#quick_fix","",""
"131388160621019136","Genesect#0784","21-Oct-18 10:03 AM","Hi, im having an issue where im reading all the 50 files, but all the files randomly cut off, showing transparency for the rest of the jpg","",""
"131388160621019136","Genesect#0784","21-Oct-18 10:04 AM","ive checked the hex values ending at each of the jpg's for the first 4 files but none of them are the same, so i cant imagine that the reading and writing is jumping out of my loops because of the hex values","",""
"189635070246518784","holymama#4630","21-Oct-18 02:37 PM","can i do something like this?","",""
"189635070246518784","holymama#4630","21-Oct-18 02:37 PM","```c
    char buffer[512];
    while (fread(buffer, 512, 1, file) == 1)
    {
        // check first 3 bytes of each block
        if (butter[0] == 0xff && 
        butter[1] == 0xd8 && 
        butter[2] == 0xff &&
        (butter[3] & 0xf0) == 0xe0)
        {
            
        }
    }
```","",""
"189635070246518784","holymama#4630","21-Oct-18 02:42 PM","do i just get 512 bytes for buffer?","",""
"329977469350445069","Lord of Galaxy#9211","21-Oct-18 05:08 PM","I believe it will work","",""
"393854278764068875","curiouskiwi#1671","21-Oct-18 10:47 PM","@holymama as long as you refer to  `buffer` and not `butter`","",""
"131388160621019136","Genesect#0784","22-Oct-18 06:44 AM","been staring at it for days and been searching on google for an answer but havent come up with any yet","",""
"207503709746233345","Secure Me Musk#8567","22-Oct-18 06:49 AM","humm, i had trouble fully grasping recover but I was able to solve it. @Genesect","",""
"207503709746233345","Secure Me Musk#8567","22-Oct-18 06:50 AM","I may be wrong here, but your while loop for ending the writing of a jpeg looked like mine, which was incorrect. Here's the reddit thread:","",""
"207503709746233345","Secure Me Musk#8567","22-Oct-18 06:51 AM","https://www.reddit.com/r/cs50/comments/9n753f/recover_jpegs_coming_out_broken_on_pset4/","",""
"131388160621019136","Genesect#0784","22-Oct-18 06:51 AM","thanks üòÉ","",""
"207503709746233345","Secure Me Musk#8567","22-Oct-18 06:51 AM","Hopefully that's helpful, although it may not be your issue. Just stuck out to me!","",""
"131388160621019136","Genesect#0784","22-Oct-18 06:51 AM","all good, it looks like it might, thanks for the help either way","",""
"131388160621019136","Genesect#0784","22-Oct-18 06:53 AM","yep that's the ticket, although it gives me another issue it's definitely fixed the one i had before, thanks!","",""
"207503709746233345","Secure Me Musk#8567","22-Oct-18 06:53 AM","Great!","",""
"189635070246518784","holymama#4630","22-Oct-18 09:13 AM","lol i made a typo error haha","",""
"189635070246518784","holymama#4630","22-Oct-18 05:17 PM","i assume the code has to be capable of storing n number of jpegs right","",""
"189635070246518784","holymama#4630","22-Oct-18 05:17 PM","that seems like i need to generate a new variable automatically","",""
"189635070246518784","holymama#4630","22-Oct-18 05:59 PM","i believe using a flag to determine a file is opened helps","",""
"366971957499002901","Neo#7814","24-Oct-18 01:34 AM","is this code for my if statement inside my while loop correct?","",""
"366971957499002901","Neo#7814","24-Oct-18 01:35 AM","```c
if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0)
```","",""
"366971957499002901","Neo#7814","24-Oct-18 01:36 AM","for some reason when I run my program it never goes into this if statement","",""
"393854278764068875","curiouskiwi#1671","24-Oct-18 01:46 AM","@Neo that looks fine.  Maybe your `buffer` isn't the right type?  Is it an array of 512 bytes?","",""
"366971957499002901","Neo#7814","24-Oct-18 01:46 AM","this is my buffer declaration","",""
"366971957499002901","Neo#7814","24-Oct-18 01:46 AM","```c
int buffer[512];
```","",""
"393854278764068875","curiouskiwi#1671","24-Oct-18 01:51 AM","so an `int` is 4 bytes","",""
"366971957499002901","Neo#7814","24-Oct-18 02:01 AM","I changed my declaration to `int buffer[128];` but it still didnt' fix my issue","",""
"393854278764068875","curiouskiwi#1671","24-Oct-18 02:18 AM","you don't want ints, because you are comparing bytes. you need a 1-byte data type.  Try `unsigned char`","",""
"374657815903731713","mrktBULL69#2832","24-Oct-18 02:36 AM","Wait","",""
"374657815903731713","mrktBULL69#2832","24-Oct-18 02:36 AM","I don't need to use malloc for my buffer?","",""
"374657815903731713","mrktBULL69#2832","24-Oct-18 02:36 AM","What's the point of it then?","",""
"366971957499002901","Neo#7814","24-Oct-18 02:46 AM","I'm getting a segmentation fault now when I try to generate a filename `sprintf(jpgfilename, ""%03d.jpg"", jpgindex);`","",""
"366971957499002901","Neo#7814","24-Oct-18 02:46 AM","I don't know what I'm doing wrong","",""
"366971957499002901","Neo#7814","24-Oct-18 02:47 AM","I declare jpgindex earlier in the program","",""
"366971957499002901","Neo#7814","24-Oct-18 02:47 AM","with this `int jpgindex = 1;`","",""
"366971957499002901","Neo#7814","24-Oct-18 02:51 AM","and I declare jpgfilename with `char *jpgfilename = """";`","",""
"374657815903731713","mrktBULL69#2832","24-Oct-18 02:53 AM","shouldn't `jpgindex` be a char","",""
"374657815903731713","mrktBULL69#2832","24-Oct-18 02:53 AM","then it's `sprintf(jpgfilename, ""%03d.jpg"", jpgindex);`","",""
"366971957499002901","Neo#7814","24-Oct-18 02:58 AM","no with the format specifier it's supposed to be an int","",""
"366971957499002901","Neo#7814","24-Oct-18 03:04 AM","also when I run my code through debug50 it highlights 03d and says no value","",""
"393854278764068875","curiouskiwi#1671","24-Oct-18 03:15 AM","your jpgfilename is declared as a string literal (that cannot be changed).  Perhaps it should be an array large enough to hold the 8 chars you need.","",""
"393854278764068875","curiouskiwi#1671","24-Oct-18 03:16 AM","@mrktBULL69 no need to use malloc.","",""
"374657815903731713","mrktBULL69#2832","24-Oct-18 03:19 AM","I mean like for holding the 512 bytes","",""
"374657815903731713","mrktBULL69#2832","24-Oct-18 03:20 AM","My logic is that I could use `free(buffer)` to discard the 512 bytes","",""
"374657815903731713","mrktBULL69#2832","24-Oct-18 03:20 AM","@curiouskiwi","",""
"366971957499002901","Neo#7814","24-Oct-18 03:23 AM","Thank you so much! My code finally works after 2 hours of debugging.","",""
"374657815903731713","mrktBULL69#2832","24-Oct-18 03:36 AM","Got an error in recover","",""
"374657815903731713","mrktBULL69#2832","24-Oct-18 03:36 AM","doesn't indicate the line number where it was wrong","",""
"374657815903731713","mrktBULL69#2832","24-Oct-18 03:37 AM","```*** Error in `./recover': munmap_chunk(): invalid pointer: 0x00007ffe98846220 ***
Aborted```","",""
"374657815903731713","mrktBULL69#2832","24-Oct-18 03:37 AM","This is how I'm trying to open the file","",""
"393854278764068875","curiouskiwi#1671","24-Oct-18 03:37 AM","my point was you don't need to use malloc because an array is fine.","",""
"374657815903731713","mrktBULL69#2832","24-Oct-18 03:37 AM","```
// ensure proper usage
    if (argc != 2)
    {
        fprintf(stderr, ""Usage: recover infile\n"");
        return 1;
    }

    // remember infile name

    char *infile = argv[1];

    // open file

    FILE *inptr = fopen(infile, ""r"");
    if (inptr == NULL)
    {
        fprintf(stderr, ""Could not open %s.\n"", infile);
        return 2;
    }
```","",""
"374657815903731713","mrktBULL69#2832","24-Oct-18 03:38 AM","you were right, I didn't need to use malloc","",""
"374657815903731713","mrktBULL69#2832","24-Oct-18 03:39 AM","but I still got an error","",""
"393854278764068875","curiouskiwi#1671","24-Oct-18 03:42 AM","that looks fine. your error isn't coming from there.","",""
"366971957499002901","Neo#7814","24-Oct-18 03:54 AM","There's one thing that really confused me: Why are you able to compare something with a type of unsigned char to a hexadecimal number?","",""
"393854278764068875","curiouskiwi#1671","24-Oct-18 03:56 AM","an unsigned char can hold a value from  0 to 255.  ie, from 0x00 to 0xff.  (or from 0000 0000 to 1111 1111 in binary).  hexadecimal numbers aren't anything special, they are just another way of expressing value.  You could  have said  `if buffer[0] == 255`  and that would  be exactly the same under the hood (in binary).   It's just that when dealing with bytes, we tend to express their values in hex.","",""
"393854278764068875","curiouskiwi#1671","24-Oct-18 03:57 AM","@Neo ^^","",""
"374657815903731713","mrktBULL69#2832","24-Oct-18 04:33 AM","Do I need fseek in recover?","",""
"393854278764068875","curiouskiwi#1671","24-Oct-18 04:34 AM","why would you need to seek?","",""
"374657815903731713","mrktBULL69#2832","24-Oct-18 04:34 AM","nevermind lol","",""
"189635070246518784","holymama#4630","27-Oct-18 03:55 PM","how do i fix this isseu","",""
"189635070246518784","holymama#4630","27-Oct-18 03:55 PM","recover.c:33:23: error: comparison of constant 255 with expression of type 'char' is always false [-Werror,-Wtautological-constant-out-of-range-compare]
        if (buffer[0] == 0xff &&","",""
"329977469350445069","Lord of Galaxy#9211","27-Oct-18 04:03 PM","Uh what","",""
"189635070246518784","holymama#4630","27-Oct-18 04:05 PM","recover.c:33:23: error: comparison of constant 255 with expression of type 'char' is always false [-Werror,-Wtautological-constant-out-of-range-compare]
        if (buffer[0] == 0xff &&
            ~~~~~~~~~ ^  ~~~~
recover.c:34:19: error: comparison of constant 216 with expression of type 'char' is always false [-Werror,-Wtautological-constant-out-of-range-compare]
        buffer[1] == 0xd8 &&
        ~~~~~~~~~ ^  ~~~~
recover.c:35:19: error: comparison of constant 255 with expression of type 'char' is always false [-Werror,-Wtautological-constant-out-of-range-compare]
        buffer[2] == 0xff &&","",""
"329977469350445069","Lord of Galaxy#9211","27-Oct-18 04:32 PM","That shouldn't be happening....","",""
"329977469350445069","Lord of Galaxy#9211","27-Oct-18 04:35 PM","Apparently it's converting `0xFF` to 255. I guess that's how it works","",""
"329977469350445069","Lord of Galaxy#9211","27-Oct-18 04:35 PM","In which case, maybe you should make it `unsigned char` instead of plain `char`","",""
"329977469350445069","Lord of Galaxy#9211","27-Oct-18 04:35 PM","Might do the job","",""
"189635070246518784","holymama#4630","27-Oct-18 04:47 PM","it works now","",""
"189635070246518784","holymama#4630","27-Oct-18 04:47 PM","thanks","",""
"66419649960488960","IzaakDonaldson#2597","30-Oct-18 02:19 AM","Is there a way to make a boolean condition that checks if a file is open or not?","",""
"393854278764068875","curiouskiwi#1671","30-Oct-18 02:22 AM","when you open a file:  `FILE* inputfile = fopen(filename, ""r"");`  for example.  So, you know a file is open if `inputfile` isn't NULL.   `if (inputfile) ....`","",""
"66419649960488960","IzaakDonaldson#2597","30-Oct-18 02:23 AM","okay thanks","",""
"66419649960488960","IzaakDonaldson#2597","30-Oct-18 02:24 AM","Can I make FILE* inputfile; a global variable before defining it?","",""
"393854278764068875","curiouskiwi#1671","30-Oct-18 02:25 AM","it shouldn't need to be global but yes, you can declare it in advance and then set it once you open a file.","",""
"393854278764068875","curiouskiwi#1671","30-Oct-18 02:26 AM","```FILE *inputfile = NULL;
//  do some other stuff and then
// check if a file is open
if (inputfile)
{
     // do this if file is open
....  ```","",""
"66419649960488960","IzaakDonaldson#2597","30-Oct-18 02:27 AM","sweet thanks","",""
"66419649960488960","IzaakDonaldson#2597","30-Oct-18 08:08 AM","My program creates the 50 images and a few of them turn out correct but the rest are all corrupt looking. Anyone have an idea why this might happen?","",""
"66419649960488960","IzaakDonaldson#2597","31-Oct-18 12:39 AM","Ok now i got all of the photos working except ill get a Segmentation fault","",""
"66419649960488960","IzaakDonaldson#2597","31-Oct-18 12:40 AM","Every photo is correct but since I'm getting a segmentation fault check50 and submit50 are saying NONE of the photos worked","",""
"66419649960488960","IzaakDonaldson#2597","31-Oct-18 12:41 AM","like when i run the program it says ""Segmentation fault"" yet it creates all 50 images, im really confused","",""
"393854278764068875","curiouskiwi#1671","31-Oct-18 12:59 AM","if you run `valgrind ./recover card.raw` does it show you where the segfault is happening?","",""
"66419649960488960","IzaakDonaldson#2597","31-Oct-18 01:15 AM","```==15754== HEAP SUMMARY:
==15754==     in use at exit: 568 bytes in 1 blocks
==15754==   total heap usage: 1 allocs, 0 frees, 568 bytes allocated
==15754== 
==15754== LEAK SUMMARY:
==15754==    definitely lost: 0 bytes in 0 blocks
==15754==    indirectly lost: 0 bytes in 0 blocks
==15754==      possibly lost: 0 bytes in 0 blocks
==15754==    still reachable: 568 bytes in 1 blocks
==15754==         suppressed: 0 bytes in 0 blocks```","",""
"66419649960488960","IzaakDonaldson#2597","31-Oct-18 01:16 AM","Theres a bunch of `==15754== Conditional jump or move depends on uninitialised value(s)`","",""
"393854278764068875","curiouskiwi#1671","31-Oct-18 01:17 AM","so it doesn't segfault?  (also, be sure you fclose any file you've opened)","",""
"393854278764068875","curiouskiwi#1671","31-Oct-18 01:19 AM","also, that's telling me that you only ever open 1 file (presumably card.raw) and no other files, so it's not creating any jpgs.  Did you delete all the jpgs you might have had in your folder before testing it?","",""
"66419649960488960","IzaakDonaldson#2597","31-Oct-18 01:20 AM","Yeah i did delete them. Should i have not?","",""
"393854278764068875","curiouskiwi#1671","31-Oct-18 01:20 AM","no, you should.","",""
"393854278764068875","curiouskiwi#1671","31-Oct-18 01:20 AM","so when you ran it again, did jpgs get created?","",""
"393854278764068875","curiouskiwi#1671","31-Oct-18 01:20 AM","because that valgrind output is saying you never opened any files.","",""
"66419649960488960","IzaakDonaldson#2597","31-Oct-18 01:21 AM","No it doesn't create the images when I use valgrind","",""
"393854278764068875","curiouskiwi#1671","31-Oct-18 01:21 AM","which means it doesn't create them when you just run `./recover card.raw` ?","",""
"66419649960488960","IzaakDonaldson#2597","31-Oct-18 01:21 AM","It does create them though","",""
"66419649960488960","IzaakDonaldson#2597","31-Oct-18 01:22 AM","https://gyazo.com/50e8ea729e99216bff3b54edfc66091d","",""
"393854278764068875","curiouskiwi#1671","31-Oct-18 01:23 AM","what are the valgrind errors?  you should have no errors if it's working","",""
"393854278764068875","curiouskiwi#1671","31-Oct-18 01:24 AM","valgrind may be segfaulting before any images are opened since it runs in a different part of memory","",""
"393854278764068875","curiouskiwi#1671","31-Oct-18 01:25 AM","my guess could be that you are freading into a buffer that has no space allocated for it.  Is your buffer an array of 512 bytes?","",""
"66419649960488960","IzaakDonaldson#2597","31-Oct-18 01:27 AM","```    // Creating Buffer
    unsigned char buffer[512];```","",""
"66419649960488960","IzaakDonaldson#2597","31-Oct-18 01:27 AM","thats how i assigned it","",""
"66419649960488960","IzaakDonaldson#2597","31-Oct-18 01:27 AM","```while (fread(buffer, 512, 1, inptr) == 1)``` and thats reading it","",""
"393854278764068875","curiouskiwi#1671","31-Oct-18 01:31 AM","so that's okay.","",""
"393854278764068875","curiouskiwi#1671","31-Oct-18 01:32 AM","and your string for the filename is large enough to hold ""000.jpg""  ?","",""
"393854278764068875","curiouskiwi#1671","31-Oct-18 01:32 AM","ie, at least 8 bytes of space?","",""
"66419649960488960","IzaakDonaldson#2597","31-Oct-18 01:32 AM","`    char *filename[8];`","",""
"66419649960488960","IzaakDonaldson#2597","31-Oct-18 01:33 AM","Should it be [7]  ?","",""
"393854278764068875","curiouskiwi#1671","31-Oct-18 01:33 AM","why 8 strings?","",""
"393854278764068875","curiouskiwi#1671","31-Oct-18 01:33 AM","that's your problem. You've declared 8 strings (that have no space).  You want 8 chars.","",""
"393854278764068875","curiouskiwi#1671","31-Oct-18 01:34 AM","and then, sprintf is putting ""000.jpg"" into a pointer. (which stores an address) and then trying to open that address and crashing.","",""
"66419649960488960","IzaakDonaldson#2597","31-Oct-18 01:36 AM","How would I change it to 8 chars instead of strings? does it need to be an unsigned char?","",""
"393854278764068875","curiouskiwi#1671","31-Oct-18 01:36 AM","if you want a char array, simply declare a char array, not a char * array","",""
"66419649960488960","IzaakDonaldson#2597","31-Oct-18 01:36 AM","Ahhhh okay thank you so much","",""
"66419649960488960","IzaakDonaldson#2597","31-Oct-18 01:38 AM","Yes everything works now!! Again thank you so much!","",""
"393854278764068875","curiouskiwi#1671","31-Oct-18 01:39 AM","üëç","",""
"109766394760921088","Etiquette#8290","02-Nov-18 05:33 PM","Would
```buffer[3] <= 0xf0 && buffer[3] >= 0xe0)```Do the same as
```(buffer[3] & 0xf0) == 0xe0```?","",""
"109766394760921088","Etiquette#8290","02-Nov-18 05:36 PM","From what I can tell buffer[3] just needs to be confirmed to be between 0xe0 and 0xf0 right? Why would you need bitwise operations for that? Does it perform better or something?","",""
"329977469350445069","Lord of Galaxy#9211","02-Nov-18 06:32 PM","Bitwise operations are faster","","üëç (1)"
"479351415417077761","ke1echi#6330","02-Nov-18 10:04 PM","I know that to go through the memory card i need a loop `while` or `for`","",""
"479351415417077761","ke1echi#6330","02-Nov-18 10:06 PM","how do i find the beginning of a JPEG","https://cdn.discordapp.com/attachments/395684916056031245/508009082444185621/todo.JPG",""
"432952780903284737","von Ang#4889","02-Nov-18 10:46 PM","files are saved in blocks of 512 bytes","",""
"432952780903284737","von Ang#4889","02-Nov-18 10:47 PM","when a file is 513 bytes, it will be saved in two blocks","",""
"432952780903284737","von Ang#4889","02-Nov-18 10:47 PM","the next file will start in a new block of 512 bytes","",""
"432952780903284737","von Ang#4889","02-Nov-18 10:48 PM","When you look back to resize or whodunit, you might remember that these files always started with BM","",""
"432952780903284737","von Ang#4889","02-Nov-18 10:48 PM","these were BMP files","",""
"432952780903284737","von Ang#4889","02-Nov-18 10:49 PM","so you would look at the first two chars that are stored in a block and if it is a bm, you can check further for BMP files.","",""
"432952780903284737","von Ang#4889","02-Nov-18 10:49 PM","You would have to to the same with the JPEG file format","",""
"479351415417077761","ke1echi#6330","03-Nov-18 03:14 AM","@von Ang  I dont understand","",""
"479351415417077761","ke1echi#6330","03-Nov-18 03:15 AM","but I know what the first 4 bytes of JPEG should look like, how do you mean new block of 512 bytes?","",""
"479351415417077761","ke1echi#6330","03-Nov-18 03:16 AM","you mean like a array? eg `int buffer[512];`","",""
"329977469350445069","Lord of Galaxy#9211","03-Nov-18 07:34 AM","Yes. And each iteration of the loop, you're loading 512 bytes from the file.
Then of those 512 bytes, you check the first 4 bytes to tell if it's the start of a JPEG","",""
"109766394760921088","Etiquette#8290","04-Nov-18 02:56 AM","@Lord of Galaxy thanks :)","","üëç (1)"
"109766394760921088","Etiquette#8290","06-Nov-18 04:01 AM","Tried to check50:

""Sorry, something's wrong! Let sysadmins@cs50.harvard.edu know!""

Welp...","",""
"393854278764068875","curiouskiwi#1671","06-Nov-18 04:24 AM","you need to get rid of the corrupted files in your folder","",""
"393854278764068875","curiouskiwi#1671","06-Nov-18 04:26 AM","if you move your recover.c and the rawfile to another folder, and then run ./recover card.raw do you get those corrupted files again?  (if so, your recover program has a problem and you shouldn't run check50 until you've solved that)","",""
"109766394760921088","Etiquette#8290","06-Nov-18 04:56 AM","@curiouskiwi I get the files if I ctrl+s my recover.c file","",""
"393854278764068875","curiouskiwi#1671","06-Nov-18 04:57 AM","you mean, if you save your file, these other files appear??","",""
"109766394760921088","Etiquette#8290","06-Nov-18 04:57 AM","let me try again","",""
"109766394760921088","Etiquette#8290","06-Nov-18 04:57 AM","yes","",""
"109766394760921088","Etiquette#8290","06-Nov-18 04:58 AM","But I see now I am getting this error when I delete them:","",""
"109766394760921088","Etiquette#8290","06-Nov-18 04:58 AM","","https://cdn.discordapp.com/attachments/395684916056031245/509199817126445079/unknown.png",""
"109766394760921088","Etiquette#8290","06-Nov-18 04:58 AM","so I suppose the might actually not be deleted?","",""
"393854278764068875","curiouskiwi#1671","06-Nov-18 04:58 AM","I can't say I've ever heard of such a thing.  You mean, without doing anything else other than doing File>Save, they simply appear?","",""
"109766394760921088","Etiquette#8290","06-Nov-18 04:58 AM","and the UI just refreshes when I save?","",""
"393854278764068875","curiouskiwi#1671","06-Nov-18 04:58 AM","if you get that error, they can't be deleted.","",""
"393854278764068875","curiouskiwi#1671","06-Nov-18 04:59 AM","you should be able to move your recover.c and card.raw into a different folder, as I suggested, and then delete the original folder. (or just ignore it)","",""
"109766394760921088","Etiquette#8290","06-Nov-18 04:59 AM","Yeah I was thinking of doing that","",""
"109766394760921088","Etiquette#8290","06-Nov-18 05:01 AM","alright that did the trick, thanks","",""
"359006063019950081","fufr#1439","06-Nov-18 03:30 PM","i just got freaking rickrolled by a terminal","",""
"359006063019950081","fufr#1439","06-Nov-18 03:30 PM","omg","",""
"409535907788750859","MuyCool#4825","07-Nov-18 05:04 PM","Lol","",""
"479351415417077761","ke1echi#6330","08-Nov-18 10:28 PM","trying to find the begining of  JPEG 
`while (file != eof)  ` `fread(buffer, 512, 1, file)`
dunno if am moving in right direction
pls help","",""
"479351415417077761","ke1echi#6330","09-Nov-18 09:54 AM","```c
    //keep track of JPEG
    int count = 0, buffer[512];
    
    while (file != eof)
    {
        //read bytes from file
        fread(buffer, 512, 1, file);
        
        //write bytes into buffer
        fwrite(buffer, 512, 1, file);
        
        //check for JPEG signature
        if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0)
        {
            //do stuff...
        }
        
    }
```
my thought process.. any help","",""
"359006063019950081","fufr#1439","09-Nov-18 11:35 AM","hey @ke1echi . Not sure what help you are looking for but something that looks weird to me is that you reading and writing from the same file. I see that above 'fwrite' you have commented 'write bytes into buffer'. This is actually what is being done by the line above 'fread'.","",""
"359006063019950081","fufr#1439","09-Nov-18 11:35 AM","you can then use the buffer to put that data in another file if you want with frwrite","",""
"506374465785954306","dawnb#2131","09-Nov-18 12:29 PM","@johanlh  Same issue, I found the answer: https://stackoverflow.com/questions/21646320/sprintf-in-c-resets-the-value-of-counting-variable","",""
"479351415417077761","ke1echi#6330","09-Nov-18 01:18 PM","ok @fufr","",""
"479351415417077761","ke1echi#6330","09-Nov-18 03:03 PM","i get 50 photos but they are not showing
 https://pastebin.com/iksxaPRH","",""
"479351415417077761","ke1echi#6330","09-Nov-18 03:03 PM","what am i doing wrongly","",""
"359006063019950081","fufr#1439","09-Nov-18 03:06 PM","do you get an error or something ?","",""
"479351415417077761","ke1echi#6330","09-Nov-18 03:06 PM","no","",""
"479351415417077761","ke1echi#6330","09-Nov-18 03:08 PM","","https://cdn.discordapp.com/attachments/395684916056031245/510440485077123072/recover.JPG",""
"479351415417077761","ke1echi#6330","09-Nov-18 03:54 PM","oh fixed, working now","",""
"359006063019950081","fufr#1439","09-Nov-18 04:12 PM","good job üòÉ","",""
"479351415417077761","ke1echi#6330","09-Nov-18 04:15 PM","wow i feel great üíÉ","",""
"479976936253423626","mayweed#4032","09-Nov-18 10:14 PM","Oh It fixed my code too...this overflow screws it!! Thx üëå","",""
"489107031492526083","wisemanlove#0497","21-Nov-18 12:00 AM","https://gist.github.com/wisemanlove/eb966afabe2fc87a2530f54629ba0326","",""
"489107031492526083","wisemanlove#0497","21-Nov-18 12:02 AM","for the first lot of code (rect) im getting a bunch of error messages i can't explain  (rect.c:33:5: error: expected ')'
    if
    ^
rect.c:30:4: note: to match this '('
   (fread(&buffer, sizeof(buffer), 1, file)
   ^
rect.c:58:6: error: expected ';' after expression
    }
     ^
     ;
2 errors generated.
make: *** [rect] Error 1) 

and for the second lot of code (recover) I was wondering how to close the *img FILE with fclose outside of the scope. i.e a way to initialise it outside of the loop","",""
"489107031492526083","wisemanlove#0497","21-Nov-18 12:03 AM","also aware i might be barking up the the wrong tree on both of these","",""
"395944664102076417","Andrei#9425","21-Nov-18 09:32 AM","https://youtu.be/QOD2hHiHpn0?t=13m45s","",""
"257623299683647492","tilde#7562","21-Nov-18 04:44 PM","@wisemanlove for your first problem, you have some syntactic nonsense at line 30: ` (fread(&buffer, sizeof(buffer), 1, file)`, you're opening 3 parens and closing 2 of them","",""
"257623299683647492","tilde#7562","21-Nov-18 04:46 PM","for your second problem, you're declaring (and initializing to NULL too) `FILE* img` in the `main` scope, so it will be available to call `fclose()` on at any point in the `main` function","",""
"257623299683647492","tilde#7562","21-Nov-18 04:48 PM","just noticed that you're re-declaring it at line 44: `FILE* img = fopen(jpg, ""w"");`, there's no need to do that, just use what you declared at line 28","",""
"489107031492526083","wisemanlove#0497","22-Nov-18 01:53 PM","So instead of FILE* img = ...
it can be *img = ...","",""
"257623299683647492","tilde#7562","22-Nov-18 01:54 PM","just as you say 
```C
int a = 0;
[...more code omitted...]
a = 15;
```","",""
"489107031492526083","wisemanlove#0497","22-Nov-18 01:55 PM","ok just a quick question is there a difference between FILE* img and FILE *img","",""
"329977469350445069","Lord of Galaxy#9211","22-Nov-18 03:17 PM","No","",""
"329977469350445069","Lord of Galaxy#9211","22-Nov-18 03:18 PM","Though at some point you'll come across people who'll argue with you if you use the version they don't like","",""
"329977469350445069","Lord of Galaxy#9211","22-Nov-18 03:19 PM","It's a matter of preference and some people will insist on one being better than the other","",""
"489107031492526083","wisemanlove#0497","22-Nov-18 03:21 PM","ok so does this imply that the FILE* is unnecessary as it is the equivalent of int","",""
"489107031492526083","wisemanlove#0497","22-Nov-18 03:21 PM","or does the asterisk become a necessary part of the img variable i.e *img","",""
"329977469350445069","Lord of Galaxy#9211","22-Nov-18 06:02 PM","What","",""
"329977469350445069","Lord of Galaxy#9211","22-Nov-18 06:02 PM","The asterisk is nescessary","",""
"329977469350445069","Lord of Galaxy#9211","22-Nov-18 06:03 PM","The exact placement isn't","",""
"329977469350445069","Lord of Galaxy#9211","22-Nov-18 06:03 PM","`FILE* img`, `FILE *img` and `FILE * img` are all equivalent as far as the compiler is concerned","",""
"257623299683647492","tilde#7562","22-Nov-18 06:17 PM","`FILE*` isn't ""unnecessary as it is equivalent to `int`""","",""
"257623299683647492","tilde#7562","22-Nov-18 06:18 PM","make sure you have a clear understanding of the difference between declaring, initializing and referencing a variable","",""
"257623299683647492","tilde#7562","22-Nov-18 06:18 PM","as well as what pointers are","",""
"185198947122413569","Wargarbler#4101","23-Nov-18 11:49 PM","Hi, I'm getting all 50 jpegs and I can view them, but the check50 is saying the recovered image doesn't match. Is there something I can check for?","",""
"393854278764068875","curiouskiwi#1671","24-Nov-18 12:16 AM","@Wargarbler all recovered images, or only the last one?  If the last one, make sure you aren't writing your final 512 block twice.","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:24 AM","all recovered images are viewable by me and different. But the check 50 says they don't match. I think I am/was starting at the beginning of each jpeg and putting the rest of the rawfile into each jpeg though... not sure","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:26 AM","check 50 checks 000.jpg, 001.jpg and 049.jpg. they all fail","",""
"393854278764068875","curiouskiwi#1671","24-Nov-18 12:27 AM","so if you `ls -l` in your recover folder so you can see the sizes, is 000.jpg 45568  bytes?","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:31 AM","probably.. I've since broke it...","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:32 AM","is there a way to get my code that I sent to check50? It's not in my github","",""
"393854278764068875","curiouskiwi#1671","24-Nov-18 12:32 AM","yes, go to github.com/check50/USERNAME","",""
"393854278764068875","curiouskiwi#1671","24-Nov-18 12:33 AM","replace USERNAME with yours","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:34 AM","found it.  000.jpg is 5250048","",""
"393854278764068875","curiouskiwi#1671","24-Nov-18 12:35 AM","that's more than 10x larger.","",""
"393854278764068875","curiouskiwi#1671","24-Nov-18 12:35 AM","are you writing before you've found a signature?","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:36 AM","I created an array full of integers with all the locations of the jpegs","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:37 AM","so I fixed it partially.. I was doing a DO ... WHILE (next file location OR EOF) instead of AND EOF...","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:37 AM","so it was always waiting till the end of the file.","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:38 AM","now 000.jpg is 45056... is that right?","",""
"393854278764068875","curiouskiwi#1671","24-Nov-18 12:39 AM","you're 512 bytes short","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:40 AM","45568?","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:40 AM","had a -buffer in my while loop from trying to figure out what I did wrong.","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:42 AM","I think 000- 048 are good, but now my 49 is 512 bytes.. which means my end value is bumping me out of my do loop.","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:44 AM","for (int j = 0; j < arrsiz; j++)
    {
        sprintf(cur_file, ""%03i.jpg"", j);
        FILE *cf = fopen(cur_file, ""w"");
        fseek(rf, rfarr[j], SEEK_SET);

        do //read and write jpegs
        {

            fread(&rbuffer, sizeof(rbuffer), 1, rf);
            fwrite(&rbuffer, sizeof(rbuffer), 1, cf);

        }
        while (ftell(rf) < (rfarr[j + 1]) && feof(rf) == 0);","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:45 AM","can you do if statements within a while  condition?","",""
"393854278764068875","curiouskiwi#1671","24-Nov-18 12:45 AM","do you have a `j` that is the end of the file?","",""
"393854278764068875","curiouskiwi#1671","24-Nov-18 12:46 AM","in your rfarr?","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:46 AM","no.. i should just do that...","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:46 AM","can I just make my array 1 bigger and do an fseek to eof and put ftell into it?","",""
"393854278764068875","curiouskiwi#1671","24-Nov-18 12:47 AM","yes","",""
"393854278764068875","curiouskiwi#1671","24-Nov-18 12:47 AM","SEEK_END","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:47 AM","awesome.. that makes more sense than what I was about to do....","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:48 AM","thanks for your help","",""
"393854278764068875","curiouskiwi#1671","24-Nov-18 12:48 AM","using an array like this is overcomplicating the problem; not an approach I've seen before, but I'm glad it works. üòÉ","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:49 AM","I thought I needed to scan the file to make sure it had jpegs in it first.. so I made a function that scanned for jpegs. During testing that I had it print out locations as well.. and it just led into saving those in an array. starting over I'd do it simpler now.","",""
"185198947122413569","Wargarbler#4101","24-Nov-18 12:56 AM","Got it working! passed all checks. Thanks @curiouskiwi","","üíØ (2)"
"400713190486573076","l2oseTMG#7997","24-Nov-18 06:09 PM","https://en.wikipedia.org/wiki/Bitwise_operations_in_C This should help~","",""
"400713190486573076","l2oseTMG#7997","24-Nov-18 06:20 PM","Ah well try to convert hex to bit and try to compare each other","",""
"400713190486573076","l2oseTMG#7997","24-Nov-18 06:23 PM","1110|0000 -> 1111  
    &   1111|0000
            --------
   == 1110|0000","",""
"400713190486573076","l2oseTMG#7997","24-Nov-18 06:27 PM","Well 3 position like 000.jpg - 999.jpg","",""
"400713190486573076","l2oseTMG#7997","24-Nov-18 06:28 PM","Well I haven't encounter it before this pset either so it kinda try and error for me","",""
"400713190486573076","l2oseTMG#7997","24-Nov-18 06:29 PM","But I got 2 position if I try 02","",""
"400713190486573076","l2oseTMG#7997","24-Nov-18 06:31 PM","This might help I think https://en.wikipedia.org/wiki/Printf_format_string","",""
"400713190486573076","l2oseTMG#7997","24-Nov-18 06:31 PM","On flag field","",""
"400713190486573076","l2oseTMG#7997","24-Nov-18 06:34 PM","Lol play around with shorter code and experiment is easier to understand so go for it~ I don't get the first time I read it either~","",""
"400713190486573076","l2oseTMG#7997","24-Nov-18 06:35 PM","Good luck on this one pset though~","",""
"400713190486573076","l2oseTMG#7997","24-Nov-18 06:40 PM","3 day ago~","",""
"400713190486573076","l2oseTMG#7997","24-Nov-18 06:40 PM","Now working on resize more~","",""
"400713190486573076","l2oseTMG#7997","24-Nov-18 06:40 PM","........ Well I have 9 version so","",""
"400713190486573076","l2oseTMG#7997","24-Nov-18 06:41 PM","lot of failing and frustration lol","",""
"400713190486573076","l2oseTMG#7997","24-Nov-18 06:42 PM","Hmm well on what part are you stuck on resize?","",""
"400713190486573076","l2oseTMG#7997","24-Nov-18 06:45 PM","Ahhh yeaaa more is a bit confusing~","",""
"359006063019950081","fufr#1439","24-Nov-18 09:52 PM","hard to tell without seeing the relevant piece of code but I would double check how you start and stop reading the file and creating images. There is probably something wrong with a loop, a condition, or a structure","",""
"359006063019950081","fufr#1439","24-Nov-18 09:52 PM","you can send me a private message","",""
"359006063019950081","fufr#1439","24-Nov-18 09:53 PM","better not to spoil the fun for people who have not finished the pset yet","",""
"257623299683647492","tilde#7562","24-Nov-18 10:07 PM","with?","",""
"257623299683647492","tilde#7562","24-Nov-18 10:08 PM","ok","",""
"257623299683647492","tilde#7562","24-Nov-18 10:08 PM","won't be here long though","",""
"257623299683647492","tilde#7562","24-Nov-18 10:08 PM","but I'll take a look sure","",""
"227842241006272523","ahcos#1479","25-Nov-18 09:34 PM","ok i'm kinda puzzled here, there's something not working in my code and i just can't seem to find the issue","",""
"227842241006272523","ahcos#1479","25-Nov-18 09:35 PM","i'm right to assume that `fwrite` just like `fread` ""moves"" the indicator of where the stream is right now, right?","",""
"227842241006272523","ahcos#1479","25-Nov-18 09:36 PM","more precisely, the current position of the pointer in the stream","",""
"227842241006272523","ahcos#1479","25-Nov-18 09:36 PM","so something like","",""
"227842241006272523","ahcos#1479","25-Nov-18 09:36 PM","```c
                fwrite(outptr, 1, 512, inptr);
                size = fread(arr, 1, 512, inptr);
```","",""
"227842241006272523","ahcos#1479","25-Nov-18 09:37 PM","should (in theory) move the pointer 1024 bytes in the `inptr` stream, right?","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 09:39 PM","why would you be writing anything to inptr?","",""
"227842241006272523","ahcos#1479","25-Nov-18 09:41 PM","i'm sorry i don't understand your question","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 09:42 PM","you can't `fwrite` from outptr to inptr like that.  ```C
size_t fwrite(void* ptr, size_t size, size_t blocks, FILE* fp);
```","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 09:42 PM","fwrite writes out to file fp an element of size bytes blocks number of times. So, for example, if size is 50 and blocks 10, then fwrite will write to fp 10 times, each time a ""chunk"" of 50 bytes (for a total of 500 bytes). On each fwrite, it will write from the buffer pointer to by ptr.","",""
"227842241006272523","ahcos#1479","25-Nov-18 09:43 PM","so i got the fields filled in wrong","",""
"227842241006272523","ahcos#1479","25-Nov-18 09:43 PM","oh boy","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 09:43 PM","i'd expect that you fread into a buffer and then fwrite out of that buffer","",""
"227842241006272523","ahcos#1479","25-Nov-18 09:45 PM","oh","",""
"227842241006272523","ahcos#1479","25-Nov-18 09:45 PM","hm","",""
"227842241006272523","ahcos#1479","25-Nov-18 09:47 PM","well yes that might be the problem haha","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 09:47 PM","that's why you have a buffer, since you can't read from a file and write directly to another file.","",""
"227842241006272523","ahcos#1479","25-Nov-18 09:47 PM","wasn't aware of that ...","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 09:48 PM","what did you think `arr` was for?","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 09:48 PM","you would have done the same in resize and whodunit.","",""
"227842241006272523","ahcos#1479","25-Nov-18 09:49 PM","it's an issue of mine to not take literally what is written in the manual ... was struggling before on #resize because i assumed that `biSize` and `bfSizeImage` was the same, idiotic me","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 09:49 PM","I mean as far as the fread and fwrites were concerned in resize. üòÉ","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 09:50 PM","you read into memory (using a variable) and then wrote from there to the file.","",""
"227842241006272523","ahcos#1479","25-Nov-18 09:50 PM","you live, you learn i guess ... C is still sometimes hard for me to wrap my mind around, it's getting better but i'm still flawed by growing up with Java where everything made easy for you and you have to think less about what is happening","",""
"227842241006272523","ahcos#1479","25-Nov-18 09:51 PM","coding in Java, the JVM wouldn't even have let me put `inptr` as a buffer in the first placed and would've complained and not be compiling","",""
"227842241006272523","ahcos#1479","25-Nov-18 09:52 PM","in C there's no such think doing the thinking for you, when you mess up you do mess up üòÑ","",""
"227842241006272523","ahcos#1479","25-Nov-18 09:52 PM","it seems to be working now, though ... thanks anyway ‚ù§","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 09:52 PM","üòÉ","",""
"227842241006272523","ahcos#1479","25-Nov-18 10:10 PM","okay nvm, it's NOT working but this time it's even weirder, because it does find the first jpg but seems to be stuck after that ü§î i can open the first jpg, but after that it's giving up üòÖ","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:06 PM","so now i can find two jpgs but not more ... and i have no idea why. if it was only finding ONE jpg at a time, there'd be something wrong with my loop ending too early or something, but when it's finding at least TWO jpgs, that's not the issue","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 11:15 PM","what's your pseudocode for looping over the raw file?","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:24 PM","```
while size == 512: 
    read infile to buffer;
    if head of jpg found:
        name jpg;
        open pointer for outfile;
            while(1):
                write to outfile;
                read new content from infile to buffer;
                recheck if size of buffer is == 512 OR next block is start of header
                    if there is a new jpg OR it is EOF, close outpointer, rewind inpointer, break loop, start with outer loop
```","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:24 PM","more or less","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 11:26 PM","so what happens if your `if head of jpg found` is false?","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:26 PM","``` 
else
    continue;
```","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:27 PM","basically it writes from buffer to outpointer unless it finds the head of a jpg OR size != 512","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:27 PM","then re-loads buffer ... and so on","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:27 PM","for one file at a time","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 11:28 PM","how are you checking that the header is not a jpg?","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:29 PM","mh well i don't ?","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 11:29 PM","`AND next block is not start of header`","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 11:29 PM","so how do you determine that?","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:30 PM","lemme rephrase","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 11:30 PM","I'd suggest that you should read in 512 bytes and then deal with those bytes (with no separate read later, and no rewinding)","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:31 PM","so i check if the next block is == 512","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:31 PM","and wether it's the start of a new header","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:31 PM","if it's not 512, the whole program comes to an halt","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:32 PM","and if it's == 512 and a new header, it should restart with a new file","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 11:32 PM","and where are you closing each jpg once you've determined you have all the bytes for it?","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 11:32 PM","nm, i see that it's in your inner loop","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:32 PM","we can assume that the jpgs are packed together right","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:32 PM","y","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 11:32 PM","yes","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:33 PM","idk, i'm reading in 512, write those out to the file, then read in the next 512","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:33 PM","and so on","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 11:34 PM","so you only go to the outer loop when you find a signature?  and then, you rewind and read those 512 bytes in again, and check for a signature again?","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:35 PM","ok so i've skipped the rewinding in the most inner while-loop for once, as it was unnecessary","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:35 PM","that gives me some DIFFERENT jpg, but still only two ü§î","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 11:36 PM","there should be no need to rewind at all.  I'd rethink the logic.  If you read in 512 bytes, decide what to do with them if it's a signature or not a signature.  I see no need for an inner loop.","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:36 PM","yes i go to the outer loop once i've found a signature, so it starts with naming and opening a new file","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:37 PM","i don't have any rewind in the code now, took it out","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:37 PM","you're right it was unnecessary","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:38 PM","well maybe there's no need for an inner loop but in theory it should work that way, shouldn't it?","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 11:39 PM","as long as you don't end up skipping any blocks or signatures","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 11:39 PM","which it sounds like you are, if you only ever find one or two","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:40 PM","yes exactly that's what i'm thinking","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:40 PM","but i can't figure out where i'm skipping over blocks","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 11:42 PM","if you fread in two different places, the odds are increased that you end up throwing away blocks if you aren't careful","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:42 PM","yes i can see that","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:44 PM","idk, it's really weird. i'll rewrite the code without the inner loop now","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:45 PM","although i don't like the checks for ""have i found a new jpg or am i in an existing jpg still""","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:45 PM","but anyway maybe that'll help","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 11:45 PM","that check is as simple as asking if outfile is null or not","",""
"490251669951741952","Joe Soon#6318","25-Nov-18 11:46 PM","Hi all, I have a question: how can I create an array of 512 bytes that I can use to check the header? 

I've tried arrays of 512 ints, arrays of 512 chars, and tried unsuccessfully to create my own file type called bytes. With the arrays of ints and chars, I found that I get an error that says I cannot compare a pointer to an int.","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 11:46 PM","you need an array of 512 BYTEs    (you used BYTEs in resize)","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 11:46 PM","ie, unsigned char","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:46 PM","i'm not saying that the check is HARD, it's just that i like to avoid checks like that when i can üòÖ","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 11:47 PM","why?","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:47 PM","bad habbit? idk","",""
"393854278764068875","curiouskiwi#1671","25-Nov-18 11:47 PM","checking whether a pointer is NULL is pretty standard all the time","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:47 PM","used to have tons of checks in my code, but a friend of mine (who's a lot more experienced) told me to reduce the amount of `if`s i have in my code when they're unnecessary","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:48 PM","because it kinda makes code hard to read so yea","",""
"227842241006272523","ahcos#1479","25-Nov-18 11:48 PM","well w/e i'll rewrite that code now mb that'll help","",""
"227842241006272523","ahcos#1479","26-Nov-18 12:56 AM","welp. so now i've re-written the coded as suggested","",""
"227842241006272523","ahcos#1479","26-Nov-18 12:56 AM","still the same error üòÑ","",""
"227842241006272523","ahcos#1479","26-Nov-18 12:58 AM","only finds 2 jpgs and i've no idea why ü§î","",""
"393854278764068875","curiouskiwi#1671","26-Nov-18 12:59 AM","if you're really stuck, send me a private message with your code and I'll give you a hint.","",""
"227842241006272523","ahcos#1479","26-Nov-18 01:21 AM","it has to be a pretty simple mistake i'm quite sure of that but i just can't figure it out - it's even weirder that i get the same ""error"" with two seperate approaches üòÖ","",""
"393854278764068875","curiouskiwi#1671","26-Nov-18 01:27 AM","@ahcos my offer still stands.","",""
"227842241006272523","ahcos#1479","26-Nov-18 01:27 AM","ye creating a pastebin","",""
"489107031492526083","wisemanlove#0497","26-Nov-18 04:29 PM","https://gist.github.com/wisemanlove/eb966afabe2fc87a2530f54629ba0326","",""
"489107031492526083","wisemanlove#0497","26-Nov-18 04:30 PM","for some reason my code is taking the card.raw file an attributing it to a pointer which is coming back as null","",""
"489107031492526083","wisemanlove#0497","26-Nov-18 04:30 PM","i'm not sure why this is","",""
"329977469350445069","Lord of Galaxy#9211","26-Nov-18 06:30 PM","Huh","",""
"489107031492526083","wisemanlove#0497","26-Nov-18 08:12 PM","huh huh","",""
"489107031492526083","wisemanlove#0497","26-Nov-18 08:12 PM","if i try and run the code by typing in ./recover card.raw","",""
"489107031492526083","wisemanlove#0497","26-Nov-18 08:12 PM","i get an error message saying pointer is equal to null","",""
"489107031492526083","wisemanlove#0497","26-Nov-18 08:13 PM","i.e FILE *file = fopen(argv[1],r)","",""
"489107031492526083","wisemanlove#0497","26-Nov-18 08:13 PM","is equal to null","",""
"489107031492526083","wisemanlove#0497","26-Nov-18 08:14 PM","@Lord of Galaxy","",""
"329977469350445069","Lord of Galaxy#9211","26-Nov-18 08:19 PM","A error message? But your program is built to work even if file ends up being null","",""
"329977469350445069","Lord of Galaxy#9211","26-Nov-18 08:19 PM","Are you talking of the error message you print on line 19 or something else?","",""
"393854278764068875","curiouskiwi#1671","26-Nov-18 08:25 PM","is the card.raw file in the same folder where you are running recover?","",""
"489107031492526083","wisemanlove#0497","27-Nov-18 03:11 PM","it is","",""
"489107031492526083","wisemanlove#0497","27-Nov-18 03:14 PM","","https://cdn.discordapp.com/attachments/395684916056031245/516964946815483905/Capture.PNG",""
"456226577798135808","Deleted User#0000","27-Nov-18 03:28 PM","@wisemanlove are you sure that card.raw is a correct file or it contents the some data?
however, doesn't appear this line
`fprintf(stderr, ""Could not open %s\n"", argv[1]);`
because the `file` variable is not NULL.
In that screeshot shows the error on the 33th line","",""
"489107031492526083","wisemanlove#0497","27-Nov-18 03:28 PM","i dont understand the second half of your message","",""
"489107031492526083","wisemanlove#0497","27-Nov-18 03:29 PM","i'll redownload the card.raw file","",""
"456226577798135808","Deleted User#0000","27-Nov-18 03:32 PM","Error occurs in this line?
`31                 if (atoi(buffer[0]) == 0xff &&`","",""
"329977469350445069","Lord of Galaxy#9211","27-Nov-18 04:50 PM","Check line 24","",""
"489107031492526083","wisemanlove#0497","27-Nov-18 05:24 PM","getting this when i click on the ide","https://cdn.discordapp.com/attachments/395684916056031245/516997768254980097/Capture.PNG",""
"489107031492526083","wisemanlove#0497","27-Nov-18 05:24 PM","i don't see whats wrong with line 24?","",""
"489107031492526083","wisemanlove#0497","27-Nov-18 05:24 PM","@Lord of Galaxy","",""
"514924085633875968","Rask Wanscher#3145","27-Nov-18 05:25 PM","I get the same","",""
"514924085633875968","Rask Wanscher#3145","27-Nov-18 05:25 PM","I think the IDE is down","",""
"456226577798135808","Deleted User#0000","27-Nov-18 05:32 PM","@wisemanlove try this
`char buffer[512];`
without the pointer","",""
"329977469350445069","Lord of Galaxy#9211","27-Nov-18 05:56 PM","@wisemanlove ^","",""
"329977469350445069","Lord of Galaxy#9211","27-Nov-18 05:57 PM","What you had was an array of pointers","",""
"489107031492526083","wisemanlove#0497","27-Nov-18 07:18 PM","ah yeah","",""
"489107031492526083","wisemanlove#0497","27-Nov-18 07:18 PM","thanks a bunch","",""
"271659364425662466","Cynub#4990","28-Nov-18 05:22 PM","I have a small issue, nothing much, but I can't seem to remove these corrupted ""files""?","",""
"271659364425662466","Cynub#4990","28-Nov-18 05:23 PM","","https://cdn.discordapp.com/attachments/395684916056031245/517359767920836609/unknown.png",""
"271659364425662466","Cynub#4990","28-Nov-18 05:23 PM","whoops","",""
"271659364425662466","Cynub#4990","28-Nov-18 05:25 PM","Anyone else having this issue?","",""
"271659364425662466","Cynub#4990","28-Nov-18 05:25 PM","","https://cdn.discordapp.com/attachments/395684916056031245/517360437755510805/unknown.png",""
"456226577798135808","Deleted User#0000","28-Nov-18 07:29 PM","How about this?
`rm 00*`
`rm 12*`
Do you try?","",""
"413696527308161034","Harsh#7882","28-Nov-18 07:45 PM","rm 000.jpg????","",""
"413696527308161034","Harsh#7882","28-Nov-18 07:45 PM","rm 000.jp????","",""
"413696527308161034","Harsh#7882","28-Nov-18 07:45 PM","rm 000????","",""
"413696527308161034","Harsh#7882","28-Nov-18 07:45 PM","rm 12????","",""
"413696527308161034","Harsh#7882","28-Nov-18 07:45 PM","maybe try this","",""
"413696527308161034","Harsh#7882","28-Nov-18 07:45 PM","i guess it will work","",""
"413696527308161034","Harsh#7882","28-Nov-18 11:20 PM","https://gist.github.com/hharshbbhardwaj/b21c0db9399232dd2d1bdd5746780f9c","",""
"413696527308161034","Harsh#7882","28-Nov-18 11:21 PM","üòÉ recover.c exists.
üòÉ recover.c compiles.
üòÉ handles lack of forensic image
üòÉ recovers 000.jpg correctly
üò¶ recovers middle images correctly
    recovered image does not match
üòÉ recovers 049.jpg correctly","",""
"413696527308161034","Harsh#7882","28-Nov-18 11:21 PM","I can view the images properly....","",""
"413696527308161034","Harsh#7882","28-Nov-18 11:22 PM","But i am stuck on this","",""
"271659364425662466","Cynub#4990","29-Nov-18 04:35 AM","I can't run check50, anyone else?","",""
"271659364425662466","Cynub#4990","29-Nov-18 04:35 AM","https://cdn.discordapp.com/attachments/395684916056031245/517360437755510805/unknown.png","",""
"393854278764068875","curiouskiwi#1671","29-Nov-18 04:38 AM","It won't run if you have any corrupted files in your folder.  I'd suggest if you do, make a new folder and move recover.c to that, and run check50 from there.","",""
"271659364425662466","Cynub#4990","29-Nov-18 04:50 AM","Thanks","",""
"271659364425662466","Cynub#4990","29-Nov-18 05:06 AM","Now that I've finally ran it, it says ""Expected exit code 0, not 1""","",""
"271659364425662466","Cynub#4990","29-Nov-18 05:07 AM","But there's only one instance of return 1","",""
"271659364425662466","Cynub#4990","29-Nov-18 05:07 AM","And when echo $? is ran, it prints 0","",""
"393854278764068875","curiouskiwi#1671","29-Nov-18 06:37 AM","@Cynub for which test?","",""
"271659364425662466","Cynub#4990","29-Nov-18 04:04 PM","Here:","",""
"271659364425662466","Cynub#4990","29-Nov-18 04:04 PM","","https://cdn.discordapp.com/attachments/395684916056031245/517702468398874625/unknown.png",""
"271659364425662466","Cynub#4990","29-Nov-18 04:05 PM","Testing if it compiles","",""
"271659364425662466","Cynub#4990","29-Nov-18 04:05 PM","Which, it does","",""
"393854278764068875","curiouskiwi#1671","29-Nov-18 09:14 PM","it compiles when it's in a folder all by itself?  (ie, you haven't #included any other files that check50 doesn't know about?)","",""
"490251669951741952","Joe Soon#6318","30-Nov-18 12:10 AM","Hi, am I correct in thinking that slack space at the beginning of the card does not necessarily exist in blocks of 512?","",""
"393854278764068875","curiouskiwi#1671","30-Nov-18 12:29 AM","it does.  You need only check the first 4 bytes of each 512 block for the signature.","",""
"490251669951741952","Joe Soon#6318","30-Nov-18 12:32 AM","Hmm ok.","",""
"490251669951741952","Joe Soon#6318","30-Nov-18 12:32 AM","I'm trying to figure out why my first and last files are not matching.","",""
"490251669951741952","Joe Soon#6318","30-Nov-18 12:32 AM","I get an image in my file 049, and then nothing in 000.","",""
"490251669951741952","Joe Soon#6318","30-Nov-18 12:33 AM","Everything in between seems to be correct.","",""
"393854278764068875","curiouskiwi#1671","30-Nov-18 12:38 AM","000 should be your first image","",""
"490251669951741952","Joe Soon#6318","30-Nov-18 12:39 AM","Yes, 000 is my first image.","",""
"490251669951741952","Joe Soon#6318","30-Nov-18 12:40 AM","*typo in earlier message","",""
"271659364425662466","Cynub#4990","30-Nov-18 04:46 AM","Thanks! Just remembered that I defined something in another file","",""
"271659364425662466","Cynub#4990","30-Nov-18 04:46 AM","And #included it","",""
"514924085633875968","Rask Wanscher#3145","03-Dec-18 08:36 PM","Am i the only one who found this one to be the most straight forward problem of this week?","","üëå (1)"
"370182921459335168","karan#2733","05-Dec-18 03:18 PM","@Rask Wanscher  Seems so :D... I found whodunit to be relatively easy","",""
"370182921459335168","karan#2733","05-Dec-18 03:18 PM","And resize too when compared to this","",""
"370182921459335168","karan#2733","05-Dec-18 03:19 PM","https://pastebin.com/3fm96VkV","",""
"370182921459335168","karan#2733","05-Dec-18 03:19 PM","My code gets stuck in an infinite loop for the last file...","",""
"370182921459335168","karan#2733","05-Dec-18 03:19 PM","I'm unable to fix it","",""
"370182921459335168","karan#2733","05-Dec-18 03:19 PM","Any hints are appreciated... @curiouskiwi","",""
"370182921459335168","karan#2733","05-Dec-18 04:06 PM","https://pastebin.com/yyemjXzr","",""
"370182921459335168","karan#2733","05-Dec-18 04:06 PM","This is the current version... Still stuck in an infinite loop","",""
"514924085633875968","Rask Wanscher#3145","05-Dec-18 05:32 PM","Yeah, your loop on line 54 will be true until the end of the entire raw file, therefore only recovering the first image","",""
"370182921459335168","karan#2733","05-Dec-18 05:57 PM","@Rask Wanscher why so?","",""
"370182921459335168","karan#2733","05-Dec-18 05:57 PM","Isn‚Äôt that how we‚Äôre supposed to detect whether or not the file has ended?","",""
"370182921459335168","karan#2733","05-Dec-18 07:16 PM","So... the code works fine now... But I don't understand why... @curiouskiwi","",""
"370182921459335168","karan#2733","05-Dec-18 07:16 PM","`while (fread(buffer, BLOCK_SIZE, 1, raw_file) && (buffer[0] != 0xff || buffer[1] != 0xd8 || buffer[2] != 0xff || (buffer[3] & 0xf0) != 0xe0))
            {
                fwrite(buffer, BLOCK_SIZE, 1, img);
            }`
This is the snippet of code now
`while (fread(buffer, BLOCK_SIZE, 1, raw_file) == 1 && (buffer[0] != 0xff || buffer[1] != 0xd8 || buffer[2] != 0xff || (buffer[3] & 0xf0) != 0xe0))
            {
                fwrite(buffer, BLOCK_SIZE, 1, img);
            }`
This is what it was
How does removing the == 1 part make it function correctly?","",""
"300110246238486530","Mr. Distinguished#9941","07-Dec-18 03:17 PM","Haha my program opens 50  blank .jpgs. Progress!","",""
"441271886278557706","ingloriousbastard#6385","09-Dec-18 12:02 PM","Will this: ```while (fread(&buffer, 1, FAT_BLOCK, inptr))```  only check what fread returns or will it also read one block and move the pointer?","",""
"441271886278557706","ingloriousbastard#6385","09-Dec-18 05:20 PM","nvm got it","",""
"132693255094534144","snow#8439","10-Dec-18 06:04 PM","@ke1echi I have the same issue, I get 50 photos but they aren't showing","",""
"132693255094534144","snow#8439","10-Dec-18 07:16 PM","oh duh, okay fixed. It works now but confused about some portions","",""
"132693255094534144","snow#8439","10-Dec-18 07:43 PM","the walkthrough helped a lot on this one, so if anyone is stuck watching that really helped","",""
"322044236222562307","skies#3501","11-Dec-18 03:46 PM","50 blank images üò¢","",""
"322044236222562307","skies#3501","11-Dec-18 03:47 PM","Also how do I exit the loop?","",""
"322044236222562307","skies#3501","11-Dec-18 03:48 PM","I want to exit when size of block is less than 512","",""
"257623299683647492","tilde#7562","11-Dec-18 05:14 PM","you can either use the `break` statement that will interrupt the loop execution, or make it so the condition evaluates to false by the end of it","",""
"322044236222562307","skies#3501","11-Dec-18 08:54 PM","i don't know how to check that fread isn't returning 512 bytes","",""
"322044236222562307","skies#3501","11-Dec-18 08:55 PM","can i compare fread with 512","",""
"322044236222562307","skies#3501","11-Dec-18 09:10 PM","oh nvm i found answer in video","",""
"322044236222562307","skies#3501","11-Dec-18 09:10 PM","silly me","",""
"322044236222562307","skies#3501","11-Dec-18 10:08 PM","finally done!!","","üëè (2)"
"280650666651680768","Yu#6113","15-Dec-18 11:25 AM","i made it!!!","",""
"329977469350445069","Lord of Galaxy#9211","15-Dec-18 01:30 PM","Good","",""
"352468291169812480","db#2654","25-Dec-18 04:16 PM","So my program exists and compiles but yet creates no jpgs I was wondering if someone could help me with this. 
I think the problem might be outing when I try to create the file. 
to do this I have:","",""
"352468291169812480","db#2654","25-Dec-18 04:17 PM","char filename[8];
sprintf(filename , ""%s.jpg"" , s);
FILE *jpg = fopen(filename, ""w"");
fwrite(f, sizeof(BYTE), g, jpg);

I also have my full program here
https://pastebin.com/Wq1T35AJ","",""
"224937960431157260","Penderrin#5312","29-Dec-18 09:03 AM","Anyone have a short exp. for why the following code produces seg. fault?","",""
"224937960431157260","Penderrin#5312","29-Dec-18 09:03 AM","```#include <stdio.h>

int main(void)
{
    char *str = ""123.jpg"";

    // printf(""%03i.jpg"", 0);

    sprintf(str, ""%03i.jpg"", 0);
    printf(""%s \n"", str);
}```","",""
"393854278764068875","curiouskiwi#1671","29-Dec-18 09:17 AM","your `str` is a string literal, stored in readonly memory by definition.  as such, if you try to change it using sprintf, you will segfault.","",""
"393854278764068875","curiouskiwi#1671","29-Dec-18 09:17 AM","make that char str[]  (a char array) instead and it will work.","",""
"224937960431157260","Penderrin#5312","29-Dec-18 10:34 AM","I found that ```    char *str = malloc(strlen(""ddd.jpg"")+1);

    sprintf(str, ""%03i.jpg"", 0);
    printf(""%s \n"", str);
``` will also work","",""
"224937960431157260","Penderrin#5312","29-Dec-18 10:36 AM","Running into something strange where the compiler tells me that I have an undeclared identifyer ... but it is defined upstream","",""
"224937960431157260","Penderrin#5312","29-Dec-18 10:37 AM","``` char *outfile = malloc(strlen(""ddd.jpg"")+1);

... 

sprintf(outfile, ""%03i.jpg"", intFileNum);
FILE *outptr = fopen(outfile, ""w"");
if (outptr == NULL)

...

// Close old output file
fclose(outptr);

// Open new output file
sprintf(outfile, ""%03i.jpg"", intFileNum);
FILE *outptr = fopen(outfile, ""w"");```","",""
"224937960431157260","Penderrin#5312","29-Dec-18 10:37 AM","The compiler doesn't give an error for the first usage but for the next usage (after the ...) it does","",""
"224937960431157260","Penderrin#5312","29-Dec-18 10:37 AM","The error is on 'outptr'","",""
"329977469350445069","Lord of Galaxy#9211","29-Dec-18 11:00 AM","It appears to me you're declaring the same thing twice","",""
"224937960431157260","Penderrin#5312","29-Dec-18 11:02 AM","Well, the counter `intFileNum will change","",""
"224937960431157260","Penderrin#5312","29-Dec-18 11:02 AM","So my hope was to close the file, and re-open a new file, with a new name","",""
"224937960431157260","Penderrin#5312","29-Dec-18 11:04 AM","```c FILE *outptr = fopen(""000.jpg"", ""w"");

FILE *outptr2 = fopen(""001.jpg"", ""w"");```","",""
"224937960431157260","Penderrin#5312","29-Dec-18 11:05 AM","This would be the intent, but the creation of extra vars isn't ideal ... I was hoping to avoid this, and simply update the value of 'outptr'","",""
"329977469350445069","Lord of Galaxy#9211","29-Dec-18 07:36 PM","For which you should be able to do `*outputr = fopen (...)`","",""
"329977469350445069","Lord of Galaxy#9211","29-Dec-18 07:36 PM","Though I'm not 100% sure","",""
"224937960431157260","Penderrin#5312","29-Dec-18 10:51 PM","Yes, that is a typo.  Seems though, that clang does not like it when you declare the pointer inside an if/else statement","",""
"224937960431157260","Penderrin#5312","29-Dec-18 10:57 PM","```c
if (foo)
{
    ...
}
else:
{
    FILE *outptr = fopen(""output1.txt"", ""w"");
}

... more code ...

fclose(outptr);
outptr = fopen(""output2.txt"", ""w"");
fwrite(buffer, size, num, outptr);
```","",""
"224937960431157260","Penderrin#5312","29-Dec-18 10:58 PM","For the later uses of the outptr variable, this produces an error at compile: error: use of undeclared identifier 'outptr'
                    fclose(outptr);","",""
"224937960431157260","Penderrin#5312","29-Dec-18 10:58 PM","If the declaration is moved above the if/else though, it succeeds","",""
"224937960431157260","Penderrin#5312","29-Dec-18 10:59 PM","Like this:","",""
"224937960431157260","Penderrin#5312","29-Dec-18 10:59 PM","```c
FILE *outptr = NULL

if (foo)
{
    ...
}
else:
{
    outptr = fopen(""output1.txt"", ""w"");
}
```","",""
"219295627459166208","VelocityIsntSpeed#9490","30-Dec-18 02:08 AM","@Nathan That's because of scoping, it's the intended language behaviour and any compiler should do this. Variables declared inside a curly bracket block only exist inside of it. You can even open a curly bracket block without any `if` statement or anything like that.","","üëç (1)"
"224937960431157260","Penderrin#5312","30-Dec-18 03:05 AM","```c
 long arrBuffer[1 * 512];

fread(arrBuffer, 1, 512, inptr);

printf(""First byte is %ld \n"", arrBuffer[0]) ```","",""
"224937960431157260","Penderrin#5312","30-Dec-18 03:05 AM","I have some code like this","",""
"224937960431157260","Penderrin#5312","30-Dec-18 03:05 AM","Yet it seems that the values I'm getting for `arrBuffer[0]`  are very large, and never `0xff`","",""
"224937960431157260","Penderrin#5312","30-Dec-18 03:06 AM","Any ideas?","",""
"224937960431157260","Penderrin#5312","30-Dec-18 03:07 AM","The program seems to read through the entire memory card, but does not identify any JPG, because it is not matching the 4 byte header in any of the 512 byte reads","",""
"393854278764068875","curiouskiwi#1671","30-Dec-18 03:10 AM","did you use the `if` statement given to you in the walkthrough?","",""
"393854278764068875","curiouskiwi#1671","30-Dec-18 03:10 AM","is your buffer made up of 512 bytes?  (ie, 512 unsigned chars)?","",""
"224937960431157260","Penderrin#5312","30-Dec-18 03:11 AM","Yep, using the if statement","",""
"393854278764068875","curiouskiwi#1671","30-Dec-18 03:12 AM","hmm, you are using a `long` array?","",""
"224937960431157260","Penderrin#5312","30-Dec-18 03:12 AM","I declared a buffer of type long, yep","",""
"393854278764068875","curiouskiwi#1671","30-Dec-18 03:12 AM","that's a 64-bit integer.  you want an array of bytes (8-bit)","",""
"224937960431157260","Penderrin#5312","30-Dec-18 03:14 AM","Ok, got it.  I think I'm getting mixed up with bits vs. bytes and when C produces either","",""
"224937960431157260","Penderrin#5312","30-Dec-18 03:15 AM","In sizeof() for example, vs in fread() and fwrite()","",""
"329977469350445069","Lord of Galaxy#9211","30-Dec-18 08:09 PM","It's mostly always in bytes, not bits","",""
"168379455318917120","Alex J#1049","10-Jan-19 12:28 AM","Can anyone help me, I get all the images but they don't look right. https://gyazo.com/3a7a89773840d641286985758d28200f , if someone could tell me what's wrong I would appreciate it. https://pastebin.com/GJPfJ65m","",""
"492450454341550100","WhipStreak23#6131","10-Jan-19 01:03 AM","Can someone explain recover and how I'm supposed to do it? walkthrough didn't help that much...","",""
"393854278764068875","curiouskiwi#1671","10-Jan-19 11:55 PM","@WhipStreak23 I'm assuming you've actually read through the entire spec?  https://docs.cs50.net/2019/x/psets/3/recover/recover.html     (it sounds like a silly question, but I've seen other students try to do psets based on watching the walkthrough only because they didn't know that the spec existed.)","",""
"492450454341550100","WhipStreak23#6131","11-Jan-19 02:20 AM","I'm sorry, I didn't see that.","",""
"329977469350445069","Lord of Galaxy#9211","11-Jan-19 08:42 AM","So it wasn't a silly question after all","","üòÇ (1)"
"391899069192208385","lilo#3592","12-Jan-19 07:50 PM","So two things I'd really appreciate some help on: when trying to create a condition to let us know when we reach the end of the card, how do we get/use fread's output? And when I try to use sprintf to name the file it says it cannot be used with files and only char *?","",""
"391899069192208385","lilo#3592","12-Jan-19 07:50 PM","Any help is appreciated","",""
"393854278764068875","curiouskiwi#1671","12-Jan-19 10:23 PM","@lilo `fread` returns the number of items read, so for example `fread(buffer, 1, 512, input);` will return 512 if 512 bytes were read.  So could use it in your loop  "" while fread (..) = 512""   and the loop won't run if fread didn't read the bytes.","",""
"393854278764068875","curiouskiwi#1671","12-Jan-19 10:24 PM","as for the filename, it needs to be a char array that can hold the chars of the name, so if your filename is ""000.jpg"", that requires 8 chars.","",""
"391899069192208385","lilo#3592","13-Jan-19 04:22 AM","@curiouskiwi thank you so much. So just to confirm I need to write the comparison as: 
while (fread (..) == 512)
I wasn't aware of this (..) syntax.","",""
"393854278764068875","curiouskiwi#1671","13-Jan-19 04:28 AM","that's not syntax ... that was just me using `...` instead of typing all the arguments","",""
"391899069192208385","lilo#3592","13-Jan-19 06:31 AM","@curiouskiwi haha sorry, too literal. Thank you","",""
"391899069192208385","lilo#3592","13-Jan-19 07:55 PM","Using the comparison in the walkthrough, I keep getting error: comparison of constant *random number* with expression of type char is always false. Maybe there's something wrong with my format?
If (temp[0] == 0xff && temp[1] == 0xd8 &&....)","",""
"393854278764068875","curiouskiwi#1671","13-Jan-19 08:46 PM","@lilo  is your `temp` declared as an array of 512 bytes?","",""
"234679095378706433","Blauelf#6622","16-Jan-19 01:56 PM","@lilo That's because you use `char`, which on our platform is the same as `signed char`, with a range from -128 to 127. Your hexadecimal number is >127 (`0x7f`), so that comparison can never be true (I actually made exactly same mistake and got same warning).
Use `unsigned char` (or `byte` as defined in `cs50.h`) instead, which is of same size, just has a range from 0 to 255 (0 to 127 are encoded the same, but values with highest significance bit set are interpreted differently).","",""
"492450454341550100","WhipStreak23#6131","16-Jan-19 04:25 PM","Hi, I decided to look at `card.raw` after watching the walkthrough and reading the spec and found this :                         `4669 6c65 2073 697a 6520 6973 2062 6967 6765 7220 74
6861 6e20 616c 6c6f 7765 6420 2838 4d42 292e 2053 69
7a65 2069 7320 3131 3635 3135 3834 2062 7974 6573 0a
`","",""
"492450454341550100","WhipStreak23#6131","16-Jan-19 04:26 PM","I am wondering how I am supposed to get 50 JPEGs from here and I don't see any 1 of the 3 bytes that go at the header of the JPEG...","",""
"492450454341550100","WhipStreak23#6131","16-Jan-19 04:27 PM","Or am I not understanding fully?","",""
"234679095378706433","Blauelf#6622","16-Jan-19 06:06 PM","The thing you posted is actually text. ""File size is bigger than allowed (8MB). Size is 11651584 Bytes"" (ASCII, I just used a table to translate)","",""
"234679095378706433","Blauelf#6622","16-Jan-19 06:07 PM","The header can only start at a multiple of 512 bytes, so if you read in chunks of 512 bytes (512 bytes being a ""sector""), it must be at the start of one.","",""
"234679095378706433","Blauelf#6622","16-Jan-19 06:38 PM","Oh no, the easteregg in `card.raw` is broken!","",""
"234679095378706433","Blauelf#6622","16-Jan-19 06:39 PM","It's still there, but the link goes 404","",""
"234679095378706433","Blauelf#6622","16-Jan-19 06:49 PM","I like the many eastereggs, even though they usually led me to the same content (which even `whodunit` featured a few years ago)","",""
"168618507746017280","ZeloAvarosa#6891","17-Jan-19 04:17 PM","will we be needing the bmp.h file for this?","",""
"168618507746017280","ZeloAvarosa#6891","17-Jan-19 04:26 PM","because im getting a segfault and from my notes im not doing anything wrong","",""
"168618507746017280","ZeloAvarosa#6891","17-Jan-19 04:42 PM","```    int buffer[512];

    //read file and put into buffer
    fread(buffer, sizeof(int), 1, raw_file);```","",""
"168618507746017280","ZeloAvarosa#6891","17-Jan-19 04:42 PM","its still giving a segfault","",""
"168618507746017280","ZeloAvarosa#6891","17-Jan-19 05:01 PM","```   int*bf = malloc(sizeof(int));
    fread(&bf, sizeof(int), 1, raw_file);```","",""
"168618507746017280","ZeloAvarosa#6891","17-Jan-19 05:01 PM","im just so confused to what im doing wrong","",""
"168618507746017280","ZeloAvarosa#6891","17-Jan-19 05:02 PM","because im using an actual photo and it still segfaulting","",""
"234679095378706433","Blauelf#6622","17-Jan-19 05:02 PM","512 ints are not 512 bytes (but with that code, this means wasting memory only)","",""
"234679095378706433","Blauelf#6622","17-Jan-19 05:03 PM","Don't malloc if you don't need to.","",""
"168618507746017280","ZeloAvarosa#6891","17-Jan-19 05:03 PM","i dont get it, it should use the same memory as its allocated","",""
"234679095378706433","Blauelf#6622","17-Jan-19 05:05 PM","`&bf` is definitely wrong, don't use `&` there.","",""
"168618507746017280","ZeloAvarosa#6891","17-Jan-19 05:05 PM","fread wants the address of an integer","",""
"234679095378706433","Blauelf#6622","17-Jan-19 05:14 PM","Not the address of a pointer to integer.","",""
"234679095378706433","Blauelf#6622","17-Jan-19 05:24 PM","For me, some `byte buffer[512]` worked well. Had one `fread` for 512 bytes.","",""
"168618507746017280","ZeloAvarosa#6891","17-Jan-19 06:48 PM","now im having trouble copying the image","",""
"404381883443707915","Gigglebot#1599","20-Jan-19 03:13 AM","i've successfully implemented the function to go through card.raw and identify 50 .jpg's (print statements confirm). upon reintroducing my write functions, i get a seg fault error. i'm suspecting it has to do with handling the last chunk that is < 512 bytes, but i don't know how to handle it. i tried to write with a sizeof(buffer) but i think the buffer size is still 512 bytes even if fread didn't return all 512. help?","",""
"404381883443707915","Gigglebot#1599","20-Jan-19 03:14 AM","it also didn't work if i just neglected to try to write that last chunk, which i assume would result in one bad image but a program that could still run","",""
"393854278764068875","curiouskiwi#1671","20-Jan-19 03:15 AM","sounds like its unrelated to that last image, unless you are getting all the other jpgs before it crashes","",""
"393854278764068875","curiouskiwi#1671","20-Jan-19 03:15 AM","are you sure the jpg file is open when you try to write to it?","",""
"404381883443707915","Gigglebot#1599","20-Jan-19 03:19 AM","it didn't create any .jpgs. the way i think i have it is with a null output pointer set at the beginning, and there after for each new jpg, create a file, open it, then write it but only after closing the last jpg (except for the first case)","",""
"404381883443707915","Gigglebot#1599","20-Jan-19 03:20 AM","so this seg fault should have do with the first image?","",""
"404381883443707915","Gigglebot#1599","20-Jan-19 03:25 AM","it might be a bit hard to tell. i'll send you my entire code. you can easily tell on the left margin which statements i took out to get my print statements for indentifying each jpg to work","",""
"393854278764068875","curiouskiwi#1671","20-Jan-19 03:34 AM","are you assuming that the first block of 512 you read will contain the header of the first jpg?","",""
"393854278764068875","curiouskiwi#1671","20-Jan-19 03:34 AM","oh, just saw your message. I will reply privately","",""
"522241274364035092","phantomware#8056","25-Jan-19 04:17 AM","after playing around I understand I need to define a `typedef uint8_t BYTE;` and create the buffer as a BYTE type but I don't fully understand why","",""
"522241274364035092","phantomware#8056","25-Jan-19 04:17 AM","is this just saying read 8 bits in as a BYTE?","",""
"522241274364035092","phantomware#8056","25-Jan-19 04:22 AM","I tried the buffer as int and other types but the values didn't make any sense...if you do ```int buffer[512];
fread(buffer, 1, 512, input);``` what is this reading into the buffer vs if you do do ```BYTE buffer[512]
fread(buffer, 1, 512, input)```","",""
"393854278764068875","curiouskiwi#1671","25-Jan-19 04:52 AM","a BYTE is one byte long. an int is 4 bytes long.  Your first one says, give me space for 512 ints worth of data. (2048 bytes) and I'm going to store ints in there.  Then, read 512 bytes from the input file into that buffer.  (so you'll have data in buffer[0] to buffer[127]. 
  Later on, when you try to compare  buffer[0] to 0xff, it won't match because buffer[0] will contain 4 bytes  and it will never match.","",""
"393854278764068875","curiouskiwi#1671","25-Jan-19 04:53 AM","the second one says, give me space for 512 BYTEs worth of data (512 bytes) and I'm going to store BYTEs there.  It then reads in 512 bytes from input and puts them into buffer.  buffer[0] will contain one byte which, if you are at a signature block, will be 0xff.","",""
"522241274364035092","phantomware#8056","25-Jan-19 05:05 AM","ahhh. makes sense. so there is no type for simply 8 bits of data so we have to create it, correct?","",""
"393854278764068875","curiouskiwi#1671","25-Jan-19 05:07 AM","yes","",""
"393854278764068875","curiouskiwi#1671","25-Jan-19 05:07 AM","or you could use uint8_t","",""
"393854278764068875","curiouskiwi#1671","25-Jan-19 05:07 AM","you don't need to create a new one, it's just for better readability that you use BYTE","",""
"522241274364035092","phantomware#8056","25-Jan-19 05:26 AM","gotcha.","",""
"295220103484669953","VangelisAndr#6126","26-Jan-19 03:02 AM","@curiouskiwi Does it mean that Slack space can be anywhere between 511 and 1 bytes?
Also, could I do FILE *inptr = fopen(argv[1], ""r""); instead of:

char *infile = argv[1];
FILE *inptr = fopen(inptr, ""r"");
?","",""
"247039406802862082","sampJ#2249","26-Jan-19 05:39 PM","@VangelisAndr i guess u can since the only reason u do char *infile=argv[1] is to remember whats in argv[1] ...its not argv[2] btw since the program takes only 2 arguements stored in argv[0] and argv[1]","","üëç (1)"
"250646623955189770","jubiiz#4846","26-Jan-19 07:33 PM","I did this problem without using malloc a single time, and yet I tested it multiple times and it always seems to work very well... is it ok?","",""
"393854278764068875","curiouskiwi#1671","26-Jan-19 10:21 PM","@jubiiz  you don't need to use malloc in this problem. üòÉ  There really is no need to.","",""
"112508045354901504","Kurosu#9318","27-Jan-19 01:37 AM","trying to do my loop for recover","",""
"112508045354901504","Kurosu#9318","27-Jan-19 01:37 AM","I do a while loop as while(buffer != NULL)","",""
"112508045354901504","Kurosu#9318","27-Jan-19 01:37 AM","but when I compile, I keep getting an error","",""
"112508045354901504","Kurosu#9318","27-Jan-19 01:37 AM","comparison of array 'buffer' not equal to a null pointer is always true","",""
"112508045354901504","Kurosu#9318","27-Jan-19 01:38 AM","I thought if i do an fread on my buffer and it tries to read 512 bytes as one segment and it can't, it'll point to NULL","",""
"112508045354901504","Kurosu#9318","27-Jan-19 01:38 AM","why does it think it'll always be true?","",""
"393854278764068875","curiouskiwi#1671","27-Jan-19 02:16 AM","it won't point to null.  A good while condition might be to check the return value of your fread call.  In the walkthrough video,  Zamyla hints that in this section.","https://cdn.discordapp.com/attachments/395684916056031245/538874799309717504/fread.png",""
"112508045354901504","Kurosu#9318","27-Jan-19 02:25 AM","if you use fread in a condition, it already moves the position forward and has already read from the file and moved that into data?","",""
"393854278764068875","curiouskiwi#1671","27-Jan-19 02:28 AM","yes","",""
"112508045354901504","Kurosu#9318","27-Jan-19 04:49 AM","everything compiles, It iterates and outputs 50 files, but I can't seem to open any files, and all except the first one come up with a weird filename output... Here's my code, I'm a bit lost on where to look at from here.","",""
"112508045354901504","Kurosu#9318","27-Jan-19 04:49 AM","https://pastebin.com/4unwTJu4","",""
"112508045354901504","Kurosu#9318","27-Jan-19 04:50 AM","","https://cdn.discordapp.com/attachments/395684916056031245/538913548860915712/unknown.png",""
"142517165160005632","Netraloip#0917","27-Jan-19 04:56 AM","just double checking, does char x[1]; mean  that x is 2 bytes long since computers start at 0 ? ( in the context of writing something into x )","",""
"112508045354901504","Kurosu#9318","27-Jan-19 05:03 AM","when you specifically define it like that, x would only be an array of 1 size","",""
"142517165160005632","Netraloip#0917","27-Jan-19 05:03 AM","If that is true then there could be an error with lines 27/29 of your code","",""
"142517165160005632","Netraloip#0917","27-Jan-19 05:04 AM","idk if that is the cause of your problem though","",""
"112508045354901504","Kurosu#9318","27-Jan-19 05:04 AM","Hmm","",""
"142517165160005632","Netraloip#0917","27-Jan-19 05:04 AM","wait nvm","",""
"112508045354901504","Kurosu#9318","27-Jan-19 05:04 AM","nope","",""
"112508045354901504","Kurosu#9318","27-Jan-19 05:04 AM","that was totally it","",""
"112508045354901504","Kurosu#9318","27-Jan-19 05:05 AM","thank you so much","",""
"142517165160005632","Netraloip#0917","27-Jan-19 05:05 AM","does %i count as 2 bytes or 1 ?","",""
"112508045354901504","Kurosu#9318","27-Jan-19 05:05 AM","You helped me","",""
"142517165160005632","Netraloip#0917","27-Jan-19 05:05 AM","what was the error ?","",""
"112508045354901504","Kurosu#9318","27-Jan-19 05:05 AM","exactly what you said","",""
"112508045354901504","Kurosu#9318","27-Jan-19 05:05 AM","I defined my filename string as 7 characters when I didn't account for the termination character","",""
"112508045354901504","Kurosu#9318","27-Jan-19 05:06 AM","I see pictures now","",""
"112508045354901504","Kurosu#9318","27-Jan-19 05:06 AM","Thank you very much!","",""
"142517165160005632","Netraloip#0917","27-Jan-19 05:06 AM","Np","",""
"142517165160005632","Netraloip#0917","27-Jan-19 05:07 AM","also confirming cause tbh i forgot, a termination character is /0 right ?","",""
"112508045354901504","Kurosu#9318","27-Jan-19 05:07 AM","yes","",""
"112508045354901504","Kurosu#9318","27-Jan-19 05:07 AM","that's right","",""
"142517165160005632","Netraloip#0917","27-Jan-19 05:07 AM","i always called it null, so yeah","",""
"112508045354901504","Kurosu#9318","27-Jan-19 05:07 AM","but when you do a string like char *name = ""kurosu""; then the terminator is already applied","",""
"529662598703218699","fandee#7788","27-Jan-19 02:26 PM","(a & 0xf0) == 0xe0","",""
"529662598703218699","fandee#7788","27-Jan-19 02:26 PM","what does & mean in this context","",""
"529662598703218699","fandee#7788","27-Jan-19 02:28 PM","i read that it is binary operator, but don't understand","",""
"195204507670544384","Tomatotumtum#0934","27-Jan-19 04:34 PM","The output of bitwise AND is 1 if the corresponding bits of two operands is 1. If either bit of an operand is 0, the result of corresponding bit is evaluated to 0.

Let us suppose the bitwise AND operation of two integers 12 and 25.

12 = 00001100 (In Binary) 25 = 00011001 (In Binary) 

Bit Operation of 12 and 25 
00001100 
& 00011001 
________ 
00001000 = 8 (In decimal)

Example #1: Bitwise AND
#include <stdio.h>
Int main() 
{
int a = 12, b = 25; 
printf(""Output = %d"", a&b); 
return 0;
 }

Output = 8 

from www.programiz.com, since I cant explain at all. I hope this makes sense!","",""
"529662598703218699","fandee#7788","27-Jan-19 09:34 PM","@Tomatotumtum  thanks for explaining, but i didn't get it","",""
"393854278764068875","curiouskiwi#1671","27-Jan-19 09:42 PM","@fandee it's what's called a bitmask.  Let's say that `a` is 0xe5

```
0xe5        11100101
0xf0        11110000
-----------------------------------
0xe5 & 0xf0 11100000 (which is 0xe0)```
0xf0 (the ""bit mask"") masks all the bits that are zero so you are left with only the 4 top bits (0xe0).","",""
"112508045354901504","Kurosu#9318","28-Jan-19 05:53 AM","This is how subnet masks work, wow","",""
"112508045354901504","Kurosu#9318","28-Jan-19 05:54 AM","i think what throws me off is the hex portion of it","",""
"142783656044396544","Max#2831","30-Jan-19 05:36 AM","checking value of fread
Ok...I think I get this
If I compare fread(buffer, 1, 512, ptr); vs fread(buffer, 512, 1, ptr); in the later, if the available data is less than 512B, I get nothing, but in the former, I would get up to the remaining data in the file, is that correct?","",""
"142783656044396544","Max#2831","30-Jan-19 05:39 AM","And if so, how can I check the fread call?","",""
"393854278764068875","curiouskiwi#1671","30-Jan-19 06:01 AM","you get the data in the buffer no matter what.  If there aren't 512B, you'll get whatever there was.  But fread will return the number of bytes read in the first case, but 0 in the second case.","",""
"393854278764068875","curiouskiwi#1671","30-Jan-19 06:02 AM","so if you did ```C
int bytes_read = fread(buffer, 1, 512, ptr);```  and there were only 25 bytes left to read, `buffer` would have those 25 bytes (plus whatever was still in there from before, if anything), and `bytes_read` would be 25.","",""
"393854278764068875","curiouskiwi#1671","30-Jan-19 06:04 AM","but if you did ```C
int bytes_read = fread(buffer, 512, 1, ptr);``` and there were only 25 bytes left, buffer would again have those, but `bytes_read` would be 0 because it didn't read the required number of blocks (1).","",""
"142783656044396544","Max#2831","30-Jan-19 06:07 AM","YEA!  Thanks...that is what I needed...I did not realize we could tap into the value.","",""
"393854278764068875","curiouskiwi#1671","30-Jan-19 06:15 AM","@Max if you wanted to see this in action, run this little program in a folder where you have small.bmp (from resize).  ```C
#include <stdio.h>
int main(void)
{
    unsigned char buffer[512] = {0};
    FILE *f = fopen(""small.bmp"", ""r"");
    int bytes_read = fread(&buffer, 1, 512, f);
    printf(""bytes read: %i\n"", bytes_read);
    rewind(f);
    int bytes_read2 = fread(&buffer, 512, 1, f);
    printf(""bytes read: %i\n"", bytes_read2);
}```   You can see the difference. üòÉ","","üíØ (1)"
"142783656044396544","Max#2831","30-Jan-19 06:45 AM","Thank you. I'm on it.","",""
"142783656044396544","Max#2831","30-Jan-19 06:22 PM","@curiouskiwi  can you tell me what is the significance of  unsigned char buffer in your example above.  That is, was this declaration required (did the array need to be of this type to work)?","",""
"393854278764068875","curiouskiwi#1671","30-Jan-19 09:18 PM","a 'byte' is an 8 bit unsigned integer type  You might remember from resize:  `typedef uint8_t  BYTE;`  in bmp.h    An `unsigned char` is also an 8 bit unsigned integer type, so I used that for my buffer of bytes.  I could have use `uint8_t buffer[512]`   Also, given this was asked in the #recover channel, if you are trying to recognize a jpg signature, then you need to be treating the bytes as unsigned  8-bit types.","","üíØ (2)"
"142783656044396544","Max#2831","31-Jan-19 12:53 AM","Thank you curiouskiwi.  That make sense.  I had used stdint.h then typedef uint8_t  BYTE...now I understand why that is important.  Can you tell me, is there some command or call I can use to check if my outfile is open.  I am in recover, and trying to figure the logic out to open/close the outfiles.  If I could make a call to check if there was an outfile already open, that would help. I ran google on this and found ""ftell"" but have not had success making that work.","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 12:57 AM","so if you've opened a file, you have a file handler variable:   In my example above:  ```C
FILE *f = fopen(""small.bmp"", ""r"");```   If the file is open, then `f` won't be null.  So ```C
if (f)```  will return true if  the file is open and false if a file isn't.  Know that `if (f)` is just a more succinct way of writing   ```C
if (f != NULL)```","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 12:58 AM","@Max ^^","",""
"142783656044396544","Max#2831","31-Jan-19 01:06 AM","Thank you very much!","",""
"535319917734526987","ebnhawk#7889","31-Jan-19 02:40 AM","I'm finally crying uncle.... my code executes without errors and opens up 50 new jpeg files with the correct names, but when I try to open them, I get a message that the file type is an unsupported format... anyone have any ideas ? seems like things are going fine until I try to write....","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 02:42 AM","`char filename[6];`  is that enough chars to hold `""000.jpg""`  ```{'0', '0', '0', '.', 'j', 'p', 'g', '\0'}```","",""
"535319917734526987","ebnhawk#7889","31-Jan-19 02:43 AM","aaaah the null character at the end, derp.  thank you!!!","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 02:43 AM","and the period in the middle?","",""
"535319917734526987","ebnhawk#7889","31-Jan-19 02:44 AM","right haha üòÖ","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 02:46 AM","so if you're wondering why that would make your jpgs unreadable...  ```C
sprintf(filename, ""%03i.jpg"", count);``` that will write the 8 chars to `filename`.  If `filename` isn't big enough, sprintf won't care... and the extra 2 chars will simply be put into memory.  Unfortunately, that memory is probably the first 2 bytes of your `buffer`.  So you've successfully read in the jpg signature block, and then overwritten the first 2 bytes with `'g','\0'`  and that becomes the beginning of the jpg file.","",""
"535319917734526987","ebnhawk#7889","31-Jan-19 02:48 AM","iiiinteresting!  thank you!  that makes sense","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 02:49 AM","if you still have the broken jpgs, you can open one with the hex viewer and see the bytes","",""
"535319917734526987","ebnhawk#7889","31-Jan-19 02:51 AM","thanks!  i did try that at one point and my tab crashed so i didnt try again; it seems to work fine now that the codes working!","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 02:52 AM","ah, might be too big.   try `xxd -l 10 000.jpg`","",""
"142783656044396544","Max#2831","31-Jan-19 02:52 AM","@curiouskiwi speaking of opening the file with hex viewer, when I do this to the card.raw file it looks like there are only 63B.","https://cdn.discordapp.com/attachments/395684916056031245/540333552190095361/Screen_Shot_2019-01-30_at_4.51.31_PM.png",""
"142783656044396544","Max#2831","31-Jan-19 02:53 AM","But the file is large (several MB). Can you say why this is?","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 02:53 AM","hmm, odd.  sounds like a problem with the hex viewer","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 02:53 AM","I tend to use `xxd` in the terminal  (we didn't have the hex viewer when I did cs50) üòÉ","",""
"142783656044396544","Max#2831","31-Jan-19 02:54 AM","xxd filename ?","",""
"142783656044396544","Max#2831","31-Jan-19 02:55 AM","holy cow...that worked...it is still rolling off #'s","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 02:55 AM","for example:  ```xxd -g 3 -s 54 -c 12 small.bmp```  will show you just the pixels in small.bmp.   `-g` is group (bytes per column), `-s` is start with  and `-c` is columns","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 02:55 AM","and `-l` will limit to the first n","",""
"142783656044396544","Max#2831","31-Jan-19 02:55 AM","so the hex viewer is not showing all the bites but xxd will...","",""
"142783656044396544","Max#2831","31-Jan-19 02:55 AM","thanks!","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 02:55 AM","so `xxd -l 10 card.raw` would show you the first 10 bytes","",""
"142783656044396544","Max#2831","31-Jan-19 07:01 AM","@curiouskiwi yesterday (or perhaps today down under), you helped me with the answer to tel how a file is open.  if (f) will show true if open. 

From that I presumed (this may be the mistake) that if (!f) would be true if the file was closed.  But I am not sure that is the case.  I am getting a memory error (double free) trying to run this code:

I am trying to solve the recover program on a simple problem...one bmp with some extra 0x00's added to the beginning and end.  

The code compiles but I get the error. When I run the debugger the error seems to kick off at the point where I close the outfile in line 70. 

So I guess the question, can I use the statement

   if (!f)
      do something;","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 07:02 AM","if (!f)   will be true if f is null.","",""
"142783656044396544","Max#2831","31-Jan-19 07:03 AM","Here is the code:  https://gist.github.com/MaxIsTheDog4U/c08963bc9f4dbae700f1115a575cf6b3","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 07:04 AM","`f` won't be null just because you close the file.","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 07:05 AM","wait, let me look .... I may be confusing myself and you!!","",""
"142783656044396544","Max#2831","31-Jan-19 07:07 AM","It skips the loop...when I run debugger, it does not enter that loop","",""
"142783656044396544","Max#2831","31-Jan-19 07:07 AM","that is the problem...","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 07:07 AM","so when I said you can check if the file is open using  `if (f)`  I didn't mean to imply (or even say!) that `if (!f)` meant that the file isn't open.","",""
"142783656044396544","Max#2831","31-Jan-19 07:08 AM","Sorry...that was my assumption","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 07:08 AM","it means that that the file was *never* opened.","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 07:08 AM","in recover, you're going to do something if the file is open","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 07:08 AM","else you'll do something else","",""
"142783656044396544","Max#2831","31-Jan-19 07:09 AM","Ok...that is the problem...because when I first wrote this, I did not open f until the while loop","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 07:09 AM","so you would never be testing `if not f`","",""
"142783656044396544","Max#2831","31-Jan-19 07:09 AM","but it would not compile...so I had to put the declaration before the while loop","",""
"142783656044396544","Max#2831","31-Jan-19 07:10 AM","is there a way to test if the file is open","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 07:11 AM","well, generally, you know based on your code.","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 07:11 AM","if you opened it, it's open, unless it failed.","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 07:12 AM","you wouldn't test to see if it was open if you never opened it.","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 07:12 AM","does that make sense?","",""
"142783656044396544","Max#2831","31-Jan-19 07:12 AM","Ok...I see now that I am solving this for 1 bmp and that in resize there are multiple jpgs","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 07:14 AM","yeah","",""
"142783656044396544","Max#2831","31-Jan-19 07:14 AM","But if I want to solve the resize problem in a while loop, I have to open the file within the while loop","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 07:14 AM","You're in the #recover channel... I thought this was about recover.","",""
"142783656044396544","Max#2831","31-Jan-19 07:15 AM","it is recover","",""
"142783656044396544","Max#2831","31-Jan-19 07:15 AM","I solved resize (thanks to your help)","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 07:15 AM","you said ""if I want to solve the resize problem ...""","",""
"142783656044396544","Max#2831","31-Jan-19 07:15 AM","sorry...that was my mistake","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 07:16 AM","so, you could always set `f` to NULL after you fclose it, if that makes more sense to you.","",""
"142783656044396544","Max#2831","31-Jan-19 08:12 PM","in recover, do I have to open the infile before I start the while loop?  I am using this code (I corrected the errors with (!f):
https://gist.github.com/MaxIsTheDog4U/4f7f17fc238fb4c8c7dded913f589169

do I need to open up the infile and then close it before I go into the loop the first time?","",""
"142783656044396544","Max#2831","31-Jan-19 08:22 PM","OK...I think I have it but would appreciate some insight into why...
here is the code that works:  https://gist.github.com/MaxIsTheDog4U/bda69a7564f5c76d8cebd2449bb6f2f3

Note this is not the final recover code...I made this to work with 1 bmp.  Once I get this to work and understand I think the jpg problem will be easier.

my question has to do with opening and tracking the outfile.  In the first version of the code above, I did not declare the outfile before entering the while loop.  The second version (which compiles and works) I simply opened AND closed the outfile before entering the loop...and problem solved.

But my question is when I port this over to scan the raw file, I will be creating multiple outfiles.  Each with a different name...

so I guess my question is, will the logic I am using for the second version work (where I declare the outpointer before the loop) for recover?","",""
"393854278764068875","curiouskiwi#1671","31-Jan-19 09:00 PM","remember you can declare the outptr without opening any file.","",""
"142783656044396544","Max#2831","01-Feb-19 12:47 AM","Thank you...I did not know that...I have watched that video at least a dozen times and did not recall that as part of it.  But again, thank you, that is helpful.","",""
"401480575287820297","Sir.Dinosaur#9470","01-Feb-19 09:37 PM","hello. i dont know if your allowed to tell me but how many jpegs should be recovered? im just testing the start of my code and am trying to figure it if it is correctly identifying jpegs","",""
"492450454341550100","WhipStreak23#6131","01-Feb-19 09:37 PM","50 JPEGS @Sir.Dinosaur","",""
"401480575287820297","Sir.Dinosaur#9470","01-Feb-19 09:37 PM","oh ok thanks","",""
"492450454341550100","WhipStreak23#6131","01-Feb-19 09:37 PM","yw","",""
"393854278764068875","curiouskiwi#1671","01-Feb-19 09:41 PM","@Sir.Dinosaur per the spec:","https://cdn.discordapp.com/attachments/395684916056031245/540980128302235682/recover_50_jpgs.png",""
"401480575287820297","Sir.Dinosaur#9470","01-Feb-19 09:42 PM","oh sorry my fault. thank you btw for the help with resize the other day. i rushed in to early and got my self all confused so ive planned out this one a bit more and all going well","","üëç (1)"
"401480575287820297","Sir.Dinosaur#9470","01-Feb-19 10:43 PM","my code is working however im having difficulty getting the sprintf function to work. here is it here ""sprintf(filename, ""%03i.jpg"", jpg_number);"" when i run the program it causes a segmentation fault. what is the issue","",""
"401480575287820297","Sir.Dinosaur#9470","01-Feb-19 10:54 PM","its ok. issue resolved","",""
"504180529671700495","Geezer#9434","02-Feb-19 04:27 PM","So, I have a problem. My code recovers all images, they looks good, no glitches. But cs50check gives me an error on the last image - "":( recovers 049.jpg correctly
    recovered image does not match"" And as i said earlier Image looks just fine.","",""
"504180529671700495","Geezer#9434","02-Feb-19 05:44 PM","Well, i checked contents of last jpeg in HEX and compared them with card file, looks like problem is at the end of the jpeg,. Somehow program have written contents of last buffer twice.","",""
"393854278764068875","curiouskiwi#1671","02-Feb-19 10:10 PM","@Geezer so that points to your condition that determines the end of the file.  If you've used `feof`  know that it doesn't become true until you try to read *past* the end of the file.","",""
"521730133556461569","resting_potato#2874","03-Feb-19 02:36 PM","""63 73 35 30 2e 6c 79 2f 73 75 72 70 72 69 73 65"" this URL is not working, was expecting something funnY! :>","",""
"521730133556461569","resting_potato#2874","03-Feb-19 09:51 PM","ok, so I've managed to solve it, and everything compiles fine and is correct according to check50. a question however. why the condition in while loop being (fread(infile)) == 512 works to check for the end of the file, and while(feof(infile) == 0) doesn't? what's the difference? feof returns 1 once it reaches the end so it should work!","",""
"521730133556461569","resting_potato#2874","03-Feb-19 09:59 PM","also, why are all the jpegs inside a *.raw file? I used to do photography and used this format for all my pics (along with TIFF). I'm aware those files are large, cause they contain a large amount of data (much more than a compressed *.jpeg,), but never thought it can contain multiple pictures within? how does this work if, say, I actually have a damaged memory card, or a pendrive? would this method also work with it? that's a little confusing","",""
"393854278764068875","curiouskiwi#1671","04-Feb-19 02:23 AM","> feof returns 1 once it reaches the end so it should work!
@resting_potato actually, it doesn't return 1 until it tries to read *past* the end of the file.","",""
"393854278764068875","curiouskiwi#1671","04-Feb-19 02:24 AM","also, the *.raw isn't one photo in raw format.  It's meant to be a copy of a corrupted  memory card, which is why it has so many jpgs.","",""
"194526024375992322","MasterVeo1#7307","05-Feb-19 03:23 AM","are the first four bytes of the demarcation included as part of the jpg?","",""
"194526024375992322","MasterVeo1#7307","05-Feb-19 03:23 AM","or is it the first four bytes + the 512 bits to read","",""
"393854278764068875","curiouskiwi#1671","05-Feb-19 03:30 AM","the first four bytes are part of the jpg.  how could they not be?","",""
"194526024375992322","MasterVeo1#7307","05-Feb-19 03:31 AM","that's true","",""
"194526024375992322","MasterVeo1#7307","05-Feb-19 03:32 AM","i was thinking of the first four bytes as an identifier to what the file is, in this case a jpg.","",""
"194526024375992322","MasterVeo1#7307","05-Feb-19 03:32 AM","and then the rest of the info regarding the image itself","",""
"194526024375992322","MasterVeo1#7307","05-Feb-19 05:39 AM","```C
    int read = 0;
    int iterations = 0;
    FILE *outptr = NULL;
    do
    {
        iterations++;
        static int count = 0;
        if ((buffer[0] == 0xff) &&
        (buffer[1] == 0xd8) &&
        (buffer[2] == 0xff) &&
        (buffer[3] & 0xf0) == 0xe0)
        {
            // Action 1
        }
        else
        {
            // copy 512 bytes
            read = fread(&buffer, 1, 512, inptr);
            // write buffer to output file
            if (outptr != NULL)
            {
                fwrite(&buffer, 1, 512, outptr);
            }
        }
    } while(read == 512);
```","",""
"194526024375992322","MasterVeo1#7307","05-Feb-19 05:39 AM","Action 1 is never happening","",""
"194526024375992322","MasterVeo1#7307","05-Feb-19 05:39 AM","my iterations reach the 22,000s and the program just ends","",""
"393854278764068875","curiouskiwi#1671","05-Feb-19 05:58 AM","is your `buffer` an array of bytes? (ie, an 8 bit unsigned value) ?","",""
"194526024375992322","MasterVeo1#7307","05-Feb-19 06:03 AM","no","",""
"194526024375992322","MasterVeo1#7307","05-Feb-19 06:03 AM","it's `short`","",""
"194526024375992322","MasterVeo1#7307","05-Feb-19 06:07 AM","it works after changing it to `byte`","",""
"194526024375992322","MasterVeo1#7307","05-Feb-19 06:07 AM","why though?","",""
"194526024375992322","MasterVeo1#7307","05-Feb-19 06:08 AM","i thought the only difference was the possible size of the value","",""
"194526024375992322","MasterVeo1#7307","05-Feb-19 06:08 AM","BYTE going to 255 and short going to like 30k something","",""
"393854278764068875","curiouskiwi#1671","05-Feb-19 06:14 AM","if you fread into a short, then buffer[0] will hold one short's worth of data.  so buffer[0] won't be equal to `0xff` so your signature will never be found.","",""
"194526024375992322","MasterVeo1#7307","05-Feb-19 06:30 AM","oh","",""
"194526024375992322","MasterVeo1#7307","05-Feb-19 06:47 AM","this is a pretty cool assignment","",""
"194526024375992322","MasterVeo1#7307","05-Feb-19 07:03 AM","check50 is saying my 049 image is wrong but it looks fine to me","",""
"194526024375992322","MasterVeo1#7307","05-Feb-19 07:03 AM","i don't really know where to look to determine the error","",""
"393854278764068875","curiouskiwi#1671","05-Feb-19 07:13 AM","the typical issue is that you are writing in the final block twice.  Double check how you are determining that you've read the last block","",""
"135208954367180800","Cz#8041","08-Feb-19 04:08 AM","This problem is in Week 3's problem set, but I feel like I need Week 4's lecture and videos to complete this last problem? Is that how it's designed or am I missing something.","",""
"393854278764068875","curiouskiwi#1671","08-Feb-19 04:29 AM","You shouldn't need week 4's lectures.  For the in person class, the Recover problem was due before the next lecture.","",""
"185524693695070208","Dyno Master#7225","18-Feb-19 11:28 PM","Hi, when I'm searching the headers for each 512 bytes, I'm somehow only getting 30 jpegs instead of 50. Is this a common issue? I couldn't find anything in reddit or here.","",""
"185524693695070208","Dyno Master#7225","18-Feb-19 11:29 PM","I haven't started writing to the files yet, I just wanted to check if I was searching the headers correctly. Let me know if I can send my code to someone to check.","",""
"393854278764068875","curiouskiwi#1671","19-Feb-19 12:25 AM","@Dyno Master are you running fread in a loop (and only reading once per loop)?","",""
"185524693695070208","Dyno Master#7225","19-Feb-19 12:27 AM","@curiouskiwi I'm not sure I understand the question - I think so? I'm using a while loop to check if we're at the end of the file, and then yes my fread is the first thing in that while loop","",""
"185524693695070208","Dyno Master#7225","19-Feb-19 12:28 AM","but the fread isn't inside anything besides the while loop","",""
"393854278764068875","curiouskiwi#1671","19-Feb-19 12:33 AM","what's your condition for finding a jpg?  Are you using the one given in the walkthrough?","",""
"185524693695070208","Dyno Master#7225","19-Feb-19 12:34 AM","I believe so, I'm using:
```   while (fread(buffer, 1, 512, inptr) == 512)
    {

        // Read 512 byte block
        fread(buffer, 1, 512, inptr);

        // If this is a JPEG...
        if (buffer[0] == 0xff &&
            buffer[1] == 0xd8 &&
            buffer[2] == 0xff &&
            (buffer[3] & 0xf0) == 0xe0)
        {
            // If this is the first JPEG...```","",""
"185524693695070208","Dyno Master#7225","19-Feb-19 12:34 AM","```BYTE buffer[512];```","",""
"393854278764068875","curiouskiwi#1671","19-Feb-19 12:36 AM","``` while (fread(buffer, 1, 512, inptr) == 512)
    {

        // Read 512 byte block
        fread(buffer, 1, 512, inptr);```  so you **are** running fread more than one time per loop.","",""
"185524693695070208","Dyno Master#7225","19-Feb-19 12:37 AM","ah, ok, I thought checking the condition doesn't actually run it","",""
"185524693695070208","Dyno Master#7225","19-Feb-19 12:37 AM","so I just need to remove the second fread line?","",""
"393854278764068875","curiouskiwi#1671","19-Feb-19 12:37 AM","if you think about that, how would it not run the function when you call it?","",""
"393854278764068875","curiouskiwi#1671","19-Feb-19 12:37 AM","üòÉ","",""
"393854278764068875","curiouskiwi#1671","19-Feb-19 12:37 AM","and yes.","",""
"185524693695070208","Dyno Master#7225","19-Feb-19 12:38 AM","haha idk for some reason I thought it checks the condition, then moves the cursor back, and then does whatever you tell it to","",""
"185524693695070208","Dyno Master#7225","19-Feb-19 12:39 AM","my god it works and it passed check50","",""
"185524693695070208","Dyno Master#7225","19-Feb-19 12:40 AM","i spent SO LONG going back over my code so many times, I thought for sure my pseudocode was wrong","",""
"393854278764068875","curiouskiwi#1671","19-Feb-19 12:40 AM","üíØ","",""
"185524693695070208","Dyno Master#7225","19-Feb-19 12:40 AM","I never would have gotten that without someone telling me, I know you get thanks all the time but you really are doing gods work out here","",""
"393854278764068875","curiouskiwi#1671","19-Feb-19 12:41 AM","wouldn't go that far, but thanks. üòÉ","",""
"131136426946461697","Normantas#0001","19-Feb-19 01:16 AM","After this one Function, It's official, I have cancer.","",""
"131136426946461697","Normantas#0001","19-Feb-19 01:16 AM","","https://cdn.discordapp.com/attachments/395684916056031245/547194791243284491/unknown.png",""
"131136426946461697","Normantas#0001","19-Feb-19 01:19 AM","now reading above a bit, I found out I can do this in a better way.","",""
"131136426946461697","Normantas#0001","19-Feb-19 01:22 AM","I didn't know fread could be used like that or you can place a god damn  BYTE array as a buffer.","",""
"393854278764068875","curiouskiwi#1671","19-Feb-19 01:37 AM","@Normantas I'm guessing you didn't watch the walkthrough video?  I'm sure you learned some stuff in writing that big function though.","",""
"131136426946461697","Normantas#0001","19-Feb-19 01:57 PM","Nah, I did. I just didn't think that fread returns an int of how many lines it read, I though so, but I couldn't confirm it, so I went with the extremely long way... but the most important part, I didn't understand that you can store a buffer in that way (an array)","",""
"131136426946461697","Normantas#0001","19-Feb-19 01:57 PM","@curiouskiwi","",""
"131136426946461697","Normantas#0001","19-Feb-19 01:57 PM","and I had no idea what does the bitwise and operator does.","",""
"131136426946461697","Normantas#0001","19-Feb-19 01:58 PM","I could have done some testing, but I dislike cs50 IDE, as it takes a bit of time to build test builds","",""
"131136426946461697","Normantas#0001","19-Feb-19 01:59 PM","talking about, how building one in visual studio is less than a second.","",""
"131136426946461697","Normantas#0001","19-Feb-19 04:38 PM","So I have finished this excercise, but I'm curious why does fread() == 512 doesn't work, and in my case it only works as a bool...","",""
"131136426946461697","Normantas#0001","19-Feb-19 04:39 PM","","https://cdn.discordapp.com/attachments/395684916056031245/547427115424022528/unknown.png",""
"131136426946461697","Normantas#0001","19-Feb-19 04:40 PM","cause from curiousity, I went into source code, and the source returns a value (int) of how many bytes it read (or the size of thing), but not a bool....","",""
"393854278764068875","curiouskiwi#1671","19-Feb-19 09:24 PM","while (0)  is false.  while (anything other than zero) is true","",""
"131136426946461697","Normantas#0001","19-Feb-19 09:59 PM","ohhh, thank you very much!","",""
"329899176693596160","InnerBanana#6965","20-Feb-19 01:38 AM","@curiouskiwi would you mind explaining the syntax behind `(buffer[3] & 0xf0) == 0xe0` and why we write that instead of `(buffer[3] >= 0xe0 && buffer[3] <= 0xef)` ??","",""
"393854278764068875","curiouskiwi#1671","20-Feb-19 01:40 AM","@InnerBanana search the channel for ""bitwise"" and you'll find my earlier explanation","",""
"329899176693596160","InnerBanana#6965","20-Feb-19 01:43 AM","found it, thank you!!","",""
"329899176693596160","InnerBanana#6965","20-Feb-19 01:47 AM","@curiouskiwi  then wouldn't it work just as well to write `(buffer[3] & 0xe0) == 0xe0` ?","",""
"393854278764068875","curiouskiwi#1671","20-Feb-19 01:50 AM","just as well as what?","",""
"393854278764068875","curiouskiwi#1671","20-Feb-19 01:50 AM","you mean use `0xe0` as the mask?","",""
"329899176693596160","InnerBanana#6965","20-Feb-19 01:50 AM","`(buffer[3] & 0xe0) == 0xe0` just as well as `(buffer[3] & 0xf0) == 0xe0` for the purpose of determining whether the fourth pixel matches in this exercise","",""
"329899176693596160","InnerBanana#6965","20-Feb-19 01:50 AM","yes, sry that's a clearer way to put it üòÉ","",""
"329899176693596160","InnerBanana#6965","20-Feb-19 01:54 AM","OH. no because if you use bitmask `0xe0` then the expression `(buffer[3] & 0xe0) == 0xe0` will give `true` when `buffer[3] = 0xf0..0xff`, which we do not want","",""
"329899176693596160","InnerBanana#6965","20-Feb-19 01:54 AM","I see","",""
"393854278764068875","curiouskiwi#1671","20-Feb-19 01:57 AM","yes","",""
"329899176693596160","InnerBanana#6965","20-Feb-19 01:57 AM","first time dealing with bitwise AND! but i wrote it out on paper and understand why now","",""
"393854278764068875","curiouskiwi#1671","20-Feb-19 01:57 AM","good approach. üòÉ","",""
"329899176693596160","InnerBanana#6965","20-Feb-19 01:57 AM","thank you, as always!","",""
"329899176693596160","InnerBanana#6965","20-Feb-19 01:58 AM","from one cs50 fruit to another","",""
"393854278764068875","curiouskiwi#1671","20-Feb-19 01:59 AM","bird üòÉ","",""
"393854278764068875","curiouskiwi#1671","20-Feb-19 02:01 AM","""kiwi"" is  the word for the bird here in NZ.  the fruit is always called ""kiwifruit""  üá≥üáø","",""
"329899176693596160","InnerBanana#6965","20-Feb-19 02:46 AM","haha apologies for my cultural insensitivity!","",""
"393854278764068875","curiouskiwi#1671","20-Feb-19 02:48 AM","@InnerBanana no worries. üòÉ  it just sounds weird to us when we hear someone call the fruit a ""kiwi""  but if you don't have actual kiwi (ie, the birds) in your country, then it make sense.","",""
"393854278764068875","curiouskiwi#1671","20-Feb-19 02:49 AM","when I moved here, I got really strange looks the first time I asked at the supermarket if they had any kiwi  LOL","",""
"329899176693596160","InnerBanana#6965","20-Feb-19 02:50 AM","haha i bet!","",""
"329899176693596160","InnerBanana#6965","20-Feb-19 03:09 AM","@curiouskiwi i'm getting this error where my code checks for the JPEG signature: https://screenshot.click/19-08-11w18-6jvfx.jpg is this because I'm freading into a char* rather than having defined my own datatype in a header?","",""
"329899176693596160","InnerBanana#6965","20-Feb-19 03:11 AM","yet for some reason the check for the fourth byte doesn't give the same error...","",""
"393854278764068875","curiouskiwi#1671","20-Feb-19 03:12 AM","your buffer should hold bytes","",""
"393854278764068875","curiouskiwi#1671","20-Feb-19 03:12 AM","not strings","",""
"329899176693596160","InnerBanana#6965","20-Feb-19 03:13 AM","aka unsigned char ?","",""
"393854278764068875","curiouskiwi#1671","20-Feb-19 03:14 AM","yes","",""
"393854278764068875","curiouskiwi#1671","20-Feb-19 03:16 AM","the newest version of the CS50 library (which hasn't yet made it to the IDE) has this:  ```/**
 * Our own type for bytes.
 */
typedef unsigned char byte;```   so you could do something similar and then use `byte`","",""
"286196951358373888","codelemur#8004","21-Feb-19 02:56 PM","I'm feeling a bit stuck trying to debug check50 :(... My `recover` is generating jpgs, they look fine to the eye, but I'm not sure how to debug them against what check50 has for output :/","",""
"286196951358373888","codelemur#8004","21-Feb-19 02:58 PM","||https://gist.github.com/codelemur/428738e8e16f0a70b45925926d7c5983||","",""
"393854278764068875","curiouskiwi#1671","21-Feb-19 09:54 PM","@codelemur what does check50 say?","",""
"286196951358373888","codelemur#8004","22-Feb-19 12:32 AM","```
:( recovers 000.jpg correctly
recovered image does not match

Log
running ./recover card.raw...
checking that program exited with status 0...
Checking that 000.jpg exists...
:( recovers middle images correctly
recovered image does not match

Log
running ./recover card.raw...
checking that program exited with status 0...
Checking that 001.jpg exists...
:( recovers 049.jpg correctly
recovered image does not match

Log
running ./recover card.raw...
checking that program exited with status 0...
Checking that 049.jpg exists... 
```","",""
"174633135739240448","Doge#9515","22-Feb-19 11:12 AM","```c
int buffer = 0x00;
fread(&buffer, 1, 1, rawPtr);
printf(""%d %x\n"", buffer, buffer);
```","",""
"174633135739240448","Doge#9515","22-Feb-19 11:12 AM","This doesn't work, also tried with (unsigned char) and with fgetc","",""
"174633135739240448","Doge#9515","22-Feb-19 11:13 AM","(doesn't work as in buffer stays 0x00, even though fread/fgetc can access the raw file)","",""
"174633135739240448","Doge#9515","22-Feb-19 11:15 AM","any other way to store hex values?","",""
"329899176693596160","InnerBanana#6965","22-Feb-19 06:52 PM","@Doge https://screenshot.click/22-52-2jx87-3idn6.jpg","",""
"174633135739240448","Doge#9515","22-Feb-19 08:15 PM","i changed it into a byte and made `buffer = 0x0a`, but fread and fgetc make it 0x00, so I'll check out the reference, maybe missing something","",""
"174633135739240448","Doge#9515","22-Feb-19 08:15 PM","Thanks @InnerBanana","",""
"174633135739240448","Doge#9515","22-Feb-19 08:32 PM","After some testing, ```c
 byte buffer = 0x0a;        
fread(&buffer, 1, 1, rawPtr);
```","",""
"174633135739240448","Doge#9515","22-Feb-19 08:33 PM","always makes buffer = 0x00, so my fread is wrong, somehow","",""
"329899176693596160","InnerBanana#6965","22-Feb-19 09:34 PM","@Doge why the ampersand in front of `buffer`?","",""
"174633135739240448","Doge#9515","22-Feb-19 09:34 PM","fread requires 2 pointers","",""
"174633135739240448","Doge#9515","22-Feb-19 09:34 PM","1 for buffer and 1 for file","",""
"393854278764068875","curiouskiwi#1671","22-Feb-19 11:05 PM","Are you sure the first byte of the file that `rawPtr` points to isn't `0x00`?","",""
"393854278764068875","curiouskiwi#1671","22-Feb-19 11:05 PM","@Doge","",""
"174633135739240448","Doge#9515","23-Feb-19 12:16 AM","i checked with a for 1 to 100 loop and used ftell","",""
"174633135739240448","Doge#9515","23-Feb-19 12:17 AM","1. loop changed it to 0x00 and no changes in the next 99 loops","",""
"174633135739240448","Doge#9515","23-Feb-19 12:18 AM","```c
typedef unsigned char byte;
byte buffer = 0x0a;
for (int i = 0; i < 100; i++)
    {
        printf(""%lu \n"", ftell(rawPtr));
        fread(&buffer, sizeof(byte), 1, rawPtr);
    }
```","",""
"174633135739240448","Doge#9515","23-Feb-19 12:19 AM","^ that returns 0 - 99 from ftell, and 2 zeroes at the end from `printf(""%d %x\n"", buffer, buffer);`","",""
"174633135739240448","Doge#9515","23-Feb-19 12:19 AM","@curiouskiwi","",""
"393854278764068875","curiouskiwi#1671","23-Feb-19 12:21 AM","@Doge yes, but again, how do you know that's wrong?","",""
"174633135739240448","Doge#9515","23-Feb-19 12:21 AM","is my char type wrong?","",""
"174633135739240448","Doge#9515","23-Feb-19 12:21 AM","ah i mean","",""
"174633135739240448","Doge#9515","23-Feb-19 12:21 AM","when i look at rawPtr in debug50","",""
"174633135739240448","Doge#9515","23-Feb-19 12:22 AM","it has various values, so a couple of zeroes and then actual values","",""
"393854278764068875","curiouskiwi#1671","23-Feb-19 12:22 AM","what's rawPtr pointing to?","",""
"174633135739240448","Doge#9515","23-Feb-19 12:22 AM","card.raw","",""
"174633135739240448","Doge#9515","23-Feb-19 12:22 AM","from the pset","",""
"393854278764068875","curiouskiwi#1671","23-Feb-19 12:23 AM","and you've confirmed that card.raw doesn't have 100 zero bytes at the beginning?","",""
"174633135739240448","Doge#9515","23-Feb-19 12:23 AM","ah","",""
"174633135739240448","Doge#9515","23-Feb-19 12:24 AM","when i open card.raw as hexadecimal","",""
"174633135739240448","Doge#9515","23-Feb-19 12:24 AM","theres no zeroes","",""
"393854278764068875","curiouskiwi#1671","23-Feb-19 12:24 AM","there is in my copy.  `xxd -l500 card.raw` will show you the first 500 bytes in the file.","",""
"393854278764068875","curiouskiwi#1671","23-Feb-19 12:24 AM","what do you see?","",""
"174633135739240448","Doge#9515","23-Feb-19 12:25 AM","lots of zeroes","",""
"393854278764068875","curiouskiwi#1671","23-Feb-19 12:25 AM","so that's the beginning of the file.","",""
"174633135739240448","Doge#9515","23-Feb-19 12:25 AM","ill check the whole file for a non zero value to confirm","",""
"174633135739240448","Doge#9515","23-Feb-19 12:25 AM","yeah i get it now","",""
"393854278764068875","curiouskiwi#1671","23-Feb-19 12:25 AM","so it explains why your buffer has 0x00","",""
"174633135739240448","Doge#9515","23-Feb-19 12:26 AM","are zeroes automatically removed in the ide, in hex view?","",""
"393854278764068875","curiouskiwi#1671","23-Feb-19 12:26 AM","no","",""
"174633135739240448","Doge#9515","23-Feb-19 12:26 AM","","https://cdn.discordapp.com/attachments/395684916056031245/548631715661217815/unknown.png",""
"174633135739240448","Doge#9515","23-Feb-19 12:26 AM","thats what i get when i open it in hexadecimal","",""
"174633135739240448","Doge#9515","23-Feb-19 12:27 AM","ill refresh/reload","",""
"174633135739240448","Doge#9515","23-Feb-19 12:27 AM","o","",""
"174633135739240448","Doge#9515","23-Feb-19 12:27 AM","yeah it fixed it","",""
"174633135739240448","Doge#9515","23-Feb-19 12:27 AM","Thanks for all the help!","",""
"393854278764068875","curiouskiwi#1671","23-Feb-19 12:28 AM","I think the hex reader in the IDE might struggle with a really large file?","",""
"393854278764068875","curiouskiwi#1671","23-Feb-19 12:28 AM","I always use `xxd`","",""
"174633135739240448","Doge#9515","23-Feb-19 12:29 AM","Gotcha","",""
"286196951358373888","codelemur#8004","23-Feb-19 05:40 PM","So am I correct in understanding that this means my jpgs aren't being generated and that's why they fail? 
```
:( recovers 000.jpg correctly
recovered image does not match 

Log
running ./recover card.raw...
checking that program exited with status 0...
Checking that 000.jpg exists..
```","",""
"163897713224581121","Grubinski#7755","23-Feb-19 08:33 PM","Well, from I can see in the logs, my guess is that there is a file called 000.jpg but your program doesn't write the correct content in it. Actually, you should see that file in your file browser.","",""
"286196951358373888","codelemur#8004","24-Feb-19 01:50 AM","Yeah, and I am seeing it, but I can't figure out why it doesn't match the check50 image :/","",""
"286196951358373888","codelemur#8004","24-Feb-19 01:50 AM","It doesn't look distorted or anything to me","",""
"286196951358373888","codelemur#8004","24-Feb-19 03:55 AM","pysch I'm a dingus, made a new file to work on (recover.2.c) and forgot to update main file. ü§¶","",""
"242010922611245056","armchair#4520","24-Feb-19 03:34 PM","Damn, just read the assignment, going to be a fun week üòÖ ü§ì","",""
"286196951358373888","codelemur#8004","24-Feb-19 04:19 PM","getting an odd behavior. A boolean is being reset somehow?
```
        printf(""shouldwrite before: %d\n"", shouldwrite);
        shouldwrite = true;
        printf(""shouldwrite after set: %d\n"", shouldwrite);

        // initialize the filename out
        // maximum it'll be 6 characters (1000.jpg)
        char outfilename[7];
        // write to the outfilename w/ sprintf to get the fancy file name 000.jpg
        printf(""shouldwrite right before sprintf: %d\n"", shouldwrite);
        sprintf(outfilename, ""%03d.jpg"", fileCount);
        printf(""shouldwrite after sprintf: %d\n"", shouldwrite);
```
yields: 
shouldwrite before: 0
shouldwrite after set: 1
shouldwrite right before sprintf: 1
shouldwrite after sprintf: 0","",""
"393854278764068875","curiouskiwi#1671","24-Feb-19 07:29 PM","is `outfilename` big enough to hold ""049.jpg""?  `{'0', '4', '9', '.', 'j', 'p', 'g', '\0'}`","",""
"393854278764068875","curiouskiwi#1671","24-Feb-19 07:29 PM","@codelemur ^^","",""
"286196951358373888","codelemur#8004","24-Feb-19 07:30 PM","No, but is that related to setting `shouldwrite`?","",""
"393854278764068875","curiouskiwi#1671","24-Feb-19 07:33 PM","`sprintf` won't care how much space you allocated. It will write the string and the null char at the end and if there's not enough space, it will just overwrite whatever is in memory at that point (which in your example is the `shouldwrite` variable.)","","üëå (1)"
"286196951358373888","codelemur#8004","24-Feb-19 07:33 PM","Oh snap","",""
"286196951358373888","codelemur#8004","24-Feb-19 07:34 PM","thanks, makes a lot more sense now.","",""
"174633135739240448","Doge#9515","26-Feb-19 12:57 PM","Why does the walkthrough say that if the first 4 bytes of a 512 byte piece of card.raw isn't the jpg signature that we can skip over the next 508 bytes in the block, can't the 4 signature bytes be anywhere in the 1st 512 byte block (making the next 508 bytes part of the 1st jpg)?","",""
"393854278764068875","curiouskiwi#1671","26-Feb-19 07:47 PM","the signature will only be in the first 4 bytes of each 512 block.   As such, you can read in 512 blocks and check the first 4 bytes for a signature.  If they aren't there, then you read in the next 512 block and check the first 4, etc.","",""
"329899176693596160","InnerBanana#6965","26-Feb-19 07:56 PM","@Doge as per the course contents, card.raw is written in 512 blocks and the jpeg signature will always be at the start of one of these blocks","",""
"174633135739240448","Doge#9515","26-Feb-19 07:58 PM","Ah but the 1st jpg will begin for sure at the 1st or 513th or 1025th (and so on) byte?","",""
"174633135739240448","Doge#9515","26-Feb-19 07:58 PM","Since the bytes in card.raw are ordered like that?","",""
"393854278764068875","curiouskiwi#1671","26-Feb-19 08:01 PM","yes, and every jpg after that will also begin at a 512 block","",""
"174633135739240448","Doge#9515","26-Feb-19 08:02 PM","Gotcha, thanks @curiouskiwi and @InnerBanana!","",""
"461866991783903236","yuga#3467","02-Mar-19 12:05 PM","Hi! I'm playing around with #recover and really curious why my program won't crash if less memory than needed is allocated. Is it only I'm lucky each time to have enough memory by an accident? I would expect it to properly work only after allocating 8 bytes of memory. Am I overlooking anything? Thanks!","https://cdn.discordapp.com/attachments/395684916056031245/551344327784398859/malloc.png",""
"299665471396118532","Nyandereian#6481","02-Mar-19 12:24 PM","yeah it's luck. malloc can give you more memory than you intend to allocate, but never count on it.","",""
"461866991783903236","yuga#3467","02-Mar-19 01:22 PM","Thanks for the confirmation!","",""
"299665471396118532","Nyandereian#6481","02-Mar-19 01:29 PM","np!","",""
"329977469350445069","Lord of Galaxy#9211","02-Mar-19 01:42 PM","Actually doing that is _very_ dangerous","",""
"329977469350445069","Lord of Galaxy#9211","02-Mar-19 01:42 PM","You could accidentally overwrite something important","",""
"91610241136852992","Mitch#8740","03-Mar-19 08:08 PM","From the walkthrough video, is this the code we're supposed to use to find the jpg elements or is it just a basis to work from? If it is could someone explain the last line? I don't understand how that line works (or is supposed to work) at all & I don't want to write/ use code if I don't first understand it.","https://cdn.discordapp.com/attachments/395684916056031245/551828155615150081/Capture.PNG",""
"393854278764068875","curiouskiwi#1671","03-Mar-19 08:12 PM","that's the code","",""
"393854278764068875","curiouskiwi#1671","03-Mar-19 08:13 PM","search this channel for ""bitwise"" and you'll find an explanation","",""
"91610241136852992","Mitch#8740","03-Mar-19 08:13 PM","Got it, bitwise AND just didn't catch that the first 3 times I watched it ü§í","",""
"91610241136852992","Mitch#8740","03-Mar-19 08:16 PM","Thank you, feel pretty stupid now considering I've just covered logic gates at college","",""
"134426631379877888","thrake#3514","07-Mar-19 05:09 PM","Any tips on how to check for the end of a file?","",""
"134426631379877888","thrake#3514","07-Mar-19 05:09 PM","my 049.jpg keeps on looping.","",""
"174633135739240448","Doge#9515","07-Mar-19 05:14 PM","you can check for eof","",""
"174633135739240448","Doge#9515","07-Mar-19 05:14 PM","lemme link you up, sec","",""
"174633135739240448","Doge#9515","07-Mar-19 05:14 PM","<https://stackoverflow.com/questions/1782080/what-is-eof-in-the-c-programming-language>","",""
"174633135739240448","Doge#9515","07-Mar-19 05:14 PM","<https://reference.cs50.net/stdio/feof>","",""
"174633135739240448","Doge#9515","07-Mar-19 05:15 PM","also <https://www.google.com/search?q=how+to+check+for+the+end+of+a+file%3F&rlz=1C1CHBF_enBA818BA818&oq=how+to+check+for+the+end+of+a+file%3F&aqs=chrome..69i57j0l5.743j0j7&sourceid=chrome&ie=UTF-8>","",""
"174633135739240448","Doge#9515","07-Mar-19 05:16 PM","just googling ""how to check for the end of a file?"" returns pretty good results","",""
"134426631379877888","thrake#3514","07-Mar-19 05:16 PM","thank you for the links, Doge.","",""
"134426631379877888","thrake#3514","07-Mar-19 05:17 PM","Yes i've been googling for over 20 minutes but i'm confused on how it relates to fread","",""
"174633135739240448","Doge#9515","07-Mar-19 05:18 PM","did you check cs50 reference?","",""
"174633135739240448","Doge#9515","07-Mar-19 05:18 PM","fread() does not distinguish between end-of-file and error, and callers must use feof(3) and ferror(3) to determine which occurred.","",""
"174633135739240448","Doge#9515","07-Mar-19 05:18 PM","from: <https://reference.cs50.net/stdio/fread>","",""
"134426631379877888","thrake#3514","07-Mar-19 05:19 PM","Ok thanks I will look into that.","",""
"134426631379877888","thrake#3514","07-Mar-19 05:24 PM","I got it, thanks for the nudge in the right direction!","","üëå (1)"
"329664790844932096","skilla215#2001","11-Mar-19 12:34 AM","okay i have a question","",""
"329664790844932096","skilla215#2001","11-Mar-19 12:34 AM","for some reason my buffer","",""
"329664790844932096","skilla215#2001","11-Mar-19 12:34 AM","like buffer[0] is storing an entire","",""
"329664790844932096","skilla215#2001","11-Mar-19 12:34 AM","uhm","",""
"329664790844932096","skilla215#2001","11-Mar-19 12:34 AM","an entire 3 bytes","",""
"329664790844932096","skilla215#2001","11-Mar-19 12:34 AM","or 4","",""
"329664790844932096","skilla215#2001","11-Mar-19 12:34 AM","how i fix dat","",""
"393854278764068875","curiouskiwi#1671","11-Mar-19 12:35 AM","what sort of buffer is it?  one that holds bytes? (ie, unsigned chars)?","",""
"329664790844932096","skilla215#2001","11-Mar-19 12:48 AM","no but ive read about that","",""
"329664790844932096","skilla215#2001","11-Mar-19 12:48 AM","should it be","",""
"393854278764068875","curiouskiwi#1671","11-Mar-19 12:52 AM","if you want it to hold 512 bytes, then it should be declared as an array that holds 512 bytes","",""
"329664790844932096","skilla215#2001","11-Mar-19 12:52 AM","righto","",""
"329664790844932096","skilla215#2001","11-Mar-19 12:52 AM","ok","",""
"329664790844932096","skilla215#2001","11-Mar-19 12:52 AM","that makes sense","",""
"329664790844932096","skilla215#2001","11-Mar-19 12:55 AM","1 more question","",""
"329664790844932096","skilla215#2001","11-Mar-19 12:56 AM","in this problem why am i reading from buffer and not &buffer","",""
"329664790844932096","skilla215#2001","11-Mar-19 12:56 AM","like in the previous problem?","",""
"329664790844932096","skilla215#2001","11-Mar-19 12:56 AM","dont i want to write from the location?","",""
"393854278764068875","curiouskiwi#1671","11-Mar-19 12:58 AM","an array variable acts as the location of the memory, so `fread(&buffer,`  and `fread(buffer,` are the same","",""
"329664790844932096","skilla215#2001","11-Mar-19 12:58 AM","in this situation you mean pointer right?","",""
"393854278764068875","curiouskiwi#1671","11-Mar-19 12:58 AM","it ""decays"" to a pointer when used in functions that require a pointer","",""
"329664790844932096","skilla215#2001","11-Mar-19 12:58 AM","i kind of udnderstand","",""
"329664790844932096","skilla215#2001","11-Mar-19 12:59 AM","ah okay","",""
"329977469350445069","Lord of Galaxy#9211","11-Mar-19 09:35 AM","An array kindof _is_ a pointer","",""
"329664790844932096","skilla215#2001","11-Mar-19 08:24 PM","Okay quesitions regarding fgetc","",""
"329664790844932096","skilla215#2001","11-Mar-19 08:24 PM","It behaves in a manner similiar to fread in that, it remembers its positions correct?","",""
"393854278764068875","curiouskiwi#1671","11-Mar-19 08:35 PM","yes, after reading a char, it advances the  position indicator","",""
"329664790844932096","skilla215#2001","11-Mar-19 08:38 PM","okay","",""
"329664790844932096","skilla215#2001","11-Mar-19 08:38 PM","1 more question","",""
"329664790844932096","skilla215#2001","11-Mar-19 08:38 PM","do jpegs have an EOF","",""
"393854278764068875","curiouskiwi#1671","11-Mar-19 08:46 PM","they can,  but for the purposes of the Recover problem, each of your jpgs should simply end when the next signature has been found.","",""
"393854278764068875","curiouskiwi#1671","11-Mar-19 08:47 PM","ie, don't overcomplicate it.","",""
"329664790844932096","skilla215#2001","11-Mar-19 08:53 PM","yeah","",""
"329664790844932096","skilla215#2001","11-Mar-19 08:53 PM","okay im starting to get close","",""
"329664790844932096","skilla215#2001","11-Mar-19 10:04 PM","omg i actually did it","",""
"329664790844932096","skilla215#2001","11-Mar-19 10:04 PM","im a legend","","üíØ (1)"
"329664790844932096","skilla215#2001","12-Mar-19 12:31 AM","isit","",""
"329664790844932096","skilla215#2001","12-Mar-19 12:31 AM","is it preferable to use feof or fgetc?","",""
"329664790844932096","skilla215#2001","12-Mar-19 12:44 AM","okay all my images are good except 49","",""
"329664790844932096","skilla215#2001","12-Mar-19 12:44 AM","when i look at it it looks okay but possibly the bottom is getting cut off","",""
"329664790844932096","skilla215#2001","12-Mar-19 12:44 AM","im not exactly sure. It exists with 0 echo $? = 0","",""
"329664790844932096","skilla215#2001","12-Mar-19 12:44 AM","any tips","",""
"393854278764068875","curiouskiwi#1671","12-Mar-19 12:47 AM","more than likely, you are writing the final 512 byte block twice.  The walkthrough hints that using `fread` will give you the number of bytes read (so it can be used as the while condition in your loop)","",""
"329664790844932096","skilla215#2001","12-Mar-19 01:42 AM","Ok","",""
"329664790844932096","skilla215#2001","12-Mar-19 01:42 AM","Lets say i did that and im still having an issur for some reason it freezes when j try to look at the hex","",""
"329664790844932096","skilla215#2001","12-Mar-19 01:42 AM","Anymore","",""
"329664790844932096","skilla215#2001","12-Mar-19 01:42 AM","Tips","",""
"329664790844932096","skilla215#2001","12-Mar-19 01:42 AM","Changed the condition to what you said and still having what i assume is a similiar error","",""
"329664790844932096","skilla215#2001","12-Mar-19 02:57 AM","Okay i got the hex checksd it out i understand i fixed it opop","",""
"201877416447049728","MuaMua#7676","12-Mar-19 09:04 AM","Hey guys, I'm trying to figure out the best way to have all the filenames available for each image that gets recovered. I think just making a large array full of relevant filenames would work, but is there a way using malloc to make a new file with a name based on a count variable inside the loop?","",""
"174633135739240448","Doge#9515","12-Mar-19 10:55 AM","Read the whole problem doc, it mentiones how to name files  based on a count variable @MuaMua","",""
"111181706484002816","MisterD#8061","14-Mar-19 09:15 PM","what type of array should i declare for  `buffer`?","",""
"174633135739240448","Doge#9515","14-Mar-19 09:34 PM","You want to store 512 bytes so you need a data type that can hold 1 byte.","",""
"174633135739240448","Doge#9515","14-Mar-19 09:34 PM","@MisterD","",""
"111181706484002816","MisterD#8061","14-Mar-19 09:35 PM","okay","",""
"201877416447049728","MuaMua#7676","14-Mar-19 10:22 PM","Hey all, had to restart my recover project. Code  seems to break at fwrite. debug50 tells me that the variable img remains null despite trying to update in the if statement. Not sure how I should properly update img as the output file location. Any advice appreciated, thanks!

https://pastebin.com/8hUmeKiz","",""
"174633135739240448","Doge#9515","14-Mar-19 10:27 PM","This is your problem `unsigned char *buffer = malloc(512*sizeof(int));` @MuaMua","",""
"174633135739240448","Doge#9515","14-Mar-19 10:27 PM","*or one of","",""
"174633135739240448","Doge#9515","14-Mar-19 10:27 PM","your buffer is 512X4 bytes not 512X1","",""
"174633135739240448","Doge#9515","14-Mar-19 10:29 PM","also your `bool check0 = false;` so the 1st jpg while loop doesn't run?","",""
"174633135739240448","Doge#9515","14-Mar-19 10:30 PM","and read <https://reference.cs50.net/stdio/fopen> so you understand how to open your output jpg for writing","",""
"201877416447049728","MuaMua#7676","15-Mar-19 06:08 AM","@Doge Thanks for the advice, I'll try and fix it up","",""
"111181706484002816","MisterD#8061","15-Mar-19 12:37 PM","for some reason my program only finds the first picture (I think?) and then writes 001.jpg with 10.46mb in size üò≠","",""
"174633135739240448","Doge#9515","15-Mar-19 12:39 PM","Use debug50 to see what happens","",""
"174633135739240448","Doge#9515","15-Mar-19 12:39 PM","no reason to guess","",""
"174633135739240448","Doge#9515","15-Mar-19 12:41 PM","@MisterD","",""
"111181706484002816","MisterD#8061","15-Mar-19 12:42 PM","the first image is already 968*512 byte blocks isn't it? I guess I don't know how to debug this properly right now","",""
"174633135739240448","Doge#9515","15-Mar-19 12:43 PM","put a breakpoint before you write to your file","",""
"174633135739240448","Doge#9515","15-Mar-19 12:43 PM","and see how many times it writes to it and why it doesn't close jpg 1 and open jpg 2","",""
"111181706484002816","MisterD#8061","15-Mar-19 12:43 PM","alright","",""
"111181706484002816","MisterD#8061","15-Mar-19 12:52 PM","after executing `sprintf(filename, ""%03i.jpg"", counter);` counter goes back to zero üò≥ üò≥ üò≥","",""
"111181706484002816","MisterD#8061","15-Mar-19 12:54 PM","also filename doesn't change so it continues writing to `001.jpg`","",""
"111181706484002816","MisterD#8061","15-Mar-19 12:55 PM","okay I found something from a previous similar problem, let's see","",""
"111181706484002816","MisterD#8061","15-Mar-19 01:00 PM","alright got it now... üòÖ","",""
"174633135739240448","Doge#9515","15-Mar-19 01:06 PM","Good job üëç","",""
"111181706484002816","MisterD#8061","15-Mar-19 01:25 PM","passed check50 YAY","",""
"111181706484002816","MisterD#8061","15-Mar-19 01:26 PM","thanks @Doge","","üëå (1)"
"111181706484002816","MisterD#8061","15-Mar-19 01:29 PM","I previously tried writing a separate function for the writing into file but I never was able to pass buffer[512] correctly and always had segmentation faults, does someone know how to achieve that properly?","",""
"543295021697204236","dexmexter#1184","21-Mar-19 03:55 AM","Is a buffer variable required for fwrite or could I use the a file pointer to read information directely to an outfile?

For example:","",""
"543295021697204236","dexmexter#1184","21-Mar-19 03:58 AM","`fwrite(inptr, 512, 1, outptr);`","",""
"543295021697204236","dexmexter#1184","21-Mar-19 04:57 AM","I thought of a different approach that might work better, I'm still curious about the answer though.","",""
"543295021697204236","dexmexter#1184","21-Mar-19 07:38 AM","All done with this one. I feel like my code could be restructured a bit better for readablility but it is passing all the tests so I'm moving on to the next lecture!","",""
"174633135739240448","Doge#9515","21-Mar-19 12:23 PM","@dexmexter I think it has something to do with location in memory since the FILEs themselves are saved on disk while variables are in RAM so it might have to go Disk (fread)-> RAM (fwrite)-> DISK.","",""
"425716535580033024","Siddharth#2643","23-Mar-19 04:25 AM","hey guys","",""
"425716535580033024","Siddharth#2643","23-Mar-19 04:26 AM","I am going through the Walkthrough video for this problem","",""
"425716535580033024","Siddharth#2643","23-Mar-19 04:26 AM","I came across this image:","",""
"425716535580033024","Siddharth#2643","23-Mar-19 04:26 AM","","https://cdn.discordapp.com/attachments/395684916056031245/558838935317643280/Screen_Shot_2019-03-22_at_10.21.33_PM.png",""
"425716535580033024","Siddharth#2643","23-Mar-19 04:26 AM","I understand the first three lines, those are pretty straightforward","",""
"425716535580033024","Siddharth#2643","23-Mar-19 04:26 AM","but can someone explain the last line there?","",""
"425716535580033024","Siddharth#2643","23-Mar-19 04:26 AM","why is there a single ampersand used after `buffer[3]`?","",""
"425716535580033024","Siddharth#2643","23-Mar-19 04:27 AM","is this a mistake by any chance? @staff","",""
"393854278764068875","curiouskiwi#1671","23-Mar-19 04:28 AM","search the channel for ""bitwise"" and you'll find some earlier explanations","",""
"425716535580033024","Siddharth#2643","23-Mar-19 04:29 AM","ok, will try that, thanks @curiouskiwi","",""
"425716535580033024","Siddharth#2643","23-Mar-19 05:05 AM","ok","",""
"425716535580033024","Siddharth#2643","23-Mar-19 05:05 AM","so I scrolled up quite a bit","",""
"425716535580033024","Siddharth#2643","23-Mar-19 05:06 AM","what I found is that this is something called a bitmask","",""
"425716535580033024","Siddharth#2643","23-Mar-19 05:06 AM","and we don't really need to know what that is for the purposes of CS50","",""
"425716535580033024","Siddharth#2643","23-Mar-19 05:06 AM","so I should just implement it without thinking too much about it","",""
"425716535580033024","Siddharth#2643","23-Mar-19 05:06 AM","sound right? @curiouskiwi","",""
"425716535580033024","Siddharth#2643","23-Mar-19 08:49 AM","hey folks","",""
"425716535580033024","Siddharth#2643","23-Mar-19 08:49 AM","I think I am just about done with recover","",""
"425716535580033024","Siddharth#2643","23-Mar-19 08:49 AM","I am successfully viewing all of the images","",""
"425716535580033024","Siddharth#2643","23-Mar-19 08:50 AM","but I'm getting this error when I run check50:","",""
"425716535580033024","Siddharth#2643","23-Mar-19 08:50 AM","`:( recovers 049.jpg correctly
    recovered image does not match`","",""
"425716535580033024","Siddharth#2643","23-Mar-19 08:50 AM","when I look at that image, it looks fine to me","",""
"425716535580033024","Siddharth#2643","23-Mar-19 08:50 AM","all of the other checks are working out fine","",""
"425716535580033024","Siddharth#2643","23-Mar-19 08:51 AM","anyone have any suggestions?","",""
"425716535580033024","Siddharth#2643","23-Mar-19 08:59 AM","@curiouskiwi would love your input on this, if you have the time","",""
"134426631379877888","thrake#3514","23-Mar-19 03:41 PM","@Siddharth you should check if the image is terminated correctly","",""
"134426631379877888","thrake#3514","23-Mar-19 03:41 PM","I had issues with the last file as well, as I remember","",""
"425716535580033024","Siddharth#2643","23-Mar-19 04:25 PM","Hmm... What does that mean, to be terminated correctly? @thrake Do you mean whether it‚Äôs closed or not?","",""
"174633135739240448","Doge#9515","23-Mar-19 07:48 PM","@Siddharth Stop spam pinging curiouskiwi, just once is enough. The file must end or terminate correctly meaning it can't have ""loose"" bits if you will. Check your code to see if you write more than you need on the last iteration of your writing loop and not closing the file should just have an affect on your RAM not the file on disk.","","üëå (1)"
"272626192358703104","Praful#7013","23-Mar-19 07:49 PM","finally passed all tests...üëå","","üá≥ (2),‚Ñπ (2),üá® (3),üá™ (2)"
"425716535580033024","Siddharth#2643","23-Mar-19 11:14 PM","@Doge My intention was not to ‚Äúspam ping‚Äù curiouskiwi. I am new to Discord and to CS50, so am not familiar with the etiquette here. My apologies if it came off that way.","",""
"425716535580033024","Siddharth#2643","24-Mar-19 12:25 AM","also, thanks for your help @Doge . was able to submit it successfully üôÇ","","üëå (1)"
"174633135739240448","Doge#9515","24-Mar-19 01:18 AM","Yeah it's no problem, just gonna mention you a couple of times, just to make clear why multiple @ mentions don't help @Siddharth","",""
"174633135739240448","Doge#9515","24-Mar-19 01:19 AM","@Siddharth","",""
"174633135739240448","Doge#9515","24-Mar-19 01:20 AM","Nice job on the recover problem üëå","",""
"370455087082110978","aimsor#2492","04-Apr-19 01:07 AM","Should I declare img as a NULL file pointer to be able to check if it exists later?","",""
"370455087082110978","aimsor#2492","04-Apr-19 01:07 AM","I don't intuitively know when to use malloc, but I feel like I need to use it here for some reason","",""
"393854278764068875","curiouskiwi#1671","04-Apr-19 02:02 AM","@aimsor, yes for your first question, and no, you probably don't need to use malloc since you already know how much memory you need (for the filename string you now the length, and for the buffer, you know how many bytes)","","üëå (1)"
"168837160709914624","Davincie#7607","04-Apr-19 02:54 PM","isnt it a bit odd that this problem asks you to create a pset3 folder when you likely have one already from resize?","",""
"492450454341550100","WhipStreak23#6131","04-Apr-19 05:13 PM","No. Just incase you do Recover first...","",""
"370455087082110978","aimsor#2492","05-Apr-19 01:38 AM","woohoo! Just got it done! All tests passed","","üëç (2)"
"130382351132786689","Yoshinoes#4444","05-Apr-19 03:49 AM","for some reason check50 keeps exiting with code 1 for invalid arguments, but it works for me perfectly exit code 0 *sweat*","",""
"130382351132786689","Yoshinoes#4444","05-Apr-19 03:49 AM","so i cant turn it in","",""
"130382351132786689","Yoshinoes#4444","05-Apr-19 03:51 AM","oh nvm just saw the bottom text, my bad, time to figure this out","",""
"130382351132786689","Yoshinoes#4444","05-Apr-19 03:53 AM","okay yeah im lost","",""
"130382351132786689","Yoshinoes#4444","05-Apr-19 03:53 AM","its using stderr like it says to","",""
"130382351132786689","Yoshinoes#4444","05-Apr-19 03:53 AM","weird","",""
"229356848266870784","Morte#0658","05-Apr-19 06:37 PM","Anyone mind taking a look at my code for recover. I'm trying to recover only the first jpg that I find before attempting to incorporate loops to find all of them but I can't seem to get the right image print out.","",""
"229356848266870784","Morte#0658","05-Apr-19 06:37 PM","this is my code","",""
"229356848266870784","Morte#0658","05-Apr-19 06:37 PM","https://pastebin.com/ZKA7uNJa","",""
"229356848266870784","Morte#0658","05-Apr-19 06:37 PM","and this is the image that is produced","",""
"229356848266870784","Morte#0658","05-Apr-19 06:37 PM","https://gyazo.com/2178047c0e44a95881862c6341e72deb","",""
"229356848266870784","Morte#0658","05-Apr-19 06:38 PM","thank you for your help","",""
"297522420275871757","Pachiti#6028","05-Apr-19 11:46 PM","@Morte,  you are only reading and writing the first 512 bytes of every image. Once you find the start of an image you need to keep on writing the buffer to the file until you find the start of a new image. If you only want the first image than exit out of your loop once you have found the start of the second image.","",""
"229356848266870784","Morte#0658","06-Apr-19 06:47 AM","Oh. Im so dumb. For some reason i thought that there would be a full picture every 512 bytes. Thank you for your help","",""
"229356848266870784","Morte#0658","06-Apr-19 07:12 AM","Finally managed to complete it and it passes check50","","üëåüèæ (1)"
"229356848266870784","Morte#0658","06-Apr-19 07:12 AM","Thanks @Pachiti","",""
"399021249667399722","harbar20#9389","07-Apr-19 07:40 PM","hey guys","",""
"399021249667399722","harbar20#9389","07-Apr-19 07:40 PM","is `BYTE` a built-in C object?","",""
"399021249667399722","harbar20#9389","07-Apr-19 07:51 PM","also","",""
"399021249667399722","harbar20#9389","07-Apr-19 07:51 PM","what's a buffer?","",""
"297522420275871757","Pachiti#6028","07-Apr-19 08:24 PM","You can just import `stdint.h` and then put `typedef uint8_t  BYTE;` at the top of your file, and it will make a data structure called a BYTE witch takes up a byte. Heres the wiki for a buffer https://en.wikipedia.org/wiki/Data_buffer","",""
"399021249667399722","harbar20#9389","07-Apr-19 08:48 PM","ohhhhh ok","",""
"399021249667399722","harbar20#9389","07-Apr-19 08:48 PM","that makes sense","",""
"399021249667399722","harbar20#9389","07-Apr-19 08:48 PM","so then if i wanna make an array of all the bytes in one jpeg","",""
"399021249667399722","harbar20#9389","07-Apr-19 08:48 PM","what type of array do i make it?","",""
"297522420275871757","Pachiti#6028","07-Apr-19 09:12 PM","@harbar20  you don't wan to have an array that contains all the bytes of one jpg because the jpgs are different sizes. You want one array of type BYTE with 512 BYTES.","",""
"399021249667399722","harbar20#9389","07-Apr-19 09:12 PM","ok...","",""
"399021249667399722","harbar20#9389","07-Apr-19 09:12 PM","ohhh","",""
"399021249667399722","harbar20#9389","07-Apr-19 09:12 PM","ok","",""
"399021249667399722","harbar20#9389","07-Apr-19 09:12 PM","and i write them 512 at a time","",""
"399021249667399722","harbar20#9389","07-Apr-19 09:12 PM","right?","",""
"297522420275871757","Pachiti#6028","07-Apr-19 09:25 PM","yeah","",""
"399021249667399722","harbar20#9389","07-Apr-19 09:26 PM","ok","",""
"399021249667399722","harbar20#9389","07-Apr-19 09:26 PM","so im confused again lol","",""
"399021249667399722","harbar20#9389","07-Apr-19 09:26 PM","i watched Zamyla's walkthrough","",""
"399021249667399722","harbar20#9389","07-Apr-19 09:26 PM","and in the last minute or so, she explains some pseudocode","",""
"399021249667399722","harbar20#9389","07-Apr-19 09:27 PM","why are we checking whether a JPEG has been opened already TWICE?","",""
"297522420275871757","Pachiti#6028","08-Apr-19 02:27 AM","I am assuming your talking about the file that your writing to. You want to check if it is open because if it is not, then you don't want to write data to it, and if it is open then you do want to write the data to it","",""
"168837160709914624","Davincie#7607","08-Apr-19 04:09 PM","does it matter whether you do buffer as a BYTE or an unsigned char?","",""
"168837160709914624","Davincie#7607","08-Apr-19 05:33 PM","and what does this error mean?","",""
"168837160709914624","Davincie#7607","08-Apr-19 05:33 PM","*** Error in `./recover': double free or corruption (!prev): 0x00000000010d8010 ***","",""
"297522420275871757","Pachiti#6028","08-Apr-19 05:55 PM","@Davincie  you can use a unsigned char as it also takes up a byte of memory. That error is most likely caused by trying to free a block of memory that was not allocated using malloc.","",""
"168837160709914624","Davincie#7607","08-Apr-19 05:58 PM","thanks","",""
"240213365002076160","Exkywor#8158","10-Apr-19 03:07 AM","hey","",""
"240213365002076160","Exkywor#8158","10-Apr-19 03:07 AM","I just finished the problem","",""
"240213365002076160","Exkywor#8158","10-Apr-19 03:07 AM","and ir runs and works and returns 50 images (from 000 to 049)","",""
"240213365002076160","Exkywor#8158","10-Apr-19 03:07 AM","and no bugs or issues","",""
"240213365002076160","Exkywor#8158","10-Apr-19 03:07 AM","but","",""
"240213365002076160","Exkywor#8158","10-Apr-19 03:07 AM","when I run check50 it says that 049.jpg does not match","",""
"240213365002076160","Exkywor#8158","10-Apr-19 03:08 AM","this is the image I get when running it in the IDE","",""
"240213365002076160","Exkywor#8158","10-Apr-19 03:08 AM","","https://cdn.discordapp.com/attachments/395684916056031245/565327156146602022/unknown.png",""
"240213365002076160","Exkywor#8158","10-Apr-19 03:08 AM","and this what check50 says","",""
"240213365002076160","Exkywor#8158","10-Apr-19 03:08 AM","","https://cdn.discordapp.com/attachments/395684916056031245/565327241895084032/unknown.png",""
"393854278764068875","curiouskiwi#1671","10-Apr-19 03:09 AM","@Exkywor you are probably writing an extra 512 bytes to the end of the file.  Check your loop condition and make sure you don't run your loop an extra time (this might happen if you are using `feof` ... that only gets set once you try to read **past** the end of the file)","",""
"240213365002076160","Exkywor#8158","10-Apr-19 03:10 AM","hahahahaha","",""
"240213365002076160","Exkywor#8158","10-Apr-19 03:10 AM","that is completely true","",""
"240213365002076160","Exkywor#8158","10-Apr-19 03:10 AM","hahahahaha","",""
"240213365002076160","Exkywor#8158","10-Apr-19 03:10 AM","I was lazy and though I could just use feof xD","",""
"240213365002076160","Exkywor#8158","10-Apr-19 03:10 AM","thanks","",""
"240213365002076160","Exkywor#8158","10-Apr-19 03:41 AM","and done üòÑ","",""
"240213365002076160","Exkywor#8158","10-Apr-19 03:41 AM","thanks üòÑ","",""
"393854278764068875","curiouskiwi#1671","10-Apr-19 04:31 AM","üíØ","",""
"399021249667399722","harbar20#9389","11-Apr-19 03:12 AM","@Exkywor can i DM you for help?","",""
"240213365002076160","Exkywor#8158","11-Apr-19 05:09 AM","sure thing","",""
"244287352376131584","underthebanyan#7192","11-Apr-19 11:28 AM","Quick q: I guess I'll see when I test, but if I use fread in my while condition, doesn't that advance the 'cursor' by 512 bytes? Do I need to fread again inside the loop as Zamyla's psuedocode suggests or is that a red herring?","",""
"110100595901243392","Luke üëë#6851","11-Apr-19 12:01 PM","it does advance the cursor","",""
"110100595901243392","Luke üëë#6851","11-Apr-19 12:01 PM","no need to call again","",""
"244287352376131584","underthebanyan#7192","11-Apr-19 12:15 PM","danke","",""
"244287352376131584","underthebanyan#7192","11-Apr-19 12:55 PM","Awesome Pset, though I'm just a tad confused regarding pointers. The compiler caught that my filename pointer was not initialized and so I put ""000.jpg"" to see what happens","",""
"244287352376131584","underthebanyan#7192","11-Apr-19 12:56 PM","sprintf seg faulted in this line: sprintf( filename, ""%03i"", imgcount);","",""
"244287352376131584","underthebanyan#7192","11-Apr-19 12:57 PM","so I changed the initialization to char *filename = malloc(10); which resolved the issue","",""
"244287352376131584","underthebanyan#7192","11-Apr-19 12:58 PM","question is, why was I able to put ""000.jpg"" in it? Why didn't the program seg fault at that line, but seg fault when i referred to the location?","",""
"244287352376131584","underthebanyan#7192","11-Apr-19 01:00 PM","OH WAIT stack vs heap?","",""
"244287352376131584","underthebanyan#7192","11-Apr-19 01:01 PM","nope, don't know","",""
"244287352376131584","underthebanyan#7192","11-Apr-19 01:01 PM","sorry, hope someone has an answer","",""
"399021249667399722","harbar20#9389","11-Apr-19 04:36 PM","@underthebanyan maybe it's cuz you didn't `malloc` before the `sprintf`, so when u made a file, there wasn't any memory allocated to store it.","",""
"244287352376131584","underthebanyan#7192","11-Apr-19 04:38 PM","right, but it stored ""000.jpg"" without a problem right? that means it's storing 000.jpg in memory somewhere. talking to @Exkywor though we think it's probably just how sprintf is implemented. It doesn't seem to replace the characters if something is already there","",""
"399021249667399722","harbar20#9389","11-Apr-19 04:46 PM","hm","",""
"399021249667399722","harbar20#9389","11-Apr-19 04:46 PM","idk","",""
"106362473711431680","Saltey#8750","11-Apr-19 11:30 PM","Hey guys/gals","",""
"106362473711431680","Saltey#8750","11-Apr-19 11:30 PM","I'm able to create 000 to 049 JPGs, only issue is, every one is invalid file format","",""
"240213365002076160","Exkywor#8158","11-Apr-19 11:51 PM","Mmm, are you sure it's writing the right information?","",""
"240213365002076160","Exkywor#8158","11-Apr-19 11:52 PM","Because it could be creating them but if it's writing some bad info it's gonna give you that error","",""
"106362473711431680","Saltey#8750","11-Apr-19 11:55 PM","I just tried opening the first image '000.jpg' in hexadecimal","",""
"106362473711431680","Saltey#8750","11-Apr-19 11:56 PM","And the beginning bytes don't match what I'm looking for in the header, hahaha. Strange","",""
"106362473711431680","Saltey#8750","11-Apr-19 11:57 PM","Aaaaaand I got it!","",""
"106362473711431680","Saltey#8750","11-Apr-19 11:57 PM","fwrite(&buffer, 1, blocksize, wJPG);
             ^
One & sign ruining my life for an hour....","",""
"240213365002076160","Exkywor#8158","12-Apr-19 12:04 AM","hahahaha, wait until you waste like 3 or more","",""
"240213365002076160","Exkywor#8158","12-Apr-19 12:04 AM","hahhahahahaha","",""
"240213365002076160","Exkywor#8158","12-Apr-19 12:04 AM","kudos though","",""
"240213365002076160","Exkywor#8158","12-Apr-19 12:04 AM","üòÑ","",""
"442586581782757377","pretty_ok#8605","12-Apr-19 12:04 AM","good job figuring it out. pointers are rough, we've all been there ‚õà","",""
"420030404427251713","btstone4#7336","12-Apr-19 10:08 PM","Hello. I am using malloc to allocate memory for the raw data to be fread into. What data type should the pointer be that malloc is assigning an address to?","",""
"399021249667399722","harbar20#9389","13-Apr-19 03:26 AM","@btstone4 what are you mallocing for?","",""
"244287352376131584","underthebanyan#7192","13-Apr-19 08:10 AM","@btstone4 that's a great question! I used the BYTE datatype from resize","",""
"244287352376131584","underthebanyan#7192","13-Apr-19 08:17 AM","because it's exactly the size of 1 byte. I believe any datatype that's only 1 byte big would work","",""
"420030404427251713","btstone4#7336","13-Apr-19 01:54 PM","@underthebanyan Here is a pic of the code that I have so far. Would there be any difference in me changing fread to read in 512 elements 1 byte each vs what I have now?","https://cdn.discordapp.com/attachments/395684916056031245/566576850835472404/IMG_20190413_065107.jpg",""
"244287352376131584","underthebanyan#7192","13-Apr-19 01:58 PM","Well the only reason they suggested doing it one byte at time instead of 512 at a time is so that we can detect the end of file on our own. You've used feof() instead, so going one byte at a time doesn't change anything","",""
"420030404427251713","btstone4#7336","13-Apr-19 02:03 PM","Ok, I gotcha. Also, how do I index a particular byte of data out of the memory that buffer is pointing to? I need to do this in order to compare the first 4 bytes of data to the first 4 bytes if a jpeg.","",""
"420030404427251713","btstone4#7336","13-Apr-19 02:04 PM","Is there a way to attach a variable name to this set of data or do I dereference it using the pointer?","",""
"244287352376131584","underthebanyan#7192","13-Apr-19 02:06 PM","ok so really quickly let's say i have an array of characters like so: char * name = ['J', 'O', 'H', 'N']","",""
"244287352376131584","underthebanyan#7192","13-Apr-19 02:07 PM","how would you get me the first character of string name?","",""
"244287352376131584","underthebanyan#7192","13-Apr-19 02:07 PM","name is just a pointer to an array of characters right","",""
"244287352376131584","underthebanyan#7192","13-Apr-19 02:08 PM","so name[0] would give you 'J'","",""
"420030404427251713","btstone4#7336","13-Apr-19 02:11 PM","Ok, so char * name  is the same thing as char name[] and an array is just a set of contiguous memory.","",""
"244287352376131584","underthebanyan#7192","13-Apr-19 02:12 PM","yep","",""
"420030404427251713","btstone4#7336","13-Apr-19 02:17 PM","Ok, so the data type is just telling the computer how many bytes in the memory each index is worth. So in the case of my memory set, each index is one byte. If I had defined tge pointer as an integer, the index would be every 4 bytes. Am I thinking About this correctly?","",""
"244287352376131584","underthebanyan#7192","13-Apr-19 02:20 PM","I believe you are","",""
"244287352376131584","underthebanyan#7192","13-Apr-19 02:20 PM","üëç","",""
"420030404427251713","btstone4#7336","13-Apr-19 02:23 PM","Are these two statements the same? buffer[0] and *buffer?","",""
"244287352376131584","underthebanyan#7192","13-Apr-19 03:09 PM","no","",""
"244287352376131584","underthebanyan#7192","13-Apr-19 03:09 PM","or I don't think so","",""
"244287352376131584","underthebanyan#7192","13-Apr-19 03:09 PM","why","",""
"420030404427251713","btstone4#7336","13-Apr-19 03:21 PM","It seems like they accomplish the same thing. One is dereferencing which gets the value at the address. The other gets the value at the index.","",""
"244287352376131584","underthebanyan#7192","13-Apr-19 03:29 PM","I don't know enough to refute it, but it feels wrong","",""
"244287352376131584","underthebanyan#7192","13-Apr-19 03:30 PM","I get what you're trying to say though","",""
"420030404427251713","btstone4#7336","13-Apr-19 03:40 PM","Ok, thanks for your help! @underthebanyan","",""
"174633135739240448","Doge#9515","13-Apr-19 06:02 PM","@btstone4 `*buffer[0]` is the value at the 1st (0th) element of the buffer array, `buffer[0]` is the 1st element of the array that begins at the buffers address. So, for example, `buffer[5]` is the 6th element accessed by the buffers address and skipping to the 6th element.","",""
"174633135739240448","Doge#9515","13-Apr-19 06:02 PM","In other words the name of an array usually evaluates to the address of the first element of the array.","",""
"420030404427251713","btstone4#7336","13-Apr-19 06:06 PM","Thanks!","","üëå (1)"
"318724387417227266","0x4E696E6A75#6171","16-Apr-19 05:34 PM","i feel that will be a real problem üò≠","",""
"318724387417227266","0x4E696E6A75#6171","16-Apr-19 05:34 PM","should i use bmp.h or make another header for jpeg ?!","",""
"393854278764068875","curiouskiwi#1671","17-Apr-19 03:09 AM","@0x4E696E6A75 you shouldn't need any header files.  All of your work can be in recover.c","",""
"318724387417227266","0x4E696E6A75#6171","17-Apr-19 11:26 PM","wow i have recovered 50 images but all are empty üòÇ","",""
"560548949212135430","MatMiLam#5890","19-Apr-19 04:12 AM","My script is creating 50 jpeg files but I get an invalid format error when trying to open them.","https://cdn.discordapp.com/attachments/395684916056031245/568604802024603668/recover_invalid_format.png",""
"560548949212135430","MatMiLam#5890","19-Apr-19 04:13 AM","Here is the hex from 000.jpeg. Am I getting close?","https://cdn.discordapp.com/attachments/395684916056031245/568604969905946624/recover_hex_000.png",""
"393854278764068875","curiouskiwi#1671","19-Apr-19 04:58 AM","knowing that all jpgs must start with that 4 byte signature `ffd8ffe0` (last digit might vary), if you look at the first 4 bytes of 000.jpg, do you see that?    you can run ```xxd -l4 000.jpg```  to see the first bytes","",""
"560548949212135430","MatMiLam#5890","19-Apr-19 05:09 AM","I'm not changing anything in the buffer between when I check for that 4 byte signature and when I write it to a file. I'm not sure why it isn't first writing that 4 byte signature.","",""
"560548949212135430","MatMiLam#5890","19-Apr-19 05:32 AM","I think I just figured out my issue or 1 of my issues. I was writing instead of append. I now see pictures.","",""
"393854278764068875","curiouskiwi#1671","19-Apr-19 05:41 AM","I'd expect you to write not append.  You should only be opening each file once, keeping it open to write, and then, at the end, closing it.","",""
"560548949212135430","MatMiLam#5890","19-Apr-19 05:45 AM","I must have deviated from the expected solution where append is working for me but write is not. Not sure if I go back and try to figure out why I couldn't get write to work or just see if I can finish it up with append since it appears to be working. If my append method won't make it through the grader I may not have a choice but to go back and figure it out using write.","",""
"140183864076140544","Key#3708","22-Apr-19 02:26 AM","Can someone explain this?","https://cdn.discordapp.com/attachments/395684916056031245/569665316901224461/unknown.png",""
"140183864076140544","Key#3708","22-Apr-19 02:29 AM","Wait i think i got it. It compares the binary and if the digits are both the same then the digit doesn't get changed, then if it's different they're both set to 0","",""
"140183864076140544","Key#3708","22-Apr-19 02:30 AM","?","",""
"398222836814315521","brunosra#5067","22-Apr-19 01:48 PM","@Key I'd like to  understand that as well. I didn't get this bitwise operators, even by reading about them in the internet üò¶ can anyone please explain that to us? üòÑ","",""
"303216876446810113","Usako Heika#6462","22-Apr-19 02:20 PM","1001&0111 will be 0001 i Guess because it Checks in the 4. Bit of  both vars are both 1 if they are the 4. Bit will bei 1 then it does the same to the 3. Bit of both vars and so on. If both are 1 result will be 1 (for the bit) else result will be 0","",""
"398222836814315521","brunosra#5067","22-Apr-19 11:00 PM","GOT IT! Took much less time doing this one than resize (less)","",""
"91532050187718656","Gabriel Dupuis#5013","24-Apr-19 09:25 PM","everything works but can't do fclose without getting a segmentation fault, i've put File *img;  at the beginning so I imagine it try to close a null value or something","",""
"91532050187718656","Gabriel Dupuis#5013","24-Apr-19 09:27 PM","ah found the answer lol","",""
"303216876446810113","Usako Heika#6462","24-Apr-19 10:04 PM","help please, I dont know why but the output of ```int buffer[512];
        fread(buffer, 512, 1, inptr);
        printf(""%i %i %i\n"",buffer[0], buffer[1], buffer[2]);```

is exactly the same as the output of 
```int buffer[512];
        fread(buffer, 1, 512, inptr);
        printf(""%i %i %i\n"",buffer[0], buffer[1], buffer[2]);```

I know that there should be a difference (and which) but it doesn't do what I expect and I have no idea why","",""
"91532050187718656","Gabriel Dupuis#5013","24-Apr-19 10:11 PM","depend what you are reading fread will read 512 bits in file which is 64 bytes,  and put it in the buffer.  and An integer is 2 bytes I believe, so 16 bits it mean that your buffer contain 8192 bits instead of 512","",""
"91532050187718656","Gabriel Dupuis#5013","24-Apr-19 10:13 PM","every space of the buffer should have 8 bits to have 2 hexadecimal symbol","",""
"303216876446810113","Usako Heika#6462","24-Apr-19 10:18 PM","fread size is the size in bytes (or the c documentation lies). I want to have a buffer that has 512 elements and each of it should have a size of 1 byte but that's not what the fread is doing. The result of buffer[0] etc are rediculosly high numbers much bigger than 1 byte","",""
"91532050187718656","Gabriel Dupuis#5013","24-Apr-19 10:20 PM","the thing is you have a buffer of 512 integers not bits","",""
"303216876446810113","Usako Heika#6462","24-Apr-19 10:22 PM","so fread is not very smart and puts everything into buffer[0] till it is full even if I tell him to make 512, 1?","",""
"91532050187718656","Gabriel Dupuis#5013","24-Apr-19 10:23 PM","yeah I mean you can enter a lot of data in one integer","",""
"303216876446810113","Usako Heika#6462","24-Apr-19 10:24 PM","oh wow, how annoying","",""
"303216876446810113","Usako Heika#6462","24-Apr-19 10:24 PM","thanks anyways I think I got it","",""
"91532050187718656","Gabriel Dupuis#5013","24-Apr-19 10:24 PM","you're welcome","",""
"570675708104409109","ngthuyduong93#5548","24-Apr-19 11:12 PM","hi i'm just starting recover and watching Walkthrough of Zamyla, I haven't figure dout why the logic of last code to check the last byte of a JPEG, given in full is: (buffer[0]==0xff && buffer[1]==0xd8 && buffer[2]==0xff && (buffer[3] & 0xf0)==0xe0) so the part (buffer[3] & 0xf0)==0xe0) is what I don't understand","",""
"91532050187718656","Gabriel Dupuis#5013","24-Apr-19 11:18 PM","what I understand about the bitwise operator is that it reset the last 4 bits to 0","",""
"91532050187718656","Gabriel Dupuis#5013","24-Apr-19 11:18 PM","buffer3 has 8 bits","",""
"91532050187718656","Gabriel Dupuis#5013","24-Apr-19 11:23 PM","0xf0  = 1111 0000   if the buffer is 0xe9 for example it would be: 1110 1001.","",""
"91532050187718656","Gabriel Dupuis#5013","24-Apr-19 11:24 PM","1110 1001 AND 1111 0000 =  1110 0000 which is 0xe0","",""
"570675708104409109","ngthuyduong93#5548","24-Apr-19 11:27 PM","ohhhhhhh achso I think I understand it more now üòÑ Thank you","",""
"91532050187718656","Gabriel Dupuis#5013","24-Apr-19 11:28 PM","ur welcome !","",""
"570675708104409109","ngthuyduong93#5548","24-Apr-19 11:42 PM","also I don't get it, why in the code, the number 3 (highlighted in the pic) can turn into 00 for the file name as the result (which is 002 in the example)? and why the ''w'' for the file name?","https://cdn.discordapp.com/attachments/395684916056031245/570711115663802412/unknown.png",""
"570675708104409109","ngthuyduong93#5548","24-Apr-19 11:43 PM","Do we just simply accept and follow?","",""
"91532050187718656","Gabriel Dupuis#5013","25-Apr-19 12:05 AM","I believe it is the number of digit max that the file can have I am not 100% sure","",""
"91532050187718656","Gabriel Dupuis#5013","25-Apr-19 12:07 AM","actually it is the number of digit that the file must have haha","",""
"91532050187718656","Gabriel Dupuis#5013","25-Apr-19 12:08 AM","%02i = 02.jpg,  %03i = 002.jpg","",""
"91532050187718656","Gabriel Dupuis#5013","25-Apr-19 12:08 AM","%04i = 0002.jpg etc","",""
"91532050187718656","Gabriel Dupuis#5013","25-Apr-19 12:09 AM","should just follow what is written though check50, will cehck the names of files","",""
"303216876446810113","Usako Heika#6462","25-Apr-19 12:19 AM","The w is for write Access btw","",""
"303216876446810113","Usako Heika#6462","25-Apr-19 12:25 AM","let me guess there is no easy way normal people would use (so no iteration over an array) to get that stuff back into a file via fwrite? I don't get why I have to split the readout stuff if anything done after that has to be done in such annoying steps btw. Is this because the data might get damaged if I only take it 512, 1 instead of 1,512?","",""
"91532050187718656","Gabriel Dupuis#5013","25-Apr-19 12:27 AM","no its because the whole card.raw might not be divisible by 512","",""
"91532050187718656","Gabriel Dupuis#5013","25-Apr-19 12:27 AM","so you could read like a lot of block of 512 then the last block is like 262 or something","",""
"303216876446810113","Usako Heika#6462","25-Apr-19 12:27 AM","ah okay","",""
"168023638237249536","Cian#2312","26-Apr-19 04:30 PM","Sorry, something's wrong! Let sysadmins@cs50.harvard.edu know!
Submission cancelled. keep getting thsi message","",""
"234679095378706433","Blauelf#6622","26-Apr-19 09:43 PM","Anything on the lines before? Maybe the checker script has become fragile, and you've caused it to crash.","",""
"234679095378706433","Blauelf#6622","26-Apr-19 09:43 PM","Might have some helpful information if there's more than just that (also, which test was that?)","",""
"393854278764068875","curiouskiwi#1671","27-Apr-19 12:23 AM","@Cian most likely reason is if you have any corrupted files (perhaps jpgs that weren't quite right) in your folder where you are running check50.  Try moving recover.c to its own folder and running check50 from there.","",""
"550015048429469706","Protonwave#3725","06-May-19 02:55 PM","My code runs to the end and returns 0 but it doesn‚Äôt generate any jpgs. I am not sure what is wrong has the fwrite function seems correct. Do you see something I am missing? 

https://pastebin.com/JaA5Ehd2","",""
"397830088269365260","Ara Ara~#4042","17-May-19 04:30 PM","I have a question","",""
"397830088269365260","Ara Ara~#4042","17-May-19 04:30 PM","If i were to go from 1 laptop to another would i lose all my code and have to start from scratch?","",""
"397830088269365260","Ara Ara~#4042","17-May-19 04:31 PM","Oh wait","",""
"397830088269365260","Ara Ara~#4042","17-May-19 04:32 PM","This is a code area..","",""
"517975592264794112","Dr. Syaj#6904","21-May-19 10:56 PM","No you wouldn't","",""
"517975592264794112","Dr. Syaj#6904","21-May-19 10:56 PM","Hello guys","",""
"517975592264794112","Dr. Syaj#6904","21-May-19 10:57 PM","Recover is driving me crazy","",""
"517975592264794112","Dr. Syaj#6904","21-May-19 10:57 PM","I need help in some question","",""
"234679095378706433","Blauelf#6622","21-May-19 11:05 PM","Then ask.","",""
"477688147564822529","geekchick#1206","25-May-19 01:03 AM","I'm having some trouble with Recover","",""
"477688147564822529","geekchick#1206","25-May-19 01:04 AM","I'm just trying to get 1 image to display for now","",""
"477688147564822529","geekchick#1206","25-May-19 01:04 AM","But am getting ""invalid file type""","",""
"477688147564822529","geekchick#1206","25-May-19 01:04 AM","Any help in the right direction would be great.","",""
"477688147564822529","geekchick#1206","25-May-19 01:23 AM","Nevermind! Figured it out","",""
"570480674801188884","samchondrew#2419","26-May-19 04:52 AM","hi. ive noticed people making their while statement that reads into the card.raw file ==1 like this","",""
"570480674801188884","samchondrew#2419","26-May-19 04:52 AM","while (fread(buffer, 512, 1, file) == 1)","",""
"570480674801188884","samchondrew#2419","26-May-19 04:52 AM","why are they setting it == to 1?","",""
"570480674801188884","samchondrew#2419","26-May-19 05:06 AM","does it have to do with reaching the EOF?","",""
"560548949212135430","MatMiLam#5890","26-May-19 05:08 AM","= sets something. == checks if equal to","",""
"570480674801188884","samchondrew#2419","26-May-19 06:07 AM","thanks mat but why to 1?","",""
"393854278764068875","curiouskiwi#1671","26-May-19 06:41 AM","@samchondrew look at the definition of `fread`.  what does it return?","",""
"570480674801188884","samchondrew#2419","27-May-19 12:19 AM","according to the cs50 reference fread returns the total number of blocks read. so it will read until it reaches a block less than 512 bytes which will be the EOF.","",""
"570480674801188884","samchondrew#2419","27-May-19 12:19 AM","thanks kiwi","",""
"570480674801188884","samchondrew#2419","27-May-19 07:16 AM","I need some guidance understanding how to use bool statements to check if we found the start or already found a jpeg.  I understand bool takes true or false statements and is used sort of like an on/off switch, but how do I implement it here?","",""
"393854278764068875","curiouskiwi#1671","27-May-19 07:25 AM","the walkthrough gives you code for determining if you've got a new jpg","",""
"582773678962638881","jack73588353#7645","28-May-19 06:48 AM","help
help, here is my code :
while (fread(buf, blocksize, 1, inptr))
    {

        if (buf[0] == 0xff && buf[1] == 0xd8 && buf[2] == 0xff && (buf[3] & 0xf0) == 0xe0)
        {

            sprintf(filename, ""%03i.jpg"", i);
            img = fopen(filename, ""w"");
            fwrite(buf, blocksize, 1, img);
            i++;
            fclose(img);
        }
It didn't work !

but when i modify to this :
while (fread(buf, blockSize, 1, rFile))
    {
        if (buf[0] == 0xff && buf[1] == 0xd8 && buf[2] == 0xff && (buf[3] & 0xf0) == 0xe0)
        {
            if (img != NULL)
            {
                fclose(img);
             }
            sprintf(filename, ""%03i.jpg"", i);
            img = fopen(filename, ""w"");        
            i++;
        }
        if (img = NULL)
            fwrite(buf, blockSize, 1, wFile);
    }
it works.
why ? is it any wrong or any logistic fualt?","",""
"234679095378706433","Blauelf#6622","28-May-19 07:43 PM","First version should still create files, just with the 512 byte sector containing the header only.","",""
"570480674801188884","samchondrew#2419","29-May-19 03:00 AM","hi @jack73588353  your first code would check if the beginning of a jpeg was found, open a file and write 1 blocksize into it and then close the file.  but jpeg files are going to be more than just 1 blocksize or more than just 512 bytes.  You need to keep writing into the same img file after the initial blocksize.  You cant just write one blocksize into the newly created img file and then close it right after","",""
"582773678962638881","jack73588353#7645","30-May-19 12:23 PM","oh, I see.You help me a lot.Thank you for your help!","",""
"577955247415099393","KQ#3883","01-Jun-19 08:49 PM","when i open up the hexadecimal for card.raw, this is all i get:
4669 6c65 2073 697a 6520 6973 2062 6967
6765 7220 7468 616e 2061 6c6c 6f77 6564
2028 384d 4229 2e20 5369 7a65 2069 7320
3131 3635 3135 3834 2062 7974 6573 0a","",""
"577955247415099393","KQ#3883","01-Jun-19 08:49 PM","shouldn't there be more than 512 bytes in card.raw?","",""
"234679095378706433","Blauelf#6622","01-Jun-19 08:51 PM","It should. This looks like a single line of ASCII.","",""
"577955247415099393","KQ#3883","01-Jun-19 08:53 PM","oh ok, so each of the characters i see in the hexadecimal for card.raw are each a byte?","",""
"234679095378706433","Blauelf#6622","01-Jun-19 08:56 PM","46 would be a `F`, 69 would be `i`, 6c would be `l`, and so on. Maybe an error message?","",""
"234679095378706433","Blauelf#6622","01-Jun-19 08:57 PM","`File size is bigger than allowed (8MB). Size is 11651584 bytes`","",""
"234679095378706433","Blauelf#6622","01-Jun-19 08:58 PM","What did you use to view the data?","",""
"577955247415099393","KQ#3883","01-Jun-19 09:01 PM","just right click on card.raw and hitting ""Open as Hexadecimal"" in the ide","",""
"577955247415099393","KQ#3883","01-Jun-19 09:02 PM","also whenever i run: fread(&buffer, 512, 1, cfile);","",""
"577955247415099393","KQ#3883","01-Jun-19 09:02 PM","i get a seg fault message","",""
"234679095378706433","Blauelf#6622","01-Jun-19 09:04 PM","How did you declare `buffer`?","",""
"577955247415099393","KQ#3883","01-Jun-19 09:05 PM","oh oops i think that might be my mistake","",""
"577955247415099393","KQ#3883","01-Jun-19 09:05 PM","unsigned char *buffer;","",""
"577955247415099393","KQ#3883","01-Jun-19 09:05 PM","what's the data type for binary?","",""
"577955247415099393","KQ#3883","01-Jun-19 09:05 PM","unsigned char is what google said but idk","",""
"577955247415099393","KQ#3883","01-Jun-19 09:06 PM","and i think card.raw should be the correct file, bc when i download it and load at properties it is 11,651,584 bytes","",""
"577955247415099393","KQ#3883","01-Jun-19 09:07 PM","but still confused on the data type","",""
"234679095378706433","Blauelf#6622","01-Jun-19 09:07 PM","If you want to view the file, you could type `xxd card.raw | less` on the terminal. Leave `less` with `q`.","",""
"577955247415099393","KQ#3883","01-Jun-19 09:08 PM","what does the ""leave less with q"" mean?","",""
"577955247415099393","KQ#3883","01-Jun-19 09:09 PM","oh nvm figured out the leave less with q part","",""
"234679095378706433","Blauelf#6622","01-Jun-19 09:09 PM","Try it, and you'll know. `less` is a nice tool to show large amounts of text.
`&buffer` is the memory address of the `buffer` variable. I don't think you want to write to that memory address.","",""
"577955247415099393","KQ#3883","01-Jun-19 09:09 PM","oh ok thank you","",""
"577955247415099393","KQ#3883","01-Jun-19 09:09 PM","but just for future reference, is there a data type for binary?","",""
"234679095378706433","Blauelf#6622","01-Jun-19 09:09 PM","Maybe you meant `buffer`, but do you give `buffer` a value?","",""
"234679095378706433","Blauelf#6622","01-Jun-19 09:10 PM","Everything is binary. `unsigned char` is what you would refer to as a ""byte"".","",""
"577955247415099393","KQ#3883","01-Jun-19 09:11 PM","no, all i have is: unsigned char *buffer;","",""
"577955247415099393","KQ#3883","01-Jun-19 09:11 PM","do i have to malloc?","",""
"234679095378706433","Blauelf#6622","01-Jun-19 09:12 PM","You need some space. Either you allocate some on heap, like `unsigned char *buffer = malloc(512);`, or you make it an array on stack, like `unsigned char buffer[512];`.","",""
"577955247415099393","KQ#3883","01-Jun-19 09:12 PM","ok thank you","",""
"234679095378706433","Blauelf#6622","01-Jun-19 09:13 PM","I'd go for the array, as you don't have to `free` that later, but that's up to you.","",""
"577955247415099393","KQ#3883","01-Jun-19 09:15 PM","i'm still getting a seg fault, is there something else wrong with my code?","",""
"577955247415099393","KQ#3883","01-Jun-19 09:15 PM","```#include <cs50.h>
#include <stdio.h>
#include <stdlib.h>

int main(int argc, char *argv[])
{
    //check for # of arguments
    if (argc != 2)
    {
        printf(""Usage: ./recover image\n"");
        return 1;
    }

    //opens file in argument 1 and checks if NULL
    FILE *cfile = fopen(argv[1], ""r"");
    if (cfile == NULL)
    {
        return 2;
    }

    bool not_done = true;
    unsigned char *buffer = malloc(512);
    int returned = fread(&buffer, 512, 1, cfile);
    printf(""%i\n"", returned);
    not_done = false;

    return 0;
}
```","",""
"234679095378706433","Blauelf#6622","01-Jun-19 09:16 PM","`&buffer` should be `buffer`","",""
"577955247415099393","KQ#3883","01-Jun-19 09:16 PM","oh ok thank you so much","",""
"463609673115893760","AB#0918","03-Jun-19 03:32 PM","Hii,
I wanted to ask a little something about recover.c
when I run on my own computer it runs fine and displays all the 049 images
but when I run on the ide it displays only 2
what could be the problem? Is it the memory of the ide?","",""
"234679095378706433","Blauelf#6622","03-Jun-19 08:23 PM","Does `valgrind ./recover card.raw` (so just placing valgrind in front) complain?","",""
"234679095378706433","Blauelf#6622","03-Jun-19 08:25 PM","Especially interesting would be anything with ""uninitialized"".","",""
"523395822084423690","WayneTheBrain#2337","05-Jun-19 11:37 AM","Rather chuffed with myself! My very first compile and test snagged me the first two images! üòÑ The rest came back invalid or unsupported, so hopefully I can debug easily and get to the bottom of it.","",""
"523395822084423690","WayneTheBrain#2337","05-Jun-19 12:17 PM","I did it! Simple error with my sprintf variable. So many things clicked for me this time, and I feel like I really understood what I was doing and why. cs50 WORKS! ‚ù§","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:33 AM","Wish it was the same for me","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:33 AM","I felt fine writing","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:33 AM","swear I knew exactly what I was doing","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:34 AM","It returns all 50 images","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:35 AM","and every image starts with the bytes ```ff d8 ff e0```","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:35 AM","as they should","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:35 AM","But every image is ""invalid or unsupported""","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:35 AM","I can't find why","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:35 AM","took me 5 minutes to write, 2 hours of debugging and I can't figure out what I've done wrong","",""
"393854278764068875","curiouskiwi#1671","06-Jun-19 10:42 AM","you aren't dealing in bytes.  You've got an int array for the signature and you've got a string array for the rest of the bytes.  You should be only dealing with bytes (ie, an unsigned 8 bit type like you used in resize)","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:47 AM","Ive got a char array for the rest of the bytes","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:48 AM","a char is a byte, 8 bits. Some of the wording in the comments may be wrong","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:48 AM","I can't find how that affects it","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:49 AM","The integer array isnt an issue either as I am finding all 50 files successfully.","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:50 AM","How do I declare an unsigned 8 bit type","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:50 AM","isnt that an unsigned char>","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:50 AM","?*","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:59 AM","I'm so dumb","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:59 AM","using an unsigned char worked","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:59 AM","Thank you curiouskiwi","",""
"498458241655767051","pstefa#8587","06-Jun-19 10:59 AM","Lovely person, hope you have a great day","",""
"393854278764068875","curiouskiwi#1671","06-Jun-19 11:06 AM","you're welcome. I deleted your code as it gave away a lot of the solution.","",""
"498458241655767051","pstefa#8587","06-Jun-19 11:18 AM","Fair enough, my apologies üòÉ","",""
"400310973644144650","Wil#8508","07-Jun-19 03:53 AM","Hello, I've already recovered all 50 images but I'm trying to understand an error that appears with check50.","",""
"400310973644144650","Wil#8508","07-Jun-19 03:55 AM","I have two versions of the code, in one version I use `feof` to check for the End-of-File and it gives me the following error even though `return 0;` is coded at the end of main","",""
"400310973644144650","Wil#8508","07-Jun-19 03:56 AM","```:( recovers 000.jpg correctly
    expected exit code 0, not None
:( recovers middle images correctly
    expected exit code 0, not None
:( recovers 049.jpg correctly
    expected exit code 0, not None```","",""
"400310973644144650","Wil#8508","07-Jun-19 04:00 AM","However, in the other version I don't use feof and then the problem of  ""expected exit code 0, not None"" disappears!","",""
"393854278764068875","curiouskiwi#1671","07-Jun-19 04:00 AM","the 'exit code' is from check50 ... so check50 isn't ending properly","",""
"400310973644144650","Wil#8508","07-Jun-19 04:02 AM","but why does check50 works ok with my second version of the code?","",""
"400310973644144650","Wil#8508","07-Jun-19 04:02 AM","```:) recover.c exists.
:) recover.c compiles.
:) handles lack of forensic image
:) recovers 000.jpg correctly
:) recovers middle images correctly
:) recovers 049.jpg correctly```","",""
"393854278764068875","curiouskiwi#1671","07-Jun-19 04:02 AM","that would point to a problem with how you are using feof","",""
"400310973644144650","Wil#8508","07-Jun-19 04:03 AM","can I share it with you?","",""
"393854278764068875","curiouskiwi#1671","07-Jun-19 04:03 AM","sure, privately","",""
"400310973644144650","Wil#8508","07-Jun-19 04:03 AM","Alright thanks","",""
"333271488411205634","leibov#9934","07-Jun-19 06:17 PM","For some reason my program keeps creating jpgs and I can't figure out why... can somebody help?","",""
"333271488411205634","leibov#9934","07-Jun-19 06:26 PM","It seem as though EOF is never reached","",""
"333271488411205634","leibov#9934","07-Jun-19 06:27 PM","I'm using fread() and checking if it equals to 512","",""
"333271488411205634","leibov#9934","07-Jun-19 06:45 PM","I've used the debugger, fread() doesn't overwrite the buffer with each check like i thought... how can I do it differently?","",""
"333271488411205634","leibov#9934","07-Jun-19 08:17 PM","Finally got it!","",""
"333271488411205634","leibov#9934","07-Jun-19 08:19 PM","The fwrite() function always starts at the beginning of a file! So it always copies the first 512 bytes and doesn't move the cursor!","",""
"333271488411205634","leibov#9934","07-Jun-19 08:19 PM","Hope that helps (:","",""
"393854278764068875","curiouskiwi#1671","08-Jun-19 01:02 AM","fwrite only starts at the beginning the first time you call it.  If you call it again on the same file you have originally opened, it certainly will write from where it left off.  I suspect you had a different issue.","",""
"333271488411205634","leibov#9934","09-Jun-19 12:20 AM","Oh mind if I send you the code?","",""
"393854278764068875","curiouskiwi#1671","09-Jun-19 08:18 AM","@leibov  you can","",""
"543377567172788226","UntiltableMountain#6503","09-Jun-19 11:17 AM","@curiouskiwi can you help look at my code please","",""
"543377567172788226","UntiltableMountain#6503","09-Jun-19 11:17 AM","I only get 29 images","",""
"543377567172788226","UntiltableMountain#6503","09-Jun-19 11:17 AM","don't know how many I'm supposed to get","",""
"543377567172788226","UntiltableMountain#6503","09-Jun-19 11:17 AM","and they are all so distorted","",""
"543377567172788226","UntiltableMountain#6503","09-Jun-19 11:18 AM","they all look like this","https://cdn.discordapp.com/attachments/395684916056031245/587193759058493458/Screen_Shot_2019-06-09_at_2.48.00_PM.png",""
"393854278764068875","curiouskiwi#1671","09-Jun-19 11:39 AM","@UntiltableMountain you are calling fread twice each time around the loop (once in the while condition and next in the first line of the body).  As such, you are skipping every other block of 512.  Don't read the second time.","",""
"543377567172788226","UntiltableMountain#6503","09-Jun-19 11:50 AM","@curiouskiwi  yooo I did","",""
"543377567172788226","UntiltableMountain#6503","09-Jun-19 11:50 AM","it","",""
"543377567172788226","UntiltableMountain#6503","09-Jun-19 11:50 AM","thank you so much","","üëç (1)"
"543377567172788226","UntiltableMountain#6503","09-Jun-19 11:50 AM","literally","",""
"543377567172788226","UntiltableMountain#6503","09-Jun-19 11:50 AM","god damn it I love this discord","",""
"133335727487451137","calebcarithers#5293","09-Jun-19 06:17 PM","Having some trouble with recover. Attempting to simply print out each byte in the first 512 block of bytes, with the following code to no avail.
`int main(int argc, char *argv[])
{
    //Ensure user inputs only 1 file
    if (argc != 2)
    {
        fprintf(stderr, ""Usage: copy infile\n"");
        return 1;   
    }

    FILE *inptr = fopen(argv[1], ""r"");
    if (inptr == NULL)
    {
        fprintf(stderr, ""Could not open %s.\n"", argv[1]);
        return 2;
    }
    
    unsigned char buffer[512];
    fread(buffer, 512, 1, inptr);
        
    for (int i = 0; i < 512; i ++)
    {
        printf(""Bytes in first block: %c\n"",buffer[i]);
    }
}
`","",""
"133335727487451137","calebcarithers#5293","09-Jun-19 06:18 PM","Getting a blank output as shown","https://cdn.discordapp.com/attachments/395684916056031245/587299569977524275/Screen_Shot_2019-06-09_at_11.18.23_AM.png",""
"133335727487451137","calebcarithers#5293","09-Jun-19 06:49 PM","got it, %c --> %x lol","",""
"323564643358605322","Nornor#4436","14-Jun-19 03:34 AM","```C
#include <stdio.h>
#include <stdlib.h>


int main(int argc, char *argv[])
{
    
    if (argc != 2)
    {
        fprintf(stderr, ""Usage: ./recover card_file\n"");
        return 1;
    }
    
    // Opens memory card file
    FILE *card_file = fopen(argv[1], ""r"");
    if (card_file == NULL)
    {
        fprintf(stderr, ""File cannot be opened for reading\n"");
        return 2;
    }
    
    // skips to the beginning of a jpeg
    unsigned char buffer[512];
    fread(buffer, 512, 1, card_file);
    while (buffer[0] != 0xff && buffer[1] != 0xd8 && buffer[2] != 0xff && (buffer[3] & 0xf0) != 0xe0)
    {
        for (int i = 0; i < 512; i++)
        {
            buffer[i] = 0;
        }
        fread(buffer, 512, 1, card_file);
    }
    
    // Creates 1 jpeg
    int jpeg_counter = 0;
    char filename[8];
    
    sprintf(filename, ""%03i.jpg"", jpeg_counter);
    
    FILE *jpeg = fopen(filename, ""w"");
    
    // Writes to the jpeg till a new jpeg is found
    do
    {
        fwrite(buffer, 512, 1, jpeg);
    
        for (int i = 0; i < 512; i++)
        {
            buffer[i] = 0;
        }
        fread(buffer, 512, 1, card_file);
    }
    while (buffer[0] != 0xff && buffer[1] != 0xd8 && buffer[2] != 0xff && (buffer[3] & 0xf0) != 0xe0);
    
    fclose(jpeg);
    fclose(card_file);
    
    return 0;
}
```","",""
"323564643358605322","Nornor#4436","14-Jun-19 03:34 AM","shouldn't this give me the first JPEG","",""
"323564643358605322","Nornor#4436","14-Jun-19 03:35 AM","cuz im only getting a small part of it","",""
"323564643358605322","Nornor#4436","14-Jun-19 03:37 AM","I can't get what's wrong","",""
"234679095378706433","Blauelf#6622","14-Jun-19 09:41 AM","Check out de Morgan's Laws. (not (A and B)) is (not A or not B)

Also, what would happen if you passed an empty file to that code? None of the loops expects file to end. And no need to reset array to zeroes.","",""
"323564643358605322","Nornor#4436","14-Jun-19 12:26 PM","shouldn't i set the array's values to 0s so i can put new values in place?","",""
"323564643358605322","Nornor#4436","14-Jun-19 12:27 PM","or should i just loop through the array reading in the bytes from card.raw?","",""
"234679095378706433","Blauelf#6622","14-Jun-19 12:44 PM","Successful reads will replace old values.","",""
"234679095378706433","Blauelf#6622","14-Jun-19 12:47 PM","I have a single loop with a single `fread`, and check its return value for indicating EOF. Other solutions seemed too complicated to me, with multiple points to leave the loop.","",""
"323564643358605322","Nornor#4436","14-Jun-19 02:18 PM","that's what i did at first but had a problem with scope","",""
"323564643358605322","Nornor#4436","14-Jun-19 06:48 PM","As you said, the problem was in the Boolean expressions.","",""
"323564643358605322","Nornor#4436","14-Jun-19 06:48 PM","thx dude","",""
"468298102831316992","countVectorizer#8434","15-Jun-19 08:09 PM","Just to be clear do each jpeg file begin only at the start of the block, so every 512, i should look an eye out for start of jpeg, and close previous one, is that what block aligned means","",""
"234679095378706433","Blauelf#6622","15-Jun-19 08:55 PM","Correct, so-called block devices like hard disks are organized in blocks of typically 512 or 4096 bytes, and file systems build on those blocks, usually grouping a number of them to a ""cluster"" or whatever they name it. So a file will always start at a multiple of 512 bytes.
Not sure if that is still true for file systems that have special optimization for tiny files, where multiple tiny files could be squeezed into a single cluster, but for the file systems on SD-cards as used in most cameras, it is. Those are kept simple, as they must be easy to implement with little resources in the device.","","üëç (2)"
"468298102831316992","countVectorizer#8434","16-Jun-19 01:40 AM","makes sense, looking for file info at start of each block is easier than looking somewhere in middle","",""
"468298102831316992","countVectorizer#8434","16-Jun-19 01:50 AM","Surprisingly this was much easier than I thought compared to resize ""more""","",""
"508382519146709018","Amar S. Gill#4588","16-Jun-19 10:56 AM","Can I share my code with somebody - it makes sense to me and the logic is there, but I am getting segmentation fault when running","",""
"508382519146709018","Amar S. Gill#4588","16-Jun-19 10:59 AM","err okay no more segmentation fault. file compiles and runs. just that no output files are generated.... back to the drawing board","",""
"508382519146709018","Amar S. Gill#4588","16-Jun-19 08:42 PM","```c
#include <stdio.h>
#include <stdlib.h>

int main(int argc, char *argv[])
{   
    
    //ensure proper usage
    if (argc != 2)
    {
        fprintf(stderr, ""Usage: ./recover image\n"");
        return 1;
    }
    
    // open data file
    FILE *file = fopen(argv[1], ""r"");
    if (file == NULL)
    {
        fprintf(stderr, ""Could not open %s.\n"", argv[1]);
        return 2;
    }
    
    //initialize outptr
    FILE *outptr = NULL;
    
    //set block size constant
    const int BLOCK = 512;
    
    //initialize incrementing counter for output file number
    int i = 0;
    
    //initialize char ch to check when EOF for file is reached
    char ch;
    
    do
    {
        //read from file
        unsigned char buffer[BLOCK];
        fread(&buffer, 1, BLOCK, file);
        
        //check block for JPG signature
        //close current output file and open new output file
        if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0)
        {
            //close current output file
            fclose(outptr);
            
            //create array for file name
            char filename[3];
            
            //store filename into a buffer
            sprintf(filename, ""%03i.jpg"", i);
            
            //open a jpg file named filename
            outptr = fopen(filename, ""w"");
            
            //increment i
            i++;
            
        }
        
        //write to output file
        if (outptr != NULL)
        {
            fwrite(&buffer, 1, BLOCK, outptr);   
        }
        
    }while( (ch = fgetc(file)) != EOF);
    
    fclose(file);
    
    fclose(outptr);
    
}
```","",""
"508382519146709018","Amar S. Gill#4588","16-Jun-19 08:46 PM","The code above keeps getting me a segmentation fault. Can't open buffer array in debugger for some reason to read values either. Any ideas?","",""
"234679095378706433","Blauelf#6622","16-Jun-19 09:26 PM","Do not `fgetc`. You could have some `if (feof(file)) { break; }` after your `fread` (`feof` will return non-zero if a previous read action tried to read beyond file end), though it would be easier to make it a regular `while` loop and move the `fread` into the condition.","",""
"508382519146709018","Amar S. Gill#4588","16-Jun-19 10:53 PM","hey @Blauelf  thanks for getting back to me. I'm not following unfortunately. Wouldn't I need to insert the JPG signature checks (my if statement) in the while(condition)? How will fread function work in the condition?","",""
"234679095378706433","Blauelf#6622","16-Jun-19 10:55 PM","Assuming you declared your buffer outside, you could write for example `while (fread(buffer, 1, BLOCK, inptr) == BLOCK)`, that would keep looping as long as you are able to read 512 bytes.","",""
"508382519146709018","Amar S. Gill#4588","16-Jun-19 10:59 PM","oh I see. Does that imply that all JPG images are minimum 512 bytes? Because JPG file info could be less than 512 bytes but because of the slack it will be a minimum of 512. That way any amount of memory at the end of the card.raw file that is less than 512 bytes can be disregarded?","",""
"234679095378706433","Blauelf#6622","16-Jun-19 11:03 PM","We can't check where a JPG ends, but we can assume the header always marks the start of the next file.","",""
"234679095378706433","Blauelf#6622","16-Jun-19 11:03 PM","The card dump is always a multiple of 512 bytes.","",""
"234679095378706433","Blauelf#6622","16-Jun-19 11:06 PM","Hard disks or SD cards are organized in sectors of 512 bytes or today sometimes 4096 bytes, so it's always a multiple of that number.","",""
"391259323864449025","hakiros#2129","16-Jun-19 11:07 PM","Hi,  shouldnt i have other tasks to do before recover? im doing cs50 at courses.edx.org and its second task that i get (first was collatz and i had no problems with it) and to be honest i have no idea how to do this even after video :/","",""
"393854278764068875","curiouskiwi#1671","16-Jun-19 11:07 PM","you seem to have skipped a lot.","",""
"393854278764068875","curiouskiwi#1671","16-Jun-19 11:07 PM","recover is in week 3","",""
"391259323864449025","hakiros#2129","16-Jun-19 11:08 PM","yes but i dont have walkthroughs in week 1 and 2","",""
"391259323864449025","hakiros#2129","16-Jun-19 11:08 PM","only lecture and shorts","",""
"393854278764068875","curiouskiwi#1671","16-Jun-19 11:08 PM","there are problem sets starting in week 0","",""
"393854278764068875","curiouskiwi#1671","16-Jun-19 11:08 PM","https://i.imgur.com/BHqG59t.png","",""
"393854278764068875","curiouskiwi#1671","16-Jun-19 11:09 PM","each week is set out like this, with all the links on the first 'tab' in the edX courseware","",""
"393854278764068875","curiouskiwi#1671","16-Jun-19 11:10 PM","here's a quick reference page with all the links:  https://curiouskiwi.github.io/cs50help/cs50x","",""
"391259323864449025","hakiros#2129","16-Jun-19 11:11 PM","oh, thanks, i was allways skipping this page cause i thought that its only the list what will be in this week","",""
"393854278764068875","curiouskiwi#1671","16-Jun-19 11:12 PM","You'll do at least 8 C programs before you reach recover... so if you skipped all of that, I'd expect recover to be very confusing. üòÉ","",""
"508382519146709018","Amar S. Gill#4588","17-Jun-19 02:03 AM","awesome I got it now thanks for the tips @Blauelf . I was still getting seg fault after implementing the new condition in my while loop. I was simply missing a conditional check around closing of the outptr:

```c

if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0)
        {
            if(outptr != NULL)
            {
                //close current output file
                fclose(outptr);    
            }
```","",""
"508382519146709018","Amar S. Gill#4588","17-Jun-19 02:05 AM","I think it's because you cant call fclose(outptr) if outptr == NULL","",""
"234679095378706433","Blauelf#6622","17-Jun-19 08:34 AM","It would try to dereference `NULL`, so yeah. Poor binky.","",""
"288782447704014861","Aarif#4801","22-Jun-19 08:00 AM","I've ran through my code multiple times but i still have cs50 and check50 giving me the ""doesn't compile' error, yet the 'make' command works properly","",""
"393854278764068875","curiouskiwi#1671","22-Jun-19 08:07 AM","@Aarif if you move your `recover.c` to another folder and then run `make recover` does it still compile?  Are you sure you aren't including any files that check50 won't know about?","",""
"288782447704014861","Aarif#4801","22-Jun-19 08:08 AM","Alright, im going to make a testing folder and try out compiling recover.c in there... as for any files, I have #include ""bmp.h"" at the top...","",""
"288782447704014861","Aarif#4801","22-Jun-19 08:09 AM","okay, I needed to copy the whole file of bmp.h into my testing folder before it compiled... how can i get around this problem with check50/submit 50?","",""
"393854278764068875","curiouskiwi#1671","22-Jun-19 08:11 AM","what do you need from bmp.h that you can't put in recover.c?","",""
"288782447704014861","Aarif#4801","22-Jun-19 08:18 AM","Just the byte data structure for my buffer","",""
"288782447704014861","Aarif#4801","22-Jun-19 08:18 AM","how else could I import it into my recover","",""
"288782447704014861","Aarif#4801","22-Jun-19 08:22 AM","Alright, it seems to have compiled properly, I just forgot an import statement, now to tackle the bigger problem haha","",""
"393854278764068875","curiouskiwi#1671","22-Jun-19 08:35 AM","just copy/paste that one line into your recover. c","",""
"288782447704014861","Aarif#4801","22-Jun-19 08:36 AM","üëç","",""
"391259323864449025","hakiros#2129","22-Jun-19 11:00 PM","this is working xD","",""
"391259323864449025","hakiros#2129","22-Jun-19 11:12 PM","btw. does cs50 teach TDD?","",""
"234679095378706433","Blauelf#6622","22-Jun-19 11:41 PM","Haven't found something like that in cs50x. In some sense we do TDD, `check50` provides tests and those are there before you write code, so some people write code to please the tests only, but there are not enough tests to cover the whole specification, so there are quite a few solutions for the early problems (especially `credit`) that I would consider wrong, just that there's no test that fails.
Don't know about the specialised courses (web, games, mobile).","",""
"220155026633392130","VxeR#4107","26-Jun-19 04:01 PM","I don't understand this line  sprintf(filename, ""%03i.jpg"", 2);","",""
"220155026633392130","VxeR#4107","26-Jun-19 04:04 PM","do I have to create an array of name filename where the stuff will get written? what does %03i.jpg mean? also what's 2? I read the manual but I don't really understand","",""
"220155026633392130","VxeR#4107","26-Jun-19 04:15 PM","I'm laying down the stuff in the walkthrough, what's buffer in this context?
```c
    fread(&image, sizeof(512), 1, inptr);
    
    if (buffer[0] == 0xff &&
        buffer[1] == 0xd8 &&
        buffer[2] == 0xff &&
        (buffer[3] & 0xf0) == 0xe0)
```","",""
"234679095378706433","Blauelf#6622","26-Jun-19 04:16 PM","What you called `image`, I guess.","",""
"220155026633392130","VxeR#4107","26-Jun-19 04:17 PM","but wouldn't that only detect jpegs in the very first bytes of the file?","",""
"234679095378706433","Blauelf#6622","26-Jun-19 04:18 PM","Yes, you need an array of 8 characters for the filename. And the 2 would be the index of the next file name (works like `printf`)","",""
"234679095378706433","Blauelf#6622","26-Jun-19 04:18 PM","That belongs into a loop.","",""
"220155026633392130","VxeR#4107","26-Jun-19 04:29 PM","hm","",""
"220155026633392130","VxeR#4107","26-Jun-19 04:29 PM","I still don't understand sprintf","",""
"220155026633392130","VxeR#4107","26-Jun-19 04:31 PM","is it used to create a new file or to just keep track of how many images I created","",""
"220155026633392130","VxeR#4107","26-Jun-19 04:32 PM","and still, what's %03i.jpg","",""
"470245153903214604","catsquotl#2398","26-Jun-19 04:35 PM","%03i is a format specifier I think. An integer formatted to 3 digits?

What I did was fread(buffer,4,1,file) to find the beginning of the jpg start. Just in case the pattern wasn't at the start of 512 byte block. Still struggling  though.  No way near finished.","",""
"220155026633392130","VxeR#4107","26-Jun-19 04:37 PM","hm so I should just leave %03i alone I guess","",""
"220155026633392130","VxeR#4107","26-Jun-19 04:37 PM","don't understand why the array I create must be 8 chars tho","",""
"470245153903214604","catsquotl#2398","26-Jun-19 04:39 PM","It's how we are supposed to write away each recovers jpg yes? 3 digits a period and jpg is 7 characters follows by the end of a string. I.e '\0'. That's 8 characters in total yes.?","",""
"220155026633392130","VxeR#4107","26-Jun-19 04:40 PM","oh I see, thanks","",""
"470245153903214604","catsquotl#2398","26-Jun-19 04:40 PM","So the fist jpg would be"" 001.jpg""","",""
"220155026633392130","VxeR#4107","26-Jun-19 04:42 PM","but how does sprintf keep track of the numbers? like I don't see anything that tells it to start at 000 and go till 050 in that line","",""
"470245153903214604","catsquotl#2398","26-Jun-19 04:44 PM","I think spring does not do that by itself. So there's some variable we have to create, update and keep track of ourselves","",""
"470245153903214604","catsquotl#2398","26-Jun-19 04:46 PM","I have to read up but I thing O3i does is insert padding on the left side of any number smaller than 3 digits and possibly cut off any digits exceeding 3. So 1000 becomes 100 and 50 becomes 050. Although I could be wrong in my assumptions there.","",""
"220155026633392130","VxeR#4107","26-Jun-19 04:46 PM","how do we combine that variable with sprintf tho","",""
"470245153903214604","catsquotl#2398","26-Jun-19 04:47 PM","I'll have to look that up when I get home tonight.","",""
"234679095378706433","Blauelf#6622","26-Jun-19 05:09 PM","Replace the `, 2` with `, your_file_counter`","",""
"220155026633392130","VxeR#4107","26-Jun-19 05:18 PM","would something like int n = 000 outside the loop and n++ inside the loop before sprintf work?","",""
"220155026633392130","VxeR#4107","26-Jun-19 05:33 PM","```c
    fread(&image, sizeof(512), 1, inptr);
    
    if (image[0] == 0xff &&
        image[1] == 0xd8 &&
        image[2] == 0xff &&
        (image[3] & 0xf0) == 0xe0)
```","",""
"220155026633392130","VxeR#4107","26-Jun-19 05:34 PM","it returns error ""comparison of constant 255 with expression of type 'char' is always false""","",""
"220155026633392130","VxeR#4107","26-Jun-19 05:34 PM","3 times","",""
"220155026633392130","VxeR#4107","26-Jun-19 05:34 PM","image is argv[1]","",""
"220155026633392130","VxeR#4107","26-Jun-19 05:41 PM","tried 
```c
fread(&image, sizeof(512), 1, inptr);
    
    char buffer[512];
    
    if (buffer[0] == 0xff &&
        buffer[1] == 0xd8 &&
        buffer[2] == 0xff &&
        (buffer[3] & 0xf0) == 0xe0)
```","",""
"220155026633392130","VxeR#4107","26-Jun-19 05:41 PM","still same thing","",""
"470245153903214604","catsquotl#2398","26-Jun-19 05:53 PM","Ah a char is -127 to 128 if I remember correctly. So maybe unsigned char? That's 0 to 255. It has to do with a signing bit being set it not.","",""
"220155026633392130","VxeR#4107","26-Jun-19 05:55 PM","thanks, works","",""
"220155026633392130","VxeR#4107","26-Jun-19 06:39 PM","how does it look so far, anything extremely wrong?
||```c
int main(int argc, char *argv[])
{
    if (argc != 2)
    {
        printf(""Usage: ./recover image\n"");
        return 1;
    }
    char *image = argv[1];
   
    FILE *inptr = fopen(argv[1], ""r"");
    if (inptr == NULL)
    {
        printf(""Could not open %s.\n"", image);
        return 1;
    }
    
    char filename[8];
    
    int n = 000;
    
    do 
    {
    fread(&image, sizeof(512), 1, inptr);
    
    unsigned char buffer[512];
    
    if (buffer[0] == 0xff &&
        buffer[1] == 0xd8 &&
        buffer[2] == 0xff &&
        (buffer[3] & 0xf0) == 0xe0)
        {
            n++; 
            
            sprintf(filename, ""%03i.jpg"", n);
            
            FILE *img = fopen(filename, ""w"");
            
            fwrite(&image, sizeof(512), 1, img);
        }
    
    } while (fread > 0);
}
```||","",""
"220155026633392130","VxeR#4107","26-Jun-19 07:08 PM","https://youtu.be/hOWYGowwId0?t=473 this is really messing with my mind, there are so many possibilities and paths, how would I even begin doing that","",""
"470245153903214604","catsquotl#2398","26-Jun-19 07:13 PM","Don't know. I am struggling to get this one together as well.","",""
"220155026633392130","VxeR#4107","26-Jun-19 07:13 PM","like how do I translate ""already found a jpeg?"" to code","",""
"234679095378706433","Blauelf#6622","26-Jun-19 07:20 PM","In my case that would translate to `counter > 0` or `outptr != NULL`","",""
"220155026633392130","VxeR#4107","26-Jun-19 07:24 PM","hmm true","",""
"220155026633392130","VxeR#4107","26-Jun-19 07:27 PM","so here's my sudo:
open card file
repeat until end of card
    read 512 bytes in a buffer
    start of a new jpeg?
        yes
            already found a jpeg?
                no  
                    start first jpeg
                yes
                    close previous file, open new one
        no
            already found a jpeg?
                yes
                    write 512 bytes to currently open file
                no  
                    discard 512 bytes, go to start of loop
close any remaining files

how do I discard the bytes and go to start of loop? there's no go-to in c right? and if I return non-0 the whole program ends so that's not what I want to do","",""
"234679095378706433","Blauelf#6622","26-Jun-19 07:33 PM","What do you mean? If you don't write a block, you ignore it. Or do you mean how to detect EOF?","",""
"220155026633392130","VxeR#4107","26-Jun-19 07:37 PM","I think I understand","",""
"220155026633392130","VxeR#4107","26-Jun-19 07:37 PM","somewhat","",""
"220155026633392130","VxeR#4107","26-Jun-19 08:32 PM","aight so I think I've translated my sudo into code, but I'm sure it's a mess technically 
||```c
int main(int argc, char *argv[])
{
    if (argc != 2)
    {
        printf(""Usage: ./recover image\n"");
        return 1;
    }
    char *image = argv[1];
   
    FILE *inptr = fopen(argv[1], ""r"");
    if (inptr == NULL)
    {
        printf(""Could not open %s.\n"", image);
        return 1;
    }
    
    char filename[8];
    
    int n = 000;
    
    do 
    {
    fread(&image, sizeof(512), 1, inptr);
    
    unsigned char buffer[512];
    
        if (buffer[0] == 0xff &&
            buffer[1] == 0xd8 &&
            buffer[2] == 0xff &&
            (buffer[3] & 0xf0) == 0xe0)
        {
            if (n == 000)
            {
                n++; 
                    
                sprintf(filename, ""%03i.jpg"", n);
            }
            else
            {
                fclose(inptr);
                
                FILE *img = fopen(filename, ""w"");
                
                fwrite(&image, sizeof(512), 1, img);
            }
        }
        
        else
        {
            if (n > 000)
            {
                FILE *img = fopen(filename, ""w"");
                
                fwrite(&image, sizeof(512), 1, img);
            }
        }
    
    } while (fread > 0);
}
```||
it compiles but doesn't work, (I'd be shocked if it did). Just wanna know what I did wrong","",""
"234679095378706433","Blauelf#6622","26-Jun-19 08:38 PM","Don't declare `img` in the loop, but before.","",""
"234679095378706433","Blauelf#6622","26-Jun-19 08:38 PM","Also, what is the condition meant to do? And where do you check for EOF?","",""
"220155026633392130","VxeR#4107","26-Jun-19 08:39 PM","while (fread > 0) should tell me when the file ends right? cause it doesn't detect a 512 block","",""
"234679095378706433","Blauelf#6622","26-Jun-19 08:40 PM","And `image` is weird, use `buffer` in the loop.","",""
"234679095378706433","Blauelf#6622","26-Jun-19 08:40 PM","`fread` is a function.","",""
"220155026633392130","VxeR#4107","26-Jun-19 08:41 PM","how do I use the result of the function?","",""
"234679095378706433","Blauelf#6622","26-Jun-19 08:42 PM","The function call has a value.","",""
"234679095378706433","Blauelf#6622","26-Jun-19 08:42 PM","You can assign it to a variable, or use it immediately.","",""
"220155026633392130","VxeR#4107","26-Jun-19 08:47 PM","```c
    int a = 0;
    
    do 
    {
    fread(&image, sizeof(512), 1, inptr);
    
    return a;
```","",""
"220155026633392130","VxeR#4107","26-Jun-19 08:47 PM","and at the end 
while (a > 0)?","",""
"220155026633392130","VxeR#4107","26-Jun-19 08:49 PM","or do I have to put int a = 0 in the loop","",""
"234679095378706433","Blauelf#6622","26-Jun-19 10:11 PM","More like `a = fread(block, 512, 1, inptr);`","",""
"234679095378706433","Blauelf#6622","26-Jun-19 10:12 PM","Directly followed by a check. You don't want to write if the read failed.","",""
"234679095378706433","Blauelf#6622","26-Jun-19 10:14 PM","You can even combine those within the loop head:
```c
while (fread(...) == 1)
{
    ...
}
```","",""
"269921447206584323","Banan#2842","26-Jun-19 10:43 PM","any uh reason why my program would only spit out the like 1/5th of every image","",""
"234679095378706433","Blauelf#6622","26-Jun-19 10:45 PM","How large are those files? 512 bytes? Would mean you only handle the header block correctly. Larger, with weird content? Maybe you `fread` multiple times, and don't write all of them.","",""
"234679095378706433","Blauelf#6622","26-Jun-19 10:46 PM","Also you might have issues with de Morgan's law. NOT(A AND B) is same as (NOT A) OR (NOT B)","",""
"234679095378706433","Blauelf#6622","26-Jun-19 10:47 PM","People confusing AND `&&` and OR `||` get all kinds of funny results, so I simply mention it for completeness.","",""
"269921447206584323","Banan#2842","26-Jun-19 10:48 PM","pretty amusing seeing people's foreheads though","",""
"269921447206584323","Banan#2842","26-Jun-19 10:48 PM","","https://cdn.discordapp.com/attachments/395684916056031245/593528128551387165/1.png",""
"269921447206584323","Banan#2842","26-Jun-19 10:48 PM","and yeah you're right this isnt doing what i want it to","",""
"234679095378706433","Blauelf#6622","26-Jun-19 10:51 PM","That's exactly what I meant with de Morgan's law. Those would have to be `||`, not `&&`. This kind of algorithm design is pretty complex, you have same checks in many places.","",""
"393854278764068875","curiouskiwi#1671","26-Jun-19 10:53 PM","you should be able to organize your program's logic in such a way that you don't have to test if it's *not* a header.","",""
"269921447206584323","Banan#2842","26-Jun-19 10:59 PM","assuming then that i don't need to run fclose after each image file","",""
"393854278764068875","curiouskiwi#1671","26-Jun-19 11:00 PM","you have to close the file before opening a new one","",""
"269921447206584323","Banan#2842","26-Jun-19 11:48 PM","thank you","",""
"269921447206584323","Banan#2842","26-Jun-19 11:50 PM","*when check50 gives you errors for typing .jpeg instead of .jpg*","",""
"220155026633392130","VxeR#4107","27-Jun-19 12:15 AM","@Blauelf so  while (fread(block, 512, 1, inptr) == 1) ? What is block? You mean argv[1]?","",""
"234679095378706433","Blauelf#6622","27-Jun-19 12:16 AM","I mean the 512 byte block you declared somewhere.","",""
"220155026633392130","VxeR#4107","27-Jun-19 12:16 AM","I declared that in the loop","",""
"234679095378706433","Blauelf#6622","27-Jun-19 12:17 AM","Then declare it above, so it can be used in the loop head.","",""
"220155026633392130","VxeR#4107","27-Jun-19 12:17 AM","do I have to do &buffer or just buffer?","",""
"220155026633392130","VxeR#4107","27-Jun-19 12:18 AM","and also is sizeof(512) and just 512 the same thing?","",""
"220155026633392130","VxeR#4107","27-Jun-19 12:20 AM","wait something in my code above doesn't make sense, I read card.raw, then create an array and then use that array, but I never put the stuff from card in the array","",""
"220155026633392130","VxeR#4107","27-Jun-19 12:21 AM","this part here","",""
"220155026633392130","VxeR#4107","27-Jun-19 12:21 AM","fread(&image, sizeof(512), 1, inptr);
    
unsigned char buffer[512];","",""
"220155026633392130","VxeR#4107","27-Jun-19 12:21 AM","how do I put the 512 bytes I read from image into buffer?","",""
"234679095378706433","Blauelf#6622","27-Jun-19 12:28 AM","First argument to `fread` is the memory address where it should write to. This could be `buffer`. A file name has no use in `fread`.
BTW, `sizeof(512)` is the size of an integer, if you want say `512 * sizeof(unsigned char)`, or just `512`.","",""
"220155026633392130","VxeR#4107","27-Jun-19 12:32 AM","does something like this make sense?
```c
    unsigned char buffer[512];
    
    while (fread(buffer, 512, 1, inptr) == 1)
    {
    fread(&image, 512, 1, inptr);
    
        if (buffer[0] == 0xff &&
            buffer[1] == 0xd8 &&
            buffer[2] == 0xff &&
            (buffer[3] & 0xf0) == 0xe0)
```","",""
"220155026633392130","VxeR#4107","27-Jun-19 12:32 AM","I-m kinda confused","",""
"220155026633392130","VxeR#4107","27-Jun-19 12:39 AM","this is what I got so far
||```c
int main(int argc, char *argv[])
{
    if (argc != 2)
    {
        printf(""Usage: ./recover image\n"");
        return 1;
    }
    char *image = argv[1];
   
    FILE *inptr = fopen(argv[1], ""r"");
    if (inptr == NULL)
    {
        printf(""Could not open %s.\n"", image);
        return 1;
    }
    
    FILE *img;
    
    char filename[8];
    
    int n = 000;
    
    unsigned char buffer[512];
    
    while (fread(buffer, 512, 1, inptr) == 1)
    {
    fread(&buffer, 512, 1, inptr);
    
        if (buffer[0] == 0xff &&
            buffer[1] == 0xd8 &&
            buffer[2] == 0xff &&
            (buffer[3] & 0xf0) == 0xe0)
        {
            if (n == 000)
            {
                n++; 
                    
                sprintf(filename, ""%03i.jpg"", n);
            }
            else
            {
                fclose(inptr);
                
                img = fopen(filename, ""w"");
                
                fwrite(&buffer, 512, 1, img);
            }
        }
        
        else
        {
            if (n > 000)
            {
                img = fopen(filename, ""w"");
                
                fwrite(&buffer, 512, 1, img);
            }
        }
    
    }
}
```||","",""
"393854278764068875","curiouskiwi#1671","27-Jun-19 12:39 AM","@VxeR you only need to call `fread` once per loop ... not twice as you have now","",""
"393854278764068875","curiouskiwi#1671","27-Jun-19 12:40 AM","`while (fread(buffer, 512, 1, inptr) == 1)`  reads into the buffer","",""
"220155026633392130","VxeR#4107","27-Jun-19 12:42 AM","hmm so I should just delete the one beneath while","",""
"220155026633392130","VxeR#4107","27-Jun-19 12:45 AM","aight so making some progress, created the first 001.jpg file but it says that it's an unsupported format","",""
"220155026633392130","VxeR#4107","27-Jun-19 12:46 AM","and it's only 512 bytes","",""
"220155026633392130","VxeR#4107","27-Jun-19 12:58 AM","aight so now it spits out 50 files (as it should iirc), but they're all blank and 512 bytes","",""
"220155026633392130","VxeR#4107","27-Jun-19 01:00 AM","I changed flose(inptr); to fclose(img);","",""
"234679095378706433","Blauelf#6622","27-Jun-19 01:05 AM","You shouldn't need to open a file if it's not a header block.","",""
"234679095378706433","Blauelf#6622","27-Jun-19 01:07 AM","Unless you `fclose`d it earlier, of course, and then it would be `""a""`, not `""w""`, to append data. Would be pretty inefficient with all those `fopen`/`fclose`.","",""
"393854278764068875","curiouskiwi#1671","27-Jun-19 01:07 AM","(inefficient enough that check50 would kill it, fyi) üòÉ","",""
"220155026633392130","VxeR#4107","27-Jun-19 01:09 AM","oh my god","",""
"220155026633392130","VxeR#4107","27-Jun-19 01:09 AM","I just deleted the last fopen and everything works","",""
"220155026633392130","VxeR#4107","27-Jun-19 01:09 AM","can see all 50 images perfectly","",""
"220155026633392130","VxeR#4107","27-Jun-19 01:13 AM","we got a problem, I can see all images perfectly but check50 says they don't match","",""
"220155026633392130","VxeR#4107","27-Jun-19 01:13 AM","should they start at 001 and go till 050 or from 000 to 049","",""
"393854278764068875","curiouskiwi#1671","27-Jun-19 01:15 AM","000 to 049","",""
"220155026633392130","VxeR#4107","27-Jun-19 01:16 AM","perfect","",""
"220155026633392130","VxeR#4107","27-Jun-19 01:16 AM","all green","",""
"220155026633392130","VxeR#4107","27-Jun-19 01:16 AM","thanks for the help guys","",""
"220155026633392130","VxeR#4107","27-Jun-19 01:17 AM","expected this to be muuuch more time consuming","",""
"393854278764068875","curiouskiwi#1671","27-Jun-19 01:29 AM","üíØ","",""
"470245153903214604","catsquotl#2398","27-Jun-19 09:17 AM","Congrats..","",""
"470245153903214604","catsquotl#2398","28-Jun-19 09:32 AM","Yush. Took me a week, but it's done. Submitted with a 100% score. Happy coder over here....","",""
"255162012303228930","allsunday#1958","30-Jun-19 10:09 PM","I don't understand the (buffer[3] & 0xf0) == 0xe0 when checking if it's a jpeg. I get that the first four bits of 0xe0 are 1110, but the whole number is actually 11100000. I don't see what 0xf0 (11110000) is doing and how that's helping us check for just the first four bits","",""
"255162012303228930","allsunday#1958","30-Jun-19 10:10 PM","the first four in 0xf0 are 1111, not 1110","",""
"234679095378706433","Blauelf#6622","30-Jun-19 10:11 PM","It's called a bitmask. Applying it with `&` will turn all the bits we are not interested in to zero.","",""
"393854278764068875","curiouskiwi#1671","30-Jun-19 10:11 PM","@allsunday it's what's called a bitmask.  Let's say that `buffer[3]` is 0xe5

```
0xe5        11100101
0xf0        11110000
-----------------------------------
0xe5 & 0xf0 11100000 (which is 0xe0)```
0xf0 (the ""bit mask"") masks all the bits that are zero so you are left with only the 4 top bits (0xe0).","",""
"255162012303228930","allsunday#1958","30-Jun-19 10:21 PM","so we could write (buffer[3] & 0xe0) == 0xe0 just the same? Since 0xe5 & 0xe0 11100000","",""
"393854278764068875","curiouskiwi#1671","30-Jun-19 10:43 PM","any value between 0xe0 and 0xef when ANDed with 0xf0 will equal 0xe0.  That's why you can use that bitmask to test for all of those values   ```
  0xef     1110 1111
&
  0xf0     1111 0000
------------------------
           1110 0000```","",""
"393854278764068875","curiouskiwi#1671","30-Jun-19 10:44 PM","```
  0xe3     1110 0011
&
  0xf0     1111 0000
------------------------
           1110 0000```  etc.","",""
"255162012303228930","allsunday#1958","30-Jun-19 10:45 PM","so basically it goes bit by bit and copies the bits that are equal and sets the rest to 0","",""
"255162012303228930","allsunday#1958","30-Jun-19 10:45 PM","is that right?","",""
"393854278764068875","curiouskiwi#1671","30-Jun-19 10:46 PM","it does a logical AND operation.  if both bits are 1, then it's 1; otherwise it's 0","",""
"255162012303228930","allsunday#1958","30-Jun-19 10:47 PM","that makes it crystal clear","",""
"393854278764068875","curiouskiwi#1671","30-Jun-19 10:47 PM","true and true == true. 
true and false == false   
false and true = false   
false and false == false","",""
"255162012303228930","allsunday#1958","30-Jun-19 10:48 PM","I didn't see how that conjuction was working","",""
"255162012303228930","allsunday#1958","30-Jun-19 10:48 PM","thanks!","",""
"393854278764068875","curiouskiwi#1671","30-Jun-19 10:48 PM","you're welcome","",""
"393854278764068875","curiouskiwi#1671","30-Jun-19 10:49 PM","I found this helpful: https://en.wikipedia.org/wiki/Bitwise_operation#AND","",""
"255162012303228930","allsunday#1958","30-Jun-19 10:50 PM","great","",""
"254780208811343873","Animaster7#5593","03-Jul-19 06:55 PM","Hi, I was wondering if this was correct so far?","",""
"254780208811343873","Animaster7#5593","03-Jul-19 06:55 PM","```    //remember file name
    char *forensicimg = argv[1];
    
    //open file
    FILE *imgptr = fopen(forensicimg, ""r"");
    if (imgptr == NULL)
    {
        fprintf(stderr, ""Could not open %s.\n"", forensicimg);
        return 2;
    }
    
    //create array to store blocks of 512 bytes, and store bytes from forensic image
    unsigned char array_byte[512];
    
    while (fread(&forensicimg, 1, 512, imgptr) == 512)
    {
        array_byte = fread(&forensicimg, 1, 512, imgptr);
    }```","",""
"254780208811343873","Animaster7#5593","03-Jul-19 06:57 PM","I'm trying to read into the forensic image file (forensicimg) and then store it into an array (array_byte) so I can check the first four bytes of the block or use fwrite to write it out. I'm not sure if I'm on the write track though?","",""
"234679095378706433","Blauelf#6622","03-Jul-19 07:54 PM","`fread(array_byte,... `","",""
"234679095378706433","Blauelf#6622","03-Jul-19 07:55 PM","First argument is a memory address to write to.","",""
"254780208811343873","Animaster7#5593","03-Jul-19 09:43 PM","@Blauelf But isn't this fread?","",""
"234679095378706433","Blauelf#6622","03-Jul-19 10:14 PM","?","",""
"254780208811343873","Animaster7#5593","03-Jul-19 10:57 PM","I thought writing things was what fwrite did...?","",""
"254780208811343873","Animaster7#5593","03-Jul-19 10:58 PM","ohhh","",""
"254780208811343873","Animaster7#5593","03-Jul-19 10:58 PM","OHHHH","",""
"254780208811343873","Animaster7#5593","03-Jul-19 10:58 PM","I get it nvm","",""
"234679095378706433","Blauelf#6622","03-Jul-19 11:30 PM","`fread` does reading. It reads from the file, writes to RAM.","",""
"254780208811343873","Animaster7#5593","04-Jul-19 12:22 AM","wait so what does fwrite do?","",""
"234679095378706433","Blauelf#6622","04-Jul-19 12:25 AM","It reads from RAM and writes to file.","",""
"254780208811343873","Animaster7#5593","04-Jul-19 01:04 AM","ohhhh ok","",""
"254780208811343873","Animaster7#5593","04-Jul-19 04:26 AM","can someone explain why the last condition in the if statement for checking whether or not the block is the start of a JPEG is this ``(array_byte[3] & 0xf0) == 0xe0``","",""
"393854278764068875","curiouskiwi#1671","04-Jul-19 04:28 AM","type bitwise in the search bar and you'll find earlier discussion","",""
"254780208811343873","Animaster7#5593","04-Jul-19 04:29 AM","ooh thanks","",""
"254780208811343873","Animaster7#5593","04-Jul-19 04:31 AM","oh wow that's so weird","",""
"254780208811343873","Animaster7#5593","04-Jul-19 04:42 AM","I have a question for counting JPEGS","",""
"254780208811343873","Animaster7#5593","04-Jul-19 04:44 AM","If I assign an integer the value 000, and then later use printf or something like that to name the file with `` ""%i"", jpegcount ``, will the %i change into a 000 or just a 0?","",""
"393854278764068875","curiouskiwi#1671","04-Jul-19 04:44 AM","%i will be 0","",""
"393854278764068875","curiouskiwi#1671","04-Jul-19 04:45 AM","if you want leading zeros, you need to add that to the format specifier","",""
"254780208811343873","Animaster7#5593","04-Jul-19 04:45 AM","is that what the %03i is for?","",""
"254780208811343873","Animaster7#5593","04-Jul-19 04:46 AM","%03i.jpg","",""
"393854278764068875","curiouskiwi#1671","04-Jul-19 04:47 AM","yes","",""
"254780208811343873","Animaster7#5593","04-Jul-19 04:48 AM","to use ``sprintf(filename, ""%03i.jpg"", 2);`` to create 002.jpg, do I need to create a filename array first?","",""
"393854278764068875","curiouskiwi#1671","04-Jul-19 04:48 AM","yes","",""
"254780208811343873","Animaster7#5593","04-Jul-19 04:48 AM","oki","",""
"393854278764068875","curiouskiwi#1671","04-Jul-19 04:48 AM","and it has to be long enough to hold the entire string","",""
"254780208811343873","Animaster7#5593","04-Jul-19 04:49 AM","wait so would the string be ###.jpg (7 chars long)?","",""
"393854278764068875","curiouskiwi#1671","04-Jul-19 04:52 AM","is that long enough for all the chars in that string?  (remember that a string needs a null char at the end)","",""
"254780208811343873","Animaster7#5593","04-Jul-19 04:53 AM","Oh right","",""
"254780208811343873","Animaster7#5593","04-Jul-19 04:53 AM","thanks","",""
"254780208811343873","Animaster7#5593","04-Jul-19 05:12 AM","When I'm trying to open the file I just created, like this ``FILE *recovimg = fopen(filename, ""w"");``, does recovimg need to be an array?","",""
"393854278764068875","curiouskiwi#1671","04-Jul-19 05:16 AM","rcovimg is a FILE *","",""
"254780208811343873","Animaster7#5593","04-Jul-19 05:25 AM","Okay so I have  
``` char *filename[8];``` 
and then later on
```      
//create new JPEG file
            sprintf(filename, ""%03i.jpg"", jcount);
            recovimg = fopen(filename, ""w"");```","",""
"254780208811343873","Animaster7#5593","04-Jul-19 05:25 AM","however I'm getting an error here but I'm not quite sure what it means","",""
"254780208811343873","Animaster7#5593","04-Jul-19 05:26 AM","oohh wait nvm I realized it's not supposed to be a pointer","",""
"254780208811343873","Animaster7#5593","04-Jul-19 05:26 AM","so it should be ``char filename[8];`` instead right?","",""
"254780208811343873","Animaster7#5593","04-Jul-19 05:27 AM","Haha yes it works! I'm so happy.","",""
"254780208811343873","Animaster7#5593","04-Jul-19 05:28 AM","this was so much easier than resize","",""
"254780208811343873","Animaster7#5593","04-Jul-19 05:29 AM","This is awesome","",""
"254780208811343873","Animaster7#5593","04-Jul-19 05:30 AM","Thanks curiouskiwi!","",""
"380342830369079296","Antony Mikhael#5177","04-Jul-19 10:27 AM","","https://cdn.discordapp.com/attachments/395684916056031245/596240541746987029/IMG_20190704_092606_179.jpg",""
"380342830369079296","Antony Mikhael#5177","04-Jul-19 10:29 AM","I have opened a file and got a file pointer to it named newjpegptr on line 47 . And a couple of lines later, I attempted to close that file by passing the pointer to it . But when I try to compile I keep getting an error ""use of undeclared identifier on line  57 "" ??!!","",""
"393854278764068875","curiouskiwi#1671","04-Jul-19 10:50 AM","you've declared it within the `if` so it goes out of scope at the end of that.  You should declare it before then, then simply set it on line 43.","",""
"380342830369079296","Antony Mikhael#5177","04-Jul-19 02:05 PM","Oh , ok . Thanks . Those simple syntax and language limitations keep hitting me üòÖ hopefully after getting used to them , I won't struggle with them anymore .","",""
"264135790735523840","Obvious429#0938","04-Jul-19 11:46 PM","If I use `fread(buffer, 1, 512, raw_file)`, will buffer be a 2d array?","",""
"234679095378706433","Blauelf#6622","04-Jul-19 11:57 PM","`fread` will read the number of bytes that's the product of the two numbers, and will write them to the memory address you pass (arrays are passed as pointers). The first is meant to be some block size, the second how many blocks to read. How you distribute the product is up to you, whatever makes sense in your case. `fread`'s return value is the number of blocks read successfully, so this line would return a number between 0 and 512, while using `512, 1` would return something between 0 and 1.
Whether you interpret those 512 bytes as a 2D array is up to you. As long as all 512 bytes are stored contiguously, it doesn't matter to `fread`.","",""
"264135790735523840","Obvious429#0938","05-Jul-19 12:05 AM","Ok, thanks","",""
"264135790735523840","Obvious429#0938","05-Jul-19 12:15 AM","So you can use `buffer` as an array or a single variable?","",""
"234679095378706433","Blauelf#6622","05-Jul-19 12:17 AM","`buffer` would usually be an array of the right size. Could be a pointer instead, but then you'd have to make sure you find the 512 bytes of RAM somewhere else (e.g. on heap with `malloc`/`free`). Array is fine here, and there's no benefit in using something else.","",""
"234679095378706433","Blauelf#6622","05-Jul-19 12:18 AM","If I pass an array, the compiler will pass its memory address instead, as if it were a pointer containing that address.","",""
"234679095378706433","Blauelf#6622","05-Jul-19 12:21 AM","Not sure what would happen if my function's signature were like `int myfun(int numbers[6]);`, whether that still is treated as a pointer (like `int numbers[]`). Too tired to try this tonight.","",""
"264135790735523840","Obvious429#0938","05-Jul-19 02:30 AM","What does `%03i` mean in `sprintf(filename, ""%03i.jpg"", 2)`?","",""
"393854278764068875","curiouskiwi#1671","05-Jul-19 02:40 AM","That means ""format the integer with a minimum of 3 characters, padded with leading zeros if necessary""","",""
"393854278764068875","curiouskiwi#1671","05-Jul-19 02:40 AM","so in that case `""002.jpg""`","",""
"264135790735523840","Obvious429#0938","05-Jul-19 02:43 AM","ok thanks, it was a bit confusing","",""
"456226577798135808","Deleted User#0000","05-Jul-19 04:30 AM","Hey, I'm just starting recover","",""
"456226577798135808","Deleted User#0000","05-Jul-19 04:31 AM","I read the wiki page and man documentation of sprintf and the printf family","",""
"456226577798135808","Deleted User#0000","05-Jul-19 04:31 AM","but I'm still struggling to understand whwat the difference between sprintf and printf is and why you need to use 'stderr' or 'stdout'","",""
"456226577798135808","Deleted User#0000","05-Jul-19 04:32 AM","could someone explain?","",""
"456226577798135808","Deleted User#0000","05-Jul-19 04:32 AM","I'd like to understand what I'm using rather than just using it, ya know?","",""
"323564643358605322","Nornor#4436","05-Jul-19 05:28 AM","sprintf() prints the formatted string to a variable of type string","",""
"323564643358605322","Nornor#4436","05-Jul-19 05:29 AM","so the first argument that it takes has to be a pointer to that string and then it's the same as printf()'s arguments","",""
"323564643358605322","Nornor#4436","05-Jul-19 05:36 AM","Also, I think it's just a convention to use stderr to output errors maybe so you don't mix errors with normal output","",""
"323564643358605322","Nornor#4436","05-Jul-19 05:36 AM","Someone will probably have a better explanation","",""
"234679095378706433","Blauelf#6622","05-Jul-19 07:55 AM","@Deleted User `fprintf` prints to a file, and `stdin`, `stdout`, `stderr` are three ""files"" open by default. `stdin` is where you can read input from the user. `stdout` and `stderr` both print to the console, the difference is in where it lands. So if I have
```c
#include <stdio.h>

int main(void)
{
    fprintf(stdout, ""This goes to stdout.\n"");
    fprintf(stderr, ""This goes to stderr.\n"");
    return 0;
}
```
and call it on the console, I see both outputs. But if I call it like `./mytestprog > output.txt` (redirecting output to a file), only the output to `stdout` gets redirected. `./mytestprog 2> error.log` would redirect the `stderr` output only. `./mytestprog > output.txt 2> error.log` would redirect them into different files, `./mytestprog > output.txt 2>&1` would redirect `stdout` to a file, and `stderr` to `stdout`, so both to the same file.
`printf( ...` would be equivalent to  `fprintf(stdout, ...`","",""
"234679095378706433","Blauelf#6622","05-Jul-19 08:00 AM","The redirect operations must be supported by your shell (the programme giving you the command prompt and interpreting your commands). For example, `&>` for ""redirect both to the same file"" is available on the larger shells (bash/zsh), but not on all of the tiny ones you might find on environments with space limitations (where the whole Linux including programmes fits into a few megabytes).","",""
"380342830369079296","Antony Mikhael#5177","05-Jul-19 09:27 AM","Recover compiles and when I run ./recover card.raw it produces the 50 jpg but all of the are empty !! Can't find the bug !! . I have put the code in a pdf because I think it will be much easier to see the code formatted rather than just as text on discord","https://cdn.discordapp.com/attachments/395684916056031245/596587945809674250/Recover_blank_images_bug.pdf",""
"234679095378706433","Blauelf#6622","05-Jul-19 09:43 AM","Pdf? Why not github gist or a pastebin?","",""
"380342830369079296","Antony Mikhael#5177","05-Jul-19 09:56 AM","I am not sure if I want to share it from github . Does it require me to submit it first?","",""
"234679095378706433","Blauelf#6622","05-Jul-19 09:57 AM","I said gist. Those are small snippets that can be set not to be listed.","",""
"380342830369079296","Antony Mikhael#5177","05-Jul-19 09:59 AM","I am not quite familiar with those websites and what do they do honestly . I will find out more about the gist and will share it from there if it is better for you","",""
"380342830369079296","Antony Mikhael#5177","05-Jul-19 10:01 AM","I have been a tech user since like forever , but github and those develppers platforms isn't something a normal user is familiar with , you know . I have just started 3 weeks ago and barely keeping up with cs50 to search about other stuff  üòÖ","",""
"380342830369079296","Antony Mikhael#5177","05-Jul-19 10:10 AM","Well that was much simpler than I anticipated . Thanks for letting me know that gist exists , it seems like I will need to use it very often during the course of cs50 üòÇ  
Can't find the bug that leads to having  the recovered images being blank in my code 
https://gist.github.com/antonymikhael/400b36f8e8e935639654294ab51caf2f","",""
"264135790735523840","Obvious429#0938","05-Jul-19 05:48 PM","Does the file cursor move when freading a file?","",""
"323564643358605322","Nornor#4436","05-Jul-19 05:49 PM","ye","",""
"264135790735523840","Obvious429#0938","05-Jul-19 07:03 PM","I'm trying to write a block of 512 bytes to a JPEG using the filename char array: `fwrite(&buffer, 512, 1, filename);` but i get an error saying `recover.c:42:41: error: incompatible pointer types passing 'char [8]' to parameter of type 'FILE *' (aka 'struct _IO_FILE *') [-Werror,-Wincompatible-pointer-types]`","",""
"234679095378706433","Blauelf#6622","05-Jul-19 07:49 PM","Don't use `filename`, but `fopen` the file to `fwrite` to.","",""
"234679095378706433","Blauelf#6622","05-Jul-19 07:58 PM","@Antony Mikhael I would expect the files to be 512 bytes. If there's an open file, you should write the block (just sometimes replace the file to write to)","",""
"264135790735523840","Obvious429#0938","06-Jul-19 12:55 AM","@Blauelf I tried that
`FILE *img = fopen(filename, ""w"");
fwrite(&buffer, 512, 1, img);`
but i get error: use of an undeclared identifier 'img'","",""
"234679095378706433","Blauelf#6622","06-Jul-19 12:57 AM","You likely declared `img` in an inner block. Try `FILE *img = NULL;` before your loop, and just `img = fopen(filename, ""w"");` inside.","",""
"264135790735523840","Obvious429#0938","06-Jul-19 12:59 AM","How come it doesn't work in an inner loop?","",""
"234679095378706433","Blauelf#6622","06-Jul-19 01:00 AM","Variables exist only within the scope they are declared in. At the end of the block, the stack pointer is reset to the value it had before entering the block, and any variable declared inside now is in the ""unused"" space.","",""
"264135790735523840","Obvious429#0938","06-Jul-19 01:01 AM","Ohh, makes sense","",""
"234679095378706433","Blauelf#6622","06-Jul-19 01:01 AM","You can see variables declared in outer scopes relative to yours, but not in inner scopes.","",""
"264135790735523840","Obvious429#0938","06-Jul-19 11:42 PM","How do i check the return value of fread?","",""
"234679095378706433","Blauelf#6622","07-Jul-19 02:00 AM","I did `while (fread(buffer, 512, 1, card) == 1)`","",""
"264135790735523840","Obvious429#0938","07-Jul-19 02:32 AM","Why do i never think of these things üò¶","",""
"263519112515289089","shinxr#0424","08-Jul-19 03:30 AM","my code works but when i try to add the leading zeros to the names with ```sprintf(filename,""%03d.jpg"", timer);``` all of the sudden the code breaks entirely. why? i also tried making seperate sprintf's for each line (ex:```if(timer<10),  if(timer<100, etc```) but it still breaks because for some reason it screws with the filetype name","",""
"263519112515289089","shinxr#0424","08-Jul-19 03:31 AM","it works when i do:
```sprintf(filename,""%d.jpg"", timer);```","",""
"263519112515289089","shinxr#0424","08-Jul-19 03:32 AM","but it doesnt give me leading 0's","",""
"393854278764068875","curiouskiwi#1671","08-Jul-19 03:34 AM","how big is your `filename`?","",""
"393854278764068875","curiouskiwi#1671","08-Jul-19 03:35 AM","is it big enough to hold all the characters in ""000.jpg""  
`'0', '0', '0', '.', 'j', 'p', 'g', '\0'` ?","",""
"263519112515289089","shinxr#0424","08-Jul-19 03:39 AM","ok that was the problem but now the last one (049.jpg) isnt copied correctly, even though when i run it on card.raw it shows up correctly (at least i think)","",""
"263519112515289089","shinxr#0424","08-Jul-19 03:47 AM","fixed it","",""
"380342830369079296","Antony Mikhael#5177","08-Jul-19 09:51 AM","I am still stuck at this pset . When I run the program everything seems working fine but the recovered images are blank !. Can you give me some pointer üòÖ , oh no don't, I have just remembered that joke of pointer in the lecture üòÖ . Instead here is my thought process about the code . Can you please let me know where have I gone wrong with it to learn how to think about problems in thr future? https://youtu.be/kVFbXpoZnKY","",""
"380342830369079296","Antony Mikhael#5177","08-Jul-19 09:51 AM","If you need to read my code in a clearer way than in the video https://gist.github.com/antonymikhael/400b36f8e8e935639654294ab51caf2f","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:27 AM","hey y'all. I'm trying to iterate through the card.raw file to find the first jpeg location, but I'm getting a segmentation fault and I can't figure out why","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:28 AM","https://pastebin.com/CdaiGFSt","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:28 AM","The output is pasted below the code","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:28 AM","I'm really stuck here","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:30 AM","It seems like it's failing when it checks to see if i is less than blocknum (my variable for the number of blocks in the input file) as all my markers are hit once","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:30 AM","I just don't understand why it's failing there","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:32 AM","@curiouskiwi I hope you don't mind me tagging you (lmk if I shouldn't in the future)","",""
"393854278764068875","curiouskiwi#1671","09-Jul-19 02:34 AM","you are freading 512 bytes into a buffer that only holds 4 ints.","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:35 AM","god fread is going to be the death of me","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:36 AM","ok so I set the array size to 512","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:37 AM","But now it's just running through the whole file and never recognizing the beginning of a jpeg","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:37 AM","I feel like I'm going in circles here","",""
"393854278764068875","curiouskiwi#1671","09-Jul-19 02:38 AM","are you reading in ints? or bytes?","",""
"393854278764068875","curiouskiwi#1671","09-Jul-19 02:38 AM","keeping in mind that a byte is an 8-bit unsigned type","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:38 AM","I guess ints then","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:39 AM","But arn't bytes defined in bmp.h?","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:39 AM","Should I copy that into my project folder for this?","",""
"393854278764068875","curiouskiwi#1671","09-Jul-19 02:40 AM","no need.  little known fact... `byte` is defined in cs50.h now as well","",""
"393854278764068875","curiouskiwi#1671","09-Jul-19 02:40 AM","so `byte buffer[512];` would declare a buffer that can hold 512 bytes","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:40 AM","You're blowing my mind here man","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:40 AM","hell yeah!","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:40 AM","it works!","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:40 AM","That's sick","",""
"393854278764068875","curiouskiwi#1671","09-Jul-19 02:41 AM","(that was added only this year, so it's not in the course materials) üòÉ","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:41 AM","Ahhhhh","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:41 AM","that's how they getcha!","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:41 AM","lol","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:41 AM","Alright, I thiiiink I can do the rest","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:41 AM","Thanks a million again!!","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:41 AM","<4","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:41 AM","‚ù§ ‚ù§","",""
"456226577798135808","Deleted User#0000","09-Jul-19 02:41 AM","I hate my keyboard lol","",""
"589112018032656395","rj1804567#1694","09-Jul-19 10:56 AM","hi !!!! Can anyone help me , Im having problem in understanding how and where to store jpeg files after ""fread"" ing them ?","",""
"456226577798135808","Deleted User#0000","09-Jul-19 04:29 PM","Hey rj! You should be creating new jpegs with the fopen command using the  naming convention provided by the problem set. Remember that you're only freading the input file","",""
"456226577798135808","Deleted User#0000","09-Jul-19 04:29 PM","Hope that helps!","",""
"290188325858312193","ZachAtoch#3882","09-Jul-19 05:51 PM","so does byte buffer[512] create  an array of storage cwith the pointer ""byte""","",""
"290188325858312193","ZachAtoch#3882","09-Jul-19 05:51 PM","or do I need to assign a pointer to it","",""
"290188325858312193","ZachAtoch#3882","09-Jul-19 08:01 PM","recover.c:35:13: error: use of undeclared identifier 'File'
            File *output = fopen(output , ""w"");
            ^
recover.c:35:19: error: use of undeclared identifier 'output'
            File *output = fopen(output , ""w"");
                  ^
recover.c:35:34: error: use of undeclared identifier 'output'
            File *output = fopen(output , ""w"");
                                 ^
recover.c:36:34: error: use of undeclared identifier 'output'
            fwrite(&bits, 512,1, output);
                                 ^
recover.c:41:34: error: use of undeclared identifier 'output'
            fwrite(&bits, 512,1, output);","",""
"456226577798135808","Deleted User#0000","09-Jul-19 08:19 PM","so for your first question, byte buffer[512] makes an array of bytes that is 512 bytes in size","",""
"456226577798135808","Deleted User#0000","09-Jul-19 08:21 PM","for your errors, look back at how copy.c creates file pointers, and keep in mind that capitalization matters in some syntax","",""
"456226577798135808","Deleted User#0000","09-Jul-19 08:21 PM","Also, are you including bmp.h?","",""
"290188325858312193","ZachAtoch#3882","09-Jul-19 09:15 PM","Fixed all that","",""
"290188325858312193","ZachAtoch#3882","09-Jul-19 09:15 PM","now I am getting a segmentation error","",""
"290188325858312193","ZachAtoch#3882","09-Jul-19 09:16 PM","https://github.com/zachatoch/Help/blob/master/recover","",""
"501303214050902018","ChaoticSaint#0540","09-Jul-19 09:34 PM","Hi","",""
"501303214050902018","ChaoticSaint#0540","09-Jul-19 09:34 PM","Can someone check my code please","",""
"501303214050902018","ChaoticSaint#0540","09-Jul-19 09:34 PM","https://gist.github.com/ChaoticSaint/53cad22394c6db6fcc6bef0d36d7cb1b","",""
"290188325858312193","ZachAtoch#3882","09-Jul-19 09:35 PM","whats the issue with it","",""
"234679095378706433","Blauelf#6622","09-Jul-19 11:06 PM","Why would `ftell` return `EOF`?","",""
"234679095378706433","Blauelf#6622","09-Jul-19 11:12 PM","This whole `fseek` stuff is really confusing. I'd always read 512 bytes and then check what to do with it, depending on whether it contains a JPEG signature and whether I have an open output file.","",""
"264135790735523840","Obvious429#0938","10-Jul-19 01:43 AM","My if loop
`if (abs(buffer[0]) == 0xff && abs(buffer[1]) == 0xd8 && abs(buffer[2]) == 0xff)`
doesn't seem to find any JPEG signatures since no new files are created and is just skipped over in the debugger.","",""
"393854278764068875","curiouskiwi#1671","10-Jul-19 02:06 AM","why are you calling `abs` on what should be an unsigned 8-bit int?","",""
"393854278764068875","curiouskiwi#1671","10-Jul-19 02:07 AM","ie, a byte","",""
"264135790735523840","Obvious429#0938","10-Jul-19 02:09 AM","oops, but either way, it won't work","",""
"393854278764068875","curiouskiwi#1671","10-Jul-19 02:22 AM","is your buffer declared to hold bytes?","",""
"264135790735523840","Obvious429#0938","10-Jul-19 02:33 AM","uhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh","",""
"264135790735523840","Obvious429#0938","10-Jul-19 02:34 AM","i can do that?","",""
"393854278764068875","curiouskiwi#1671","10-Jul-19 02:39 AM","yes. üòÉ   you have several choices...   `unsigned char buffer[512]` or `uint8_t buffer[512]` or (newly added to cs50.h)  `byte buffer[512]`   All 3 of those would declare a buffer that will hold 512 bytes.","",""
"264135790735523840","Obvious429#0938","10-Jul-19 02:41 AM","ok, thanks!","",""
"264135790735523840","Obvious429#0938","10-Jul-19 02:43 AM","oh wow, that uh... fixed all of my code","",""
"393854278764068875","curiouskiwi#1671","10-Jul-19 02:46 AM","üëç","",""
"264135790735523840","Obvious429#0938","10-Jul-19 02:54 AM","?","https://cdn.discordapp.com/attachments/395684916056031245/598300869347377172/unknown.png",""
"393854278764068875","curiouskiwi#1671","10-Jul-19 02:59 AM","are you unnecessarily including any header files that check50 doesn't know about?","",""
"264135790735523840","Obvious429#0938","10-Jul-19 03:00 AM","...no","https://cdn.discordapp.com/attachments/395684916056031245/598302386381127681/unknown.png",""
"393854278764068875","curiouskiwi#1671","10-Jul-19 03:00 AM","and if you run `make recover` it compiles for you?","",""
"393854278764068875","curiouskiwi#1671","10-Jul-19 03:01 AM","and if so, if you move `recover.c` to an empty folder and run `make recover` there, does it still compile?","",""
"264135790735523840","Obvious429#0938","10-Jul-19 03:02 AM","yeah","",""
"393854278764068875","curiouskiwi#1671","10-Jul-19 03:04 AM","can you show me a screenshot of it compiling and then showing check50's results?","",""
"264135790735523840","Obvious429#0938","10-Jul-19 03:05 AM","ok","",""
"393854278764068875","curiouskiwi#1671","10-Jul-19 03:05 AM","let me check something...","",""
"264135790735523840","Obvious429#0938","10-Jul-19 03:07 AM","","https://cdn.discordapp.com/attachments/395684916056031245/598304228968104020/unknown.png",""
"393854278764068875","curiouskiwi#1671","10-Jul-19 03:08 AM","okay, if you used `byte`, can you change that to `uint8_t` instead?  looks like check50 isn't using the newest cs50 lib.","",""
"264135790735523840","Obvious429#0938","10-Jul-19 03:38 AM","ill try that","",""
"264135790735523840","Obvious429#0938","10-Jul-19 04:04 AM","uint8_t didn't compile, but unsigned char did.","https://cdn.discordapp.com/attachments/395684916056031245/598318533491032074/unknown.png",""
"234679095378706433","Blauelf#6622","10-Jul-19 09:35 AM","`uint8_t` requires `#include <stdint.h>`","",""
"393854278764068875","curiouskiwi#1671","10-Jul-19 09:48 AM","thanks @Blauelf I'd missed that reply.  I'll also check as to when we might be updating the cs50 library for check50 (probably in the fall).","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:35 AM","Ahhhhhh","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:35 AM","It works finally","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:36 AM","but now check50 isn't working","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:36 AM","it's saying that my program doesn't compile, but it compiles for me","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:36 AM","it says it "":( recover.c compiles. expected exit code 0, not 1""","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:37 AM","@curiouskiwi sorry, I know it's late","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:37 AM","I really want to submit this tonight","",""
"393854278764068875","curiouskiwi#1671","11-Jul-19 04:38 AM","@Deleted User does your program compile when you only have `recover.c` in the folder?  that's all check50 will be getting.","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:39 AM","it does","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:40 AM","it can't open card.raw obviously without some clever commandline logic","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:40 AM","but it compiles","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:41 AM","I know that check50 is getting recover.c cause it registers that it exists","",""
"393854278764068875","curiouskiwi#1671","11-Jul-19 04:42 AM","okay, scrolled back...    `byte` isn't yet in the version of the cs50 library that check50 uses.   change all instances to `unsigned char` and then try again","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:43 AM","ok one second, let me try that","",""
"393854278764068875","curiouskiwi#1671","11-Jul-19 04:43 AM","I didn't realize that when I suggested it earlier.","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:43 AM","Thats totally fine!","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:46 AM","That fixed it!","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:46 AM","Thanks so much for all your help kiwi!","",""
"393854278764068875","curiouskiwi#1671","11-Jul-19 04:47 AM","sure thing. üòÉ","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:49 AM","kiwi are you a student? or are you staff?","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:50 AM","If you don't mind me asking","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:50 AM","just curious ü§∑","",""
"393854278764068875","curiouskiwi#1671","11-Jul-19 04:52 AM","staff","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:52 AM","That's pretty cool","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:52 AM","ok I'm off to watch the next lecture","",""
"456226577798135808","Deleted User#0000","11-Jul-19 04:52 AM","have a nice night!","",""
"393854278764068875","curiouskiwi#1671","11-Jul-19 06:34 AM","fyi, check50 is now using the updated cs50 library (that is in the new IDE)","",""
"530135855415820288","Kontrary#1502","12-Jul-19 02:47 AM","Hey guys, are we supposed to be able to see card.raw in hexadecimal?","",""
"530135855415820288","Kontrary#1502","12-Jul-19 02:47 AM","I open it as a hexadecimal and it won't show üò¶","",""
"393854278764068875","curiouskiwi#1671","12-Jul-19 02:52 AM","it's too big to use the built in hex viewer.  Try using xxd instead.","",""
"393854278764068875","curiouskiwi#1671","12-Jul-19 02:53 AM","for example `xxd -l512 card.raw`  will show you the first 512 bytes","",""
"393854278764068875","curiouskiwi#1671","12-Jul-19 02:53 AM","`xxd -s1024 -l512 card.raw` will show you 512 bytes starting at the 1024th byte","",""
"393854278764068875","curiouskiwi#1671","12-Jul-19 02:54 AM","etc","",""
"530135855415820288","Kontrary#1502","12-Jul-19 03:05 AM","Ohh I see! That's very helpful, thank you!!","",""
"593369406810226699","Jammar#8645","12-Jul-19 04:52 PM","""File size limit exceeded"" hrmm.","",""
"593369406810226699","Jammar#8645","12-Jul-19 04:53 PM","Likely my ""Repeat until end of card file"" that isn't working?","",""
"593369406810226699","Jammar#8645","12-Jul-19 04:53 PM","Also check50 seems to flip out","",""
"593369406810226699","Jammar#8645","12-Jul-19 04:53 PM","`byte arr[];` should be fine, right? @curiouskiwi","",""
"593369406810226699","Jammar#8645","12-Jul-19 04:54 PM","check50

```
Checking............................
:) recover.c exists.
:) recover.c compiles.
:) handles lack of forensic image
:( recovers 000.jpg correctly
    timed out while waiting for program to exit
:( recovers middle images correctly
    timed out while waiting for program to exit
:| recovers 049.jpg correctly
    check50 ran into an error while running checks!
See https://cs50.me/checks/2575e7dfdc6c1da12e09c28e4ef3982919c7c16f for more detail.```","",""
"593369406810226699","Jammar#8645","12-Jul-19 05:04 PM","`Echo $? ` gives me 153, which I find odd","",""
"593369406810226699","Jammar#8645","12-Jul-19 05:08 PM","Right, the buffer size is always on 512 and therefore the loop never exits","",""
"593369406810226699","Jammar#8645","12-Jul-19 05:09 PM","I thought this `fread(buffer, 1, 512, card);` was a good idea","",""
"593369406810226699","Jammar#8645","12-Jul-19 05:10 PM","And that doesn't seem to be the problem...","",""
"593369406810226699","Jammar#8645","12-Jul-19 05:10 PM","I guess `while (sizeof(buffer) == 512)` wasn't a good idea, since it will always be that size?","",""
"593369406810226699","Jammar#8645","12-Jul-19 05:30 PM","Oh dear, so fread() returns  1 if it manages to read it.","",""
"593369406810226699","Jammar#8645","12-Jul-19 05:30 PM","Good stuff","",""
"593369406810226699","Jammar#8645","12-Jul-19 05:42 PM","Ok now it's only my 000.jpg that doens't work, everything else is fine","",""
"593369406810226699","Jammar#8645","12-Jul-19 05:43 PM","Any ideas of what that can be?","",""
"593369406810226699","Jammar#8645","12-Jul-19 05:43 PM","```
Checking........
:) recover.c exists.
:) recover.c compiles.
:) handles lack of forensic image
:( recovers 000.jpg correctly
    recovered image does not match
:) recovers middle images correctly
:) recovers 049.jpg correctly
See https://cs50.me/checks/745a7321d34efeff038f8e178dc1680a0bb2b65d for more detail.```","",""
"593369406810226699","Jammar#8645","12-Jul-19 05:44 PM","I didn't think I had to like empty the buffer before finding the first jpg? everytime i do fread() it should just read into the new","",""
"593369406810226699","Jammar#8645","12-Jul-19 05:44 PM","I guuueeess I could fseek the first bit of the file until I find a jpeg, and then start from there.. but it sounds complicated","",""
"593369406810226699","Jammar#8645","12-Jul-19 06:00 PM","Yeah I don't get why 000.jpg messes up, anyone care to have a look at my code?","",""
"593369406810226699","Jammar#8645","12-Jul-19 06:01 PM","https://gist.github.com/Jammar/9192433aaea295cc467bffa540dce296","",""
"593369406810226699","Jammar#8645","12-Jul-19 06:43 PM","Omg yes I was missing an fwrite() after the first time I created a jpeg. thanks guys. have a good weekend.","",""
"530135855415820288","Kontrary#1502","15-Jul-19 10:18 PM","All right guys so this is probably a stupid question","",""
"530135855415820288","Kontrary#1502","15-Jul-19 10:18 PM","But I don't really understand the bitwise & operator","",""
"530135855415820288","Kontrary#1502","15-Jul-19 10:18 PM","Provided in the walkthrough","",""
"530135855415820288","Kontrary#1502","15-Jul-19 10:18 PM","","https://cdn.discordapp.com/attachments/395684916056031245/600405945587204312/unknown.png",""
"530135855415820288","Kontrary#1502","15-Jul-19 10:19 PM","I don't understand how the last line works","",""
"393854278764068875","curiouskiwi#1671","15-Jul-19 10:25 PM","search `bitwise` in this channel and you'll find earlier explanations","",""
"530135855415820288","Kontrary#1502","15-Jul-19 10:34 PM","Thanks, you're a blessing","",""
"337731837369516035","Syko#1498","17-Jul-19 03:40 PM","my recover cant find any jpg , when debugging i recognized the condition of the first 4 bytes is never true throughout all the card.raw  .. any hints what might be the problem?","",""
"530135855415820288","Kontrary#1502","17-Jul-19 04:41 PM","Are you reading enough bytes?  @Syko","",""
"337731837369516035","Syko#1498","17-Jul-19 04:42 PM","its a while(1) loop, i found a start but i only get a fraction of 000.jpg","",""
"337731837369516035","Syko#1498","17-Jul-19 04:43 PM","debugging is really hard","",""
"337731837369516035","Syko#1498","17-Jul-19 04:43 PM","since it iterates like forever","",""
"530135855415820288","Kontrary#1502","17-Jul-19 04:48 PM","Oof, maybe you should have finding the first bytes as a conditional within the while loop?","",""
"530135855415820288","Kontrary#1502","17-Jul-19 04:48 PM","Like you're gonna keep reading through all the bytes always but finding a new jpeg requires extra steps","",""
"337731837369516035","Syko#1498","17-Jul-19 04:48 PM","let me know when u read that","",""
"337731837369516035","Syko#1498","17-Jul-19 04:48 PM","so i delete the msg","",""
"530135855415820288","Kontrary#1502","17-Jul-19 04:49 PM","K","",""
"530135855415820288","Kontrary#1502","17-Jul-19 04:49 PM","I'll just copy it","",""
"337731837369516035","Syko#1498","17-Jul-19 04:49 PM","k tell me when u do that","",""
"530135855415820288","Kontrary#1502","17-Jul-19 04:49 PM","Done","",""
"530135855415820288","Kontrary#1502","17-Jul-19 04:49 PM","Hol up so you made an infinite loop?","",""
"337731837369516035","Syko#1498","17-Jul-19 04:50 PM","yea which ends when the file end","",""
"337731837369516035","Syko#1498","17-Jul-19 04:50 PM","with a break inside","",""
"530135855415820288","Kontrary#1502","17-Jul-19 04:50 PM","Ahh","",""
"337731837369516035","Syko#1498","17-Jul-19 04:50 PM","buffer values on the debugger are some very very large numbers some are negative so idk if thats normal","",""
"530135855415820288","Kontrary#1502","17-Jul-19 04:51 PM","ü§î for me they showed up pretty small","",""
"530135855415820288","Kontrary#1502","17-Jul-19 04:51 PM","And for some reason in ASCII Format üòÇ","",""
"337731837369516035","Syko#1498","17-Jul-19 04:52 PM","maybe i am passing an address instead of dereferencing somewhere? but fread refuse to compile when u do that","",""
"337731837369516035","Syko#1498","17-Jul-19 04:52 PM","if i have an array of 512 characters , what should i pass to fread?","",""
"337731837369516035","Syko#1498","17-Jul-19 04:52 PM","only the name right?","",""
"337731837369516035","Syko#1498","17-Jul-19 04:52 PM","since the array is just an address","",""
"530135855415820288","Kontrary#1502","17-Jul-19 04:53 PM","Yeah fread takes arrays/pointers","",""
"530135855415820288","Kontrary#1502","17-Jul-19 04:53 PM","So what happens is you only get a fraction of 000.jpg, but do you get the rest?","",""
"337731837369516035","Syko#1498","17-Jul-19 04:53 PM","nope","",""
"530135855415820288","Kontrary#1502","17-Jul-19 04:53 PM","Of the jpgs","",""
"530135855415820288","Kontrary#1502","17-Jul-19 04:53 PM","No?","",""
"337731837369516035","Syko#1498","17-Jul-19 04:53 PM","echo gives me 0","",""
"337731837369516035","Syko#1498","17-Jul-19 04:54 PM","which means the break evaluated at some point","",""
"337731837369516035","Syko#1498","17-Jul-19 04:54 PM","and the function main ended normally","",""
"530135855415820288","Kontrary#1502","17-Jul-19 04:54 PM","It could be an issue with initializing jpeg","",""
"530135855415820288","Kontrary#1502","17-Jul-19 04:54 PM","Which you do outside of the loop you sent right?","",""
"530135855415820288","Kontrary#1502","17-Jul-19 04:55 PM","Bc the first one is tricky, since you're not supposed to close any jpegs before it so including it in the normal loop would require another conditional","",""
"337731837369516035","Syko#1498","17-Jul-19 04:55 PM","yea the first one is initialized before the loops","",""
"530135855415820288","Kontrary#1502","17-Jul-19 04:55 PM","Ahh so it's open before","",""
"337731837369516035","Syko#1498","17-Jul-19 04:55 PM","let me show u","",""
"337731837369516035","Syko#1498","17-Jul-19 04:55 PM","will send privately","",""
"530135855415820288","Kontrary#1502","17-Jul-19 04:56 PM","K","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 01:36 AM","Please review if you have a second.  This is a basic start to this problem. I just can't figure out why it's not printing ""I found a JPEG"".","https://cdn.discordapp.com/attachments/395684916056031245/601180436609237024/start.JPG",""
"393854278764068875","curiouskiwi#1671","18-Jul-19 02:02 AM","is this in a loop?  or are you assuming that the first 4 bytes of card.raw are a jpg signature (they aren't)","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 02:04 AM","Ha. Yes. I just realized this. It was not; it is now in a loop. Trying to solve for that now. 

As of just now, I made a for loop like: for (int i = 0; i < sizeof(inptr); i++) {stuff in screenshot}.

And now I discovered sizeof() doesn't accept a file to return file size in bytes.","",""
"393854278764068875","curiouskiwi#1671","18-Jul-19 02:06 AM","inptr is a pointer, so sizeof(inptr) will return 8","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 02:07 AM","Ah! Hence why I got 8 numbers by putting a printf() check in there.","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 02:14 AM","@curiouskiwi  any tips on why this is not storing the number of bytes in the infile in 'file_size'?","https://cdn.discordapp.com/attachments/395684916056031245/601190113426407456/doesnt_get_to_end.JPG",""
"393854278764068875","curiouskiwi#1671","18-Jul-19 02:19 AM","@dcsinversus I can't see any reason why that wouldn't have the value.  What makes you think it's not?","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 02:20 AM","That simple printf() test is only printing 4 times in the terminal and it does not printf(""I found a JPEG\n"")","",""
"393854278764068875","curiouskiwi#1671","18-Jul-19 02:20 AM","if you want your loop to loop from 0 to file_size, then why are you using sizeof(filesize) which is the size of an integer type","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 02:20 AM","am dumb","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 02:21 AM","üòê","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 02:21 AM","Thanks kiwi! Back to it.","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 06:14 PM","Back at today. Almost there, I think. 

Current issue: Only writing 512B to each ###.jpg.
Current strategy:  
1)  Check first 4 bytes for JPEG. Enter conditional. 
2)  Make filename saving 8B for name with malloc(). sprintf() per the video. Increment filename with ++.
3)  fopen() to *img with ""w"" permission. [so far so good as I'm able to write the files for 512B]
4)  fwrite() first block
5) 'fseek(inptr , 512, SEEK_CUR);' in order to get to next block so I can check the opposite of our ""find jpeg conditional""
6) 'while (buffer[0] != 0xff && buffer[1] != 0xd8...etc) {fwrite(&buffer, 512, 1, img);}'
7) 'fclose(img);'
8) 'free(filename);'","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 06:15 PM","`apologies for the formatting, didn't realize i needed backticks for code blocks`","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 06:45 PM","^ corrected 1 thing. needed to `fread()` another block forward instead of `fseek()` AND I think I'm done!","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 06:46 PM","Dang... I only recover the first 24 pictures....back to it.","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 07:02 PM","So now.

Current Issue: my for loop stops iterating after the ~12,500 blocks, but the file is 22,760 blocks long? This is a new behavior, now that I'm successfully recovering the first 24 photos. 

Current Strategy: Changed very little. Using a do/while loop instead. fread and fwrite within that loop until a new JPEG is encountered.","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 08:39 PM","Also is debug50 not working for anyone else?","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 08:53 PM","Just confirmed I'm iterating over the whole file, but after the 12,551st block, my JPEG conditional of if (buffer[0] == 0xff...etc) doesn't return true anymore.

Do you mean use that in place of the for (int i = 0; i < filesizeinblocks; i++)? That makes sense.","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 08:53 PM","But it doesn't resolve my current bug unfortunately","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 08:58 PM","Thank you. I did discover that a couple hours ago.","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 08:58 PM","I think I must be fread()-ing one too many times and it's causing me to miss an important block","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 09:04 PM","I do not, but that makes sense.","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 09:05 PM","Would you mind if I shared all of my code. I attacked this from a different angle, I think","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 09:10 PM","","https://cdn.discordapp.com/attachments/395684916056031245/601475878777520136/Screen_Shot_2019-07-18_at_2.09.52_PM.png",""
"214239797974269952","dcsinversus#9312","18-Jul-19 09:13 PM","I like it!","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 09:21 PM","Appreciate the tips. Congrats on finishing it!","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 09:28 PM","gotcha. I'm happy to change my method entirely, but I'd really like to know why this one is broken...it's driving me a little crazy. I thought it threw a couple dozen times. The only thing I can get to is my do/while loop is failing me","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 09:28 PM","I planned on watching those when I was done, but maybe I'll dive in.","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 09:33 PM","I've done this test a couple times: I comment out my do/while loop and printf(""FOUND A JPEG"") with a counter and it correctly grabs all of the images. But when I put my loop back in it fails, obviously.","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 09:43 PM","Not yet.","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 10:47 PM","@Deleted User  so I'm starting completely over with your pseudo code. Why do we care if it's the first JPEG or 50th?","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 10:58 PM","When you call while(fread) does the file pointer progress to the next 512B block?","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 11:02 PM","I think it does.","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 11:12 PM","so I'm there! But! File size limit exceeded!!!!","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 11:28 PM","I know what I did, because I stubbornly kept my do/while loop.... On my last image, there isn't another jpeg (my exit condition) so it fills the last image with zeros.","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 11:29 PM","I get the first 49 images, but my 50th is massive.","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 11:45 PM","I solve it in an ABSOLUTELY suboptimal way. But I had to see it to the end. Now to learn your way.","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 11:53 PM","check50 in cs50.me reports middle images are not recovered, but they are.","",""
"214239797974269952","dcsinversus#9312","18-Jul-19 11:53 PM","::shrugs::","",""
"214239797974269952","dcsinversus#9312","19-Jul-19 01:38 AM","probably because I used ""`byte buffer[512]`","",""
"393854278764068875","curiouskiwi#1671","19-Jul-19 01:42 AM","@dcsinversus that wouldn't cause any problem with recovering the middle images","",""
"214239797974269952","dcsinversus#9312","19-Jul-19 05:54 AM","@curiouskiwi  That's strange. The looked complete. Recovered 50 pictures. Definitely did not do it the prescribed way.","",""
"214239797974269952","dcsinversus#9312","19-Jul-19 05:54 AM","They looked complete*","",""
"393854278764068875","curiouskiwi#1671","19-Jul-19 05:55 AM","can you post your check50 url?  @dcsinversus","",""
"214239797974269952","dcsinversus#9312","19-Jul-19 05:55 AM","https://cs50.me/submit50/results/patrickodpt/b0eef881e781268088cf69ad7e190622226e0fcf","",""
"393854278764068875","curiouskiwi#1671","19-Jul-19 05:58 AM","(replying privately)","","üëç (2)"
"393093317233082370","pos1tr0n#5427","19-Jul-19 12:30 PM","guys how to compare just the first 4 bits","",""
"347682143159320577","nullableVoid*#7225","19-Jul-19 12:32 PM","@pos1tr0n use a mask to filter out the first four bits, and then compare","",""
"347682143159320577","nullableVoid*#7225","19-Jul-19 12:33 PM","||`(c & 0xf0) == 0xe0`||","",""
"393093317233082370","pos1tr0n#5427","19-Jul-19 12:33 PM","after getting the 4 bits can i just do `if (firstFourBits == 1011)`?","",""
"347682143159320577","nullableVoid*#7225","19-Jul-19 12:34 PM","Look at the spoiler","",""
"347682143159320577","nullableVoid*#7225","19-Jul-19 12:34 PM","I masked it and then compared ot","",""
"393093317233082370","pos1tr0n#5427","19-Jul-19 12:35 PM","but u r comparing with `0xe0`","",""
"347682143159320577","nullableVoid*#7225","19-Jul-19 12:35 PM","0xe is 1011","",""
"347682143159320577","nullableVoid*#7225","19-Jul-19 12:35 PM","Just different notations","",""
"347682143159320577","nullableVoid*#7225","19-Jul-19 12:36 PM","and because we're checking the first four","",""
"347682143159320577","nullableVoid*#7225","19-Jul-19 12:36 PM","Or high bits","",""
"347682143159320577","nullableVoid*#7225","19-Jul-19 12:36 PM","The extra zero is needed","",""
"393093317233082370","pos1tr0n#5427","19-Jul-19 12:36 PM","i want to compare with `1110` sorry","",""
"347682143159320577","nullableVoid*#7225","19-Jul-19 12:36 PM","Oh","",""
"347682143159320577","nullableVoid*#7225","19-Jul-19 12:36 PM","Yeah 0xe is 1110","",""
"347682143159320577","nullableVoid*#7225","19-Jul-19 12:36 PM","Woops","",""
"393093317233082370","pos1tr0n#5427","19-Jul-19 12:36 PM","oh","",""
"347682143159320577","nullableVoid*#7225","19-Jul-19 12:36 PM","1011 would be C I think","",""
"393093317233082370","pos1tr0n#5427","19-Jul-19 12:38 PM","ohhhhhhhh","",""
"393093317233082370","pos1tr0n#5427","19-Jul-19 12:38 PM","0x is the starting of hexadecimals sorry i forgot that","",""
"322973582432927757","kadavraverkisto#7943","20-Jul-19 06:04 PM","lol, i spent an hour trying to debug the program when it was already okay, that was my slow internet that did not let the pics open üòÇ","",""
"546285131971821583","slash17#6414","20-Jul-19 08:14 PM","I'm not sure what data type I should use for buffer[512]. I used char and its throwing an error.","",""
"322973582432927757","kadavraverkisto#7943","20-Jul-19 08:21 PM","It turns out that char, like all integer types, is signed by default, so I just replaced it with unsigned char.","",""
"546285131971821583","slash17#6414","20-Jul-19 08:24 PM","Oh","",""
"546285131971821583","slash17#6414","20-Jul-19 08:26 PM","Ty. It works now","",""
"546285131971821583","slash17#6414","20-Jul-19 08:33 PM","But why would I want to use unsinged rather than signed","",""
"546285131971821583","slash17#6414","20-Jul-19 08:33 PM","I don't understand the cause of error","",""
"546285131971821583","slash17#6414","20-Jul-19 08:36 PM","So, should I use unsinged data type every time I declare an array","",""
"322973582432927757","kadavraverkisto#7943","20-Jul-19 08:38 PM","I don't quite get it too, but I suppose it could have something to do with the fact that all the hexadecimals to compare were rather big, with 1 in the most significant bit, so they just did not fit the range of signed chars.","",""
"546285131971821583","slash17#6414","20-Jul-19 08:43 PM","Yes. That makes sense","",""
"546285131971821583","slash17#6414","20-Jul-19 08:51 PM","If buffer was signed. Then buffer[0] could only be as high as 255/2. So, (if buffer [0] == 0xff) is not a valid comparison.","",""
"602379920294805534","firedihm#8311","21-Jul-19 09:24 AM","Hello! I have a question: if first three bytes of all .JPEGs are 0xff, 0xd8, 0xff, then what is the point of checking fourth byte? Should not checking first 3 be enough?","",""
"393854278764068875","curiouskiwi#1671","21-Jul-19 09:30 AM","the jpg signature requires that the first 4 bytes match.  If you only check the first 3, you may have some false positives.","",""
"602379920294805534","firedihm#8311","21-Jul-19 09:31 AM","Well, that might explain why my code spews invalid images","",""
"602379920294805534","firedihm#8311","21-Jul-19 09:31 AM","Thank you","",""
"602379920294805534","firedihm#8311","21-Jul-19 04:17 PM","I'm having troubles trying to figure out why my recovered images won't open. May I show my code here?","",""
"242335228121710594","Torrin#0435","22-Jul-19 04:06 AM","sure, there isn't a rule against it as far as I know","",""
"374914470881001472","Kensocolo#1000","22-Jul-19 04:08 AM","mark it as a spoiler though","",""
"374914470881001472","Kensocolo#1000","22-Jul-19 05:18 AM","For some reason, I'm only getting one hit in the entire card.raw where the first four bytes match the jpg signature at offset 34816","",""
"374914470881001472","Kensocolo#1000","22-Jul-19 05:22 AM","And even then that hit isn't even a valid jpg","",""
"393854278764068875","curiouskiwi#1671","22-Jul-19 05:38 AM","@Kensocolo how are you calculating that offset?","",""
"393854278764068875","curiouskiwi#1671","22-Jul-19 05:39 AM","and how are you reading in the bytes?  Does your buffer hold 512 bytes?","",""
"374914470881001472","Kensocolo#1000","22-Jul-19 05:41 AM","I'm calculating the offset just with a variable that gets incremented by 512","",""
"374914470881001472","Kensocolo#1000","22-Jul-19 05:41 AM","So technically that should be block 34816 sorry for the wrong words","",""
"374914470881001472","Kensocolo#1000","22-Jul-19 05:41 AM","I'm reading it in 1 byte at a time 512 times so `fread(ptr, 1, 512, stream)`","",""
"374914470881001472","Kensocolo#1000","22-Jul-19 05:42 AM","And my buffer is declared as so: `uint8_t data[512];`","",""
"393854278764068875","curiouskiwi#1671","22-Jul-19 05:45 AM","hmm,  card.raw is only 11,651,584 bytes long, so if each block is 512, there are only 22,757 blocks.  If you're counting blocks and get up to 34816, something's not right.","",""
"374914470881001472","Kensocolo#1000","22-Jul-19 05:46 AM","Yeah that's what I thought too","",""
"374914470881001472","Kensocolo#1000","22-Jul-19 05:46 AM","Should I send you my code?","",""
"393854278764068875","curiouskiwi#1671","22-Jul-19 05:50 AM","sure","",""
"374914470881001472","Kensocolo#1000","22-Jul-19 01:37 PM","So, I think I solved the problem, however, when I submit to check50 it says couldn't execute program due to segmentation fault","",""
"374914470881001472","Kensocolo#1000","22-Jul-19 01:37 PM","But when I run locally there is no seg fault","",""
"234679095378706433","Blauelf#6622","23-Jul-19 10:45 AM","Compiler parameters and memory layout might differ. I'd especially check that you have eight bytes for the file name, and that you pass pointers the right way.","",""
"307062316199837697","SomeRandomGuyNextDoor#2012","25-Jul-19 04:01 PM","how do i know if i've reached the last byte of the last picture when the only question i can ask is whether i'm at the beginning of a picture or not?","",""
"347682143159320577","nullableVoid*#7225","25-Jul-19 05:45 PM","@SomeRandomGuyNextDoor exactly","",""
"347682143159320577","nullableVoid*#7225","25-Jul-19 05:45 PM","The picture ends where a new picture begins","",""
"309244455758594048","Ryoko#4737","25-Jul-19 06:35 PM","hey everyone, I am not sure I understand what this sentence means: 
""The fourth byte, meanwhile, is either 0xe0, 0xe1, 0xe2, 0xe3, 0xe4, 0xe5, 0xe6, 0xe7, 0xe8, 0xe9, 0xea, 0xeb, 0xec, 0xed, 0xee, or 0xef. Put another way, the fourth byte‚Äôs first four bits are 1110.""","",""
"309244455758594048","Ryoko#4737","25-Jul-19 06:39 PM","if the fourth byte can be among this range, and they are all different, how can the first bites of this fourth byte be the same?","",""
"234679095378706433","Blauelf#6622","25-Jul-19 09:55 PM","@SomeRandomGuyNextDoor And last picture ends with the input file.","","üëç (1)"
"234679095378706433","Blauelf#6622","25-Jul-19 09:58 PM","@Ryoko Each hexadecimal character stands for four bits. The range from 0xe0 to 0xef all share those first four bits.
You could use a bitmask. A bitmask could be a number that has the bits set you are interested in. If you apply it with the `&` bitwise AND operator, the result would have a 1 where both input numbers had a bit of 1, meaning you would ignore any bit in a position where your bitmask has a 0.","",""
"309244455758594048","Ryoko#4737","26-Jul-19 12:17 AM","Thanks for those additional info @Blauelf !","",""
"347682143159320577","nullableVoid*#7225","26-Jul-19 05:05 PM","@firedihm change the length of the char filename to 8","","üëå (1)"
"347682143159320577","nullableVoid*#7225","26-Jul-19 05:05 PM","You need to make room for the ""null terminator""","",""
"602379920294805534","firedihm#8311","26-Jul-19 05:08 PM","Wow, haha, thank you so much. Such a stupid mistake made my life shorter by a week at least","",""
"347682143159320577","nullableVoid*#7225","26-Jul-19 05:17 PM","@firedihm might want to delete that, the program is flawless other than that","",""
"347682143159320577","nullableVoid*#7225","26-Jul-19 05:17 PM","The image I mean","",""
"602379920294805534","firedihm#8311","26-Jul-19 05:28 PM","ok, thanks again!","",""
"296517760215941120","Raj#1113","29-Jul-19 07:38 AM",":) recover.c exists.
:) recover.c compiles.
:) handles lack of forensic image
:) recovers 000.jpg correctly
:) recovers middle images correctly
:) recovers 049.jpg correctly","",""
"296517760215941120","Raj#1113","29-Jul-19 07:38 AM","yeeet","","üí™üèª (1)"
"331545504087539742","NotReally#5246","29-Jul-19 05:14 PM","Can someone have a look at my code? I'm getting 50 files of 512 bytes, but they're not jpgs","",""
"331545504087539742","NotReally#5246","29-Jul-19 05:14 PM","Or they kind of are, but not really...","",""
"347682143159320577","nullableVoid*#7225","29-Jul-19 05:22 PM","@NotReally you have to keep reading and writing until another JPG starts","",""
"331545504087539742","NotReally#5246","29-Jul-19 05:22 PM","I think I am","",""
"331545504087539742","NotReally#5246","29-Jul-19 05:25 PM","@nullableVoid* It kind of looks like I'm only reading or writing just a part of the jpeg","",""
"347682143159320577","nullableVoid*#7225","29-Jul-19 05:26 PM","@NotReally mind posting your code?","",""
"347682143159320577","nullableVoid*#7225","29-Jul-19 05:26 PM","You are probably resetting something in the for loop","",""
"331545504087539742","NotReally#5246","29-Jul-19 05:28 PM","@nullableVoid* https://github.com/submit50/deepintocode/blob/38da65b75725137f2a5c3b6eceb912f76f2a4795/recover.c","",""
"347682143159320577","nullableVoid*#7225","29-Jul-19 05:29 PM","@NotReally 404","",""
"347682143159320577","nullableVoid*#7225","29-Jul-19 05:29 PM","\`\`\`c
//Put your C code like this
\`\`\`","",""
"347682143159320577","nullableVoid*#7225","29-Jul-19 05:29 PM","```c
//So it can be like this
```","",""
"347682143159320577","nullableVoid*#7225","29-Jul-19 05:31 PM","Yeah","",""
"347682143159320577","nullableVoid*#7225","29-Jul-19 05:31 PM","You are closing and opening the image each loop","",""
"347682143159320577","nullableVoid*#7225","29-Jul-19 05:31 PM","@NotReally close the (not null) image only when a new jpg signature is found","",""
"347682143159320577","nullableVoid*#7225","29-Jul-19 05:32 PM","And only fwrite if pointer img is not null","",""
"331545504087539742","NotReally#5246","29-Jul-19 05:33 PM","I thought that since it's inside the if statement, it will only do that if a jpeg is found, no?","",""
"331545504087539742","NotReally#5246","29-Jul-19 05:33 PM","So, whenever a jpeg is found, open the image file, write and close the file","",""
"331545504087539742","NotReally#5246","29-Jul-19 05:33 PM","Am I missing something?","",""
"347682143159320577","nullableVoid*#7225","29-Jul-19 05:34 PM","The JPGs aren't 512 bytes long","",""
"347682143159320577","nullableVoid*#7225","29-Jul-19 05:34 PM","They span across multiple chunks","",""
"347682143159320577","nullableVoid*#7225","29-Jul-19 05:34 PM","It is up to you to split the raw file into the 50 JPGs by finding their signatures","",""
"331545504087539742","NotReally#5246","29-Jul-19 05:35 PM","Ahhh, so I'm just saving the first 512 bytes then?","",""
"331545504087539742","NotReally#5246","29-Jul-19 05:35 PM","Ok, I see","",""
"331545504087539742","NotReally#5246","29-Jul-19 05:36 PM","@nullableVoid* Thanks, I'll give it another go","",""
"467342829426049024","Nivrel#0319","30-Jul-19 05:41 PM","```c
    FILE *file = fopen(argv[1], ""r"");
    int ch = getc(file);
    int buffer[512];
    int jpegs_found = 0;

    while(ch != EOF)
    {
        fread(&buffer, 512, 1, file);
        
        if(buffer[0] == 0xff &&
           buffer[1] == 0xd8 &&
           buffer[2] == 0xff &&
          (buffer[3] & 0xf0) == 0xe0)
        {
            printf(""%d"", jpegs_found);
            jpegs_found++;
        }
    }
```

Can I get a little help here?The condition of that the four first bytes of the jpeg must be those in the if condition never returns true idk why","",""
"322973582432927757","kadavraverkisto#7943","30-Jul-19 06:05 PM","@Nivrel Won't getc() move the file pointer too? Or am I missing something?","",""
"467342829426049024","Nivrel#0319","30-Jul-19 06:15 PM","I'not sure if i get what you mean. But I come up with an idea for an iteration `Size of card.raw / 512 = iterations`","",""
"467342829426049024","Nivrel#0319","30-Jul-19 06:17 PM","but when I print the `sizeof(file)` it returns 8 and not 11MB","",""
"322973582432927757","kadavraverkisto#7943","30-Jul-19 06:22 PM","""file"" is not a file itself, it just gives access to it. It also contains the position - which byte of this file will be read (or written) next. And when reading or writing happens, this position increases, so that the program doesn't read the same data again and again and does not constantly overwrite data instead of adding.","",""
"322973582432927757","kadavraverkisto#7943","30-Jul-19 06:24 PM","So after you call getc(), this position shifts a little, and when you check if a jpeg is beginning, the byte where you are expect to see 0xdf will be not in buffer[1] but in buffer[0] etc.","",""
"322973582432927757","kadavraverkisto#7943","30-Jul-19 06:25 PM","I think the standard way to read a file to the end is just checking the return value of fread().","",""
"467342829426049024","Nivrel#0319","30-Jul-19 06:27 PM","Oh I get it now thks","",""
"467342829426049024","Nivrel#0319","30-Jul-19 07:11 PM","Got it. ||It was not working because i declared the buffer as an `int`type which has 4 bytes. I remembered from resize that  BYTE was declared in the bmp.h file as an`uint8_t` which is pretty much a 8bits aka 1 Byte.||","",""
"467342829426049024","Nivrel#0319","30-Jul-19 07:12 PM","It's frustrating when you don't know why something is not working but once you figure it out it's a relieve.","",""
"322973582432927757","kadavraverkisto#7943","30-Jul-19 07:17 PM","Ugh, sorry for showing a wrong road...","",""
"362984694599516160","Tol3ia√ü Maximus#4966","31-Jul-19 06:43 PM","Hello. I have typedef BYTE BLOCK[512] and uint8_t BYTE and wanted to create a function specifically to scan the start of the JPEG. However, I ran into some problems.","",""
"362984694599516160","Tol3ia√ü Maximus#4966","31-Jul-19 06:47 PM","First, I create this function in the main while loop. But its seems that I experienced a NULL address when passing the BLOCK array as argument. However, by using a similar syntax (in comment code), this problem seems to disappear. Can anyone help me out and give some suggestion on how to implement this into a function.?","https://cdn.discordapp.com/attachments/395684916056031245/606150823533346816/unknown.png",""
"248208770788884491","Nicholas Goldfinder#3350","31-Jul-19 09:12 PM","@Tol3ia√ü Maximus i just credited you in my resize.c thanks to your typedef ‚ù§","",""
"248208770788884491","Nicholas Goldfinder#3350","31-Jul-19 09:14 PM","","https://cdn.discordapp.com/attachments/395684916056031245/606187943924858880/Screenshot_6.png",""
"467342829426049024","Nivrel#0319","31-Jul-19 09:16 PM","I'm stuck in ""writing into the img file until another jpeg is found"" idk how to do that i've spent hours :c","",""
"248208770788884491","Nicholas Goldfinder#3350","31-Jul-19 09:17 PM","@Nivrel my take (I still have to implement it) is that you check next block. if next block has new jpg tag, you implement the procedures to close the previous JPEG (including EOF checks)","",""
"248208770788884491","Nicholas Goldfinder#3350","31-Jul-19 09:18 PM","and you start a new one with the said block","",""
"467342829426049024","Nivrel#0319","31-Jul-19 09:26 PM","","https://cdn.discordapp.com/attachments/395684916056031245/606190946022981635/SPOILER_Screenshot_1.png",""
"467342829426049024","Nivrel#0319","31-Jul-19 09:27 PM","@Nicholas Goldfinder I think that it could work but how could you check what's on the next block of 512?","",""
"467342829426049024","Nivrel#0319","31-Jul-19 09:28 PM","The above it's what I have by now.","",""
"393854278764068875","curiouskiwi#1671","31-Jul-19 09:37 PM","You don't have to check what's in the next block.  Check each block and then make a decision.  ```
Loop that reads in 512 bytes
    Is it a header?
        yes:  close any open jpg, open new jpg
    Is there a jpg open?
        yes: write the block```","",""
"467342829426049024","Nivrel#0319","31-Jul-19 09:56 PM","It worked!!!!!!!!!!","",""
"467342829426049024","Nivrel#0319","31-Jul-19 09:56 PM","Omg thks","",""
"248208770788884491","Nicholas Goldfinder#3350","31-Jul-19 10:04 PM","aight ^^","",""
"248208770788884491","Nicholas Goldfinder#3350","31-Jul-19 10:06 PM","i wonder at what stage one should check for end of file inside a block","",""
"393854278764068875","curiouskiwi#1671","31-Jul-19 10:07 PM","@Nicholas Goldfinder you don't","",""
"248208770788884491","Nicholas Goldfinder#3350","31-Jul-19 10:08 PM","do we have to assume our jpeg's keep the whole memory block?","",""
"248208770788884491","Nicholas Goldfinder#3350","31-Jul-19 10:08 PM","until new file?","",""
"393854278764068875","curiouskiwi#1671","31-Jul-19 10:08 PM","the spec says not to worry about any slack space","",""
"248208770788884491","Nicholas Goldfinder#3350","31-Jul-19 10:09 PM","roger that. thank you!","",""
"248208770788884491","Nicholas Goldfinder#3350","31-Jul-19 10:11 PM","oh, i see. it is written in the background section","",""
"248208770788884491","Nicholas Goldfinder#3350","01-Aug-19 01:26 AM","dunnit ‚ù§","",""
"322973582432927757","kadavraverkisto#7943","01-Aug-19 07:59 AM","@Tol3ia√ü Maximus I was trying to compile a program containing your code but it even did not compile, so I probably mistyped something <_< But in all versions I had to replace &buffer in the call of fread from the function to just buffer. It seems that arrays are passed as pointers anyway. ü§î Though it's weird how the syntax of buffer[...] depended on the declaration of buffer, while the syntax of fread didn't... Maybe I'm still missing something important.
(Also I'm not sure how this code is supposed to stop after reaching a file end or some reading error, but that's another story and it wasn't told to me)))","",""
"604706830450688005","Hyuri#2052","02-Aug-19 11:00 AM","So I finished mine but I #included two headers that I created and now the code doesn't compile. Is there a way to make it work, or do I have to add the contents of the two headers to recover.c?","",""
"393854278764068875","curiouskiwi#1671","02-Aug-19 11:12 AM","@Hyuri you'll have to include everything you need in recover.c","",""
"309244455758594048","Ryoko#4737","02-Aug-19 03:37 PM","I was checking how to proceed to name a file with 00x.jpg and I saw several example with ""%03i.jpg"" but I do not seem to find proper information about how it works exactly. Could anyone explain?","",""
"219295627459166208","VelocityIsntSpeed#9490","02-Aug-19 06:12 PM","@Ryoko google ""printf string format specifier""","","üòÉ (1)"
"309244455758594048","Ryoko#4737","03-Aug-19 11:08 PM","I would like to understand why I get this error here:","",""
"309244455758594048","Ryoko#4737","03-Aug-19 11:08 PM","~/pset3/recover/ $ make recover
recover.c:7:9: error: unknown type name 'uint8_t'
typedef uint8_t BYTE; // credit to @mareksuscak for the example
        ^
1 error generated.
<builtin>: recipe for target 'recover' failed
make: *** [recover] Error 1","",""
"309244455758594048","Ryoko#4737","03-Aug-19 11:10 PM","for now I am using unsigned char instead of uint8_t as a workaround but I would like to understand why it seems to work for others but not for me. Thanks to whomever can help","",""
"322973582432927757","kadavraverkisto#7943","03-Aug-19 11:28 PM","@Ryoko Such type names are defined in stdint.h, the compiler itself recognizes only types with sizes not defined by the standard, such as char and int.","",""
"309244455758594048","Ryoko#4737","03-Aug-19 11:34 PM","thank you so many of them to remember and always include","",""
"291997042127929356","peabody#4435","04-Aug-19 01:27 PM","hey guys, ive just started recover","",""
"291997042127929356","peabody#4435","04-Aug-19 01:28 PM","is there a way to put my jpegs in a folder within the recover distribution?","",""
"234679095378706433","Blauelf#6622","04-Aug-19 07:38 PM","The specification expects you to put them into the current directory. But you could prepend a path in your `fopen` if you want, just make sure there is enough room in the buffer you use for the file name. And make sure to remove that before you submit.","",""
"178543252637483009","JZ#7525","05-Aug-19 06:48 PM","Any idea what this error means?  I can't seem to figure it out.  It only seems to happen when I reach the end of the file","",""
"178543252637483009","JZ#7525","05-Aug-19 06:48 PM","```c
==2523==ERROR: UndefinedBehaviorSanitizer: SEGV on unknown address 0x000000000008 (pc 0x7fcd32fe1324 bp 0x7ffc131aecb0 sp 0x7ffc131ae280 T2523)
==2523==The signal is caused by a READ memory access.
==2523==Hint: address points to the zero page.
    #0 0x7fcd32fe1323  (/lib/x86_64-linux-gnu/libc.so.6+0x7e323)
    #1 0x422c26  (/home/ubuntu/PSET3/recover/recover+0x422c26)
    #2 0x7fcd32f84b96  (/lib/x86_64-linux-gnu/libc.so.6+0x21b96)
    #3 0x402cd9  (/home/ubuntu/PSET3/recover/recover+0x402cd9)

UndefinedBehaviorSanitizer can not provide additional info.
==2523==ABORTING
```","",""
"178543252637483009","JZ#7525","05-Aug-19 10:30 PM","Alright I figured out that error","",""
"178543252637483009","JZ#7525","05-Aug-19 10:30 PM","my program now makes 50 pictures, 0-49","",""
"178543252637483009","JZ#7525","05-Aug-19 10:30 PM","except none of them are correct","",""
"178543252637483009","JZ#7525","05-Aug-19 10:35 PM","https://pastebin.com/feABjEkh","",""
"178543252637483009","JZ#7525","05-Aug-19 10:37 PM","YES I've got it!","",""
"178543252637483009","JZ#7525","05-Aug-19 10:37 PM","Really dumb mistake, forgot to write the first set of 512 bytes when I found a jpg to the file","",""
"178543252637483009","JZ#7525","05-Aug-19 10:39 PM","and nope..","",""
"178543252637483009","JZ#7525","05-Aug-19 10:39 PM","turns out 049.jpg is slightly wrong or somethign?","",""
"178543252637483009","JZ#7525","05-Aug-19 10:39 PM","I get an image so I'm super confused","",""
"178543252637483009","JZ#7525","05-Aug-19 10:40 PM","","https://cdn.discordapp.com/attachments/395684916056031245/608021408131579924/unknown.png",""
"393854278764068875","curiouskiwi#1671","05-Aug-19 10:43 PM","a common error is writing the last 512 bytes twice on the last image.  Are you sure you aren't doing that?","",""
"178543252637483009","JZ#7525","05-Aug-19 10:47 PM","hmm I'm not sure how to tell, is there an easy way to skip to that part on the debugger?","",""
"178543252637483009","JZ#7525","05-Aug-19 10:48 PM","oh I bet you I am before terminating the while loop","",""
"178543252637483009","JZ#7525","05-Aug-19 10:49 PM","yup that was it, thank you so much","",""
"393854278764068875","curiouskiwi#1671","05-Aug-19 10:51 PM","üëç","",""
"342168976123756548","A-A-RON#1271","09-Aug-19 08:21 PM","do i need to account for a NULL character at the end of a character array? or is that only in strings.","",""
"342168976123756548","A-A-RON#1271","09-Aug-19 08:21 PM","does sprintf add a null character at the end of it's string output?","",""
"393854278764068875","curiouskiwi#1671","10-Aug-19 12:19 AM","a string is a character array that ends in a null char.  Otherwise, it's just a character array and cannot be used as a string.  yes, sprintf puts the null char at the end, even if you don't leave space for it.  (ie, make sure you leave space)","",""
"600175895415881758","Kushik#7600","10-Aug-19 10:08 AM","If you check for eof using fgetc in a while loop, and inside the loop use fread, do you need to move the cursor back by 1 cursor before you fread, if you want to begin whatever fgetc got you?","",""
"393854278764068875","curiouskiwi#1671","10-Aug-19 10:10 AM","Yes, but why would you be calling fgetc at all?  fread returns the number of blocks read, so if it's not what you expected, you hit the end.","",""
"600175895415881758","Kushik#7600","10-Aug-19 10:20 AM","Sure! Thanks very much!","",""
"600175895415881758","Kushik#7600","10-Aug-19 10:26 AM","You know what help50 should do? It should wait for the user to input any key after it displays the help but before it quits. So that sometimes if help50 is not sure how to help and says focus on some line, and if you realize what mistake you were doing and input that, help50 can take it and store it. And maybe if a clever bot can handle it, we can have a mistake library sorted by topics so that when you have an error, you can look at the library at someone else's error and get to know what's wrong.","",""
"327500520161935370","defytheflow#3794","11-Aug-19 05:36 PM","Hi, when i run locally my code i get all the images and is eems to work, but when i run check50 i get ""timed out while waiting for program to exit"" for each check on image recovery""","",""
"327500520161935370","defytheflow#3794","11-Aug-19 05:36 PM","any thought ?","",""
"327500520161935370","defytheflow#3794","11-Aug-19 05:36 PM","thoughts*","",""
"327500520161935370","defytheflow#3794","11-Aug-19 05:39 PM","Oh, and my last 049th img doesn't load","",""
"327500520161935370","defytheflow#3794","11-Aug-19 05:39 PM","but others do","",""
"327500520161935370","defytheflow#3794","11-Aug-19 06:15 PM","Figured it out, thanks (infinite loop)","",""
"600175895415881758","Kushik#7600","12-Aug-19 10:15 AM","Hey, did anybody run into or has any idea what error would always cause the fread  (something that came before it) to reach the end of file even when you're reading just 1 item of size 1 byte?","",""
"393854278764068875","curiouskiwi#1671","12-Aug-19 10:17 AM","how do you know you are at the end of the file?","",""
"393854278764068875","curiouskiwi#1671","12-Aug-19 10:18 AM","are you fseeking at any point?  or only freading?","",""
"600175895415881758","Kushik#7600","12-Aug-19 10:35 AM","I used a condition -break if fgetc gets eof . I removed the fseek that I was using previously but it's still the same.","",""
"393854278764068875","curiouskiwi#1671","12-Aug-19 10:36 AM","so you're reading the file using fgetc?","",""
"393854278764068875","curiouskiwi#1671","12-Aug-19 10:36 AM","and fread?","",""
"393854278764068875","curiouskiwi#1671","12-Aug-19 10:37 AM","for recover, you  read in each block of 512 bytes and deal with it.  then, when you reach the end (ie, fread didn't read in 512 bytes), you're done.","",""
"393854278764068875","curiouskiwi#1671","12-Aug-19 10:38 AM","no fseek no fgetc","",""
"372317272666144778","TheCaneTrain09#0359","12-Aug-19 10:41 AM","I'm a bit confused by that.  Won't it just read in 512 bytes where the end of it is just the trailing zeroes ""slack space"" for the last byte?","",""
"372317272666144778","TheCaneTrain09#0359","12-Aug-19 10:43 AM","What I'm trying to do is figure out when I'm at the end of the file, and then for only that block, I've calculated how many bytes aren't trailing zeroes (with a loop), and then only copying those into the file.  That seems to be a mismatch for the last picture though.  I also tried just copying that entire block originally and not handling it any differently than the others, and still had a mismatch on the last picture with check50.","",""
"393854278764068875","curiouskiwi#1671","12-Aug-19 10:43 AM","the spec says you don't have to worry about slack space","",""
"372317272666144778","TheCaneTrain09#0359","12-Aug-19 10:44 AM","I'll try again leaving the slack space in","",""
"393854278764068875","curiouskiwi#1671","12-Aug-19 10:44 AM","if your fread returns the value that means you have read in 512 bytes, then you write those bytes.  if not, then you're at the end so you close the file.","",""
"372317272666144778","TheCaneTrain09#0359","12-Aug-19 10:52 AM","thanks, figured it out.  I misunderstood how the read stream worked. I thought when the ""cursor"" reached the end of the file the feof(file) would return true, but it actually doesn't return true until it tries to go past the last byte... good to know","",""
"372317272666144778","TheCaneTrain09#0359","12-Aug-19 10:52 AM","well, at least that's the way I interpret what happened, could be completely wrong üòÑ","",""
"393854278764068875","curiouskiwi#1671","12-Aug-19 10:57 AM","you're correct `feof` only returns true once you try to read past the end","",""
"600175895415881758","Kushik#7600","12-Aug-19 07:02 PM","I got rid of the fgetc and used feof for the break condition.  I used ftell to check the position of cursor and no matter how many items of no matter the size of items I use in fread, it always says that ""11651584"" is the current position.","",""
"393854278764068875","curiouskiwi#1671","12-Aug-19 09:09 PM","@Kushik you mean, before you do anything in the program, after opening the raw file, the cursor position on that file is 11651584?","",""
"393854278764068875","curiouskiwi#1671","12-Aug-19 09:10 PM","It should always be where you expect it.","https://cdn.discordapp.com/attachments/395684916056031245/610535537069129749/fread.png",""
"342168976123756548","A-A-RON#1271","12-Aug-19 09:26 PM","Help! It appears like i did everything correctly, i can see all of the jpgs, but when running check50 i get this error:","",""
"342168976123756548","A-A-RON#1271","12-Aug-19 09:26 PM","üò¶ recovers 049.jpg correctly
    recovered image does not match","",""
"342168976123756548","A-A-RON#1271","12-Aug-19 09:27 PM","im not sure how to figure out where i went wrong","",""
"393854278764068875","curiouskiwi#1671","12-Aug-19 09:34 PM","@A-A-RON most common error is writing the last 512 bytes twice","",""
"342168976123756548","A-A-RON#1271","12-Aug-19 09:49 PM","@curiouskiwi thank you! you were right, i used the wrong loop! although i feel like i'm implementing this loop a little funny - could i PM you my code for the loop for some feedback?","",""
"393854278764068875","curiouskiwi#1671","12-Aug-19 09:49 PM","@A-A-RON ok","",""
"201277147631976448","Yakulot#7314","13-Aug-19 02:30 AM","hello there, can somebody answer a quick question for me?","",""
"201277147631976448","Yakulot#7314","13-Aug-19 02:35 AM","https://paste.ofcode.org/nqfYvt3nb3T8eurMgGJVkz","",""
"201277147631976448","Yakulot#7314","13-Aug-19 02:35 AM","the code as in the paste works and everything is fine","",""
"201277147631976448","Yakulot#7314","13-Aug-19 02:36 AM","but only after i declared chunksize = 512 and used that variable throughout my code","",""
"201277147631976448","Yakulot#7314","13-Aug-19 02:36 AM","when i just used 512 on it's own it wouldnt work and i really dont know why","",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 02:48 AM","you didn't use that variable throughout your code, in the example you sent.  you only used it ``` unsigned char buffer[chunkSize];``` here  and it certainly should work ```unsigned char buffer[512];``` like that","",""
"600175895415881758","Kushik#7600","13-Aug-19 07:46 AM","@curiouskiwi  This is the only part of the code that runs.","https://cdn.discordapp.com/attachments/395684916056031245/610695640334336021/recover.JPG",""
"600175895415881758","Kushik#7600","13-Aug-19 07:46 AM","","https://cdn.discordapp.com/attachments/395684916056031245/610695668302086164/recover2.JPG",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 07:47 AM","if you are reading only 1 byte at a time, how are you expecting buffer[1],2,3 to get any values?","",""
"600175895415881758","Kushik#7600","13-Aug-19 07:47 AM","What I tried to do is just keep reading without writing until I reach the first the first byte of the jpeg. Do necessarily you have to write after you read?Thanks for helping out!","",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 07:49 AM","you have to read in a block of 512 bytes and then check the first 4 bytes (which will be buffer[0] to buffer[3]) to see if it's a signature.  The signature must be at the start of a 512 block.","",""
"600175895415881758","Kushik#7600","13-Aug-19 07:49 AM","No, I was reading 512 bytes at a time and that gave me the error in the first place. So, I changed the number of bytes and it's still the same","",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 07:49 AM","reading byte by byte isn't going to work","",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 07:50 AM","what's happening in the code before that point?  where is it printing ""Jpgs found: 50""??","",""
"600175895415881758","Kushik#7600","13-Aug-19 07:50 AM","Hey, If you just read twice and don't write what you read, the ""buffer"" would just be simply replaced, isn't that what happens?","",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 07:50 AM","yes","",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 07:51 AM","the fact that you have a print saying ""jpegs found: 50"" leads me to think that you've already read the entire file, and that's why your cursor is so far along.","",""
"600175895415881758","Kushik#7600","13-Aug-19 07:51 AM","That's from a function I used to find the number of jpegs which comes a bit earlier, but according to what I'm trying to do; that turns out to be unnecessary.","",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 07:52 AM","are you closing the input file after that function finishes?  because if not, your cursor won't be reset to the beginning.","",""
"600175895415881758","Kushik#7600","13-Aug-19 07:52 AM","I read the file in a function, where I did not open or close it.","",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 07:52 AM","so you're already at the end","",""
"600175895415881758","Kushik#7600","13-Aug-19 07:53 AM","Because I'm giving a file pointer to my function, it's not the copy cursor that's being moved but the real cursor, as is with pointers. Thanks very much for helping out!","",""
"600175895415881758","Kushik#7600","13-Aug-19 07:54 AM","*copy of the cursor","",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 07:54 AM","no, it's not","",""
"600175895415881758","Kushik#7600","13-Aug-19 07:54 AM","I'll try that! Thanks very much!","",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 07:54 AM","the pointer itself might be a copy, but it's still pointing the file control block that keeps track of the cursor position","",""
"600175895415881758","Kushik#7600","13-Aug-19 07:55 AM","Yeah, Sure!","",""
"600175895415881758","Kushik#7600","13-Aug-19 07:59 AM","@curiouskiwi","",""
"600175895415881758","Kushik#7600","13-Aug-19 08:00 AM","@curiouskiwi  Hey! You're always helping others out! Are you working on projects with others?","",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 08:02 AM","@Kushik I'm  not a student. I'm on the CS50 staff. üòÉ","",""
"600175895415881758","Kushik#7600","13-Aug-19 08:03 AM","Oh! Sure!üòÉ","",""
"600175895415881758","Kushik#7600","13-Aug-19 08:03 AM","Thanks for helping out!","",""
"600175895415881758","Kushik#7600","13-Aug-19 08:07 AM","The walkthrough says that the last byte is one of these","https://cdn.discordapp.com/attachments/395684916056031245/610701005373571073/maybe_error.JPG",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 08:08 AM","yes, and it also gives you a good if statement to use","",""
"600175895415881758","Kushik#7600","13-Aug-19 08:08 AM","But the recover page says that it's the fourth byte","https://cdn.discordapp.com/attachments/395684916056031245/610701082867269672/maybe_error2.JPG",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 08:08 AM","last byte meaning, last byte of the signature","",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 08:08 AM","since the signature is always 4 bytes at the start of the block","",""
"600175895415881758","Kushik#7600","13-Aug-19 08:08 AM","Oh! Thanks!","",""
"600175895415881758","Kushik#7600","13-Aug-19 08:19 AM","Are the other bytes that came before the first byte of the first jpeg, grouped as 512 bytes? If they were one could just read 512 bytes at a time from the beginning, but if they weren't and there was 31 bytes then one would have to read 1 byte at a time to reach the beginning of the first jpeg.","",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 08:20 AM","all grouped.","",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 08:20 AM","per the spec","",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 08:20 AM","""Moreover, rather than read my memory card‚Äôs bytes one at a time, you can read 512 of them at a time into a buffer for efficiency‚Äôs sake. Thanks to FAT, you can trust that JPEGs' signatures will be ""block-aligned."" That is, you need only look for those signatures in a block‚Äôs first four bytes.""","",""
"600175895415881758","Kushik#7600","13-Aug-19 08:29 AM","Thanks! Is it because the other stuff also used to be a clean jpeg, but now is corrupted, as memory is being cleaned?","",""
"424113549665894400","catonthewall#4631","13-Aug-19 07:07 PM","Hi all, I am encountering a problem while submitting my solution to Recover. The check50 tells me my last jpg does not match, yet I do have a 049.jpg I can open and view just fine. Since I am not sure what is wrong, it is kind of hard to know what to correct in order to get the full points for the exercise. 

Does anyone have an idea what could be the issue, or maybe someone even encountered the same issue and can point me in the right direction? (I don't think I should share my code here, so I will not do that...)","",""
"600175895415881758","Kushik#7600","13-Aug-19 07:53 PM","You could have  opened created an extra empty 050.jpg .","",""
"600175895415881758","Kushik#7600","13-Aug-19 07:53 PM","*created","",""
"234679095378706433","Blauelf#6622","13-Aug-19 08:18 PM","@catonthewall Is it possible that you write the last block before checking whether the read was successful, duplicating that last block?","",""
"63001869559017472","Kazun#0001","13-Aug-19 08:59 PM","So I'm having a bit of trouble understanding how I'm supposed to store and read buffer. I get that it's supposed to be an array of bytes that's written to using the fread command, but I'm not really sure how to store it meaningfully so I can check values. int doesn't seem to be working (either that or something's up with my code)","",""
"63001869559017472","Kazun#0001","13-Aug-19 08:59 PM","||```c
    int buffer[512];
    int test = 0;
    int nImages = 0;

    //Do the code until the size of the file's next ""block"" is not 512, which indicates the end of the file.
    do
    {
        test++;

        fread(&buffer, 1, 512, inptr);

        //Ok so I have the first 512 bytes stored in buffer. Need to check if the first 3 are a JPEG or not.

        if (buffer[0] == 0xff &&
            buffer[1] == 0xd8 &&
            buffer[2] == 0xff &&
            (buffer[3] & 0xf0) == 0xe0)
        {
            nImages++;
            //It is a valid JPEG start!

            //Check if we're working on a current JPEG
            //If so, close current JPEG and make a new JPEG
            //If not, make new JPEG
        }
        else
        {
            //It is not a valid JPEG start

            //Check if we're working on a current JPEG
            //If so, write these bytes to the file.
            //If not, do nothing and move on to next 512
        }
    }
    while (fread(&buffer, 1, 512, inptr) == 512);

    printf(""test = %i\n"",test);
    printf(""nImages = %i\n"",nImages);
}```||","",""
"63001869559017472","Kazun#0001","13-Aug-19 09:00 PM","From this test is returning 11379, and nImages is returning 0","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:03 PM","sizeof (int)= 4 bytes so int covers values from -128 to 127","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:03 PM","but jpeg element can be of upto 0xff = 256","",""
"63001869559017472","Kazun#0001","13-Aug-19 09:03 PM","so I need to use uint?","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:05 PM","wait a second, i think i got that wrong.","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:11 PM","@Kazun  try adding fseek to see  how your cursor moves.","",""
"237335376782426115","_ùïÑùï£. ùïäùïôùïñùïñùï°#4604","13-Aug-19 09:12 PM","Hey guys, so I'm a bit confused on how I would check the return value of fread so I can stop the program. Any ideas?","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:12 PM","@Kazun  I think I got it.","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:13 PM","int is 4 bytes long but you have to read from jpeg file whose element are 1 bytes","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:13 PM","remember the 1 you used in fread?","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:14 PM","so try reading storing buffer as 1 byte element type","",""
"63001869559017472","Kazun#0001","13-Aug-19 09:15 PM","So what is an 1 byte element type?","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:16 PM","unsigned could be likable but not necessary since 1 byte can store upto 2^7 +- which is much larger than 256","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:16 PM","you need to define that using typedef","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:16 PM","look at bmp.h from resize for reference","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:18 PM","@_ùïÑùï£. ùïäùïôùïñùïñùï°  you can do something like @Kazun  has done, or simply just check for if the bytes read are as required, and if they are not the program would stop.","",""
"237335376782426115","_ùïÑùï£. ùïäùïôùïñùïñùï°#4604","13-Aug-19 09:21 PM","Oh gotcha, that's actually quite simple!","",""
"63001869559017472","Kazun#0001","13-Aug-19 09:23 PM","hmmm now it's returning images but it's only finding 20?","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:24 PM","@Kazun  Use unsigned which is 2^8 =256 -1 for 0, signed goes only upto 128","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:24 PM","my bad","",""
"63001869559017472","Kazun#0001","13-Aug-19 09:25 PM","I am though? I'm using uint8_t for the BYTE type and assigning buffer as BYTE buffer [512]","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:25 PM","so that should be working well, anything else that's suspicious?","",""
"63001869559017472","Kazun#0001","13-Aug-19 09:25 PM","Other than the 20 images found? Not that I can tell","",""
"63001869559017472","Kazun#0001","13-Aug-19 09:26 PM","all values that buffer is returning are 0-255","",""
"63001869559017472","Kazun#0001","13-Aug-19 09:28 PM","||```c
    BYTE buffer[512];
    int test = 0;
    int nImages = 0;

    //Do the code until the size of the file's next ""block"" is not 512, which indicates the end of the file.
    do
    {
        test++;
        //printf(""test1: %i"",test);
        fread(&buffer, 1, 512, inptr);

        //Ok so I have the first 512 bytes stored in buffer. Need to check if the first 4 are a JPEG or not.

        if (buffer[0] == 0xff &&
            buffer[1] == 0xd8 &&
            buffer[2] == 0xff &&
            (buffer[3] & 0xf0) == 0xe0)
        {
            nImages++;
            //It is a valid JPEG start!

            //Check if we're working on a current JPEG
            //If so, close current JPEG and make a new JPEG
            //If not, make new JPEG
        }
        else
        {
            //It is not a valid JPEG start

            //Check if we're working on a current JPEG
            //If so, write these bytes to the file.
            //If not, do nothing and move on to next 512
        }

    }
    while (fread(&buffer, 1, 512, inptr) == 512);

    printf(""test = %i\n"",test);
    printf(""nImages = %i\n"",nImages);

}```||","",""
"63001869559017472","Kazun#0001","13-Aug-19 09:28 PM","Code is still simple right now while I ensure the basic loop is working and finding the images correctly","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:29 PM","Try using ftell to print the position of cursor in the file right before the first fread","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:30 PM","Have you done anything else with the file after opening it, before this part of the code?","",""
"63001869559017472","Kazun#0001","13-Aug-19 09:30 PM","Just my basic checking to ensure proper usage","",""
"63001869559017472","Kazun#0001","13-Aug-19 09:30 PM","```c
    // ensure proper usage
    if (argc != 2)
    {
        fprintf(stderr, ""Usage: ./recover image\n"");
        return 1;
    }

    // remember filenames
    char *infile = argv[1];

    // open input file
    FILE *inptr = fopen(infile, ""r"");
    if (inptr == NULL)
    {
        fprintf(stderr, ""Could not open %s.\n"", infile);
        return 2;
    }```","",""
"237335376782426115","_ùïÑùï£. ùïäùïôùïñùïñùï°#4604","13-Aug-19 09:30 PM","Could the error be caused because every time you are checking the ""while portion"" you are reading another block to  buffer and not testing it?","",""
"237335376782426115","_ùïÑùï£. ùïäùïôùïñùïñùï°#4604","13-Aug-19 09:31 PM","Hence not finding enough images?","",""
"63001869559017472","Kazun#0001","13-Aug-19 09:31 PM","Yep, that would be it","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:33 PM","Yeah! Sure!","",""
"237335376782426115","_ùïÑùï£. ùïäùïôùïñùïñùï°#4604","13-Aug-19 09:33 PM","I believe I'm having the same issue. Couldn't I just put the return value in a variable and test the variable, not reread the value?","",""
"63001869559017472","Kazun#0001","13-Aug-19 09:33 PM","I think the problem is that whenever fread is performed it moves the pointer","",""
"63001869559017472","Kazun#0001","13-Aug-19 09:34 PM","literally all I needed to do is not run fread in the do code because the while part moves the pointer during its check","",""
"63001869559017472","Kazun#0001","13-Aug-19 09:34 PM","and it works fine","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:34 PM","Actually the while part is not really necessary.","",""
"237335376782426115","_ùïÑùï£. ùïäùïôùïñùïñùï°#4604","13-Aug-19 09:36 PM","Hmm, wouldn't while (or possibly for) be necessary either way?","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:36 PM","you could implement that in something like a break condition","",""
"237335376782426115","_ùïÑùï£. ùïäùïôùïñùïñùï°#4604","13-Aug-19 09:38 PM","The most straightforward way to me is to check fread, test if it is equal to 512, then fseek back by buffer (unless of course you have reached the end of the file, in which that is unnecessary.","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:40 PM","Try this piece and see what you get: move the cursor of the file to the end using fseek, read the buffer and print buffer[0]","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:40 PM","try to see what it does.","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:41 PM","try also buffer[1], buffer[2]","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:47 PM","","https://cdn.discordapp.com/attachments/395684916056031245/610907244284084225/bufferer.JPG",""
"600175895415881758","Kushik#7600","13-Aug-19 09:47 PM","","https://cdn.discordapp.com/attachments/395684916056031245/610907247765225473/bufferer_out.JPG",""
"600175895415881758","Kushik#7600","13-Aug-19 09:48 PM","it is still comparable in the if condition, and one could implement something like if all of these are zero break the loop and stop reading.","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:49 PM","You could seek the buffer back by 512 bytes from the current position","",""
"600175895415881758","Kushik#7600","13-Aug-19 09:51 PM","Are you getting the error using that?","",""
"234679095378706433","Blauelf#6622","13-Aug-19 09:59 PM","I don't think those zeroes were set by `fread`, it just did not change them.","",""
"63001869559017472","Kazun#0001","13-Aug-19 10:00 PM","I'm getting a write memory access error and have no idea why...

```c
This is returning a write memory access error

                string filename = ""init"";
                sprintf(filename,""%03i.jpg"", 1);
                FILE *img = fopen (filename, ""w"");```","",""
"234679095378706433","Blauelf#6622","13-Aug-19 10:01 PM","`""init""` is a string literal, it will be stored in some read-only area, `filename` set to point to its first character. You can't write to strings in read-only areas.","",""
"234679095378706433","Blauelf#6622","13-Aug-19 10:02 PM","You could make `filename` a char array (of the right size).","",""
"63001869559017472","Kazun#0001","13-Aug-19 10:03 PM","Still giving me trouble with char *filename[7];","",""
"63001869559017472","Kazun#0001","13-Aug-19 10:03 PM","`recover.c:144:25: error: incompatible pointer types passing 'char *[7]' to parameter of type 'char *' [-Werror,-Wincompatible-pointer-types]
                sprintf(filename,""%03i.jpg"", 1);`","",""
"63001869559017472","Kazun#0001","13-Aug-19 10:05 PM","when changing it to char *filename = NULL; it compiles but I get a new write memory access error","",""
"63001869559017472","Kazun#0001","13-Aug-19 10:05 PM","```==17447==ERROR: UndefinedBehaviorSanitizer: SEGV on unknown address 0x000000000000 (pc 0x7f2d3cecc0ac bp 0x000000000030 sp 0x7ffc7e7a01c0 T17447)
==17447==The signal is caused by a WRITE memory access.
==17447==Hint: address points to the zero page.
    #0 0x7f2d3cecc0ab  (/lib/x86_64-linux-gnu/libc.so.6+0x900ab)
    #1 0x7f2d3ceca493  (/lib/x86_64-linux-gnu/libc.so.6+0x8e493)
    #2 0x7f2d3cebc37d  (/lib/x86_64-linux-gnu/libc.so.6+0x8037d)
    #3 0x7f2d3ce98f1f  (/lib/x86_64-linux-gnu/libc.so.6+0x5cf1f)
    #4 0x7f2d3cebd6d0  (/lib/x86_64-linux-gnu/libc.so.6+0x816d0)
    #5 0x7f2d3cea1093  (/lib/x86_64-linux-gnu/libc.so.6+0x65093)
    #6 0x422958  (/home/ubuntu/pset3/recover/recover+0x422958)
    #7 0x7f2d3ce5db96  (/lib/x86_64-linux-gnu/libc.so.6+0x21b96)
    #8 0x402bd9  (/home/ubuntu/pset3/recover/recover+0x402bd9)

UndefinedBehaviorSanitizer can not provide additional info.
==17447==ABORTING```","",""
"63001869559017472","Kazun#0001","13-Aug-19 10:06 PM","shouldn't sprintf be immediately reassigning filename as ""001.jpg"" as written though?","",""
"63001869559017472","Kazun#0001","13-Aug-19 10:07 PM","I just don't understand why it's flat refusing to create the file and throwing this error","",""
"63001869559017472","Kazun#0001","13-Aug-19 10:10 PM","It's specifically the sprintf function that's throwing it","",""
"63001869559017472","Kazun#0001","13-Aug-19 10:23 PM","Anyone have insight? I'm completely blocked right now :/","",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 10:25 PM","char *filename[7] declares an array of 7 strings.  You want an array that can hold chars, not strings.  Also the string ""000.jpg"", keep in mind that you need space for the null terminator as well, so 7 chars isn't enough.","",""
"63001869559017472","Kazun#0001","13-Aug-19 10:39 PM","Alright, got that working, thanks! Now to figure out how to write to this file when I'm declaring the open in the new jpeg detection if statement...","",""
"63001869559017472","Kazun#0001","13-Aug-19 10:44 PM","The issue I'm having now is a declaration shadowing a local variable. I define *img at the top along with *infile:

```c
    char *infile = argv[1];
    char *img = NULL;```

And in my if statement I'm trying to open it

||```c
            //Check if we're working on a current JPEG
            if (fileOpen)
            {
                //If so, close current JPEG and make a new JPEG
                //fclose(filename);
                break;

            }
            else
            {
                //If not, make new JPEG

                //Making new file
                //sprintf(filename,""%03i.jpg"", nImages);
                char filename[8];
                sprintf(filename,""%03i.jpg"", 1);
                FILE *img = fopen (filename, ""w"");

                fileOpen = true;
            }```||","",""
"393854278764068875","curiouskiwi#1671","13-Aug-19 10:46 PM","don't redeclare it. just set it   `img = ...`","",""
"63001869559017472","Kazun#0001","13-Aug-19 10:49 PM","Ah, I see my problem. I had tried that but it didn't work, I originally declared img as char *img not as FILE, since I was emulating infile's syntax on its declaration and thought that'd work fine but never actually declared that as FILE afterwords","",""
"149030650639286272","meray#3929","15-Aug-19 08:32 AM","If I malloc for my buffer, should I be freeing that every time I load up a new block?","",""
"393854278764068875","curiouskiwi#1671","15-Aug-19 09:10 AM","@meray no, because you're going to reuse it every time.  You only need to free it at the end.","",""
"393854278764068875","curiouskiwi#1671","15-Aug-19 09:10 AM","(and you only malloc it once)","",""
"149030650639286272","meray#3929","15-Aug-19 09:11 AM","Okay, thank you very much @curiouskiwi üòÉ","",""
"424113549665894400","catonthewall#4631","15-Aug-19 12:13 PM","@Blauelf: spot on, my last jpeg has the last block written twice. I will check and fix it, thanks!","",""
"432389552880091147","zizo#6825","16-Aug-19 01:32 AM","does anyone here coded recover using functions? (i mean that not putting all the code in main)","",""
"291997042127929356","peabody#4435","16-Aug-19 04:38 PM","hey guys, i just started recover","",""
"291997042127929356","peabody#4435","16-Aug-19 04:38 PM","i want to make the buffer array to store the bytes from my origin file but what type of array should it be?","",""
"291997042127929356","peabody#4435","16-Aug-19 04:47 PM","maybe an unsigned char cause i looked up a page about data types and you can put all kinds of stuff in there?","",""
"241631396307664897","Urwin#8936","16-Aug-19 07:15 PM","@zizo I am attempting to do it with a recursive function considering there were lots of nice videos about recursion and this is pset 3/3 and I haven't done a single function yet üôÇ","",""
"241631396307664897","Urwin#8936","16-Aug-19 07:15 PM","@peabody I'm wondering that myself","",""
"432389552880091147","zizo#6825","16-Aug-19 07:56 PM","@peabody yes unsigned char","",""
"432389552880091147","zizo#6825","16-Aug-19 07:58 PM","@noob4ever yes it advances it automaically","","üëå (1)"
"603294110614552587","noob4ever#1127","17-Aug-19 02:33 AM","Figured my questions might be spoilers so I wrote them up and screenshoted them.","https://cdn.discordapp.com/attachments/395684916056031245/612066545534894092/SPOILER_Comment.PNG",""
"603294110614552587","noob4ever#1127","17-Aug-19 02:34 AM","","https://cdn.discordapp.com/attachments/395684916056031245/612066584160239616/SPOILER_Approach1.PNG",""
"603294110614552587","noob4ever#1127","17-Aug-19 02:34 AM","","https://cdn.discordapp.com/attachments/395684916056031245/612066615361798144/SPOILER_Approach2.PNG",""
"603294110614552587","noob4ever#1127","17-Aug-19 02:34 AM","","https://cdn.discordapp.com/attachments/395684916056031245/612066642939084821/SPOILER_Error.PNG",""
"322973582432927757","kadavraverkisto#7943","17-Aug-19 08:18 AM","@noob4ever I don't know why it gives SEGV but I just wanted to say about the first question: it was possible to write it just as `(buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0) == false`. Also in boolean logic it is equivalent to `buffer[0] != 0xff || buffer[1] != 0xd8 || buffer[2] ~= 0xff || (buffer[3] & 0xf0) != 0xe0` - when each element is negated separately, AND is replaced with OR (and vice versa).","",""
"234679095378706433","Blauelf#6622","17-Aug-19 10:41 AM","I see blocks read but never used, while the crashing problem here is calling `fwrite` before opening an output file.","",""
"606269561653952523","just_AK#9448","17-Aug-19 03:15 PM","I'm using booleans in my code, but up to week 2 we used cs50and thats where they live - are we still ok to include cs50 or should I use stdbool.h instead? (I have an image of David with the training wheels in my head :D)","",""
"234679095378706433","Blauelf#6622","17-Aug-19 03:33 PM","I guess it's ok as long as the checker does not complain (there's even a cs50 Python library used later, with ports of some functions).

As https://github.com/cs50/libcs50/blob/develop/src/cs50.h#L45 shows
> ```c
> #include <stdbool.h>
> ```
by including `cs50.h`, you also include `stdbool.h` (and others). If you don't need other parts, I'd use standard headers. Personal opinion. But both should be fine for this course.","",""
"391541463055466498","Spectrum#0405","17-Aug-19 03:42 PM","","https://cdn.discordapp.com/attachments/395684916056031245/612264912151904286/Screenshot_from_2019-08-17_18-10-29.png",""
"391541463055466498","Spectrum#0405","17-Aug-19 03:42 PM","What does that ''$\b\ stuff means?","",""
"606269561653952523","just_AK#9448","17-Aug-19 04:17 PM","thank you again üôÇ I have a question about fprntf and stderr and how we would use it in the context of this assignment

`Your program should accept exactly one command-line argument, the name of a forensic image from which to recover JPEGs. + If your program is not executed with exactly one command-line argument, it should remind the user of correct usage, as with fprintf (to stderr), and main should return 1.

If the forensic image cannot be opened for reading, your program should inform the user as much, as with fprintf (to stderr), and  main should return 2.`","",""
"606269561653952523","just_AK#9448","17-Aug-19 04:17 PM","isnt fprintf writing to a file?? what file am I supposed to write to?? previously when we were quitting for any reason we always used printf to print to screen...","",""
"606269561653952523","just_AK#9448","17-Aug-19 04:18 PM","not a biggie like, but I'd like to know what they mean is required here","",""
"234679095378706433","Blauelf#6622","17-Aug-19 04:28 PM","There are three file streams open by default which are not directly associated with files, but with your terminal: `stdin` for input, and `stdout` and `stderr` for output. Those are the streams you can redirect, like
```
./myprog < input.txt > output.txt 2> error.txt
```
`printf(...)` is equivalent to `fprintf(stdout, ...)`. If you used a pipe operator on the command line, it would take the `stdout` from the first programme and pipe it into the `stdin` of the second.

Here, you are just meant to use `fprintf(stderr, ...);`, so output goes to the error stream, not output stream.","",""
"603294110614552587","noob4ever#1127","17-Aug-19 05:27 PM","@Blauelf  As a reality check....You're saying that if the first block read into the buffer does  not meet the criteria of being a header it is going to the else block and trying to write it which is causing an error?","",""
"234679095378706433","Blauelf#6622","17-Aug-19 05:28 PM","Correct. And that's a `fwrite` to the file behind `NULL`, which means it crashes in `fwrite`.","",""
"603294110614552587","noob4ever#1127","17-Aug-19 05:30 PM","@Blauelf  Ah. That makes sense. I tried to open the card.raw in hexadecimal to make sure the first four bites were a header, but it seems to big to load. Thank you.","",""
"234679095378706433","Blauelf#6622","17-Aug-19 05:34 PM","You can have `xxd` show the first few blocks only, though the easter season is over.","",""
"603294110614552587","noob4ever#1127","17-Aug-19 05:45 PM","@Blauelf  My username is no lie. I looked up ```xxd``` and will read up on it. Can you elaborate on what is meant by ""easter  season?"" I'm not familiar with this term.","",""
"234679095378706433","Blauelf#6622","17-Aug-19 05:46 PM","There's an easter-egg hidden in the file. But it's broken.","","üëå (1)"
"234679095378706433","Blauelf#6622","17-Aug-19 05:50 PM","Haven't downloaded the file in a while, maybe they have another easter-egg now.
I used it like `xxd -c 32 -l 2048 card.raw` (32 bytes per line, 2048 bytes in total)","",""
"234679095378706433","Blauelf#6622","17-Aug-19 05:52 PM","They used to have easter-eggs all over the course, QR-codes in the lecture, URLs used as sample string somewhere. Less so now.","",""
"606269561653952523","just_AK#9448","17-Aug-19 06:42 PM","Hi, just wanted to understand something... when we check the signature and we check the fourth byte - the first nibble will be hex E, but the second will be anything between 0 and F, right?
In the walkthrough they propose to check it like this:
(buffer[3] & 0xf0 == 0xe0) .... what is this?? I'm not sure what bitwise means, I understand what && is, but I cannot think how & works and especially, how it would work in this example. Anyone minds explaining?","",""
"234679095378706433","Blauelf#6622","17-Aug-19 06:43 PM","`&` is like `&&` but applied on individual bits. The result has a 1 where both operands have one.","",""
"603294110614552587","noob4ever#1127","17-Aug-19 06:45 PM","@just_AK  To add on to what @Blauelf  stated. This helped me. Can't say I can calculate it, but my understanding is by using the & to mask the bits the calculation checks for any of the hex values we are looking for in the fourth byte. https://code.tutsplus.com/articles/understanding-bitwise-operators--active-11301","",""
"606269561653952523","just_AK#9448","17-Aug-19 07:13 PM","@noob4ever  @Blauelf thanks for this - its most helpful!!! I think I just had my mind blown though üòÑ","",""
"606269561653952523","just_AK#9448","17-Aug-19 07:13 PM","the whole new world opened for me üòÑ","",""
"603294110614552587","noob4ever#1127","17-Aug-19 08:27 PM","","https://cdn.discordapp.com/attachments/395684916056031245/612336703872434221/SPOILER_2.1.PNG",""
"603294110614552587","noob4ever#1127","17-Aug-19 08:27 PM","","https://cdn.discordapp.com/attachments/395684916056031245/612336732314009622/SPOILER_2.2.PNG",""
"234679095378706433","Blauelf#6622","17-Aug-19 09:39 PM","Remove the `fread` that's not in the condition.","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 09:39 PM","```
  int *read_file = NULL;

    fread(read_file, 512, 1, open_file);
```","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 09:40 PM","i dont know why this code isnt working","",""
"234679095378706433","Blauelf#6622","17-Aug-19 09:40 PM","You want to read to the null pointer?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 09:40 PM","I have no idea how to store 512 bytes of info","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 09:40 PM","im literally just trying stuff","",""
"234679095378706433","Blauelf#6622","17-Aug-19 09:42 PM","That `fread` would try to write at the address `NULL`, which on this platform means segfault.
You could either allocate on stack, by declaring an array, or on heap, using `malloc`.
I'd not use `int` if you want to access individual bytes later.","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 09:43 PM","Sorry Where can i understand this more","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 09:43 PM","do i have to watch a doug short?","",""
"234679095378706433","Blauelf#6622","17-Aug-19 09:43 PM","I guess ""arrays"" might apply üòõ","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 09:44 PM","should i watch parts of the lecture again","",""
"234679095378706433","Blauelf#6622","17-Aug-19 09:45 PM","Arrays in C can be used as pointers, so you can pass an array to the `fread` function.","",""
"606269561653952523","just_AK#9448","17-Aug-19 09:56 PM","question about best data types to use... from what i was reading there is no such data type as byte, but there is unsigned char... would that be the same thing? I guess the size is the same... but would it work the same way?
and if for tidiness I would like to define a struct so that to store some information about my jpegs that i was to have together, like a jpeg prototope - could i do so in a customer header file like David did with student in the Lecture? When I submit my project (probably a week from now :D)  this wouldnt be included in my submission, right? So my code wouldnt work?","",""
"606269561653952523","just_AK#9448","17-Aug-19 09:58 PM","in resize we had an RGBTRIPLE, but I lack an idea of the right data type to set a pointer to when reading.","",""
"234679095378706433","Blauelf#6622","17-Aug-19 10:19 PM","I'd use `unsigned char` or `uint8_t` for individual bytes. An array of those worked for me.
Not sure a struct would make much sense if it in most cases is filled with non-header data. You wouldn't have to define that in a header file, could also be in your c file (headers are useful for sharing such definitions with other files).","",""
"606269561653952523","just_AK#9448","17-Aug-19 10:26 PM","uint8_t... would this be best practice in general because it would be cross platform? and thank you for explanation üôÇ","",""
"606269561653952523","just_AK#9448","17-Aug-19 10:27 PM","and in general i think you saved my arse a few times already, i feel compelled to sending you flowers or vodka, whatever you prefer to say thank you at the end of this course üòÖ","",""
"234679095378706433","Blauelf#6622","17-Aug-19 10:48 PM","I just hope I don't keep you from thinking yourself, and don't confuse you with irrelevant details.","",""
"606269561653952523","just_AK#9448","17-Aug-19 10:52 PM","well i dont have experience, so i find this useful, because it teaches me 'what to pay attention to' and 'how to think'... if that makes sense? it absolutely doesn't stop me from thinking myself, as long as i understand the link and not just copying and pasting, i am growing, so thank you üôÇ when i first started learning anything online, i didnt really know how to search for answers online and i am getting better at it now, as i know a little better what sources to discriminate and how to word my q's.
there are a few things that I am wondering about when it comes to pointers for example and i wish i could just sit down with someone and have a chat. I guess that's the downside of learning something online by yourself (even if theres an online community)","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 11:25 PM","```
#include <stdio.h>
#include <stdlib.h>

typedef uint8_t BYTE;

int main(int argc, char *argv[])
{

    // Part 1 checks for 1 command line argv
    if(argc != 2)
    {
        printf(""Usage Error: Please enter only one command line argument\n"");
        return 1;
    }

    FILE *open_file = fopen(""card.raw"", ""r"");

    //Part 2 makes sure the file is located

    if (open_file == NULL)
    {
        printf(""File not found\n"");
        return 2;
    }

    fread(read_file, 512, 1, open_file);

    fclose(open_file);

}

```","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 11:25 PM","I have no idea where to start with recover","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 11:25 PM","can anyone help ?","",""
"234679095378706433","Blauelf#6622","17-Aug-19 11:38 PM","@rybohi - tothewebsite.com You probably meant `fopen(argv[1], ""r"");`, why else would one have to provide a command-line argument?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 11:38 PM","yes i was going to change that at the end","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 11:39 PM","I've actually seen the answer to this soloution","",""
"234679095378706433","Blauelf#6622","17-Aug-19 11:39 PM","Oh, for lazier testing?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 11:39 PM","and at the top of the page","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 11:39 PM","above int main void","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 11:39 PM","is","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 11:39 PM","deftype uint8_t BYTE;","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 11:40 PM","and i have no idea why that is there and what its use is","",""
"234679095378706433","Blauelf#6622","17-Aug-19 11:41 PM","It's declaring `BYTE` as an alias for `uint8_t`, which is defined in `stdint.h`. That's an unsigned integer of 8 bit.","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 11:41 PM","i actually dont understand the whol process of that and whats happening","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 11:41 PM","or why youd need to do that","",""
"234679095378706433","Blauelf#6622","17-Aug-19 11:45 PM","If you wanted to test a byte for 0xff, you'd want an 8 bit unsigned integer type. So... unless you really like endianness, you want to create your buffer as holding 512 `BYTE`, or 512 `unsigned char`, or 512 `uint8_t`, or similar.","",""
"548508397490798603","rybohi - tothewebsite.com#0217","17-Aug-19 11:48 PM","why do you want a byte for 0xff?","",""
"234679095378706433","Blauelf#6622","17-Aug-19 11:59 PM","The 4-byte JPEG signature is defined in that way. First byte 0xff, second byte... 0xd8? Third 0xff again. You could use a regular `char`/`int8_t`, and test for -1 instead of an `unsigned char`/`uint8_t` with 0xff, those are represented by the same bit pattern. But if specification says 0xff, it's probably best/most readable to follow it.
If you know the device's endianness, and you feel like it, `int` or `unsigned int` might work as well (128 `int` are 512 bytes large), checking the first four bytes at once, I just consider bytes more readable.","",""
"612449989310021647","markus-zhang#8195","18-Aug-19 04:14 AM","@rybohi - tothewebsite.com  My suggestion is to read through the problem until you get a hang of what exactly you are supposed to do.
1. The raw file contains a large number of jpeg files
2. Each of them has a specific 4-byte header
3. FAT32 stores files in 512-byte chunk, which means you don't have to look for this specific header byte by byte
4. Once you find the header, has to figure out how large the file is and how to dump it into an output file
Hopefully this gives you a bit of clarification!","",""
"149030650639286272","meray#3929","18-Aug-19 04:24 AM","And also, if you haven't already, check out the walkthrough üòÉ","","üíØ (2)"
"393854278764068875","curiouskiwi#1671","18-Aug-19 05:19 AM","does your program work when you run it?  this indicates that it's taking more than a second or so to recover all images (it should be fast enough that  it seems instantaneous)","",""
"612449989310021647","markus-zhang#8195","18-Aug-19 05:21 AM","looks like everything is fine except for the timeout...","",""
"609564300750749718","Charlie-#8684","18-Aug-19 05:23 AM","@curiouskiwi  no it doesn't , may be a kind of run time fault?","",""
"393854278764068875","curiouskiwi#1671","18-Aug-19 05:23 AM","if it doesn't recover the images, why did you run check50?","",""
"609564300750749718","Charlie-#8684","18-Aug-19 05:25 AM","@curiouskiwi  this is the result from check 50
üôÇ recover.c exists.
üôÇ recover.c compiles.
üôÇ handles lack of forensic image
üò¶ recovers 000.jpg correctly
    timed out while waiting for program to exit
üò¶ recovers middle images correctly
    timed out while waiting for program to exit
üò¶ recovers 049.jpg correctly
    timed out while waiting for program to exit","",""
"393854278764068875","curiouskiwi#1671","18-Aug-19 05:26 AM","yes, I saw that.  I was asking why you are running check50 (which should be used to check the correctness of your program after you've exhaustively run it/checked it yourself.)","",""
"609564300750749718","Charlie-#8684","18-Aug-19 05:27 AM","@markus-zhang  yes I really don't get the point üò´","",""
"393854278764068875","curiouskiwi#1671","18-Aug-19 05:27 AM","when you run `./recover card.raw` I'm going to guess that you get no images and you have to kill it because it never stops?","",""
"609564300750749718","Charlie-#8684","18-Aug-19 05:28 AM","@curiouskiwi  yes it does","",""
"393854278764068875","curiouskiwi#1671","18-Aug-19 05:28 AM","and what have you done to figure out why that happens?","",""
"609564300750749718","Charlie-#8684","18-Aug-19 05:33 AM","@curiouskiwi  I tried to find the end of file and finish this infinite loop...","",""
"393854278764068875","curiouskiwi#1671","18-Aug-19 05:34 AM","you seem to have a lot of loops","",""
"393854278764068875","curiouskiwi#1671","18-Aug-19 05:35 AM","I'd expect one loop that loops over the raw file, reads in 512 bytes, and decides what to do based on what is found, does that, and then the loop runs again.","",""
"393854278764068875","curiouskiwi#1671","18-Aug-19 05:35 AM","can I see your pseudocode?","",""
"609564300750749718","Charlie-#8684","18-Aug-19 05:36 AM","@curiouskiwi  I wrote that on my notebook briefly four days ago. ok I'll try again, anything else to be corrected?","",""
"612449989310021647","markus-zhang#8195","18-Aug-19 06:22 AM","just curious, I might be wrong, in sizeof(block), isn't block a pointer (i.e. an array decayed to a pointer)?","",""
"612449989310021647","markus-zhang#8195","18-Aug-19 06:23 AM","@Charlie-  I'm not sure the size of a pointer would give you what you really what, but I might be wrong anyway","",""
"609564300750749718","Charlie-#8684","18-Aug-19 06:50 AM","@markus-zhang actually I was also curious about it... but I skipped over because there was no error in compilingüòÖ","",""
"612449989310021647","markus-zhang#8195","18-Aug-19 07:04 AM","@Charlie-  you can try to print it out. I think it's just the size of the pointer.","",""
"609564300750749718","Charlie-#8684","18-Aug-19 07:06 AM","@markus-zhang ok I'll try thanks","",""
"612449989310021647","markus-zhang#8195","18-Aug-19 07:07 AM","np","",""
"393854278764068875","curiouskiwi#1671","18-Aug-19 07:21 AM","One thing to consider is your buffer.  Do you want 512 integers?  Or 512 bytes?  (an integer is 4 bytes).  Recall in resize that you dealt with bytes (ie, 8-bit unsigned chars).","",""
"609564300750749718","Charlie-#8684","18-Aug-19 07:27 AM","@curiouskiwi  ok I got it thanksüòÑ","",""
"548508397490798603","rybohi - tothewebsite.com#0217","18-Aug-19 08:52 PM","Hey guys","",""
"548508397490798603","rybohi - tothewebsite.com#0217","18-Aug-19 08:52 PM","if anyone is on would be great to tak to you","",""
"603294110614552587","noob4ever#1127","18-Aug-19 11:23 PM","@Blauelf  Your advise from yesterday at 1:39PM was spot on. Thank you! Sorry for all the questions, but I don't understand how my code is working. Is the fread in my while loop moving the inptr cursor forward? It was my understanding that using fread in a while loop would not cause the inptr to advance, or am I mistaken?","",""
"603294110614552587","noob4ever#1127","18-Aug-19 11:24 PM","@rybohi - tothewebsite.com  Hello friend. üôÇ","",""
"234679095378706433","Blauelf#6622","18-Aug-19 11:27 PM","The cursor is moved whenever you read. `fread` does not know or care about your loop.","",""
"234679095378706433","Blauelf#6622","18-Aug-19 11:29 PM","So you're in UTC-5.","",""
"603294110614552587","noob4ever#1127","18-Aug-19 11:30 PM","Misunderstanding solved, and yes I am. Oops I didn't think about the dynamic time stamp.","",""
"603294110614552587","noob4ever#1127","18-Aug-19 11:31 PM","Are you east coast?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","18-Aug-19 11:32 PM","Hey noob can you talk to me about when i would use a structure","",""
"548508397490798603","rybohi - tothewebsite.com#0217","18-Aug-19 11:32 PM","they were used in the bitmap files but im unsure when else they would pop up","",""
"234679095378706433","Blauelf#6622","18-Aug-19 11:32 PM","I'm in UTC+2, CEST","",""
"603294110614552587","noob4ever#1127","18-Aug-19 11:35 PM","Sorry rybohi. My name is no lie. I can't really elaborate more than what was in lecture. Doug also has a short out there on it. https://www.youtube.com/watch?v=N5pA7RvvQDg","",""
"603294110614552587","noob4ever#1127","18-Aug-19 11:36 PM","@Blauelf Glad you survived the worst of the heat. Just curious, are you on CS50 staff or just a super avid programmer / SUPER helpful guy?","",""
"234679095378706433","Blauelf#6622","18-Aug-19 11:37 PM","Super procrastinator maybe üòõ","",""
"548508397490798603","rybohi - tothewebsite.com#0217","18-Aug-19 11:37 PM","Is the short form week 4?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","18-Aug-19 11:38 PM","from*","",""
"603294110614552587","noob4ever#1127","18-Aug-19 11:40 PM","Yes. I think there is an updated one now.","",""
"603294110614552587","noob4ever#1127","18-Aug-19 11:42 PM","Procrastinators of the world unite!..........tomorrow. üòâ Well, glad you're putting off whatever you're putting off so that you're here. This problem was driving me nuts. I guess they all do though. Thank you!","",""
"548508397490798603","rybohi - tothewebsite.com#0217","18-Aug-19 11:42 PM","have you completed cs50?","",""
"603294110614552587","noob4ever#1127","18-Aug-19 11:44 PM","Oh god no. This is my third time trying to make it through this course. I think the first time was in 2014 or 2015. I'm a high functioning idiot with time constraints. Trying to push through it this time though.","",""
"603294110614552587","noob4ever#1127","18-Aug-19 11:44 PM","You work in tech?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","18-Aug-19 11:44 PM","sure don't","",""
"548508397490798603","rybohi - tothewebsite.com#0217","18-Aug-19 11:45 PM","I started this course around 5 weeks ago","",""
"548508397490798603","rybohi - tothewebsite.com#0217","18-Aug-19 11:45 PM","still on pset 3","",""
"548508397490798603","rybohi - tothewebsite.com#0217","18-Aug-19 11:45 PM","üôÇ","",""
"548508397490798603","rybohi - tothewebsite.com#0217","18-Aug-19 11:45 PM","on recover","",""
"603294110614552587","noob4ever#1127","18-Aug-19 11:46 PM","You got this man. The resize problem took me about three weeks.","",""
"603294110614552587","noob4ever#1127","18-Aug-19 11:46 PM","This one....about a week.","",""
"548508397490798603","rybohi - tothewebsite.com#0217","18-Aug-19 11:49 PM","lol I did the resize for 3 days","",""
"548508397490798603","rybohi - tothewebsite.com#0217","18-Aug-19 11:49 PM","then had the genius idea of using the debugger","",""
"548508397490798603","rybohi - tothewebsite.com#0217","18-Aug-19 11:50 PM","made it so much more simple","",""
"603294110614552587","noob4ever#1127","18-Aug-19 11:51 PM","Show off.üôÇ  Yeah, I have to get into the habit of using the debugger. Definitely an area where I'm weak. Tried using it on resize, but was a bit overwhelmed with the buffer variable.","",""
"603294110614552587","noob4ever#1127","19-Aug-19 12:38 AM","@rybohi - tothewebsite.com I'm re watching lecture 4. The part about structs is at 30:54.","",""
"393854278764068875","curiouskiwi#1671","19-Aug-19 12:41 AM","I posted this in #general to answer the same question. üòÉ   https://cs50.harvard.edu/college/2018/fall/weeks/3/notes/#structs","","üëç (1)"
"221072290924724224","BenomousBortoise#0523","19-Aug-19 04:11 AM","can somebody send  049.jpg. I'm confused as to what iI'm doing wrong but  check50 keeps telling me that my 049.jpg does not match","",""
"393854278764068875","curiouskiwi#1671","19-Aug-19 04:13 AM","more than likely, yours is 512 bytes too long because you are writing the last buffer twice","",""
"221072290924724224","BenomousBortoise#0523","19-Aug-19 04:16 AM","ill look at that. Thanks!","",""
"221072290924724224","BenomousBortoise#0523","19-Aug-19 05:01 AM","Thanks i figured out my problem, I was terminating it a bit early","",""
"291997042127929356","peabody#4435","19-Aug-19 07:10 PM","hey guys, so my program is making jpegs but theyre all blank","",""
"291997042127929356","peabody#4435","19-Aug-19 07:10 PM","anyone know why this might be happening?","",""
"291997042127929356","peabody#4435","19-Aug-19 07:38 PM","also i broke it more, im creating 10696 jpgs rn","",""
"291997042127929356","peabody#4435","19-Aug-19 07:52 PM","here's my code and I honestly don't see whats wrong with it","",""
"291997042127929356","peabody#4435","19-Aug-19 07:52 PM","https://pastebin.com/mDLF6gJ7","",""
"291997042127929356","peabody#4435","19-Aug-19 07:52 PM","and here's my pseudocode:","",""
"291997042127929356","peabody#4435","19-Aug-19 07:52 PM","||    open card file
    if null, then bye
    repeat until end of card
        read 512 bytes into a buffer
        start of new JPEG?
            if yes, already found JPEG?
                if no, then start first.
                if yes, then close earlier, start new.
            if no, already found JPEG?
                if yes, then these bytes belong to earlier JPEG
                if no, then discard.

        End of memory card?
        exit loop
    close files||","",""
"603294110614552587","noob4ever#1127","19-Aug-19 07:57 PM","@peabody  The link didn't work for me. Do you have a snip you could post?","",""
"291997042127929356","peabody#4435","19-Aug-19 07:58 PM","for the code, it wont let me lol cause its more than 2k chars","",""
"291997042127929356","peabody#4435","19-Aug-19 07:58 PM","lemme generate another one","",""
"291997042127929356","peabody#4435","19-Aug-19 07:58 PM","https://pastebin.com/bcjrdHnf","",""
"291997042127929356","peabody#4435","19-Aug-19 07:58 PM","here?","",""
"318263650773368842","tipsyninja#2615","19-Aug-19 10:47 PM","@peabody  your psudo code seems fine, and by discard you mean continue with the loop","",""
"318263650773368842","tipsyninja#2615","19-Aug-19 10:53 PM","suppose this is data in card
```
.......
0s1    0d1    0d2
1s1    1d1   1d2
.......
```
here `s1` is start of jpeg
and `d*` is data in that jpeg(presend in block size of 512 each).
so `0s1` `0d1` `0d2` suppose belongs to the first file 
so in line `56` to `58`
what you are doing is you are closing the file as soon as you reach `0d1`.","",""
"318263650773368842","tipsyninja#2615","19-Aug-19 10:53 PM","this is this first thing i noticed , didn't read your whole code","",""
"291997042127929356","peabody#4435","20-Aug-19 09:16 AM","Okay, so how would I close the earlier JPEG? wouldn't I have to close it before I begin another jpeg?","",""
"366666680103075843","expressive#4411","20-Aug-19 05:00 PM","My JPEGs are corrupt- is there any way to verify what the problem is? I've checked the headers and they're intact","",""
"366666680103075843","expressive#4411","20-Aug-19 05:03 PM","Wait- I just downloaded the photos to my computer and they open fine, but on the CS50 IDE they don't open and instead I get a message saying ""Invalid or Unsupported image format"".  Does this mean my solution isn't 100% correct?","",""
"291997042127929356","peabody#4435","20-Aug-19 05:07 PM","post?","",""
"366666680103075843","expressive#4411","20-Aug-19 05:13 PM","My code, or the images?","",""
"366666680103075843","expressive#4411","20-Aug-19 05:13 PM","Just ran everything through check50, everything's ok. Might be an ide bug?","",""
"291997042127929356","peabody#4435","20-Aug-19 05:20 PM","maybe reload the page? see if that fixes it","",""
"291997042127929356","peabody#4435","20-Aug-19 05:58 PM","anyone else having the issue where there's way too many JPEGs being formed and none are supported?","",""
"603294110614552587","noob4ever#1127","20-Aug-19 06:15 PM","@peabody  If you are finding more than 50 there is an issue. Try right clicking them and opening as hexadecimal. Check those first few bytes to see if they're actually what you're looking for.","",""
"291997042127929356","peabody#4435","20-Aug-19 06:15 PM","they're really not right","",""
"603294110614552587","noob4ever#1127","20-Aug-19 06:16 PM","Took me about a week to get this one. Learned a lot though by falling down so much though.","",""
"291997042127929356","peabody#4435","20-Aug-19 06:17 PM","huh so i fixed something cause i went from 10696 JPEGs to 51","",""
"603294110614552587","noob4ever#1127","20-Aug-19 06:19 PM","Nice! I don't have a rubber ducky, but plenty of times while doing this I went through my code line by line saying out loud what it was doing. This helped me. Well, that and asking for help here when I got really stuck.","",""
"391541463055466498","Spectrum#0405","20-Aug-19 06:37 PM","I have made the program, it compiles, runs with no error but produce awkward files instead of JPEGs","",""
"291997042127929356","peabody#4435","20-Aug-19 07:11 PM","same rn","",""
"291997042127929356","peabody#4435","20-Aug-19 07:23 PM","aight so im producing 49 images","",""
"291997042127929356","peabody#4435","20-Aug-19 07:23 PM","or 50, 0 through 49","",""
"291997042127929356","peabody#4435","20-Aug-19 07:23 PM","but im also getting these things","",""
"291997042127929356","peabody#4435","20-Aug-19 07:23 PM","picnum++;","",""
"291997042127929356","peabody#4435","20-Aug-19 07:23 PM","000.jpg followed by a bunch of strange characters","",""
"291997042127929356","peabody#4435","20-Aug-19 07:24 PM","i cant move them nor delete them","",""
"291997042127929356","peabody#4435","20-Aug-19 07:24 PM","@curiouskiwi help?","",""
"603294110614552587","noob4ever#1127","20-Aug-19 07:33 PM","@peabody  You got a snip we can see? Also, your sprintf code??","",""
"291997042127929356","peabody#4435","20-Aug-19 07:34 PM","heres the weird stuff","",""
"291997042127929356","peabody#4435","20-Aug-19 07:34 PM","","https://cdn.discordapp.com/attachments/395684916056031245/613410521470861363/these_things_lol.PNG",""
"291997042127929356","peabody#4435","20-Aug-19 07:35 PM","","https://cdn.discordapp.com/attachments/395684916056031245/613410676320501790/SPOILER_sprintf.PNG",""
"291997042127929356","peabody#4435","20-Aug-19 07:49 PM","OMG IT WORKS","",""
"291997042127929356","peabody#4435","20-Aug-19 07:51 PM","I had to seperate identification from creation of file from writing for some reason","",""
"291997042127929356","peabody#4435","20-Aug-19 07:51 PM","i couldn't do them at the same time?","",""
"291997042127929356","peabody#4435","20-Aug-19 07:51 PM","but whatever","","üëç (1)"
"548508397490798603","rybohi - tothewebsite.com#0217","20-Aug-19 10:13 PM","Can Someone help me with what","",""
"548508397490798603","rybohi - tothewebsite.com#0217","20-Aug-19 10:13 PM","uint8_t does","",""
"603294110614552587","noob4ever#1127","20-Aug-19 10:21 PM","Hey @rybohi - tothewebsite.com  Did you do whodunnit?? Just giving you guff. Check out https://lab.cs50.io/cs50/labs/2019/x/whodunit/  and https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-dtyp/52ddd4c3-55b9-4e03-8287-5392aac0627f  found in the bmp.h file.","",""
"548508397490798603","rybohi - tothewebsite.com#0217","20-Aug-19 10:21 PM","i tried reading that file but it  super confuzzled me","",""
"603294110614552587","noob4ever#1127","20-Aug-19 10:22 PM","Took me a couple of times reading through it too. Basically it gives you 8 bits. aka a BYTE. If it is signed the first bit (most significant bit) means positive or negative.","",""
"603294110614552587","noob4ever#1127","20-Aug-19 10:38 PM","```#include <stdio.h>
#include <stdint.h>

int main(void)
{
    typedef __int8_t signd;
    signd x = -5;
    printf(""%i"", x);
}```","",""
"603294110614552587","noob4ever#1127","20-Aug-19 10:38 PM","Try running this","",""
"603294110614552587","noob4ever#1127","20-Aug-19 10:39 PM","Signed int","",""
"603294110614552587","noob4ever#1127","20-Aug-19 10:39 PM","```#include <stdio.h>
#include <stdint.h>

int main(void)
{
    typedef uint8_t signd;
    signd x = -5;
    printf(""%i"", x);
}```","",""
"603294110614552587","noob4ever#1127","20-Aug-19 10:40 PM","Then run this. Unsigned int.","",""
"603294110614552587","noob4ever#1127","20-Aug-19 10:40 PM","See the difference?","",""
"393854278764068875","curiouskiwi#1671","20-Aug-19 10:45 PM","`uint8_t` is an 8-bit unsigned integer.  In our implementation of C, it's equivalent to an `unsigned char`  (or if you using the latest CS50 library, simply a `byte`)   ```C
#include <stdio.h>
#include <cs50.h>

int main(void)
{
    byte a = 97;
    printf(""%x  %i  %c\n"", a, a, a);
}
```","",""
"393854278764068875","curiouskiwi#1671","20-Aug-19 10:48 PM","using an unsigned 8-bit value is important in recover because you are dealing with bytes  (and a byte is an unsigned 8-bit value)  This is why you can say `buffer[0] == 0xff` in your signature comparison.","",""
"393854278764068875","curiouskiwi#1671","20-Aug-19 10:48 PM","you are comparing one byte","",""
"603294110614552587","noob4ever#1127","20-Aug-19 10:49 PM","Thanks @curiouskiwi . Was a little unsure of my answer. Just learned this last week. As a side question. In what case would you use a signed char?","",""
"393854278764068875","curiouskiwi#1671","20-Aug-19 10:52 PM","a char by default is signed, so you've been using them all along.","",""
"393854278764068875","curiouskiwi#1671","20-Aug-19 10:55 PM","you might be working in an embedded system where size is important, and you need to represent small numbers (both positive and negative).  In this case, having an 8-bit signed type is quite useful.","",""
"393854278764068875","curiouskiwi#1671","20-Aug-19 10:55 PM","(I should say, whether or not a `char` is signed or unsigned by default is implementation-specific.  In the CS50 IDE, it is signed.)","",""
"393854278764068875","curiouskiwi#1671","20-Aug-19 11:00 PM","@just_AK to answer your question ...   fread returns the number of blocks it read, so you can say  `while (fread(...) == 1)` for example  and the loop will read the file and then, if fread was successful, run the loop","",""
"606269561653952523","just_AK#9448","20-Aug-19 11:04 PM","hmmm... i was doing a do - while and struggled to break. I will try to change up a little bit, thanks man","",""
"603294110614552587","noob4ever#1127","20-Aug-19 11:16 PM","@curiouskiwi  Why would you use a signed char rather than a signed int? Is int an alias of char? That is, was char the original way to represent characters **and** numbers, but later a variable called int was implemented as an abstraction?","",""
"393854278764068875","curiouskiwi#1671","20-Aug-19 11:17 PM","an int is 4 bytes. a char is 1 byte.   if you are concerned about space, those 3 bytes are important.","",""
"603294110614552587","noob4ever#1127","20-Aug-19 11:17 PM","Aaaaaannnnndddddd FACE PALM! Got it. Thank you. I'll see myself out.","",""
"393854278764068875","curiouskiwi#1671","20-Aug-19 11:20 PM","if you're programming for a pc/mac these days, of course, an extra 3 bytes is incredibly trivial. üòÉ","",""
"393854278764068875","curiouskiwi#1671","20-Aug-19 11:20 PM","but the vast majority of C is probably used in embedded programming, where every byte counts.","",""
"548508397490798603","rybohi - tothewebsite.com#0217","21-Aug-19 02:55 PM","hey throughout pset3 i havent used malloc","",""
"548508397490798603","rybohi - tothewebsite.com#0217","21-Aug-19 02:55 PM","not once","",""
"548508397490798603","rybohi - tothewebsite.com#0217","21-Aug-19 02:55 PM","is that a problem ?","",""
"431455063710367745","silence#7352","21-Aug-19 02:56 PM","I haven't used it thus far either. I don't think it's absolutely necessary but I guess it would probably be beneficial in the long run to be familiar with it","",""
"548508397490798603","rybohi - tothewebsite.com#0217","21-Aug-19 02:57 PM","does it appear in the upcoming lectures?","",""
"431455063710367745","silence#7352","21-Aug-19 02:58 PM","I wouldn't know. I've been stuck here in recover for two or three weeks now","",""
"548508397490798603","rybohi - tothewebsite.com#0217","21-Aug-19 02:59 PM","lol at what point ?","",""
"431455063710367745","silence#7352","21-Aug-19 03:05 PM","... the beginning.","",""
"431455063710367745","silence#7352","21-Aug-19 03:07 PM","to be fair, in context, I've been very sick for the last two weeks, but now that I'm back I only have a few lines of working code that don't actually do anything. Just fopen so far","",""
"431455063710367745","silence#7352","21-Aug-19 03:07 PM","and all the necessary checks like if file != null and all","",""
"431455063710367745","silence#7352","21-Aug-19 03:08 PM","i don't understand the use of fread and fwrite and i don't understand arrays","",""
"361235692019384323","Sanath#7244","21-Aug-19 04:04 PM","malloc appears in pset 4, speller","",""
"361235692019384323","Sanath#7244","21-Aug-19 04:07 PM","@silence 
1.) fread and fwrite are used for reading from, and writing to files. Read the specifics here: https://man.cs50.io/3/fread
2.) arrays are basically used for storing items of the same type together","",""
"431455063710367745","silence#7352","21-Aug-19 04:07 PM","I've read the man files, and I know what arrays are for, I just don't get the right way to implement them","",""
"361235692019384323","Sanath#7244","21-Aug-19 04:08 PM","wdym? syntax is just: dataType nameOfVar[sizeOfArray]","",""
"431455063710367745","silence#7352","21-Aug-19 04:10 PM","In context of this pset, writing data from the raw file to each spot of the array. And which data type I'm supposed to use. Because apparently I can't pass any of the normal data types to an array using fread*","",""
"361235692019384323","Sanath#7244","21-Aug-19 04:12 PM","Can't really help you muh with this pset I dont remember much but fread should be able to read file data into any array","",""
"431455063710367745","silence#7352","21-Aug-19 04:14 PM","I've tried different data types and I keep getting back errors something about an invalid data type","",""
"361235692019384323","Sanath#7244","21-Aug-19 04:15 PM","Can you pm me the error and the code where it appears?","",""
"431455063710367745","silence#7352","21-Aug-19 04:18 PM","Sure","",""
"291997042127929356","peabody#4435","21-Aug-19 06:07 PM","@silence remember when people were talking about unsigned chars and stuff? thats the data type you've gotta use","",""
"291997042127929356","peabody#4435","21-Aug-19 06:07 PM","and (dependant on your fread specs) the array is either 512 or 1 long","",""
"431455063710367745","silence#7352","21-Aug-19 06:09 PM","I got it thanks to Sanath, but thanks anyway","",""
"361235692019384323","Sanath#7244","21-Aug-19 06:12 PM","@peabody your array shouldnt be 1 long ever though","",""
"291997042127929356","peabody#4435","21-Aug-19 07:13 PM","oops my bad then","",""
"606269561653952523","just_AK#9448","21-Aug-19 10:58 PM","I'm going round in circles with this one. I'm either getting nothing, getting half, getting the correct amount of files but theyre corrupt OR I am getting all the files nicely except the last one...","",""
"149030650639286272","meray#3929","22-Aug-19 01:48 AM","Try get your program to a stage where it's doing something then perhaps try figure out what the problem is and where in code that might be happening. If you haven't already, try follow the Walkthrough and if you're not sure where your code is going wrong, you could post here and see if anyone can give you some ideas","",""
"548508397490798603","rybohi - tothewebsite.com#0217","22-Aug-19 08:35 PM","Hey","",""
"548508397490798603","rybohi - tothewebsite.com#0217","22-Aug-19 08:35 PM","How can i make an unsigned long ?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","22-Aug-19 08:35 PM","anyone know the code?","",""
"234679095378706433","Blauelf#6622","22-Aug-19 08:54 PM","`unsigned long your_variable;` - but what for?","",""
"391541463055466498","Spectrum#0405","23-Aug-19 04:52 PM","I wrote the code but it's not doing anything except creating invalid files of 512 bytes size","",""
"234679095378706433","Blauelf#6622","23-Aug-19 08:17 PM","I guess the code detects new files, writes the header block, but discards any other block.","",""
"391541463055466498","Spectrum#0405","24-Aug-19 05:14 PM","@Blauelf Can you plz take a look at a screenshot?","",""
"391541463055466498","Spectrum#0405","24-Aug-19 05:15 PM","","https://cdn.discordapp.com/attachments/395684916056031245/614825195835883521/Screenshot_from_2019-08-24_19-44-07.png",""
"391541463055466498","Spectrum#0405","24-Aug-19 05:16 PM","How do I type the name of that file?","",""
"391541463055466498","Spectrum#0405","24-Aug-19 05:17 PM","Is the usage of short data type array as buffer correct?","",""
"361235692019384323","Sanath#7244","24-Aug-19 05:25 PM","You want to use a type that is one byte long","",""
"361235692019384323","Sanath#7244","24-Aug-19 05:26 PM","a char would do","",""
"361235692019384323","Sanath#7244","24-Aug-19 05:27 PM","look into sprintf for creating the name of the file","",""
"548508397490798603","rybohi - tothewebsite.com#0217","24-Aug-19 09:47 PM","I've become apathetic to RECOVERY pset3","",""
"548508397490798603","rybohi - tothewebsite.com#0217","24-Aug-19 09:47 PM","any tips","",""
"548508397490798603","rybohi - tothewebsite.com#0217","24-Aug-19 09:47 PM","?","",""
"197736026905640969","DylieWylie#1914","25-Aug-19 01:33 AM","I get this error whenever I try to run recover. Google wasn't much help and I have no idea how to even diagnose this to fix it. Can anyone help?","https://cdn.discordapp.com/attachments/395684916056031245/614950464513114133/recoverError.PNG",""
"197736026905640969","DylieWylie#1914","25-Aug-19 01:34 AM","""Fatal error: glibc detected an invalid stdio handle
Aborted""","",""
"393854278764068875","curiouskiwi#1671","25-Aug-19 02:23 AM","are you trying to close a file that you didn't open?","",""
"197736026905640969","DylieWylie#1914","25-Aug-19 07:48 AM","I was able to figure it out to by changing my buffer array to a type of unsinged char*","",""
"393854278764068875","curiouskiwi#1671","25-Aug-19 07:52 AM","@DylieWylie do you see why using unsigned int meant that you never found a signature, and as a result, you never opened `img`, which is why fclose(img) caused the problem?","",""
"197736026905640969","DylieWylie#1914","25-Aug-19 08:03 AM","To my understanding it's because making it an unsigned char gives you the capability of holding 0 to 255, being the highest number you can represent in a byte, whereas a signed char only gives you -127 to 127.","",""
"393854278764068875","curiouskiwi#1671","25-Aug-19 08:15 AM","yes.  -128 to 127","",""
"391541463055466498","Spectrum#0405","25-Aug-19 09:53 AM","```c
int cnt = fread(buffer, 1, 512, imgptr);```","",""
"391541463055466498","Spectrum#0405","25-Aug-19 09:53 AM","Does it have the same effect as :","",""
"391541463055466498","Spectrum#0405","25-Aug-19 09:54 AM","```c
 fread(buffer, 1, 512, imgptr);```","",""
"393854278764068875","curiouskiwi#1671","25-Aug-19 10:08 AM","yes","",""
"596597771994136588","torbs#1388","25-Aug-19 11:14 AM","Any idea why it would hang on fclose()?
Even if I comment it out it still hangs an never executes return 0.","",""
"393854278764068875","curiouskiwi#1671","25-Aug-19 11:34 AM","are you running a while loop?  Might it never stop?","",""
"391541463055466498","Spectrum#0405","25-Aug-19 11:38 AM","I found ``cs50.ly/surprise`` inside **card.raw**","",""
"596597771994136588","torbs#1388","25-Aug-19 11:51 AM","I run this while loop:
`while (fread(buffer, 1, 512, inptr) == 512)`
and it is exiting it, but then after I have run free to clear out the memory and wants to run fclose() it is hanging.","",""
"596597771994136588","torbs#1388","25-Aug-19 12:09 PM","@curiouskiwi  any chance you can take a look at the code?","",""
"393854278764068875","curiouskiwi#1671","25-Aug-19 12:10 PM","@torbs sure, send me a message.  I have a couple minutes before I shut down for the night.","",""
"391541463055466498","Spectrum#0405","25-Aug-19 01:56 PM","Can someone plz take  a look at my code?","",""
"391541463055466498","Spectrum#0405","25-Aug-19 01:56 PM","I am back to where I started a few hours ago","",""
"391541463055466498","Spectrum#0405","25-Aug-19 03:42 PM","I get this error:","",""
"391541463055466498","Spectrum#0405","25-Aug-19 03:42 PM","``
UndefinedBehaviorSanitizer:DEADLYSIGNAL
==7361==ERROR: UndefinedBehaviorSanitizer: SEGV on unknown address 0x000000000000 (pc 0x7ff54c0038be bp 0x000000000200 sp 0x7ffd51201c80 T7361)
==7361==The signal is caused by a READ memory access.
==7361==Hint: address points to the zero page.
    #0 0x7ff54c0038bd  (/lib/x86_64-linux-gnu/libc.so.6+0x7f8bd)
    #1 0x422e04  (/home/ubuntu/pset3/recover/recover+0x422e04)
    #2 0x7ff54bfa5b96  (/lib/x86_64-linux-gnu/libc.so.6+0x21b96)
    #3 0x402cf9  (/home/ubuntu/pset3/recover/recover+0x402cf9)

UndefinedBehaviorSanitizer can not provide additional info.
==7361==ABORTING``","",""
"391541463055466498","Spectrum#0405","25-Aug-19 03:49 PM","What does that hint mean?","",""
"361235692019384323","Sanath#7244","25-Aug-19 04:18 PM","youre reading memory you shouldnt be","",""
"361235692019384323","Sanath#7244","25-Aug-19 04:18 PM","think that particular one means youre reading a null pointer but im not sure about that","",""
"351082397867048964","Mg322#9491","25-Aug-19 08:23 PM","finally finished with this PSET! I found it wayyy more difficult than it should've been. (I went deep into the weeds with pointers and recursive functions when there were much simpler solutions).","",""
"289811792220258304","Gori#4041","26-Aug-19 02:25 AM","finally","https://cdn.discordapp.com/attachments/395684916056031245/615325873150754867/2019-08-25_20-24.png",""
"548508397490798603","rybohi - tothewebsite.com#0217","26-Aug-19 01:05 PM","im proud of you","",""
"548508397490798603","rybohi - tothewebsite.com#0217","26-Aug-19 01:06 PM","more isnt mandatory is it?","",""
"361235692019384323","Sanath#7244","26-Aug-19 01:35 PM","Nope","",""
"232324359912423424","jaketheai#9541","27-Aug-19 02:07 AM","I'm able to get it to print 50 images but they're all unsupported formats any clue what my issue is??","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 02:09 AM","what size are your images?  do they seem reasonable?","",""
"232324359912423424","jaketheai#9541","27-Aug-19 02:43 AM","@curiouskiwi well I actually got it to work  but now there are just blank images printed I'll dm you the code","",""
"232324359912423424","jaketheai#9541","27-Aug-19 02:47 AM","The problem I was having is I wasn't writing the first line I added in an fwrite to fix it but I have no idea what to do to fix my issue now","",""
"391541463055466498","Spectrum#0405","27-Aug-19 09:53 PM","```c
         if (((int)buffer[0] == 0xff) && ((int)buffer[1] == 0xd8) &&                ((int)buffer[2] == 0xff) && (((int)buffer[3] & 0xf0) == 0xe0))```","",""
"391541463055466498","Spectrum#0405","27-Aug-19 09:53 PM","Is this condition correct?","",""
"391541463055466498","Spectrum#0405","27-Aug-19 09:54 PM","to detect JPEG file header","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 09:54 PM","why all the casting to ints?","",""
"391541463055466498","Spectrum#0405","27-Aug-19 09:54 PM","Otherwise CS50 ide shows error","",""
"391541463055466498","Spectrum#0405","27-Aug-19 09:54 PM","gcc works fine","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 09:55 PM","I'd assume your buffer is full of bytes (8-bit unsigned chars) not ints.","",""
"391541463055466498","Spectrum#0405","27-Aug-19 09:55 PM","yes","",""
"391541463055466498","Spectrum#0405","27-Aug-19 09:56 PM","Can we directly check int with hex constant?","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 09:56 PM","then you don't need to cast the values","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 09:56 PM","yes.  but you also just said your buffer isn't ints","",""
"391541463055466498","Spectrum#0405","27-Aug-19 09:56 PM","They will get promoted to ints, won't they?","",""
"391541463055466498","Spectrum#0405","27-Aug-19 09:56 PM","using ascii","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 09:57 PM","ascii isn't involved here.  these aren't letters","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 09:58 PM","if you have an unsigned char (ie a byte) equal to 0xff  (as the first byte of a jpg file will be), then buffer[0] == 0xff  should work fine with no casting.","",""
"391541463055466498","Spectrum#0405","27-Aug-19 09:58 PM","Yeah it works","",""
"391541463055466498","Spectrum#0405","27-Aug-19 09:58 PM","But no matter what I do, I always get segfault","",""
"391541463055466498","Spectrum#0405","27-Aug-19 09:59 PM","I am sure this time my code is completely correct","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 09:59 PM","if you segfault, it's not","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 10:01 PM","one common problem is trying to `sprintf` to a string that has no memory.  Did you declare your filename as a char array large enough to hold the 7 characters of `000.jpg` plus the null char ?","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:02 PM","char fname[50][8]","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:02 PM","was my declaration","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 10:02 PM","you can reuse the array so it's not necessary to have 50 of them, but that shouldn't cause a segfault.","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:03 PM","yeah","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:04 PM","I don't know how to find what's causing problem","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:04 PM","Can someone plz suggest me something by taking a look at my code?","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:05 PM","I am stuck on this since a few days now","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:05 PM","```
UndefinedBehaviorSanitizer:DEADLYSIGNAL
==7361==ERROR: UndefinedBehaviorSanitizer: SEGV on unknown address 0x000000000000 (pc 0x7ff54c0038be bp 0x000000000200 sp 0x7ffd51201c80 T7361)
==7361==The signal is caused by a READ memory access.
==7361==Hint: address points to the zero page.
    #0 0x7ff54c0038bd  (/lib/x86_64-linux-gnu/libc.so.6+0x7f8bd)
    #1 0x422e04  (/home/ubuntu/pset3/recover/recover+0x422e04)
    #2 0x7ff54bfa5b96  (/lib/x86_64-linux-gnu/libc.so.6+0x21b96)
    #3 0x402cf9  (/home/ubuntu/pset3/recover/recover+0x402cf9)

UndefinedBehaviorSanitizer can not provide additional info.
==7361==ABORTING```","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:05 PM","This error is all I get","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:06 PM","is fread() the problem?","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 10:06 PM","how is your buffer declared?  and what is your fread line?","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:06 PM","unsigned char buffer[512];","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:06 PM","int cnt = fread(buffer, 1, 512, in);","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 10:07 PM","those are fine","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:07 PM","cnt represents no. of bytes successfully read","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:07 PM","I use that to detect EOF","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 10:07 PM","the segfault is saying that you are trying to read a null pointer.","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:08 PM","I have made sure infile is not NULL","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:08 PM","```c
if ((buffer[0] == 0xff) && (buffer[1] == 0xd8) && ((buffer[2] == 0xff) && ((buffer[3] & 0xf0) == 0xe0)))
        {

            sprintf(fname[c], ""%03i.jpg"", c + 1);
            out = fopen(fname[c], ""w"");
            c++;
        }```","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:09 PM","c is no. of files created initially 0","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 10:09 PM","you are incrementing `c` twice  so you'll end up trying to access an index > 49","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:09 PM","I have already declared out as : FILE *out = NULL; outside the main loop","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:09 PM","only once","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 10:10 PM","I mean, the first one is fname[1] which means your last one is fname[50] which is past the end of the array","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 10:10 PM","if c starts at 0","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:11 PM","does that third argument in sprintf goes into the first?","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:11 PM","I thought it goes into second","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:11 PM","So that file names are 001.jpg onwards","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:11 PM","and value of c is intact","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 10:12 PM","oh sorry, I misread that.","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 10:12 PM","why are you using an array anyway?","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:12 PM","To store file names","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 10:12 PM","but why?","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 10:13 PM","you can use the same `filename` over and over","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:13 PM","I didn't know any other way","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:13 PM","but you need to store 50 different files","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:14 PM","001.jpg, 002.jpg etc","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 10:14 PM","yes, but the `filename` variable can be ""000.jpg"" the first time and then next time, you set it to ""001.jpg"" etc.","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:14 PM","so sprintf works on variable too?","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:14 PM","It would be char*","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 10:15 PM","char filename[8];","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 10:15 PM","one string. instead of the 50 you have now.  that's all I'm saying.","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:16 PM","I got it","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:16 PM","done, but still the same error","",""
"393854278764068875","curiouskiwi#1671","27-Aug-19 10:17 PM","send me a private message with your code","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:17 PM","thanks","",""
"391541463055466498","Spectrum#0405","27-Aug-19 10:51 PM","Finally on pset4","",""
"548508397490798603","rybohi - tothewebsite.com#0217","29-Aug-19 01:42 PM","How can i return an array in a function
e.g.
```
BYTE read_the_file(FILE* the_open_file, long the_block_size )
{
    BYTE the_open_file_values[the_block_size + 2];
    fread(the_open_file_values,1, the_block_size, the_open_file);
    return the_open_file_values;

}```
is what I'm trying to do
i then save it in a variable
```
 BYTE open_file_values = read_the_file(open_file, block_size );
```
but it tells me its not an array ?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","29-Aug-19 01:42 PM","also that im trying to retrun an integer","",""
"548508397490798603","rybohi - tothewebsite.com#0217","29-Aug-19 01:42 PM","not a BYTE","",""
"548508397490798603","rybohi - tothewebsite.com#0217","29-Aug-19 01:42 PM","aka unsigned char","",""
"234679095378706433","Blauelf#6622","29-Aug-19 03:29 PM","You cannot return arrays. You could return a pointer. But: A stack variable no longer exists when you leave the block it's declared in. If you returned the array as a pointer, it would point to now unused, ready to be repurposed memory.
Most functions like `fread` expect the caller to provide the buffer. Others `malloc` the memory on heap, and expect you to `free` it later.","",""
"448136699755626508","blackhole#3514","29-Aug-19 06:16 PM","ok, that's a first üòÑ and to think I had a good feeling about my code and was hoping for it to run smoothly the first time. hahaha","",""
"448136699755626508","blackhole#3514","29-Aug-19 06:16 PM","","https://cdn.discordapp.com/attachments/395684916056031245/616652417970470942/image0.jpg",""
"448136699755626508","blackhole#3514","29-Aug-19 06:16 PM","DEADLYSIGNAL lol","",""
"448136699755626508","blackhole#3514","29-Aug-19 06:44 PM","if anyone would be willing to take a look at my code that would be great..","",""
"448136699755626508","blackhole#3514","29-Aug-19 06:44 PM","can't understand where the problem is.","",""
"603294110614552587","noob4ever#1127","29-Aug-19 07:36 PM","@blackhole  You can post it here and just tick the box to mark it as a spoiler.","",""
"448136699755626508","blackhole#3514","29-Aug-19 07:39 PM","Ok, I will post the whole thing here and delete it later.","",""
"197736026905640969","DylieWylie#1914","30-Aug-19 05:54 AM","What type of error are you getting when you try to run it?","",""
"448136699755626508","blackhole#3514","30-Aug-19 06:39 AM","@DylieWylie  I posted a photo just above the code","",""
"448136699755626508","blackhole#3514","30-Aug-19 06:42 AM","@curiouskiwi  I read some of the older messages in this chat and it seems @Spectrum had the same error. Maybe it‚Äôs a similar problem? Would appreciate it if you could take a look.","",""
"393854278764068875","curiouskiwi#1671","30-Aug-19 06:58 AM","@blackhole `char *name = ""000.jpg"";`  declares an immutable string literal.  If you try to change it, you'll crash (as you are).  Perhaps you meant a char array like `char name[]` ?","",""
"448136699755626508","blackhole#3514","30-Aug-19 07:11 AM","@curiouskiwi  thank you so much! I wouldn't have found this error probably for days..","",""
"606269561653952523","just_AK#9448","01-Sep-19 06:11 PM","ok so I now where I was stuck now üòÑ and with all the acrobatics I still cannot seem to get it right... I either end up exactly where I am (all but last file retrieved properly but not writing to the last file correctly and exceeding the file size limit) or I just break everything with infinite loops or conditions that do nothing. Or I start in the wrong place... I dont understand why. I try to follow this with pen and paper and cant seem to find the bug","",""
"606269561653952523","just_AK#9448","01-Sep-19 06:11 PM","has anyone been here?","",""
"234679095378706433","Blauelf#6622","01-Sep-19 06:59 PM","I designed my loop to never end there (single `fread` in the only loop's condition). One iteration per block read, so I can't go infinite. Requires keeping state in variables declared outside the loop.
Previously thought about nesting loops, but that quickly gets too complicated, doing the same checks (end-of-file and next header) in multiple places.","",""
"234679095378706433","Blauelf#6622","01-Sep-19 07:00 PM","Being lazy after all...","",""
"606269561653952523","just_AK#9448","01-Sep-19 07:13 PM","I couldnt figure out the syntax to break out of a loop... and then used a simple flag to break out of everything i needed to break out o","",""
"606269561653952523","just_AK#9448","01-Sep-19 07:13 PM","of*","",""
"606269561653952523","just_AK#9448","01-Sep-19 07:14 PM","I guess I tried to overcomplicate again üòÑ at some point I was pushing and pulling with the cursor so many times I didnt even know where it was üòÑ","",""
"606269561653952523","just_AK#9448","01-Sep-19 07:15 PM","cant wait to start the next problem set!!!","",""
"393854278764068875","curiouskiwi#1671","01-Sep-19 09:38 PM","```while I read in 512 bytes
    if it's a signature
        // do this
    else
       // do that
```","",""
"393854278764068875","curiouskiwi#1671","01-Sep-19 09:39 PM","you shouldn't need more than one loop","",""
"395470433220034564","zayalor#1440","01-Sep-19 11:11 PM","I can fwrite to my outfile every byte that I fread from the infile. However, when I try to fwrite the first three hexadecimal digits (each stored under a different variable), my program no longer creates JPEG files. Does anyone know why? I'm confused about why fwrite doesn't work for variables I didn't fread to.","",""
"393854278764068875","curiouskiwi#1671","01-Sep-19 11:13 PM","why do you have separate variables?  are they the correct type?","",""
"393854278764068875","curiouskiwi#1671","01-Sep-19 11:13 PM","I would expect you have a buffer that holds 512 bytes","",""
"393854278764068875","curiouskiwi#1671","01-Sep-19 11:13 PM","and that's what you write","",""
"395470433220034564","zayalor#1440","01-Sep-19 11:16 PM","@curiouskiwi  I have two buffers. One reads each of the hexadecimal headers and the other reads 512 bytes for the image. I originally tried to write the 512 bytes to a separate file,. However, when I opened the files, it said that the file type was unrecognizeable ( unsupported image format).","",""
"395470433220034564","zayalor#1440","01-Sep-19 11:18 PM","@curiouskiwi  They are all of type int.","",""
"393854278764068875","curiouskiwi#1671","01-Sep-19 11:19 PM","You aren‚Äôt reading ints. You are reading bytes. 8 bit unsigned chars.","",""
"395470433220034564","zayalor#1440","01-Sep-19 11:41 PM","I changed the data type to unsigned characters but still have the image format problem. Excuse me for being daft.  Is it wrong to use an int instead unsigned int for the problem? They can both represent the hexadecimal numbers.","",""
"395470433220034564","zayalor#1440","01-Sep-19 11:43 PM","Perhaps the problem is that I read the first four bytes to see if it's the start of a block. But, I store the 512 bytes after and excluding the prior four bytes.","",""
"393854278764068875","curiouskiwi#1671","01-Sep-19 11:48 PM","I would suggest that you have a buffer that stores 512 bytes, you read into it, you test the first 4 bytes for a signature pattern, and if it's a new jpg, you open the output file and write those 512 bytes from the buffer.  There is no need for anything separate.  And that buffer must hold 512 bytes, not 512 ints.  An int is a 4-byte variable, so if you try to write 1 int, you'll be writing 4 bytes, so that's why the file format isn't working.","",""
"393854278764068875","curiouskiwi#1671","02-Sep-19 12:03 AM","here's a quick example program.  I have 2 arrays, one of unsigned ints, the other unsigned chars, and I write both of them to a file.  Notice when I look at the actual bytes in the file, the first one has 16 bytes (remembering that a byte in hex format is 2 digits).  The second has 4 bytes.","https://cdn.discordapp.com/attachments/395684916056031245/617826860516245518/bytes-v-ints.png",""
"395470433220034564","zayalor#1440","02-Sep-19 01:59 AM","@curiouskiwi  Thank  you I've been trying to fix my code. My code is set to read 512 bytes and test the first four.","",""
"395470433220034564","zayalor#1440","02-Sep-19 06:28 AM","I managed to get all of the images to show up except for one. However,  check50 says none of my images match.","",""
"362737100417662996","Simulacrum#3309","02-Sep-19 01:41 PM","Hello, I badly need help with my recover code, as it already outputs 50 jpgs that aren't empty, but when opened still show the error Invalid or Unsupported File  Format in the IDE.","",""
"234679095378706433","Blauelf#6622","02-Sep-19 09:00 PM","Do you write each 512 byte block exactly once (after finding the first JPEG signature and opening your first output file)? Maybe you don't write those header blocks, also some people messed around with reading less than 512 bytes at once (e.g. using `fgetc`, usually not a good idea, the file system is organised in those blocks and you easily get out of sync).","",""
"343698916023205898","iair1234#4829","03-Sep-19 05:24 AM","hi!
In getting this on check50:
üôÇ recover.c exists.
üôÇ recover.c compiles.
üôÇ handles lack of forensic image
üò¶ recovers 000.jpg correctly
    recovered image does not match
üò¶ recovers middle images correctly
    recovered image does not match
üôÇ recovers 049.jpg correctly
(btw, I see all the images. some of them had white space, but I guess it's normal...)
(tried without and with malloc)","",""
"395470433220034564","zayalor#1440","03-Sep-19 07:27 AM","@iair1234 Do you see images? I had a problem with my images being offset, which caused that problem for me.","",""
"343698916023205898","iair1234#4829","03-Sep-19 07:27 AM","@zayalor i see all the images","",""
"395470433220034564","zayalor#1440","03-Sep-19 07:29 AM","Starting at 000,jpg?","",""
"395470433220034564","zayalor#1440","03-Sep-19 07:30 AM","Woah, I'm not sure if we can share that publically","",""
"395470433220034564","zayalor#1440","03-Sep-19 07:30 AM","Is your image 49 there?","",""
"395470433220034564","zayalor#1440","03-Sep-19 07:30 AM","049.jpg","",""
"343698916023205898","iair1234#4829","03-Sep-19 07:31 AM","yes, boy with tshirt","",""
"343698916023205898","iair1234#4829","03-Sep-19 07:31 AM","049.jpg","",""
"395470433220034564","zayalor#1440","03-Sep-19 07:37 AM","I'm not sure why you have white space in your middle pictures. That sounds odd. Did you use a for loop to read and write to each file?","",""
"395470433220034564","zayalor#1440","03-Sep-19 07:37 AM","Is there a different case for the first and last case?","",""
"343698916023205898","iair1234#4829","03-Sep-19 07:37 AM","the white space was due to zooming out","",""
"343698916023205898","iair1234#4829","03-Sep-19 07:37 AM","when seeing it 100% no white space","",""
"343698916023205898","iair1234#4829","03-Sep-19 07:40 AM","I downloaded all the images and they look perfect.","",""
"600244988370223125","davidkennethc#8243","03-Sep-19 07:45 AM","Hey, I am getting same errors as iair1234 when running check50. However it all compiles, runs and the images are perfectly visible.","",""
"393854278764068875","curiouskiwi#1671","03-Sep-19 07:55 AM","just ran check50 myself and it passed everything, so I don't think it's a problem with check50","",""
"393854278764068875","curiouskiwi#1671","03-Sep-19 07:56 AM","if it's the last image, be sure you aren't writing your final buffer twice.  that's a common mistake (still running your loop even after you've reached the end of the file so the final buffer is written again)","",""
"600244988370223125","davidkennethc#8243","03-Sep-19 08:40 AM","@curiouskiwi  - would it be OK for you to have a look over my code?","",""
"393854278764068875","curiouskiwi#1671","03-Sep-19 08:41 AM","sure, send it privately","",""
"343698916023205898","iair1234#4829","03-Sep-19 02:09 PM","@curiouskiwi could you send me privately 000.jpg? That way I can compare it myself? (I'd like to try and fix it myself first). Also, the last image (049) is fine. But 000 and all the others are not.","",""
"343698916023205898","iair1234#4829","03-Sep-19 04:50 PM","@Jelleas any ideas?
hi!
In getting this on check50:
üôÇ recover.c exists.
üôÇ recover.c compiles.
üôÇ handles lack of forensic image
üò¶ recovers 000.jpg correctly
    recovered image does not match
üò¶ recovers middle images correctly
    recovered image does not match
üôÇ recovers 049.jpg correctly
(tried without and with malloc) // code is commented. I must be missing something BUT i cannot see it... üôÇ","",""
"343698916023205898","iair1234#4829","03-Sep-19 05:07 PM","@davidkennethc could you fix it?","",""
"234679095378706433","Blauelf#6622","03-Sep-19 07:50 PM","Do you maybe append the first block of the next image to the one currently open? Extra data would not confuse the viewer, hard to notice.","",""
"343698916023205898","iair1234#4829","03-Sep-19 08:25 PM","@Blauelf I'm gonna check on that. Do you have any info on 000.jpg? (like, total bytes, etc?) the actual file would be great. 
I'm rewriting all the code though. Thanks for the idea!","",""
"343698916023205898","iair1234#4829","03-Sep-19 09:22 PM","@Blauelf you were right! I rewrote everything, with some rubber dock debugging and now it works perfect!! I really appreciate your help!","",""
"362737100417662996","Simulacrum#3309","05-Sep-19 05:49 PM","@Blauelf  sorry for the really late reply but that actually was the problem! I was calling write only when I wasn't detecting a header block, which meant I was skipping every header block.","",""
"548508397490798603","rybohi - tothewebsite.com#0217","06-Sep-19 01:56 PM","Hello","",""
"548508397490798603","rybohi - tothewebsite.com#0217","06-Sep-19 01:56 PM","```

int main(void)
{
    FILE* open_file = fopen(""card.raw"", ""r"");
    BYTE* the_open_file_values = read_the_file(open_file, 512);


    for(int i = 0; i < 512; i++)
    {
        printf(""%hhu"", the_open_file_values[i]);
    }

}

BYTE* read_the_
file(FILE* the_open_file, long the_block_size )
{
    BYTE* the_open_file_values = (BYTE*) malloc(the_block_size + 2);
    fread(the_open_file_values,1, the_block_size, the_open_file);
    return the_open_file_values;
}
```","",""
"548508397490798603","rybohi - tothewebsite.com#0217","06-Sep-19 01:56 PM","this is my code","",""
"548508397490798603","rybohi - tothewebsite.com#0217","06-Sep-19 01:56 PM","What I attempt to do with the code","",""
"548508397490798603","rybohi - tothewebsite.com#0217","06-Sep-19 01:57 PM",": is to print each value of the_open_file_values","",""
"548508397490798603","rybohi - tothewebsite.com#0217","06-Sep-19 01:57 PM","however i keep getting a undefined behaviour sanitiser error","",""
"548508397490798603","rybohi - tothewebsite.com#0217","06-Sep-19 01:57 PM","any help ?","",""
"572968294424903680","fattytuna7#9460","06-Sep-19 03:29 PM","Hey, I finished this assignment but I'm still wondering about why some of my code works. Particularly:
`","",""
"572968294424903680","fattytuna7#9460","06-Sep-19 03:29 PM","`
        fread(&buffer, 1, 512, inptr);
        if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0)
`","",""
"572968294424903680","fattytuna7#9460","06-Sep-19 03:30 PM","The if statement was from the walkthrough to find the beginning of a jpeg","",""
"572968294424903680","fattytuna7#9460","06-Sep-19 03:31 PM","But since I'm reading 512 bytes into the buffer at once, and just checking the first 4 elements of the buffer, I feel like this only works if the beginning of jpeg lands on bytes {1, 2, 3, 4} or {513, 514, 515, 516} or {1025, 1026, 1027, 1028}... etc.","",""
"572968294424903680","fattytuna7#9460","06-Sep-19 03:32 PM","Is it not conceivable that maybe the first 10 bytes of data were garbage and the JPEG started at byte 10, 11, 12, 13? If that were the case, would my program skip the jpeg?","",""
"149030650639286272","meray#3929","06-Sep-19 04:27 PM","@fattytuna7 I think for the purpose of this course, things were intentionally implemented in a way that the start of any jpeg would be in the first 4 elements of the buffer","",""
"572968294424903680","fattytuna7#9460","06-Sep-19 05:26 PM","Thanks! Yeah that makes sense","",""
"234679095378706433","Blauelf#6622","06-Sep-19 06:06 PM","In most file systems, the start of a file always aligns with 512 byte blocks, often even a higher power of two (for FAT, this block size would be called ""cluster size"", others use different names)","",""
"234679095378706433","Blauelf#6622","06-Sep-19 06:06 PM","So if this was a real card dump, it would align.","",""
"234679095378706433","Blauelf#6622","06-Sep-19 06:07 PM","Files would not necessarily be contiguous, though...","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:16 PM","Hey
I want to convert an integer into a string
e.g. 
```
int four = 4;
```
becomes
```
""4""
```how can i do that
I've tried
itoa() but I keep getting
```
implicit declaration of function 'itoa' is invalid in C99
```","",""
"264184409047957514","Milky#0001","07-Sep-19 01:24 PM","@rybohi - tothewebsite.com Did you include it above?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:31 PM","yes","",""
"393854278764068875","curiouskiwi#1671","07-Sep-19 01:32 PM","Why would you need this?","",""
"393854278764068875","curiouskiwi#1671","07-Sep-19 01:32 PM","Did you look at `sprintf` per the walkthrough?","",""
"393854278764068875","curiouskiwi#1671","07-Sep-19 01:33 PM","","https://cdn.discordapp.com/attachments/395684916056031245/619842731157749770/sprintf.png",""
"393854278764068875","curiouskiwi#1671","07-Sep-19 01:39 PM","@rybohi - tothewebsite.com ^^","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:50 PM","@curiouskiwi  I did sorry","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:50 PM","I just didnt understand how to use it","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:50 PM","is that exactly how to use it as shown in the screen shot?","",""
"393854278764068875","curiouskiwi#1671","07-Sep-19 01:51 PM","yes","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:51 PM","what is the 2 for?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:51 PM","the last argument","",""
"393854278764068875","curiouskiwi#1671","07-Sep-19 01:51 PM","2 is the value you are putting into the string","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:51 PM","ah okay","",""
"393854278764068875","curiouskiwi#1671","07-Sep-19 01:51 PM","so you'd probably have a variable there","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:52 PM","and %03i","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:52 PM","is an integer","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:52 PM","with 3","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:52 PM","length","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:52 PM","the length 3","",""
"393854278764068875","curiouskiwi#1671","07-Sep-19 01:52 PM","yes and zero padded","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:52 PM","gotcha","",""
"393854278764068875","curiouskiwi#1671","07-Sep-19 01:52 PM","so 2 becomes 002   and 35 becomes 035","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:53 PM","btw i've been doing week 3 for 3 weeks ironically","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:53 PM","does it get easier at any point","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:53 PM","?","",""
"393854278764068875","curiouskiwi#1671","07-Sep-19 01:53 PM","look at the last graph here: https://cs50.harvard.edu/college/faqs/#how-much-work-is-cs50","",""
"361235692019384323","Sanath#7244","07-Sep-19 01:54 PM","@rybohi - tothewebsite.com I found the web stuff much easier","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:54 PM","oh and sorry","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:54 PM","what does the filename","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:54 PM","argument","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:54 PM","what is that used for","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:54 PM","?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:55 PM","it already needs to be an open file?","",""
"361235692019384323","Sanath#7244","07-Sep-19 01:55 PM","its the actual string where you store the formatted data","",""
"361235692019384323","Sanath#7244","07-Sep-19 01:55 PM","its not a file","",""
"393854278764068875","curiouskiwi#1671","07-Sep-19 01:55 PM","it's a char array as it says","",""
"393854278764068875","curiouskiwi#1671","07-Sep-19 01:56 PM","so you need to declare a char array big enough to hold the string ""000.jpg""","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:56 PM","oh I think i understand","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:56 PM","its essentially","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:56 PM","a string that will contain","",""
"393854278764068875","curiouskiwi#1671","07-Sep-19 01:56 PM","and then you sprintf to it (ie, you set the chars in the array to 000.jpg","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:56 PM","""000.jpg""","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:56 PM","or","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:56 PM","001.jpg""","",""
"393854278764068875","curiouskiwi#1671","07-Sep-19 01:57 PM","right. make sure you have space for the null char at the end as well","",""
"393854278764068875","curiouskiwi#1671","07-Sep-19 01:57 PM","https://man.cs50.io/3/sprintf","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:59 PM","I want to die...","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:59 PM","https://tenor.com/view/this-is-fine-anxiety-calm-fire-dog-gif-5078122","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 01:59 PM","üôÇ","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 10:17 PM","Hey","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 10:17 PM","In Recover","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 10:17 PM","I'm only finding 2 jpegs","",""
"548508397490798603","rybohi - tothewebsite.com#0217","07-Sep-19 10:18 PM","is that right?","",""
"234679095378706433","Blauelf#6622","08-Sep-19 10:36 AM","The distribution file has 50. You read in blocks of 512 bytes only? You don't skip ""header signature"" blocks?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 11:49 AM","hmm for some reason my code only finds 2 headers üò¶","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 11:49 AM","oh wait","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 11:49 AM","i may know why","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 11:50 AM","Do i have to look for the header to start before i start reading in 512 blocks?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 11:50 AM","e.g.","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 11:50 AM","a header may start at 343 bytes","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 11:50 AM","i then start reading 512 bytes at a time?","",""
"393854278764068875","curiouskiwi#1671","08-Sep-19 11:52 AM","no, all headers start at the beginning of a 512 byte block","",""
"393854278764068875","curiouskiwi#1671","08-Sep-19 11:52 AM","your program should read in 512 bytes and check if the first 4 bytes match the jpg signature","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 12:42 PM","3 bytes?","",""
"393854278764068875","curiouskiwi#1671","08-Sep-19 12:48 PM","no, 4 bytes.","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 12:50 PM","sigh im dumb","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 01:23 PM","Hey
A little problem
```char* creates_jpeg_file_name(int the_counter, int the_size_of_jpeg_name)
{
    char* jpeg_file_name = (char*) malloc(the_size_of_jpeg_name);
    sprintf(jpeg_file_name,""%03i.jpg"",the_counter);

    return jpeg_file_name;

}```
this function is supposed to return
```jpeg_file_name```
however as soon as it exits the function
```jpeg_file_name = nothing```
am i misunderstanding something ?","",""
"361235692019384323","Sanath#7244","08-Sep-19 01:32 PM","If you're talking about the variable 'jpeg_file_name' it gets destroyed after the function exits. You have to use the functions return value","",""
"361235692019384323","Sanath#7244","08-Sep-19 01:32 PM","Also the size of the string is constant. You don't have to take an argument for that","",""
"361235692019384323","Sanath#7244","08-Sep-19 01:33 PM","And I'd recommend just using a char array over malloc since you should be calling free if you're going to use it like this","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 01:46 PM","you can't return char arrays though can you","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 01:46 PM","unless you use malloc()","",""
"234679095378706433","Blauelf#6622","08-Sep-19 01:58 PM","So you allocate 8 bytes (3 digits, 1 dot, 3 letters, 1 null terminator)? Should work then, returning a pointer to the string on heap.","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 02:00 PM","i've fixed it now","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 02:00 PM","you can't return a string unless you malloc() can you ?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 02:00 PM","or an array of integers?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 02:00 PM","@Blauelf","",""
"234679095378706433","Blauelf#6622","08-Sep-19 02:19 PM","`malloc` allocates on heap, which does not care about your control structure.
Variables are allocated on stack instead, which is faster, because variables are simply added at the end of the stack, and on reaching the end of the block the end is reset to its previous value, ""forgetting"" the variables declared in the block (the space will be repurposed by the next variable declared)","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 02:27 PM","that didnt really answer my question","",""
"234679095378706433","Blauelf#6622","08-Sep-19 02:30 PM","Well, if you declare the array in the function, and you return it, you return a pointer to memory that's ""currently unused"" on stack.
If you however declare the array in the calling code, you are not leaving the block it was declared in.","",""
"234679095378706433","Blauelf#6622","08-Sep-19 02:38 PM","So I can write something like
```c
/**
 * Find a character in a string, returns a pointer to the character,
 * or a pointer to the null terminator/string end if not found
 **/
char *find(const char needle, const char *haystack)
{
    while (*haystack && *haystack != needle)
    {
        haystack++;
    }
    return haystack;
}
```
returning a pointer to a string, even though I did not `malloc` it (because the calling code allocated memory for the characters somewhere, and passed it as an argument).","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 02:40 PM","sorry i already understand everything your sayinf","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 02:41 PM","i just wanted confirmation for whether or not what i was saying wqs a correct conclusion","",""
"234679095378706433","Blauelf#6622","08-Sep-19 02:42 PM","Well, if the array is declared in the calling code, it can be returned without `malloc`.","",""
"548508397490798603","rybohi - tothewebsite.com#0217","08-Sep-19 02:43 PM","so why use malloc at all?","",""
"361235692019384323","Sanath#7244","08-Sep-19 02:46 PM","If the size of your string is variable","",""
"234679095378706433","Blauelf#6622","08-Sep-19 02:46 PM","Several things. Maybe the calling code does not know the size you'll need, or it should not care about. Maybe you want to store things that don't need individual variable names, like the nodes of a linked list, or of a tree (those come in week 4, I guess?). Or you want to change the size later (`realloc` exists, but would not be possible on stack).","",""
"361235692019384323","Sanath#7244","08-Sep-19 02:46 PM","Malloc allows you to assign memory at compile time","",""
"361235692019384323","Sanath#7244","08-Sep-19 02:47 PM","Also if you can use a array just use an array","",""
"361235692019384323","Sanath#7244","08-Sep-19 02:48 PM","Malloc'd memory needs to be free'd","",""
"361235692019384323","Sanath#7244","08-Sep-19 02:48 PM","Or at least it should be","",""
"234679095378706433","Blauelf#6622","08-Sep-19 02:50 PM","Well, at the end of your programme, when terminating the process, it's all freed anyway üòõ But yeah, should be `free`d.","",""
"548508397490798603","rybohi - tothewebsite.com#0217","09-Sep-19 01:54 PM","Hey guys","",""
"548508397490798603","rybohi - tothewebsite.com#0217","09-Sep-19 01:55 PM","I've made the mistake of writing loads of jpeg files","",""
"548508397490798603","rybohi - tothewebsite.com#0217","09-Sep-19 01:55 PM","how do i delete them all ?","",""
"234679095378706433","Blauelf#6622","09-Sep-19 02:26 PM","`rm -f *.jpg`
The `-f` will make it not ask at all, so make sure you know what you delete.","",""
"548508397490798603","rybohi - tothewebsite.com#0217","09-Sep-19 03:39 PM","Hey","",""
"548508397490798603","rybohi - tothewebsite.com#0217","09-Sep-19 03:39 PM","thanks @Blauelf","",""
"548508397490798603","rybohi - tothewebsite.com#0217","09-Sep-19 03:39 PM","Also new question","",""
"548508397490798603","rybohi - tothewebsite.com#0217","09-Sep-19 03:39 PM","What does fread() return","",""
"548508397490798603","rybohi - tothewebsite.com#0217","09-Sep-19 03:39 PM","if there is nothing or insufficient amount of bytes to read","",""
"548508397490798603","rybohi - tothewebsite.com#0217","09-Sep-19 03:48 PM","I'm confuzzled as what to do with ```fread()```","",""
"548508397490798603","rybohi - tothewebsite.com#0217","09-Sep-19 03:49 PM","as it returns memory leak","",""
"548508397490798603","rybohi - tothewebsite.com#0217","09-Sep-19 03:49 PM","if i go over","",""
"234679095378706433","Blauelf#6622","09-Sep-19 04:21 PM","`fread` as second and third arguments expects a block size and number of blocks to read, and returns the number of successfully read blocks.","",""
"548508397490798603","rybohi - tothewebsite.com#0217","09-Sep-19 04:52 PM","does card.raw","",""
"548508397490798603","rybohi - tothewebsite.com#0217","09-Sep-19 04:52 PM","fit perfectly into 512?","",""
"361235692019384323","Sanath#7244","09-Sep-19 05:14 PM","No it's much larger","",""
"361235692019384323","Sanath#7244","09-Sep-19 05:14 PM","You have to read in 512 bytes of data without caring about the total size","",""
"603294110614552587","noob4ever#1127","09-Sep-19 05:58 PM","My understanding of fread is ```fread(<Buffer to put data in>,  <Size of block read in>,  <How many of the blocks to read>,  <Pointer to file>)```","",""
"361235692019384323","Sanath#7244","09-Sep-19 06:05 PM","Pretty much","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 12:48 PM","How do i find out the length of my fread?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 12:49 PM","atm","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 12:49 PM","im doing this","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 12:49 PM","```
BYTE* the_open_file_values = (BYTE*) malloc(the_block_size + 2);
    fread(the_open_file_values,1, the_block_size, the_open_file);
```","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 12:49 PM","how would i find out how many values are in the_open_file_values","",""
"393854278764068875","curiouskiwi#1671","10-Sep-19 12:56 PM","fread returns the number of items read.  In your case, if it reads one complete `the_block_size` worth of bytes, it will return `the_block_size`","",""
"393854278764068875","curiouskiwi#1671","10-Sep-19 12:57 PM","so if I had `int result = fread(buffer, 1, 512, fp);`  and then printed `result` it would be 512 if it successfully read in 512 bytes.","",""
"393854278764068875","curiouskiwi#1671","10-Sep-19 01:01 PM","if it read in less than 512, that would be the result value.  So lets say I told it to read in 512 bytes, but the file only had 85 bytes in it (or left to read), then result would be 85.","",""
"393854278764068875","curiouskiwi#1671","10-Sep-19 01:05 PM","@rybohi - tothewebsite.com ^^","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 01:21 PM","okay","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 01:21 PM","I now for some reason keep getting a sanitizer error","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 01:23 PM","how can i debug the sanit error?","",""
"393854278764068875","curiouskiwi#1671","10-Sep-19 01:25 PM","with fread, it would crash if your buffer wasn't big enough to hold the bytes you were reading.","",""
"393854278764068875","curiouskiwi#1671","10-Sep-19 01:26 PM","for recover, I'd expect that your buffer would hold 512 bytes.  (there's no need to malloc it; using an array is sufficient;  `BYTE buffer[512];`  for example","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 01:27 PM","is there a way you can look at my code kiwi?","",""
"393854278764068875","curiouskiwi#1671","10-Sep-19 01:27 PM","I'm about to shut down for the night, but I have a couple of minutes.  send it.","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 01:28 PM","it's really long","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 01:28 PM","how do i send it","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 01:28 PM","?","",""
"393854278764068875","curiouskiwi#1671","10-Sep-19 01:28 PM","http://gist.github.com   make a private (secret) gist and send the link","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 01:31 PM","I've sent it to you","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 01:31 PM","i don't know if you have recieved it","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 01:31 PM","received*","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 01:57 PM","I'm confused and need help with Recover if anyone can help ?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 01:57 PM","I'm getting an error and unsure where it would be","",""
"603294110614552587","noob4ever#1127","10-Sep-19 02:30 PM","@rybohi - tothewebsite.com  If you are using windows, the snipping tool is your friend. Take a snip and save it. You can post it here and mark it as spoiler. Then you can ask a specific question about your code. If you're receiving an error specify what the error is, what part of the code you suspect is throwing the error, a snip of the code,  what you've tried etc.","",""
"361235692019384323","Sanath#7244","10-Sep-19 02:33 PM","You can create a gist directly from the ide though","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 02:33 PM","It's kind of my problem atm","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 02:33 PM","i dont know where the issue might be","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 02:34 PM","how can i do that snanth?","",""
"361235692019384323","Sanath#7244","10-Sep-19 02:34 PM","Highlight your code. There should be a github icon somewhere next to the line numbers","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 02:36 PM","i can't see one","",""
"361235692019384323","Sanath#7244","10-Sep-19 02:37 PM","Mb then they might have changed ide","",""
"361235692019384323","Sanath#7244","10-Sep-19 02:37 PM","Could have sworn I could do that","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 02:38 PM","https://gist.github.com/ryboh1/c2a1409c669491d796a4c93c650af4ea","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 02:38 PM","if anyone knows why i keep getting a sanit error","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 02:38 PM","would be amazing","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 02:38 PM","i have to go to work now üò¶","",""
"361235692019384323","Sanath#7244","10-Sep-19 02:38 PM","What's the error?","",""
"361235692019384323","Sanath#7244","10-Sep-19 02:38 PM","I'll try and check it out","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 02:39 PM","it creates 8 jpegs","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 02:39 PM","then runs into a","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 02:39 PM","```
UndefinedBehaviorSanitizer:DEADLYSIGNAL
==15251==ERROR: UndefinedBehaviorSanitizer: SEGV on unknown address 0x000000000000 (pc 0x7f23439ab5bd bp 0xffffffffffffff88 sp 0x7ffe10f99710 T15251)
```","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 02:39 PM","which im guessing is too much memory is being used","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 02:39 PM","but I'm unsure why","",""
"361235692019384323","Sanath#7244","10-Sep-19 02:41 PM","Is a line number given?","",""
"361235692019384323","Sanath#7244","10-Sep-19 02:48 PM","I'll check it out when I get home","",""
"361235692019384323","Sanath#7244","10-Sep-19 07:20 PM","alright i need to check out the problem to see if theres been any changes","",""
"361235692019384323","Sanath#7244","10-Sep-19 07:44 PM","huh thats weird","",""
"361235692019384323","Sanath#7244","10-Sep-19 07:44 PM","fopen is giving the error on line 61","",""
"361235692019384323","Sanath#7244","10-Sep-19 07:49 PM","what are you trying to do on line 67? Youve already free'd jpeg_file_name","",""
"361235692019384323","Sanath#7244","10-Sep-19 07:51 PM","also I'd recommend just using an array for constant size allocations","",""
"361235692019384323","Sanath#7244","10-Sep-19 07:51 PM","its much easier","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 09:41 PM","Hey","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 09:41 PM","@Sanath","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 09:41 PM","have you figured it out /","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 09:41 PM","?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 09:42 PM","I'll try using an array later","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 11:12 PM","@curiouskiwi  any ideas?","",""
"393854278764068875","curiouskiwi#1671","10-Sep-19 11:14 PM","I have to take my son to school and finish breakfast, so I'll take a look when I get back.","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 11:14 PM","no probs","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 11:14 PM","do you know if there is a way to contact the staff","",""
"393854278764068875","curiouskiwi#1671","10-Sep-19 11:14 PM","it's crashing on malloc","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 11:14 PM","it is","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 11:14 PM","but i dont know why","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 11:14 PM","because it creates 8 jpegs first before it crashes","",""
"393854278764068875","curiouskiwi#1671","10-Sep-19 11:15 PM","you've got so much memory stuff in there.  it's very complicated.  I'd work on getting rid of malloc and trying to simplify it","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 11:15 PM","okay","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 11:15 PM","ill look at that","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 11:16 PM","could it be","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 11:16 PM","that i don't fclose","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 11:16 PM","every time i fopen?","",""
"393854278764068875","curiouskiwi#1671","10-Sep-19 11:20 PM","the bigger problem is that all of the jpgs you are creating have 0 bytes in them","",""
"393854278764068875","curiouskiwi#1671","10-Sep-19 11:21 PM","anyway, I'm off now.","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 11:30 PM","(sigh)","",""
"548508397490798603","rybohi - tothewebsite.com#0217","10-Sep-19 11:30 PM","i will complete this week god damn it","",""
"361235692019384323","Sanath#7244","11-Sep-19 07:12 AM","No","",""
"361235692019384323","Sanath#7244","11-Sep-19 07:12 AM","You're accessing free'd memory","",""
"361235692019384323","Sanath#7244","11-Sep-19 07:12 AM","That's the problem","",""
"361235692019384323","Sanath#7244","11-Sep-19 07:13 AM","On line 67 is your invalid access","",""
"361235692019384323","Sanath#7244","11-Sep-19 07:13 AM","A couple lines before that you've free'd the memory","",""
"548508397490798603","rybohi - tothewebsite.com#0217","11-Sep-19 01:04 PM","i don't understand how I'm accessing free'd memory?","",""
"361235692019384323","Sanath#7244","11-Sep-19 01:26 PM","","https://cdn.discordapp.com/attachments/395684916056031245/621290578058936359/Screenshot_2019-09-11-15-55-40-878_com.android.browser.png",""
"361235692019384323","Sanath#7244","11-Sep-19 01:29 PM","Around line 60-70","",""
"548508397490798603","rybohi - tothewebsite.com#0217","11-Sep-19 01:56 PM","oh sorry","",""
"548508397490798603","rybohi - tothewebsite.com#0217","11-Sep-19 01:56 PM","thats an old version of my code","",""
"548508397490798603","rybohi - tothewebsite.com#0217","11-Sep-19 01:56 PM","I have a new problem now","",""
"548508397490798603","rybohi - tothewebsite.com#0217","11-Sep-19 01:56 PM","```
int finds_reading_length(FILE* the_open_file, int the_block_size)
{
    fseek(the_open_file,-the_block_size,SEEK_CUR);

    BYTE* buffer[the_block_size + 1];

    int bytes_read = fread(buffer, 1,the_block_size, the_open_file);
    return bytes_read;
}
```","",""
"548508397490798603","rybohi - tothewebsite.com#0217","11-Sep-19 01:56 PM","this is how i find out what the length of what I am reading is","",""
"548508397490798603","rybohi - tothewebsite.com#0217","11-Sep-19 01:57 PM","for some reason it doesnt work üò¶","",""
"361235692019384323","Sanath#7244","11-Sep-19 02:15 PM","What's it returning?","",""
"361235692019384323","Sanath#7244","11-Sep-19 02:15 PM","1 or garbage?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","11-Sep-19 02:16 PM","its returning 512 all the time","",""
"548508397490798603","rybohi - tothewebsite.com#0217","11-Sep-19 02:16 PM","actually","",""
"548508397490798603","rybohi - tothewebsite.com#0217","11-Sep-19 02:16 PM","is it possible you can look at all my code","",""
"548508397490798603","rybohi - tothewebsite.com#0217","11-Sep-19 02:17 PM","https://gist.github.com/ryboh1/2bad579855071fee06b7b59e6c4fb9d9","",""
"361235692019384323","Sanath#7244","11-Sep-19 03:20 PM","It's probably returning 512 because it's reading the correct amount","",""
"548508397490798603","rybohi - tothewebsite.com#0217","11-Sep-19 06:22 PM","i figured it out","",""
"548508397490798603","rybohi - tothewebsite.com#0217","11-Sep-19 06:22 PM","my bug was with fseek","",""
"548508397490798603","rybohi - tothewebsite.com#0217","11-Sep-19 06:22 PM","because fseek made it go back 512 spaces","",""
"548508397490798603","rybohi - tothewebsite.com#0217","11-Sep-19 06:22 PM","it would always read 512","",""
"234679095378706433","Blauelf#6622","11-Sep-19 07:49 PM","Unless file is shorter than 512 bytes. Which here is not the case.","",""
"548508397490798603","rybohi - tothewebsite.com#0217","11-Sep-19 08:20 PM","correct","",""
"602817912243355649","RobinHood#0869","11-Sep-19 09:12 PM","`
while ( buffer[0] == 0xff &&
                    buffer[1] == 0xd8 &&
                    buffer[2] == 0xff &&
                    (buffer[3] & 0xf0) == 0xe0)
            {
                tell = ftell(infile);
                printf(""Ftell 2: %i \n"", tell);

                count++;
                sprintf(file_name, ""%03i.jpg"", count);
                printf(""filename: %s \n"", file_name);
                FILE *img = fopen(file_name, ""w"");
                fwrite(buffer, 512, 1, img);

                fread(buffer, 512, 1,infile);
                tell = ftell(infile);
                printf(""Ftell 3: %i \n"", tell);
            }
`
Gives as a result:
Ftell 1: 1536 
Ftell 2: 1536 
filename: 001.jpg 
Ftell 3: 2048 
Ftell 1: 496640 
Ftell 2: 496640 
filename: 002.jpg 
Ftell 3: 497152 
Ftell 1: 698368 
Ftell 2: 698368 

why is there a heap in the while loop from Ftell 3: 2048 to Ftell 1: 496640?","",""
"548508397490798603","rybohi - tothewebsite.com#0217","11-Sep-19 09:37 PM","@RobinHood  do you close the file?","",""
"393854278764068875","curiouskiwi#1671","11-Sep-19 09:57 PM","@RobinHood presumably you are running fread outside of this loop as well?  the jump from 1536 to 2048 is the reading of 512 bytes and then the jump from 2048 to 496640 is the reading of all of the bytes that aren't a jpg signature  (outside this loop).    The first jpg has 495104 bytes.","",""
"451947267558080512","Don Draper#8540","12-Sep-19 09:33 PM","From the walkthrough, I didn't understand how exactly the sprintf() function works in order to write ###.jpg to label a given jpeg. sprintf() takes 3 arguments: the 1st being the pointer to a buffer, then ""%03i.jpg"" (whatever you want to print to the buffer), then the number that goes in ###? 

The buffer in this case is the jpeg file itself? What does %03i mean? And the desired printing goes into the file at the beginning before the other data?","",""
"361235692019384323","Sanath#7244","12-Sep-19 09:33 PM","Think of it like printf","",""
"361235692019384323","Sanath#7244","12-Sep-19 09:33 PM","But it outputs to the first argument","",""
"361235692019384323","Sanath#7244","12-Sep-19 09:34 PM","The buffer should be a char[] large enough to hold the string plus the terminating null byte","",""
"451947267558080512","Don Draper#8540","12-Sep-19 09:36 PM","Oh so this is just a temporary usage for a buffer only. Not directly printing to the file. So I'm guessing once we have the string stored in the buffer, we just print the buffer out to the file after?","",""
"361235692019384323","Sanath#7244","12-Sep-19 09:44 PM","You don't print this to the file","",""
"361235692019384323","Sanath#7244","12-Sep-19 09:44 PM","This string is just the name of the file","",""
"361235692019384323","Sanath#7244","12-Sep-19 09:44 PM","You just use the string to create the file","",""
"451947267558080512","Don Draper#8540","13-Sep-19 12:07 AM","Got it. Thanks","",""
"602817912243355649","RobinHood#0869","13-Sep-19 02:39 AM","@rybohi - tothewebsite.com: @RobinHood  do you close the file? - What do you mean with closing the file?","",""
"451947267558080512","Don Draper#8540","13-Sep-19 11:22 PM","Is sprintf() the equivalent of declaring an array of size n+1 and iterating n times over over strlen of a string to copy it into the array?","",""
"393854278764068875","curiouskiwi#1671","14-Sep-19 01:11 AM","it stands for ""string print"" so it prints whatever you give it to a string instead of to stdout (the terminal).   You have to already have declared a char array big enough to hold the string (including the NUL char at the end) that you pass as one of the arguments.  What you have it 'print' doesn't have to be a string.  So in that respect, strlen doesn't apply.  For example:  ```C
char number[6];
sprintf(number, ""%i"", 12345);
printf(""I now have the string: %s\n"", number);```","",""
"287595273642049536","HarpoN#1724","16-Sep-19 11:05 AM","Hey, I've been having some issues submitting my code for recover. It runs fine on my machine yet whenever I submit it it fails with a segfault. Is there anything that the cs50 machine does differently that I need to take into account? I have no clue why this is happening (I was getting a segfault earlier when working on my solution, but I seemingly fixed the problem) and I don't know where to look for answers.","",""
"234679095378706433","Blauelf#6622","17-Sep-19 08:42 PM","Are you providing enough memory for the file name (7 characters plus null terminator)? That would be a common one, consequences might vary over compiler options.","",""
"234679095378706433","Blauelf#6622","17-Sep-19 08:44 PM","If you run `valgrind ./recover card.raw`, does anything it prints sound like a complaint?","",""
"492450454341550100","WhipStreak23#6131","17-Sep-19 08:45 PM","@RobinHood He means ""Did you use `fclose()` to close the file after you are done?"". It looks like you didn't, Did you?","",""
"307795311512780820","ameritxell#8667","18-Sep-19 04:51 PM","hi, just a quick question, what type of array should the buffer be? char array? or float?","",""
"361235692019384323","Sanath#7244","18-Sep-19 05:52 PM","The data type has to be a byte","",""
"361235692019384323","Sanath#7244","18-Sep-19 05:52 PM","So a char will do","",""
"307795311512780820","ameritxell#8667","18-Sep-19 06:06 PM","I meant the buffer that would hold the 512 bytes of the jpeg","",""
"307795311512780820","ameritxell#8667","18-Sep-19 06:07 PM","I used int, but not sure its correct","",""
"307795311512780820","ameritxell#8667","18-Sep-19 06:07 PM","int buffer[512];","",""
"361235692019384323","Sanath#7244","18-Sep-19 06:08 PM","Yes I know","",""
"361235692019384323","Sanath#7244","18-Sep-19 06:08 PM","Int is generally 4 bytes","",""
"361235692019384323","Sanath#7244","18-Sep-19 06:08 PM","You need something that is 1 byte","",""
"361235692019384323","Sanath#7244","18-Sep-19 06:09 PM","512 * 4 = 2048 which is not how much you want to read in","",""
"307795311512780820","ameritxell#8667","18-Sep-19 06:10 PM","i just tried to change it to char but it gives me errors because im comparing it to see if first four bytes are 0xff, 0xd8, etc","",""
"307795311512780820","ameritxell#8667","18-Sep-19 06:10 PM","recover.c:52:27: error: result of comparison of constant 255 with expression of type 'char' is always false [-Werror,-Wtautological-constant-out-of-range-compare]
                buffer[2] == 0xff &&","",""
"307795311512780820","ameritxell#8667","18-Sep-19 06:12 PM","im trying to test my code now but for some reason it cannot open the file, even though i used the same code to open the file as resize","",""
"307795311512780820","ameritxell#8667","18-Sep-19 06:12 PM","#include <stdio.h>
#include <stdlib.h>

int main(int argc, char *argv[])
{
    // Check only one argument
    if (argc != 2)
    {
        fprintf(stderr, ""Usage: filename\n"");
        return 1;
    }

    //store file name and open file
    char *infile = argv[2];
    FILE *inptr = fopen(infile, ""r"");

    //return error if file could not be opened
    if (inptr == NULL)
    {
        fprintf(stderr, ""Could not open %s.\n"", infile);
        return 2;
    }","",""
"361235692019384323","Sanath#7244","18-Sep-19 06:24 PM","Char can hold values from -128 to 127","",""
"361235692019384323","Sanath#7244","18-Sep-19 06:25 PM","You can use an unsigned char","",""
"307795311512780820","ameritxell#8667","18-Sep-19 06:26 PM","how do i declare that? just unsigned char buffer[512];?","",""
"361235692019384323","Sanath#7244","18-Sep-19 06:27 PM","Yeah","",""
"598396476426682368","Hypnic Jerk#8235","19-Sep-19 10:41 AM","Do open files have scope like variables? My pseudocode looks like this:
||```if we hit a jpeg signature
     then if it's the first jpeg we've found
          create a filename 00x.jpeg, and open FILE *img for writing 
          write to that file
     else if this isn't our first jpeg
          fclose(img)
          create a filename with 00x.jpeg and open FILE *img for writing
          write to that file```||","",""
"598396476426682368","Hypnic Jerk#8235","19-Sep-19 10:43 AM","and i'm getting an error that says in my else case , it says i'm using an undeclared identifier ""img""","",""
"361235692019384323","Sanath#7244","19-Sep-19 10:43 AM","A FILE * is just another variable so yes they have scope","",""
"598396476426682368","Hypnic Jerk#8235","19-Sep-19 10:43 AM","cool ty","",""
"598396476426682368","Hypnic Jerk#8235","19-Sep-19 10:43 AM","i'll try and figure this one out","",""
"361235692019384323","Sanath#7244","19-Sep-19 10:44 AM","Keep in mind that the actual file won't be closed until you call fclose, even if the FILE * goes out of scope","",""
"598396476426682368","Hypnic Jerk#8235","19-Sep-19 10:45 AM","So fclose CAN close files that exist outside of scope...?","",""
"361235692019384323","Sanath#7244","19-Sep-19 11:39 AM","It's not the file that goes out of scope","",""
"361235692019384323","Sanath#7244","19-Sep-19 11:39 AM","It's the variable","",""
"361235692019384323","Sanath#7244","19-Sep-19 11:40 AM","After it goes out of scope you have no way to close the file","",""
"208849839910289408","KingHarley#7873","19-Sep-19 02:33 PM","Hey, so I accidentally ended up creating thousands of files using a while loop and am having trouble deleting them. Since there are so many the page becomes unresponsive. Is there some way I can fix this easily or do I just have to delete them in reasonable blocks, several 100 at time?","",""
"361235692019384323","Sanath#7244","19-Sep-19 02:33 PM","Rm -f *.jpg","",""
"208849839910289408","KingHarley#7873","19-Sep-19 02:33 PM","Thank you. I will try this","",""
"208849839910289408","KingHarley#7873","19-Sep-19 02:34 PM","Thank you very much! Worked like a charm","",""
"361235692019384323","Sanath#7244","19-Sep-19 02:39 PM","No problem","",""
"614953260402606085","kkkttt#3254","19-Sep-19 11:53 PM","how could we get to know it's the end of file?","",""
"234679095378706433","Blauelf#6622","19-Sep-19 11:54 PM","Check the return value of `fread`, that's the easiest one.","",""
"234679095378706433","Blauelf#6622","19-Sep-19 11:54 PM","There's also `feof`, but that one will only trigger after you tried to read beyond the file end. And then you could have read the return value of `fread` instead.","",""
"614953260402606085","kkkttt#3254","19-Sep-19 11:57 PM","thank you! Let me try again now..","",""
"598396476426682368","Hypnic Jerk#8235","20-Sep-19 01:02 AM","wow 001.jpg looks like Emma Watson","",""
"614953260402606085","kkkttt#3254","20-Sep-19 01:42 AM","","https://cdn.discordapp.com/attachments/395684916056031245/624374697903128579/unknown.png",""
"614953260402606085","kkkttt#3254","20-Sep-19 01:42 AM","what happens here","",""
"614953260402606085","kkkttt#3254","20-Sep-19 01:43 AM","I thought the card.raw is much bigger than 512bytes, but why it only print such  a small number of times.","",""
"393854278764068875","curiouskiwi#1671","20-Sep-19 01:46 AM","I'm guessing your terminal is buffering all of the output and only printing the last few lines.","",""
"393854278764068875","curiouskiwi#1671","20-Sep-19 01:48 AM","when I run that exact code and send the output to a text file instead, I get 22757 lines of 512  which matches exactly with the size of card.raw (11,651, 584 bytes)","",""
"393854278764068875","curiouskiwi#1671","20-Sep-19 01:48 AM","","https://cdn.discordapp.com/attachments/395684916056031245/624376276265992202/Screen_Shot_2019-09-20_at_10.47.18_AM.png",""
"614953260402606085","kkkttt#3254","20-Sep-19 01:48 AM","I also try to print the pointer location..","",""
"393854278764068875","curiouskiwi#1671","20-Sep-19 01:49 AM","is there a reason why you are using windows instead of using the CS50 IDE which runs linux?","",""
"614953260402606085","kkkttt#3254","20-Sep-19 01:49 AM","maybe something wrong with my compiler..","",""
"614953260402606085","kkkttt#3254","20-Sep-19 01:53 AM","@curiouskiwi are you using  exact the same code? could you take a screenshot..","",""
"614953260402606085","kkkttt#3254","20-Sep-19 01:58 AM","it gets strange now","https://cdn.discordapp.com/attachments/395684916056031245/624378856404680743/unknown.png",""
"614953260402606085","kkkttt#3254","20-Sep-19 02:00 AM","i has been decreased to 46 but then bounce back to 512","",""
"393854278764068875","curiouskiwi#1671","20-Sep-19 02:24 AM","exactly the same.  here it is in a sandbox  http://bit.ly/2OcjN04","",""
"393854278764068875","curiouskiwi#1671","20-Sep-19 02:24 AM","@kkkttt ^^","",""
"614953260402606085","kkkttt#3254","20-Sep-19 02:26 AM","yes I see..","",""
"614953260402606085","kkkttt#3254","20-Sep-19 02:28 AM","when I copied the same code to my cs50 sandbox, the output is the same as yoursüò¨","",""
"598396476426682368","Hypnic Jerk#8235","20-Sep-19 02:31 AM","Are we expected to solve the problem without watching the walkthroughs? I'm worried it's too easy with walkthroughs and that i'm not figuring enough out on my own","",""
"393854278764068875","curiouskiwi#1671","20-Sep-19 02:31 AM","you are expected to watch the walkthroughs.","",""
"393854278764068875","curiouskiwi#1671","20-Sep-19 02:31 AM","that's why they exist.","",""
"614953260402606085","kkkttt#3254","20-Sep-19 02:41 AM","@curiouskiwi thank you sooooooooo much!","",""
"614953260402606085","kkkttt#3254","20-Sep-19 02:43 AM","I have been wasting a ton of time using the wrong compiler!  I could have solved the problem hours ago if I know this before!","",""
"598396476426682368","Hypnic Jerk#8235","20-Sep-19 03:16 AM","Why would I want to use malloc in recover.c? if I'm declaring variables and arrays, the program is hoping there is space for what I'm asking for already, right? whereas malloc is deliberately requesting a chunk of memory ?","",""
"393854278764068875","curiouskiwi#1671","20-Sep-19 03:38 AM","I can't see any need to use malloc in recover.","",""
"614953260402606085","kkkttt#3254","20-Sep-19 03:38 AM","I didn't use malloc","",""
"598396476426682368","Hypnic Jerk#8235","20-Sep-19 06:15 AM","neither  did i i guess i'm just curious when we'll use it but i'm watching week4 lecture now","",""
"598396476426682368","Hypnic Jerk#8235","20-Sep-19 06:15 AM","30 minutes in seems like we will be","",""
"393854278764068875","curiouskiwi#1671","20-Sep-19 06:18 AM","you'll definitely use it in pset4 speller.","",""
"301525325945241611","Pyroberry#1980","20-Sep-19 11:34 AM","In the walkthrough","",""
"301525325945241611","Pyroberry#1980","20-Sep-19 11:34 AM","It discusses about a buffer when using fread()","",""
"301525325945241611","Pyroberry#1980","20-Sep-19 11:34 AM","And it's apparently a struct?","",""
"301525325945241611","Pyroberry#1980","20-Sep-19 11:34 AM","However I don't know where this struct could be coming from","",""
"393854278764068875","curiouskiwi#1671","20-Sep-19 11:41 AM","the buffer is an array of 512 bytes","","üëå (1)"
"451947267558080512","Don Draper#8540","20-Sep-19 07:04 PM","I'm on week 4 stuff but I still haven't submitted recover. Keep getting ""READ memory access"" error :\ anyone willing to check my code?","",""
"603294110614552587","noob4ever#1127","21-Sep-19 12:09 AM","@Don Draper Post up a snip of the section you think might be throwing the error and mark it as a spoiler.","",""
"451947267558080512","Don Draper#8540","21-Sep-19 01:41 AM","This entire time I thought fread returned the number of bytes read :\","",""
"393854278764068875","curiouskiwi#1671","21-Sep-19 01:42 AM","it does sometimes","",""
"393854278764068875","curiouskiwi#1671","21-Sep-19 01:44 AM","fread(buf, 1, 10, ptr)  will return 10  (which is 10 bytes)","",""
"393854278764068875","curiouskiwi#1671","21-Sep-19 01:45 AM","as long as size is 1, the return value is the number of bytes read.  (because it returns the number of items, and in this case it read 10 items each of size 1 byte).","",""
"451947267558080512","Don Draper#8540","21-Sep-19 02:33 AM","Why wouldn't checking for an opened jpeg this way ||""if (jpeg == fopen()) { }""||  work?","",""
"451947267558080512","Don Draper#8540","21-Sep-19 02:35 AM","I would be declaring jpeg as FILE *jpeg earlier","",""
"393854278764068875","curiouskiwi#1671","21-Sep-19 02:36 AM","fopen gives you a FILE* which you store in  jpeg.  To see if jpeg has a value, you can just say `if (jpeg)`","",""
"393854278764068875","curiouskiwi#1671","21-Sep-19 02:37 AM","or more verbosely  `if (jpeg != NULL)`","",""
"393854278764068875","curiouskiwi#1671","21-Sep-19 02:37 AM","calling fopen again isn't going to accomplish anything useful.","",""
"451947267558080512","Don Draper#8540","21-Sep-19 02:41 AM","I did change it to jpeg != NULL at one point but was getting the errors related to not checking correctly for fread() 's return value. Thanks","",""
"314080769377304587","Arveis#9248","22-Sep-19 02:55 PM","Hey, I have completed the pset3 and I still feel uncertain with my code and sometimes I am not sure how it works. Is this normal?","",""
"373526136321343490","d1m0n#4393","22-Sep-19 06:40 PM","hello, can anyone help me translating to human  language fourth line of conditional check for start of jpeg file search please? It was presented in walkthrough video. Value of 4th byte is supposed to be within 0xe0 to 0xef range .","https://cdn.discordapp.com/attachments/395684916056031245/625355854568488974/unknown.png",""
"373526136321343490","d1m0n#4393","22-Sep-19 06:41 PM","I would define it as","https://cdn.discordapp.com/attachments/395684916056031245/625355962550583317/unknown.png",""
"361235692019384323","Sanath#7244","22-Sep-19 06:43 PM","the 4th line basically discards the lower 4th bits, setting them to 0","",""
"361235692019384323","Sanath#7244","22-Sep-19 06:46 PM","0xe0 is 1110 0000 while 0xef is 1110 1111 so a bitwise & with 0xf0 makes them, and all values between them, the same","",""
"373526136321343490","d1m0n#4393","22-Sep-19 06:56 PM","TY, ill have to read whole new topic on how bitwise operations work to truly understand the logic. Is it ok if I proceed with the solution i have suggested?","",""
"361235692019384323","Sanath#7244","22-Sep-19 07:27 PM","Yeah its completely fine","",""
"361235692019384323","Sanath#7244","22-Sep-19 07:30 PM","Basically 0xf0 is 11110000 so any & operation will result in the last 4 bits always being 0","",""
"361235692019384323","Sanath#7244","22-Sep-19 07:32 PM","Could probably do the same thing with a bitshift operation","",""
"548508397490798603","rybohi - tothewebsite.com#0217","22-Sep-19 08:48 PM","Hey is anyone online?","",""
"361235692019384323","Sanath#7244","22-Sep-19 09:12 PM","Yeah","",""
"404097711617605632","SDam#7693","23-Sep-19 04:43 AM","@ameritxell : ""how do i declare that? just unsigned char buffer[512];?""

https://discordapp.com/channels/393846237255696385/395684916056031245/623902666392862770","",""
"404097711617605632","SDam#7693","23-Sep-19 04:49 AM","so, I see another option is to use `#include ""bmp.h""` and `BYTE buffer[512]`, which also works (of course, you have to copy the bmp.h into your recover folder)","",""
"393854278764068875","curiouskiwi#1671","23-Sep-19 04:50 AM","that won't pass check50 though, since it won't have bmp.h","",""
"393854278764068875","curiouskiwi#1671","23-Sep-19 04:50 AM","if you want to use BYTE  then typedef it at the top of recover.c","",""
"404097711617605632","SDam#7693","23-Sep-19 04:59 AM","wouldn't that require to use `#include <stdint.h>`  for that?","",""
"404097711617605632","SDam#7693","23-Sep-19 05:00 AM","wouldn't that produce the same problem?","",""
"393854278764068875","curiouskiwi#1671","23-Sep-19 05:03 AM","stdint is a standard library","",""
"393854278764068875","curiouskiwi#1671","23-Sep-19 05:03 AM","""bmp.h"" is a local file","",""
"404097711617605632","SDam#7693","23-Sep-19 05:04 AM","ohh","",""
"404097711617605632","SDam#7693","23-Sep-19 05:04 AM","thank you very much","",""
"393854278764068875","curiouskiwi#1671","23-Sep-19 05:04 AM","alternatively, you can `#include <cs50.h>` and then use `byte`  as that is part of the library now.","",""
"404097711617605632","SDam#7693","23-Sep-19 05:04 AM","btw, how were we supposed to know to use ""unsigned char buffer[512]"" if it isn't mentioned in the problem specification?","",""
"404097711617605632","SDam#7693","23-Sep-19 05:04 AM","did I miss something?","",""
"393854278764068875","curiouskiwi#1671","23-Sep-19 05:05 AM","you used bytes in resize, so the assumption is that if you need bytes in recover, you'd use what you learned in resize","",""
"404097711617605632","SDam#7693","23-Sep-19 05:08 AM","but in resize I didn't use `unsigned chart`, I used what was in bmp.h:

```C
#include <stdint.h>
```

```C
typedef uint8_t  BYTE;
```

```C
typedef struct
{
    BYTE rgbtBlue;
    BYTE rgbtGreen;
    BYTE rgbtRed;
} __attribute__((__packed__))
RGBTRIPLE;
```","",""
"393854278764068875","curiouskiwi#1671","23-Sep-19 05:09 AM","so in recover, it's fine to use `uint8_t buffer[512]`     who says it has to be `unsigned char`?","",""
"404097711617605632","SDam#7693","23-Sep-19 05:16 AM","oh, I was confused about what to use, I'm getting it now","",""
"404097711617605632","SDam#7693","23-Sep-19 05:16 AM","thank you very much","",""
"153264387178758144","hi im steven#6206","23-Sep-19 05:35 AM","oh uint8_t is exactly the size of a byte?","",""
"153264387178758144","hi im steven#6206","23-Sep-19 05:35 AM","I guess that makes sense!","",""
"153264387178758144","hi im steven#6206","23-Sep-19 05:39 AM","I was just using char *jpg_chunk[512] that should work too right?","",""
"153264387178758144","hi im steven#6206","23-Sep-19 06:19 AM","If I use `FILE *current_jpg_file;` and use `fread(current_jpg_file)` after without using memalloc first, am i venturing into unallocated memory?","",""
"393854278764068875","curiouskiwi#1671","23-Sep-19 06:28 AM","` char *jpg_chunk[512] `  no.  that creates an array of 512 strings","",""
"153264387178758144","hi im steven#6206","23-Sep-19 06:29 AM","@curiouskiwi oh yeah i meant `char jpg_chunk[512]`","",""
"153264387178758144","hi im steven#6206","23-Sep-19 06:30 AM","i ended up using int though because some part of comparing in the program said it wasnt compatible","",""
"393854278764068875","curiouskiwi#1671","23-Sep-19 06:31 AM","char is a signed value (it has the range of -128 to 127)","",""
"393854278764068875","curiouskiwi#1671","23-Sep-19 06:31 AM","you need a byte, which is an unsigned type with the range 0  to 255","",""
"393854278764068875","curiouskiwi#1671","23-Sep-19 06:31 AM","and int won't work because it is 4 bytes long","",""
"153264387178758144","hi im steven#6206","23-Sep-19 06:32 AM","oh yeah","",""
"153264387178758144","hi im steven#6206","23-Sep-19 06:32 AM","so that's why int doesnt work","",""
"153264387178758144","hi im steven#6206","23-Sep-19 06:33 AM","okay so i just used `uint8_t` with `<stdint.h>` which works","",""
"153264387178758144","hi im steven#6206","23-Sep-19 06:34 AM","and my submission is correct, still wondering if using","",""
"153264387178758144","hi im steven#6206","23-Sep-19 06:35 AM","```
FILE *current_jpg_file;
...

fread(current_jpg_file)
```
is bad practice without malloc between though","",""
"393854278764068875","curiouskiwi#1671","23-Sep-19 06:37 AM","you can't read from the file until you open it","",""
"393854278764068875","curiouskiwi#1671","23-Sep-19 06:38 AM","fopen returns a pointer to the FILE  and then you fread from it into your buffer","",""
"393854278764068875","curiouskiwi#1671","23-Sep-19 06:38 AM","no malloc required","",""
"393854278764068875","curiouskiwi#1671","23-Sep-19 06:38 AM","what were you thinking you had to malloc?","",""
"153264387178758144","hi im steven#6206","23-Sep-19 06:38 AM","ohhhh","",""
"153264387178758144","hi im steven#6206","23-Sep-19 06:39 AM","i thought that fopen() would put the file at the address of FILE *current_jpg_file","",""
"153264387178758144","hi im steven#6206","23-Sep-19 06:39 AM","but you explained it","",""
"153264387178758144","hi im steven#6206","23-Sep-19 06:39 AM","it's just the pointer, so no need for more memory space","",""
"393854278764068875","curiouskiwi#1671","23-Sep-19 06:39 AM","that's right","",""
"153264387178758144","hi im steven#6206","23-Sep-19 06:39 AM","thanks üòÑ","",""
"264184409047957514","Milky#0001","23-Sep-19 08:08 AM","check50 seems not to be working for me","",""
"264184409047957514","Milky#0001","23-Sep-19 08:09 AM","","https://cdn.discordapp.com/attachments/395684916056031245/625559303150895119/unknown.png",""
"264184409047957514","Milky#0001","23-Sep-19 08:09 AM","says these files are not found","",""
"264184409047957514","Milky#0001","23-Sep-19 08:09 AM","but it creates it for me when i run the code","",""
"264184409047957514","Milky#0001","23-Sep-19 08:11 AM","","https://cdn.discordapp.com/attachments/395684916056031245/625559901413965824/unknown.png",""
"393854278764068875","curiouskiwi#1671","23-Sep-19 08:17 AM","if you `rm -f *.jpg` in your recover folder to remove all of your jpgs, and then run `./recover card.raw` again with your latest version, do you get them?","",""
"264184409047957514","Milky#0001","23-Sep-19 08:18 AM","yup","",""
"264184409047957514","Milky#0001","23-Sep-19 08:18 AM","ill do it again","",""
"264184409047957514","Milky#0001","23-Sep-19 08:18 AM","bc why not","",""
"264184409047957514","Milky#0001","23-Sep-19 08:19 AM","yup its still creating the images @curiouskiwi","",""
"264184409047957514","Milky#0001","23-Sep-19 08:21 AM","@curiouskiwi ahh found the issue","",""
"264184409047957514","Milky#0001","23-Sep-19 08:21 AM","turns out they are slightly diff name wise","",""
"264184409047957514","Milky#0001","23-Sep-19 08:23 AM","the char array used to be 7 length","https://cdn.discordapp.com/attachments/395684916056031245/625562875229896706/unknown.png",""
"264184409047957514","Milky#0001","23-Sep-19 08:23 AM","so it didnt have the ending null char","",""
"264184409047957514","Milky#0001","23-Sep-19 08:23 AM","so hence they were diffrent","",""
"373526136321343490","d1m0n#4393","23-Sep-19 04:55 PM","Hello, this was first problem in week 3 i was attempting to do, didn't know that we are supposed to make other problems first. Btw recovery problem video is first in the list at walkthroughs section on course page. So I had no idea that we could create custom data types or that unsigned char even exists. So i ran into 10 hours of trying to debug my code using normal char instead. (Btw if you just want to copy a file and are not doing any checks for byte values,  char type buffer works fine). So just adding a single word - ""unsigned"" to my code  immediately resolved a problem. I wish i knew that 10 hours earlier üôÇ","",""
"373526136321343490","d1m0n#4393","23-Sep-19 05:18 PM","Btw, what happens when we reach end of file, and fread() gets to read fewer bytes than specified by arguments? What exactly gets written into a buffer? Existing data + '\0' in every remaining byte or existing data + remainder stays intact with previous data?","",""
"361235692019384323","Sanath#7244","23-Sep-19 05:35 PM","Remainder stays intact but fread returns the number of bytes read","",""
"361235692019384323","Sanath#7244","23-Sep-19 05:35 PM","And you're guaranteed to be able to read in multiples of 512 anyway","",""
"373526136321343490","d1m0n#4393","23-Sep-19 05:41 PM","So if fread() did read 256 out of 512, it returns 256, and then writes first 256 to buffer leaving other half intact, not changing it to all zeroes?","",""
"373526136321343490","d1m0n#4393","23-Sep-19 05:41 PM","alright","",""
"361235692019384323","Sanath#7244","23-Sep-19 05:42 PM","Yeah","",""
"373526136321343490","d1m0n#4393","23-Sep-19 05:50 PM","end of my 049.jpg looks like this:","https://cdn.discordapp.com/attachments/395684916056031245/625705658490159105/SPOILER_last_jpg.png",""
"373526136321343490","d1m0n#4393","23-Sep-19 05:51 PM","so it has two identical blocks of 512 bytes in the end","",""
"373526136321343490","d1m0n#4393","23-Sep-19 05:53 PM","this is not intended and now my version of recover can allow it to happen only if it copied no new data to buffer.","",""
"373526136321343490","d1m0n#4393","23-Sep-19 06:03 PM","So as l suspected, source file size % 512 returns  0. And  ""while"" loop will never have any new bytes copied to buffer when EOF gets reached, retaining all data from before.","https://cdn.discordapp.com/attachments/395684916056031245/625708865039630346/unknown.png",""
"264184409047957514","Milky#0001","24-Sep-19 03:21 PM","@d1m0n are you in the correct channel?","",""
"264184409047957514","Milky#0001","24-Sep-19 03:21 PM","recover used jpg","",""
"264184409047957514","Milky#0001","24-Sep-19 03:23 PM","if its related to #resize do it there","",""
"264184409047957514","Milky#0001","24-Sep-19 03:23 PM","if not","",""
"264184409047957514","Milky#0001","24-Sep-19 03:23 PM","#general","",""
"264184409047957514","Milky#0001","24-Sep-19 03:24 PM","i guess","",""
"301525325945241611","Pyroberry#1980","26-Sep-19 02:19 AM","How would you declare the buffer here","",""
"301525325945241611","Pyroberry#1980","26-Sep-19 02:19 AM","I know it's an array of 512 bytes but i'm not sure how to translate that into c","",""
"393854278764068875","curiouskiwi#1671","26-Sep-19 02:23 AM","a byte is an unsigned 8-bit type.  one of those in C is an `unsigned char`","",""
"393854278764068875","curiouskiwi#1671","26-Sep-19 02:24 AM","so an array of that type","",""
"301525325945241611","Pyroberry#1980","26-Sep-19 02:31 AM","so i would write unsigned char buffer[512]","",""
"225077857603289088","EVV#9079","26-Sep-19 11:03 PM","Hello, i can¬¥t make the fread function to work ‚òπ","",""
"225077857603289088","EVV#9079","26-Sep-19 11:05 PM","I tried passing a int pointer or a char pointer and it always writes NULL to them","",""
"225077857603289088","EVV#9079","26-Sep-19 11:08 PM","don¬¥t know where else to look at, the FILE is open and i¬¥m sure the size that i¬¥m trying to read is the same size as the variable pointed at","",""
"393854278764068875","curiouskiwi#1671","26-Sep-19 11:19 PM","are you trying to read into a byte buffer array?  `fread(buffer, 1, 512, file);`  should read 512 bytes into the buffer.","",""
"225077857603289088","EVV#9079","27-Sep-19 12:51 AM","I was not doing that, thank you @curiouskiwi !","",""
"301525325945241611","Pyroberry#1980","27-Sep-19 01:41 AM","can someone give me a hint as to how i would stop my loop at the end of the file","",""
"393854278764068875","curiouskiwi#1671","27-Sep-19 01:48 AM","as Zamyla mentions, the fread function returns the number of elements read, so perhaps you can call fread in a while condition and check its return value","",""
"393854278764068875","curiouskiwi#1671","27-Sep-19 01:48 AM","(and if you do that, be sure not to also call fread later on)","",""
"301525325945241611","Pyroberry#1980","27-Sep-19 01:50 AM","ohhhhhhhh","",""
"301525325945241611","Pyroberry#1980","27-Sep-19 01:50 AM","i see","",""
"301525325945241611","Pyroberry#1980","27-Sep-19 01:50 AM","@curiouskiwi","",""
"301525325945241611","Pyroberry#1980","27-Sep-19 01:50 AM","quick question","",""
"301525325945241611","Pyroberry#1980","27-Sep-19 01:51 AM","why dont i use fread in the loop","",""
"301525325945241611","Pyroberry#1980","27-Sep-19 01:51 AM","doesnt the condition in the loops check its return value only","",""
"393854278764068875","curiouskiwi#1671","27-Sep-19 01:52 AM","if you call fread in a while loop condition, it actually calls fread (otherwise it can't return a value)","",""
"301525325945241611","Pyroberry#1980","27-Sep-19 01:53 AM","oh wow that's interesting","",""
"301525325945241611","Pyroberry#1980","27-Sep-19 01:53 AM","thanks","",""
"301525325945241611","Pyroberry#1980","27-Sep-19 03:44 AM","Oh my god I'm so close","",""
"301525325945241611","Pyroberry#1980","27-Sep-19 03:45 AM","Every image I've recovered is correct","",""
"301525325945241611","Pyroberry#1980","27-Sep-19 03:45 AM","except the first one","",""
"301525325945241611","Pyroberry#1980","27-Sep-19 03:46 AM","","https://cdn.discordapp.com/attachments/395684916056031245/626942688914178088/unknown.png",""
"301525325945241611","Pyroberry#1980","27-Sep-19 03:46 AM","my first file is 0 + B","",""
"301525325945241611","Pyroberry#1980","27-Sep-19 03:46 AM","what have i done wrong","",""
"393854278764068875","curiouskiwi#1671","27-Sep-19 03:52 AM","are you sure your counter is initialized to 0?","",""
"301525325945241611","Pyroberry#1980","27-Sep-19 03:53 AM","yep","",""
"301525325945241611","Pyroberry#1980","27-Sep-19 03:57 AM","","https://cdn.discordapp.com/attachments/395684916056031245/626945577346924555/SPOILER_unknown.png",""
"301525325945241611","Pyroberry#1980","27-Sep-19 03:58 AM","This is what my code looks like","",""
"393854278764068875","curiouskiwi#1671","27-Sep-19 04:00 AM","hmm, that looks okay.  want to send me the code privately and I'll run it here to see?","",""
"301525325945241611","Pyroberry#1980","27-Sep-19 04:01 AM","Yep sure","",""
"531274224631939082","Wacho#3961","27-Sep-19 04:04 AM","I'm getting a ""can't check until a frown turns upside down"" when submitting.. what does it mean? I'm getting all the pictures.","",""
"393854278764068875","curiouskiwi#1671","27-Sep-19 04:08 AM","the frown means that something early on in the tests failed.","",""
"393854278764068875","curiouskiwi#1671","27-Sep-19 04:08 AM","what's the red error?","",""
"531274224631939082","Wacho#3961","27-Sep-19 04:08 AM","üò¶ recover.c compiles.
    code failed to compile","",""
"393854278764068875","curiouskiwi#1671","27-Sep-19 04:09 AM","if I had to guess,  you have a #include to a local file that check50 doesn't know about.  All of your code must be in recover.c since that's the only file that gets sent","",""
"531274224631939082","Wacho#3961","27-Sep-19 04:10 AM","ah yes that bmp.h file.. ok I'll fix it thanks","",""
"539383662681260032","forg#9122","27-Sep-19 10:48 PM","I've got a working code but it's ugly af so I am working on optimizing it - How does the while loop you've set up handle the last block when there are fewer than 512 bytes @Pyroberry ? Reading the manual page for fread- is the return value 0 when EOF is reached?","",""
"539383662681260032","forg#9122","27-Sep-19 10:50 PM","And what do you mean here @curiouskiwi ""(and if you do that, be sure not to also call fread later on)""","",""
"301525325945241611","Pyroberry#1980","28-Sep-19 02:09 AM","@forg I believe the fread function in my code will stop working when it reaches the end of the file because thats when the buffer will have a size less than 512 bytes","",""
"539383662681260032","forg#9122","28-Sep-19 02:59 AM","Ok but does that mean it returns a false value because the actual amount is fewer than the input 512? Just trying to make sure I get what‚Äôs happening","",""
"393854278764068875","curiouskiwi#1671","28-Sep-19 03:22 AM","if you have `fread(buffer, 1, 512, inptr)`  then it will return 512 if it reads in 512 bytes and a number less than 512 if it reads in fewer.","",""
"393854278764068875","curiouskiwi#1671","28-Sep-19 03:23 AM","so if you said ||`while(fread(buffer, 1, 512, inptr) == 512)` || your loop wouldn't run if it wasn't successful.","",""
"627943553422721084","Moose#8674","29-Sep-19 10:21 PM","Hi guys, üëã 
So close I can taste it.
What could be the problem with my code?","https://cdn.discordapp.com/attachments/395684916056031245/627947969403945018/unknown.png",""
"393854278764068875","curiouskiwi#1671","29-Sep-19 10:41 PM","what have you initialized count to?","",""
"627943553422721084","Moose#8674","29-Sep-19 10:41 PM","0","",""
"393854278764068875","curiouskiwi#1671","29-Sep-19 10:42 PM","and does your 000.jpg open and you can see it","",""
"627943553422721084","Moose#8674","29-Sep-19 10:43 PM","It (000.jpg) is the only one that doesn't seem to open","",""
"393854278764068875","curiouskiwi#1671","29-Sep-19 10:48 PM","how are you declaring filename?","",""
"264184409047957514","Milky#0001","29-Sep-19 10:50 PM","@Moose What is img declared as?","",""
"264184409047957514","Milky#0001","29-Sep-19 10:50 PM","bc you could be writing info you dont need at the start","",""
"264184409047957514","Milky#0001","29-Sep-19 10:50 PM","hence why it would be the only bad one","",""
"393854278764068875","curiouskiwi#1671","29-Sep-19 10:52 PM","your filename array doesn't look big enough to hold a string `""000.jpg""`","",""
"393854278764068875","curiouskiwi#1671","29-Sep-19 10:53 PM","`'0' '0' '0' '.' 'j' 'p' 'g' '\0'`","",""
"627943553422721084","Moose#8674","29-Sep-19 10:54 PM","@Milky  I thought all ""blocks"" generated before I open a file are discarded...","",""
"393854278764068875","curiouskiwi#1671","29-Sep-19 10:57 PM","@Moose they are in your code.","",""
"627943553422721084","Moose#8674","29-Sep-19 10:57 PM","@curiouskiwi it worked!","",""
"393854278764068875","curiouskiwi#1671","29-Sep-19 10:57 PM","the only issue is filename","",""
"393854278764068875","curiouskiwi#1671","29-Sep-19 10:57 PM","üôÇ","",""
"627943553422721084","Moose#8674","29-Sep-19 10:58 PM","ü§¶  dumb moment üòÇ
Thanks!","",""
"202945987889594368","PlayChill#7187","01-Oct-19 10:52 PM","I am using this while loop to reach the end of file and in the loop i am checking if a jpg sig is found, i only got 1 jpg.. how do i know if this is the correct number of jpgs?","https://cdn.discordapp.com/attachments/395684916056031245/628680630842163260/SPOILER_unknown.png",""
"202945987889594368","PlayChill#7187","01-Oct-19 10:52 PM","isnt there supposed to be 50?","",""
"202945987889594368","PlayChill#7187","01-Oct-19 10:53 PM","also i counted the number of BLOCKS there are and i got 138, i am not sure if that is correct","",""
"202945987889594368","PlayChill#7187","01-Oct-19 10:54 PM","i used 0x04 as the end of file value, however i think it is finding that value in one of the jpgs data","",""
"202945987889594368","PlayChill#7187","01-Oct-19 10:55 PM","is using feof() better?","",""
"202945987889594368","PlayChill#7187","01-Oct-19 10:56 PM","oh ok nvm i got it heh","",""
"202945987889594368","PlayChill#7187","01-Oct-19 10:56 PM","i got 50 images","",""
"136631429151850496","Infi#2773","03-Oct-19 01:18 AM","Hey guys, I just have a quick questions about one of the steps in the specifications. 

""If the forensic image cannot be opened for reading, your program should inform the user as much, as with fprintf (to stderr), and main should return 2.""

When did we talk about `fprintf` and `stderr`? I feel like this came out of left field and I don't really understand their function.","",""
"136631429151850496","Infi#2773","03-Oct-19 01:21 AM","I'm sure `fprintf` is a function to print to a file, but what is `stderr`?","",""
"393854278764068875","curiouskiwi#1671","03-Oct-19 01:45 AM","`stderr` is one of the 2 standard output streams that go to the terminal.   `printf` goes to stdout by default.","",""
"393854278764068875","curiouskiwi#1671","03-Oct-19 01:46 AM","by using `fprintf(stderr, ...)` you are still printing to the terminal but to the `stderr` stream rather than the `stdout` stream.   It allows you, if you are redirecting terminal outputs, to distinguish between error messages and others.","",""
"393854278764068875","curiouskiwi#1671","03-Oct-19 01:47 AM","For the purposes of this problem, you can use `printf` if you'd prefer.  (I think this particular instruction was a holdover from a previous year when we covered this distinction in class).","",""
"393854278764068875","curiouskiwi#1671","03-Oct-19 01:53 AM","more info here: https://en.wikipedia.org/wiki/Standard_streams","",""
"136631429151850496","Infi#2773","03-Oct-19 01:56 AM","Cool, thanks for the info Kiwi. I'll probably use printf instead, because I was having problems getting it to `return 1` or `return 2` with fprintf to stderr.","",""
"136631429151850496","Infi#2773","03-Oct-19 01:59 AM","nvm i got it working","",""
"393854278764068875","curiouskiwi#1671","03-Oct-19 01:59 AM","hm.   ```C
fprintf(stderr, ""usage: ./recover file\n"");
return 1;```  should work identically to ```C
printf(""usage: ./recover file\n"");
return 1;```","",""
"136631429151850496","Infi#2773","03-Oct-19 02:00 AM","yeah, honestly I don't know what I did differently. I rewrote it and it worked, so I must have had a problem with the syntax that I just didn't catch the first time.","",""
"136631429151850496","Infi#2773","04-Oct-19 10:57 PM","does the end of card block belong to the previous .jpg and need to be written to the file, or is it an independent block?","",""
"136631429151850496","Infi#2773","04-Oct-19 11:33 PM","nvm, got it to work!","",""
"508478752204783616","ngrav007#4078","05-Oct-19 05:22 PM","I am having an issue with my program where it does not recover only the last image properly...has anyone else run into this problem and offer a pointer to a solution?","",""
"393854278764068875","curiouskiwi#1671","05-Oct-19 10:13 PM","@ngrav007 be sure you aren't writing the last block twice, which could happen if your fread has hit the end of the file but you don't check for that until after you've run your loop.","",""
"436300361280782346","shultzy#1470","06-Oct-19 01:38 AM","I basically have this problem completed, but running check50 returns with the hash from 049.jpg does not match. the image is clearly readable. any ideas?","",""
"393854278764068875","curiouskiwi#1671","06-Oct-19 01:45 AM","see my reply just above yours","",""
"436300361280782346","shultzy#1470","06-Oct-19 03:22 AM","thank you, I realized that I was writing the last block as 512 bytes instead of the size that was read to the end of file if that helps anyone. its working now üòÑ","",""
"606445259680907264","Jeet Shah#8293","12-Oct-19 06:07 AM","How do you go to the next block?","",""
"393854278764068875","curiouskiwi#1671","12-Oct-19 06:16 AM","if you are reading in a while loop, you'll keep reading blocks until you reach the end.","",""
"606445259680907264","Jeet Shah#8293","12-Oct-19 03:47 PM","can someone pls check my code and let me know why is it not working","",""
"606445259680907264","Jeet Shah#8293","13-Oct-19 06:17 PM","","https://cdn.discordapp.com/attachments/395684916056031245/632959988729380884/unknown.png",""
"606445259680907264","Jeet Shah#8293","13-Oct-19 06:17 PM","more files are created thats why i am thinging 1485 file are formed and not only 50","",""
"606445259680907264","Jeet Shah#8293","13-Oct-19 06:18 PM","Someone pls help","",""
"234679095378706433","Blauelf#6622","13-Oct-19 06:40 PM","@Jeet Shah Should be `.jpg`, as that's requested by the problem description. If you make it `.jpeg`, also the buffer is too small, overwriting the next byte with a zero (the null terminator that no longer fits into the 8 bytes), whatever this byte referred to (maybe it's part of another variable).","",""
"606445259680907264","Jeet Shah#8293","13-Oct-19 06:42 PM","So how long should buffer be?","",""
"606445259680907264","Jeet Shah#8293","13-Oct-19 06:51 PM","You are great","",""
"606445259680907264","Jeet Shah#8293","13-Oct-19 06:51 PM","Done","",""
"234679095378706433","Blauelf#6622","13-Oct-19 06:53 PM","8 is fine if it's the requested `000.jpg` instead of `000.jpeg`.","",""
"467267178094264342","YBXS#8667","15-Oct-19 10:31 PM","` while( fread(buffer,  512,  1,  inptr))`
correct me if I'm wrong -- this checks true as long as fread can read 1 block of 512 bytes 
So this will not check the end of file condition where the block will be less than 512 bytes right ??","",""
"393854278764068875","curiouskiwi#1671","15-Oct-19 10:44 PM","it returns 1 if it can read 512 bytes, and it returns 0 if it can't.","",""
"393854278764068875","curiouskiwi#1671","15-Oct-19 10:44 PM","alternatively  `while (fread(buffer, 1, 512, inptr)` will return 512 if it can read all 512 bytes and less than 512 if it can't.","",""
"393854278764068875","curiouskiwi#1671","15-Oct-19 10:45 PM","for the purposes of recover, the rawfile you are given is in blocks of 512.","",""
"121469645994590208","Scott Henderson (he/him)#1924","16-Oct-19 09:28 PM","I could use some clarification about how we write from the buffer to the new JPEG file. Based on the walkthrough, we can use 

fwrite(buffer, 512, 1, outpr)

to write the portions of the JPEG we find while running the program. 

Do we need to be passing our buffer through a fwrite function similar to what we had in .resize to read the &triple format from the JPEG? Does the JEPG file format have a different data structure for colors that will be include through the fwrite() function by itself?","",""
"393854278764068875","curiouskiwi#1671","16-Oct-19 09:48 PM","you only need to write the 512 bytes using that fwrite statement you've shown","",""
"121469645994590208","Scott Henderson (he/him)#1924","16-Oct-19 09:56 PM","Gotcha, we don't need to worry about the RGBtriple from .resize? Thanks","",""
"467267178094264342","YBXS#8667","16-Oct-19 09:59 PM","not needed","",""
"121469645994590208","Scott Henderson (he/him)#1924","16-Oct-19 11:09 PM","awesome thanks","",""
"556931239756693516","thebluestfox#9307","18-Oct-19 01:25 AM","I keep getting a weird error message, can't seem to track down the problem. Anyone care to take a look?
`Fatal error: glibc detected an invalid stdio handle
Aborted`","",""
"556931239756693516","thebluestfox#9307","18-Oct-19 01:25 AM","I'm getting extremely frustrated üò¨","",""
"393854278764068875","curiouskiwi#1671","18-Oct-19 01:26 AM","sounds like you are passing something wrong to fopen.","",""
"623156179081756672","sai#1028","19-Oct-19 04:21 PM","my jpgs are not opening why","",""
"348898174137532417","Kinno#3002","19-Oct-19 06:53 PM","we need to see the code to know","",""
"348898174137532417","Kinno#3002","19-Oct-19 06:53 PM","possible ideas to chceck","",""
"348898174137532417","Kinno#3002","19-Oct-19 06:55 PM","wait","",""
"348898174137532417","Kinno#3002","19-Oct-19 06:55 PM","you mean the jpegs you make do not open?","",""
"467267178094264342","YBXS#8667","20-Oct-19 08:34 PM","I'm able to get all 50 pic but I cant submit50. It fails on the last pic. It seems fine when I open it tho.","",""
"467267178094264342","YBXS#8667","20-Oct-19 08:35 PM","will someone look at my code ?","",""
"393854278764068875","curiouskiwi#1671","20-Oct-19 08:37 PM","more than likely, you are writing the final 512 block of bytes twice.  Are you sure your loop ends (and you don't write any more blocks) once you've read in the last byte?  (hint. if you are using `feof` as your while loop condition, you probably aren't)","",""
"467267178094264342","YBXS#8667","20-Oct-19 08:40 PM","i am not using `feof`","",""
"393854278764068875","curiouskiwi#1671","20-Oct-19 08:43 PM","are you using the return value of fread?","",""
"467267178094264342","YBXS#8667","20-Oct-19 08:45 PM","yes I tried that but It returned 0","",""
"467267178094264342","YBXS#8667","20-Oct-19 08:45 PM","somehow the last part of my code doesn't even matter.. I commented them out and still got all pics","",""
"393854278764068875","curiouskiwi#1671","20-Oct-19 08:56 PM","A typical pseudocode for this problem, after getting the input file, etc.   ```
While I have read in 512 bytes:
    Are the first 4 bytes a signature?
         Is there already a jpg open?  if so close it.
         create a new jpg
    Is there a jpg open?
        write the bytes
close the final jpg
close the rawfile```   Is your code structured along those same lines?","",""
"467267178094264342","YBXS#8667","20-Oct-19 08:58 PM","yeah","",""
"467267178094264342","YBXS#8667","20-Oct-19 09:01 PM","I think I've been stuck in this part for 3 days.. I really wanna finish this and move on","",""
"393854278764068875","curiouskiwi#1671","20-Oct-19 09:09 PM","send me your code privately and I'll give you a hint.","",""
"210098845584064513","Daisy#1900","21-Oct-19 10:24 PM","I have a weird problem... I get 51 images, the first one is filled almost entirely with 0's. Which obviously makes me fail the check50. However, I have a hack to fix it... if I change my counter to start at -1, so the first file it creates is called -01.jpg, I get all green on check50. Don't want to cheat it like that, but  I have no idea where the issue might lay.","",""
"393854278764068875","curiouskiwi#1671","21-Oct-19 10:45 PM","sounds like you are writing the first file from the beginning of card.raw instead of looking for the first signature.","",""
"210098845584064513","Daisy#1900","21-Oct-19 10:51 PM","Yeah, I was.... wow that's embarrassing... but jus that comment made me find the issue instantly xD","",""
"210098845584064513","Daisy#1900","21-Oct-19 10:51 PM","it works now","",""
"210098845584064513","Daisy#1900","21-Oct-19 10:53 PM","I don't even know why I had that part.. in my condition for looking for the signature, I had an ' || img == NULL'","",""
"490708642996158464","SKOO#9948","22-Oct-19 07:50 AM","So I bumped into an issue, I use vscode and mingw(with a side of clang). It's the dev env,I felt most comfortable in.  Be sure to fopen your file with ""wb"" and ""rb'... Windows trys adding extra characters into the fray otherwise.","",""
"490708642996158464","SKOO#9948","22-Oct-19 07:51 AM","Also. All of my images process, I can view them all but the last image doesn't pass check50.. üò´","",""
"208359344385949697","AngloFalcon#9484","23-Oct-19 11:56 PM","Could anyone give me a little nudge in the right direction - I understand how to iterate across the card and look for signatures, if the signatures match those of a jpeg, then create a jpeg file and copy 512 bytes into it. 

What I'm coming up short on figuring out is how to check whether a jpeg was previously created (if this isn't the first jpeg, close the last one) within that loop, and equally, if the signature doesn't start with a jpeg marker but there is already a jpeg file open, write the 512 bytes to it as opposed to moving on.","",""
"393854278764068875","curiouskiwi#1671","23-Oct-19 11:57 PM","if you have previously declared a FILE pointer, like `FILE *jpg = NULL;`   and then use that for each jpg, you know that you have an open jpg if `jpg !=NULL`","",""
"393854278764068875","curiouskiwi#1671","23-Oct-19 11:58 PM","so you only fwrite to jpg if it's not null.  ie, you always write the block if jpg is not null.","",""
"393854278764068875","curiouskiwi#1671","24-Oct-19 12:00 AM","and that's the only time you write the block.  So you might imagine pseudocode:  ```
while I read in 512 bytes:
    if it's a signature:
        if jpg isn't null:
            close jpg
        open new one
    if jpg isn't null:
        write the block```","",""
"393854278764068875","curiouskiwi#1671","24-Oct-19 12:00 AM","that covers all possible scenarios.","",""
"393854278764068875","curiouskiwi#1671","24-Oct-19 12:01 AM","oops, fixed the indentation.","",""
"208359344385949697","AngloFalcon#9484","24-Oct-19 12:04 AM","Thanks for that - that makes sense. One of the challenges I was facing may be my use of the syntax, as I was trying to say 

`FILE *outptr = fopen(incremented name of jpeg, ""w"")`

The problem is I was then checking as my first condition if I find a signature 

`if (outptr != NULL)` etc, but if I do this, the very first time the program is run, it just throws it back and says outptr is an undeclared identifier, because it hasn't been created yet. Was my mistake initialising outptr within the loop?","",""
"208359344385949697","AngloFalcon#9484","24-Oct-19 12:06 AM","So I could create the outptr pointer before I start iterating across the card as part of a loop, because it isn't yet pointing to something ü§î","",""
"393854278764068875","curiouskiwi#1671","24-Oct-19 12:07 AM","yes, you need to declare it before the loop.","",""
"393854278764068875","curiouskiwi#1671","24-Oct-19 12:07 AM","so `FILE *outptr = NULL;`","",""
"393854278764068875","curiouskiwi#1671","24-Oct-19 12:07 AM","and then, when you open a file  `outptr = fopen(...`","",""
"208359344385949697","AngloFalcon#9484","24-Oct-19 12:08 AM","Thanks for that! I started to recognise the error as I was explaining it üòÖ Very much appreciate the guidance","",""
"393854278764068875","curiouskiwi#1671","24-Oct-19 12:10 AM","ah, so I'm your debug duck. üôÇ","",""
"393854278764068875","curiouskiwi#1671","24-Oct-19 12:10 AM","ü¶Ü","",""
"208359344385949697","AngloFalcon#9484","24-Oct-19 12:11 AM","Haha üòÜ I guess so! I was hitting a wall there. Must have been a long day at work.","",""
"225501778878267395","Aees#0843","24-Oct-19 03:30 PM","Can someone tell me at what iteration of 512b size blocks the first picture is found?","",""
"225501778878267395","Aees#0843","24-Oct-19 03:30 PM","This would help me greatly while troubleshooting.","",""
"225501778878267395","Aees#0843","24-Oct-19 04:53 PM","nvm","",""
"208359344385949697","AngloFalcon#9484","24-Oct-19 10:41 PM","Hi chaps,
So I've stumbled across an error and I am actually somewhat stumped as to what is happening because I thought everything was implemented correctly. The issue is twofold.

1. Before the while loop that collects the bytes of data from the card and prints to the output file, I set an int counter to 0. I'm using that within the loop so that I can create the names of the jpegs with sprintf. So essentially `int counter = 0;`, then I create an array of six chars to hold the name `unsigned char name[6]`.
Within the loop, I then say `sprintf(name, ""%03i.jpg"", counter)`. However, at some point in that process, counter gains an extra +103 value, meaning that the first file prints out 000.jpg and the second 104.jpg. I don't understand this. ü§î 

2. The bigger problem - my program currently collects two jpegs, then just stops. Sometimes it says `File size limit exceeded` but how is this true, if the buffer is 512 bytes and it's iterating across the card through a loop? I'm pretty stuck right now, because I feel I must have a misconception of one of the functions or data types.","",""
"393854278764068875","curiouskiwi#1671","24-Oct-19 10:52 PM","@AngloFalcon   is 6 bytes enough to hold the properly terminated string ""000.jpg""?  ```
'0' '0' '0' '.' 'j' 'p' 'g' '\0'```","",""
"393854278764068875","curiouskiwi#1671","24-Oct-19 10:55 PM","the extra 103 is the clue...   your counter variable is stored in memory probably just after your char array.  so sprintf puts 000.jpg into memory but because you only have allocated enough room for 000.jp   the 'g' goes into the next spot, where your counter is stored.  and 'g' in ascii has the value 103.","",""
"225501778878267395","Aees#0843","24-Oct-19 10:56 PM","how big is the first and last images supposed to be?","",""
"393854278764068875","curiouskiwi#1671","24-Oct-19 10:56 PM","file size limit...  that should tell you that you are writing more bytes to your open jpg than it can hold.  are you sure you are closing each file and opening a new one?  @AngloFalcon","",""
"225501778878267395","Aees#0843","24-Oct-19 10:56 PM","my 000.jpg is 483kb and 049.jpg is 176kb","",""
"393854278764068875","curiouskiwi#1671","24-Oct-19 10:59 PM","@Aees those are both a bit too small   first is 495104","",""
"393854278764068875","curiouskiwi#1671","24-Oct-19 11:01 PM","@AngloFalcon I'd suggest that your filename problem is probably causing issues with each jpg, so fix that first and see what happens.","",""
"208359344385949697","AngloFalcon#9484","24-Oct-19 11:04 PM","Oh man, that makes sense. Yeah, I was totally skipping over allocating room for my `\0`. Damn.

I have altered that and am now finding that it is naming them correctly but still crashing after two jpgs. There must be a flaw in my setup (perhaps in my loop) but I'm basically saying:

`While (fread(buffer, 512, 1, outptr))

Does it have the starting signature?
If yes, does outptr == NULL?
If no, close ouptr
Create name
Open new file with name
Copy to new file

Is outptr == NULL?
If no, copy to outptr`","",""
"393854278764068875","curiouskiwi#1671","24-Oct-19 11:06 PM","so your filename array is now 8?","",""
"208359344385949697","AngloFalcon#9484","24-Oct-19 11:08 PM","ü§¶","",""
"208359344385949697","AngloFalcon#9484","24-Oct-19 11:08 PM","Sorry, no, I forgot to allocate space for the . and made it 7. My bad - I was being dumb","",""
"393854278764068875","curiouskiwi#1671","24-Oct-19 11:09 PM","which means the nul char was going into the first byte of your buffer, and you never found any more jpgs","",""
"393854278764068875","curiouskiwi#1671","24-Oct-19 11:10 PM","or they were all corrupted","",""
"208359344385949697","AngloFalcon#9484","24-Oct-19 11:11 PM","Yeah, that totally makes sense. I was failing to respect the array format of having an extra byte allocated for the /0 value","",""
"393854278764068875","curiouskiwi#1671","24-Oct-19 11:11 PM","one issue with your loop ... hard to tell based on indentation, but it seems you are writing the signature block twice","",""
"393854278764068875","curiouskiwi#1671","24-Oct-19 11:11 PM","unless you've got an else in there that you didn't show","",""
"208359344385949697","AngloFalcon#9484","24-Oct-19 11:14 PM","Yeah, apologies, the indentation was off there. I was throwing in an else. I believe it will run properly now, as the key to the whole issue was getting the array length wrong for the name","",""
"208359344385949697","AngloFalcon#9484","24-Oct-19 11:15 PM","Many thanks indeed; I was totally going blank on that requirement >.>","",""
"129022258025857024","TjAfro#1861","24-Oct-19 11:58 PM","hey guys first time asking for help. I've been spending a few hours on this problem and I'm finally generating all 50 jpgs but the images are not loading properly.","",""
"129022258025857024","TjAfro#1861","24-Oct-19 11:59 PM","I used the ls -l command to check if the images had data and I confirm that they do","",""
"225501778878267395","Aees#0843","25-Oct-19 12:41 AM","How big is 000.jpg?","",""
"225501778878267395","Aees#0843","25-Oct-19 12:43 AM","I just had the same problem. It proved to be me opening the already open file for appending before writing to it. When I just wrote the buffer to the already open file it was all good!","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:44 AM","hmm","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:44 AM","the size of  my 000.jpg is 495616","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:44 AM","that might actually be the problem I'm experience","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:44 AM","experiencing*","",""
"225501778878267395","Aees#0843","25-Oct-19 12:45 AM","When i had problems 000.jpg was 483000 bytes, but was supposed to be: 483500.","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:45 AM","I checked the hex version of the images and I'm writing a lot of empty bytes into the file","",""
"225501778878267395","Aees#0843","25-Oct-19 12:47 AM","do you initialize your output file only once?","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:47 AM","I initialize my output file","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:47 AM","everytime I find a new start of an image","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:48 AM","woops I mean yes","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 12:48 AM","000.jpg is 495104 so it seems you are writing one extra 512 block","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:48 AM","this is so weird, I wish I could show you guys my code LOL","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 12:48 AM","are you writing the signature block twice?","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:49 AM","no","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 12:49 AM","are you writing the signature of the next one to the end of the first?","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:49 AM","i made sure i had a boolean in the signature block that would trigger the write function","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 12:49 AM","but what about the non-signature block?","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:50 AM","yeah it's in a while loop, so I use the boolean like a state","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 12:50 AM","is it in an `else`?  or run every time you read?","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:50 AM","once it's true everytime the while loop executes fwrite","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 12:50 AM","and does that happen for the signature block as well?","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:50 AM","yes","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:51 AM","I ran it in the debugger","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 12:51 AM","and you're also writing in the ""if it's a signature"" section?","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:51 AM","should I not fwrite when signature block condition is met ?","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:51 AM","yup","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 12:51 AM","it depends on your structure.","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:51 AM","I'm not allowed to share code snippets here right ?","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 12:52 AM","if you say:  ```
if it's a signature
    open new file and write
if it's open
   write
```","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 12:52 AM","then you'll write the signature twice","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 12:52 AM","if instead, you have `else if it's open, write` then you won't.","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:53 AM","```
    while read
        if sigature 
            if img not null
                fcloseimg
            open file 
            state = true
        if true
            fwrite
```","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:53 AM","thats my logic","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 12:53 AM","so that should only write it once","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:53 AM","yes","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:53 AM","it does write the signature block only once","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:54 AM","and only closes when new signature block is found","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 12:54 AM","what's the size of your 001.jpg?","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:54 AM","202240","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 12:55 AM","201728 is the correct ...again an extra 512","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:56 AM","LOL","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:56 AM","oh man what is going on","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 12:56 AM","if you run `xxd -s -512 001.jpg`  what do you get?","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 12:56 AM","does it start with ```
~/pset3/recover/ $ xxd -s -512 001.jpg
00031200: 9589 9d97 493b 801a c5d3 1be5 bfc2 7c61  ....I;........|a
00031210: 8cae d46b 51a7 2be9 74ec 7598 4c57 c4c1  ...kQ.+.t.u.LW..
00031220: 49d3 4aea f6bd c00d c7ab 0f47 d4c2 61eb  I.J........G..a.```","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 12:57 AM","the line numbers will be different because you've got an extra block, but the actual bytes?","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:57 AM","```
00031400: 9589 9d97 493b 801a c5d3 1be5 bfc2 7c61  ....I;........|a
00031410: 8cae d46b 51a7 2be9 74ec 7598 4c57 c4c1  ...kQ.+.t.u.LW..
00031420: 49d3 4aea f6bd c00d c7ab 0f47 d4c2 61eb  I.J........G..a.
00031430: e93a 3077 f428 623c 37c3 710b 33a3 95fa  .:0w.(b<7.q.3...
00031440: 0015 a8c6 c6f8 4706 aee1 5671 f4ca 99cd  ......G...Vq....
00031450: e338 4428 3796 ab76 ff00 2800 8acc 945a  .8D(7..v..(....Z
00031460: 6fcd fb11 e697 7002 85e6 3ec3 b334 0010  o.....p...>..4..
00031470: e527 740a 4c00 29ca 4ed7 0000 85bd 9360  .'t.L.).N......`
00031480: 9800 52b7 6000 2a0c cc23 26c0 0005 ea00  
```","",""
"129022258025857024","TjAfro#1861","25-Oct-19 12:58 AM","beginning bytes seem to check out","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 12:59 AM","how about `
~/pset3/recover/ $ xxd -s 512 -l 512 001.jpg
00000200: 712e 170a 50b8 97f5 0085 b85c 4b85 c05b  q...P......\K..[
00000210: 8971 2e17 f70a 5b80 970b 8005 c4bf a081  .q....[.........
00000220: 0eb8 9710 005b 8971 350d 402e 2361 6626  .....[.q5.@.#af&`","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 12:59 AM","that shows the beginning of the second block that I wrote","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:00 AM","and this would be the first (signature) block ```
~/pset3/recover/ $ xxd -l 512 001.jpg
00000000: ffd8 ffe0 0010 4a46 4946 0001 0100 0001  ......JFIF......
00000010: 0001 0000 ffdb 0043 0009 0607 0807 0609  .......C........
00000020: 0808 080a 0a09 0b0e 170f 0e0d 0d0e 1c14  ................
00000030: 1511 1722 1e23 2321 1e20 2025 2a35 2d25  ..."".##!.  %*5-%```","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:01 AM","```
00000200: 00d8 ffe0 0010 4a46 4946 0001 0100 0001  ......JFIF......
00000210: 0001 0000 ffdb 0043 0009 0607 0807 0609  .......C........
00000220: 0808 080a 0a09 0b0e 170f 0e0d 0d0e 1c14  ................
00000230: 1511 1722 1e23 2321 1e20 2025 2a35 2d25  ..."".##!.  %*5-%
```","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:01 AM","so that means you are writing the signature block twice","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:02 AM","but the first byte has been corrupted.","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:02 AM","are you sure your filename array is long enough to hold the string ""000.jpg"" including the nul char at the end?","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:02 AM","AH","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:02 AM","THERE WE GO","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:02 AM","it null character","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:02 AM","i wrote it as","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:02 AM","imagename[7];","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:02 AM","the lecture","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:02 AM","said","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:03 AM","DON'T FORGET ABOUT THE NULL","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:03 AM","that's what I've spent 3 hrs on","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:03 AM","üòÇ","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:03 AM","right, so what happens is that sprintf puts the nul char into the next space in memory, which happens to be your buffer[0]","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:03 AM","okay i hope this works!","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:03 AM","oh man thank you so much ahahahaha","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:03 AM","let me try and recompiling program","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:03 AM","and there it is","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:04 AM","@curiouskiwi you are the best","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:04 AM","!!!","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:04 AM","so the images should be readable.","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:04 AM","not sure if that fixes the issue of them being too long? or did it?","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:05 AM","images are readable","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:05 AM","but the extra data in the end","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:05 AM","where a bunch of 0s","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:05 AM","still there","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:05 AM","well, that's fine.","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:05 AM","yeah that's not part of the criteria","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:05 AM","the issue is if you're still writing that signature block twice","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:05 AM","problem is solved signature block is not written twice","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:05 AM","because now the images are loading properly","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:06 AM","so, did you have some sort of ""signature test"" that you didn't mention in your code?","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:06 AM","no it was literally the array not having enough indexes","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:06 AM","which was giving me some sort of garbage data","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:06 AM","fixing the filename size shouldn't have changed whether or not the block was written, since it overwrote it after you tested it for a signature.","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:06 AM","and writing it into the images","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:07 AM","hmmm trying to think","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:08 AM","I don't think it overwrites the block","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:08 AM","because if it did overwrite the block all my images should still have been loading properly","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:08 AM","it overwrote the first byte of the buffer when it was a signature block","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:08 AM","which is why you had `00d8 ffe0`  instead of `ffd8 ffe0`","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:09 AM","ah yes yesss","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:09 AM","but it doesn't explain why you had the signature block twice","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:09 AM","oh sorry","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:09 AM","according to your pseudocode, you only check if it's a signature once.  and then you only write it once.","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:09 AM","i didn't copy and paste the second block properly","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:09 AM","here let me rerun the code","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:10 AM","```
00000200: 712e 170a 50b8 97f5 0085 b85c 4b85 c05b  q...P......\K..[
00000210: 8971 2e17 f70a 5b80 970b 8005 c4bf a081  .q....[.........
00000220: 0eb8 9710 005b 8971 350d 402e 2361 6626  .....[.q5.@.#af&
```","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:10 AM","second block","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:11 AM","yes, that's what I'd expect.  I meant before you fixed your char array.","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:11 AM","yeah","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:11 AM","I unfixed it","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:11 AM","i broke it","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:11 AM","so it only had 7 indexes","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:11 AM","and recompiled and ran the command","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:11 AM","that's what I get","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:12 AM","so that means you were testing with an old version of your code that you hadn't recompiled lately?","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:12 AM","totally my fault I missread your last question and gave you the first block again","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:12 AM","you didn't give me the first block.","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:12 AM","this is the second block: ```00000200: 00d8 ffe0 0010 4a46 4946 0001 0100 0001  ......JFIF......
00000210: 0001 0000 ffdb 0043 0009 0607 0807 0609  .......C........
00000220: 0808 080a 0a09 0b0e 170f 0e0d 0d0e 1c14  ................
00000230: 1511 1722 1e23 2321 1e20 2025 2a35 2d25  ..."".##!.  %*5-%
``` that you gave me","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:12 AM","OHHHH","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:12 AM","yeah okay okay","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:12 AM","yeah sorry you're right ahahaha","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:13 AM","I still don't understand why the block was being written twice","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:13 AM","but literally the only thing I've changed is the size of the array","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:14 AM","but when you changed it back and remade it, it didn't do the extra block.  That tells me that you'd changed your source code at some point (and fixed the double writing) but never remade the file, so all of your testing was using an old version that didn't match the .c code you were editing.","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:14 AM","^ I think you are right","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:14 AM","100%","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:14 AM","there might of been a step where I had the fwrite still written in my signature block","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:14 AM","and forgot to recompile","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:14 AM","well, that's good, only because otherwise it made no sense.","","üëç (1)"
"129022258025857024","TjAfro#1861","25-Oct-19 01:15 AM","Thanks again for all the help","",""
"129022258025857024","TjAfro#1861","25-Oct-19 01:15 AM","much appreciated!","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 01:17 AM","you're welcome","",""
"232279834749829120","Bloomd#3739","25-Oct-19 10:20 PM","hi","",""
"232279834749829120","Bloomd#3739","25-Oct-19 10:21 PM","I was watching the walkthrough and got to the part where you check if it's a jpeg","",""
"232279834749829120","Bloomd#3739","25-Oct-19 10:21 PM","I don't really understand how the fourth condition works tho","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 10:22 PM","search ""bitwise"" in this channel","",""
"256104011512545280","Magdiel#9311","25-Oct-19 10:44 PM","Okay so I've almost got it, but for some reason my program writes the last block of the last image twice. I've checked my loops, but can't quite pinpoint the issue.","",""
"256104011512545280","Magdiel#9311","25-Oct-19 10:55 PM","(nevermind, for some reason Discord won't let me post it)","",""
"393854278764068875","curiouskiwi#1671","25-Oct-19 11:30 PM","put your code in a gist and share the link","",""
"256104011512545280","Magdiel#9311","25-Oct-19 11:50 PM","Oh, I didn't even know that existed earlier. Thank you!
https://gist.github.com/MagdielM/46b082204bff40fc7e399c492e045088","",""
"393854278764068875","curiouskiwi#1671","26-Oct-19 12:13 AM","your issue is `while (feof(data_in) == 0)`   `feof` doesn't get set until you try to read **past** the end of the file.  So you enter the loop when you've already read the last block, and then you fread and `feof` gets set to true.  But by that point, you're inside the loop, so you end up fwriting the last block again.","",""
"256104011512545280","Magdiel#9311","26-Oct-19 12:58 AM","Ah, _now_ it makes sense. Thank you so much!","",""
"232279834749829120","Bloomd#3739","26-Oct-19 01:49 AM","hey, I have one question","",""
"232279834749829120","Bloomd#3739","26-Oct-19 01:50 AM","when I'm reading the image at the beginning of the loop, what data type can I use to store it in?","",""
"232279834749829120","Bloomd#3739","26-Oct-19 01:52 AM","I tried using FILE with FILE read = fread(space, sizeof(BYTE), 512, inptr); but I don't think FILE is adequate","",""
"232279834749829120","Bloomd#3739","26-Oct-19 02:48 AM","ok, I discovered size_t from someone else, but I'm getting segmentation error when running my code =/","",""
"232279834749829120","Bloomd#3739","26-Oct-19 02:48 AM","debugger doesn't help","",""
"232279834749829120","Bloomd#3739","26-Oct-19 02:55 AM","https://gist.github.com/julkothegu/4053615a409f91ff4f732ddb46356d3b","",""
"232279834749829120","Bloomd#3739","26-Oct-19 02:55 AM","I made a gist","",""
"232279834749829120","Bloomd#3739","26-Oct-19 11:52 AM","I made some chances but now I get this:","",""
"232279834749829120","Bloomd#3739","26-Oct-19 11:52 AM","Fatal error: glibc detected an invalid stdio handle","",""
"232279834749829120","Bloomd#3739","26-Oct-19 11:52 AM","made another gist in case someone wants to check it out","",""
"232279834749829120","Bloomd#3739","26-Oct-19 11:52 AM","https://gist.github.com/julkothegu/ff85e4c5ec667b8b50aef00c54850aef","",""
"232279834749829120","Bloomd#3739","26-Oct-19 05:41 PM","Never mind, I fixed it. I wasn't opening a new file after the first one was written over.","",""
"629174936740691979","wcski#0377","28-Oct-19 03:50 AM","Can I get a sanity check from someone on my fread()?","",""
"629174936740691979","wcski#0377","28-Oct-19 03:51 AM","The values of the items in my buffer array are all "" 0 '\000' ""","",""
"629174936740691979","wcski#0377","28-Oct-19 03:52 AM","I'm declaring the array of type BYTE which I've defined as uint8_t","",""
"629174936740691979","wcski#0377","28-Oct-19 03:53 AM","The file is being opened correctly I'm pretty sure; at least my check to make sure it's not NULL is succeeding.","",""
"629174936740691979","wcski#0377","28-Oct-19 03:55 AM","I'm not sure what's against the rules here so feel free to moderate this if needed, but my fread is curently fread(buffer, 1, 512, inptr). Yet, buffer[0], buffer[1], and so on are all 0 '\000'.","",""
"629174936740691979","wcski#0377","28-Oct-19 03:55 AM","I'm down to thinking my card.raw is corrupt but I've trued re-downloading that as well and got the same result.","",""
"393854278764068875","curiouskiwi#1671","28-Oct-19 04:00 AM","do you mean the for the first block you read, or for all blocks?  if you mean for the first block, that shouldn't be a problem.  There's no guarantee that the first jpg is at the beginning of the file.  @wcski","",""
"629174936740691979","wcski#0377","28-Oct-19 04:20 AM","Thanks @curiouskiwi. That is only for the first block. I assumed I would see some values other than 0 in the first 512 bytes [and I wanted to ensure my read was correct before looping the whole card file]. Sounds like that was a bad assumption to make. Let me get the loop going and see what I can get.","",""
"629174936740691979","wcski#0377","28-Oct-19 04:34 AM","That was it. Thanks again.","",""
"501461310886903819","Cheech#6465","30-Oct-19 05:15 AM","I'm trying to create a function to name the file.","",""
"501461310886903819","Cheech#6465","30-Oct-19 05:16 AM","`char returnFileName(int a)
{
    char outputFilename[50];
    if (a < 10 )
    {
        sprintf(outputFilename, ""%d%d%d.jpg"", 0, 0, a);
    }
    return outputFilename;
}
`","",""
"501461310886903819","Cheech#6465","30-Oct-19 05:16 AM","And then in main i have :","",""
"501461310886903819","Cheech#6465","30-Oct-19 05:17 AM","`    char buffer = returnFileName(1);
    printf(""Filename: %c"", buffer);`","",""
"501461310886903819","Cheech#6465","30-Oct-19 05:17 AM","But i'm getting this error","",""
"501461310886903819","Cheech#6465","30-Oct-19 05:18 AM","`incompatible pointer to integer conversion returning 'char [50]' from a function with result type 'char'`","",""
"501461310886903819","Cheech#6465","30-Oct-19 05:18 AM","Any help is much appreciated, thanks","",""
"393854278764068875","curiouskiwi#1671","30-Oct-19 05:29 AM","you can't return a locally declared array.  Best thing to do is pass in the address of the array (declared in main) to the function and have the function set the value.","",""
"501461310886903819","Cheech#6465","30-Oct-19 11:10 AM","So i pass a pointer as a parameter in the function like this:","",""
"501461310886903819","Cheech#6465","30-Oct-19 11:10 AM","`void returnFileName(char *buffer, int a)
{
    char fileName[7];

    if (a < 10 )
    {
        sprintf(fileName, ""%d%d%d.jpg"", 0, 0, a);
        printf(""FileName: %s\n"", fileName);
    }

    buffer = fileName;

    return;`","",""
"501461310886903819","Cheech#6465","30-Oct-19 11:11 AM","And then in main i initialize the pointer and pass it into the function like this:","",""
"501461310886903819","Cheech#6465","30-Oct-19 11:11 AM","` char *fileNumberPointer = ""0"";
    returnFileName(fileNumberPointer, 1);`","",""
"393854278764068875","curiouskiwi#1671","30-Oct-19 11:11 AM","no, that doesn't solve it because you're now pointing buffer to a local variable that goes out of scope","",""
"501461310886903819","Cheech#6465","30-Oct-19 11:11 AM","ah","",""
"393854278764068875","curiouskiwi#1671","30-Oct-19 11:12 AM","declare the array in main, and then send its address to your function.","",""
"393854278764068875","curiouskiwi#1671","30-Oct-19 11:12 AM","so if you had `void update(char *filename)","",""
"393854278764068875","curiouskiwi#1671","30-Oct-19 11:14 AM","then in main, if you declared char filename[8];  you could then call `update(filename)`  and in your function you simply do your sprintf to filename.","",""
"393854278764068875","curiouskiwi#1671","30-Oct-19 11:14 AM","I think it's a bit unnecessary to have a function that is only called in one place in code.","",""
"501461310886903819","Cheech#6465","30-Oct-19 11:15 AM","Yea...but wanted to get it working as practice...","",""
"501461310886903819","Cheech#6465","30-Oct-19 11:15 AM","So the take away is that have to careful about scoping...","",""
"501461310886903819","Cheech#6465","30-Oct-19 11:15 AM","Thx again!","",""
"393854278764068875","curiouskiwi#1671","30-Oct-19 11:17 AM","also, be aware that you don't have to check the length of your number, because you can use ""%03i.jpg"" as the format specifier and that will do 000.jpg and 049.jpg (up to 999.jpg if you had that many)","",""
"393854278764068875","curiouskiwi#1671","30-Oct-19 11:17 AM","so really, all your function needs to do is call sprintf.","",""
"393854278764068875","curiouskiwi#1671","30-Oct-19 11:18 AM","which means, it's pretty unnecessary to replace one line of code with an entire function that only does one line of code. üôÇ","",""
"490979026433867776","jhr_pato92#9062","31-Oct-19 10:30 PM","I'm getting ""use of undeclared identifier 'img'
and cant fix it...
my code:
||```

int main(int argc, char *argv[])
{
    if (argc != 2)
    {
        fprintf(stderr, ""Usage: ./recover image\n"");
        return 1;
    }
    char *raw_file = argv[1];

    // open card file
    FILE *raw_ptr = fopen(raw_file, ""r"");
    if (raw_ptr == NULL)
    {
        fprintf(stderr, ""Could not open %s\n"", raw_file);
        return 2;
    }


    // declare buffer array
    BYTE buffer [512] = """";
    int fileNumber = 0;
    int igang = 0;
    int number = 1;
    char *filename = """";


    while (number != 0)
    {

        fread(buffer, 512, 1, raw_ptr);

        if (buffer[0] == 0xff &&
            buffer[1] == 0xd8 &&
            buffer[2] == 0xff &&
            (buffer[3] & 0xf0) == 0xe0)
        {
            // starten p√• en ny fil
           if (igang == 1)
            {
                fclose(img);

                fileNumber ++;

                // make a new filename
                sprintf(filename, ""%03i.jpg"", fileNumber);

                // open a new file in ""w"" mode
                FILE *img = fopen(filename, ""w"");
                if (img == NULL)
                {
                    fprintf(stderr, ""Could not open JPEG file\n"");
                    return 3;
                }
                fwrite(&buffer, 512, 1, img);
            }

            //
            else if (igang == 0)
            {
                // make a new filename
                sprintf(filename, ""%03i.jpg"", fileNumber);

                // open a new file in ""w"" mode
                FILE *img = fopen(filename, ""w"");
                if (img == NULL)
                {
                    fprintf(stderr, ""Could not open JPEG file\n"");
                    return 3;
                }

                // keep writing current block to the current file
                fwrite(&buffer, 512, 1, img);
                igang = 1;
            }
        }
        else
```||","",""
"490979026433867776","jhr_pato92#9062","31-Oct-19 10:30 PM","Can anybody help..?","",""
"393854278764068875","curiouskiwi#1671","31-Oct-19 10:55 PM","it's a scope problem.  Be sure to declare `img` outside of the loop, so it's accessible to the entire loop .","",""
"393854278764068875","curiouskiwi#1671","31-Oct-19 10:55 PM","you can say `FILE *img = NULL;`  and then, when you want to set it, simply say `img = fopen(...`","",""
"264056320552861708","Terronima#0602","01-Nov-19 03:51 AM","idk what's wrong, but i cant find pattern of jpg int main(int argc, char *argv[])
{
    // ensure proper usage
    if (argc != 2)
    {
        printf(""Usage: copy infile outfile\n"");
        return 1;
    }

    // remember filenames
    char *infile = argv[1];

    // open input file
    FILE *file = fopen(infile, ""r"");

    if (file == NULL)
    {
        printf(""Could not open %s.\n"", infile);
        return 2;
    }

    unsigned char buffer[512];
    int counter = 0;
    int trigger = 0;
    char *filename = NULL;
    while(fread(buffer, 1, 512, file) == 512)
    {

        fread(buffer, 1, 512, file);
        for (int i = 0; i < 4; i++)
        {
            printf(""%i "", buffer[i]);
        }
        printf(""\n"");
        if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff)","",""
"264056320552861708","Terronima#0602","01-Nov-19 03:52 AM","for loop is just to see some array elements","",""
"393854278764068875","curiouskiwi#1671","01-Nov-19 03:53 AM","you're running fread twice so you're throwing away every other block","",""
"393854278764068875","curiouskiwi#1671","01-Nov-19 03:53 AM","don't call it inside the loop","",""
"264056320552861708","Terronima#0602","01-Nov-19 03:53 AM","ok thank you)","",""
"264056320552861708","Terronima#0602","01-Nov-19 03:55 AM","i thought conditions just to check, but as you said it will actually put some data into array","",""
"264056320552861708","Terronima#0602","01-Nov-19 03:56 AM","but now i have segmentation fault, dont know what is wrong low x)","",""
"264056320552861708","Terronima#0602","01-Nov-19 04:00 AM","now*","",""
"393854278764068875","curiouskiwi#1671","01-Nov-19 04:28 AM","Don't see anything in that code that would cause a segmentation fault, but I""m guessing that later on, you are trying to sprintf to filename?  You've declared char* filename = NULL; which is just a pointer. You can't sprintf to it.  You probably want a char array instead.","",""
"264056320552861708","Terronima#0602","01-Nov-19 04:53 AM","yes it is appear when im in position where im giving name to the file","",""
"264056320552861708","Terronima#0602","01-Nov-19 04:55 AM","mm so i need to get it as an array like char name[30]?","",""
"393854278764068875","curiouskiwi#1671","01-Nov-19 04:55 AM","well, 30 is a bit longer than you need but it would work","",""
"264056320552861708","Terronima#0602","01-Nov-19 04:56 AM","ok) ill try it in this way, thank you )","",""
"264056320552861708","Terronima#0602","01-Nov-19 04:58 AM","yes there is result, there are some images, with some dimensions, but nothing on it","",""
"264056320552861708","Terronima#0602","01-Nov-19 05:38 AM","is there real pictures or just strange things ?","",""
"264056320552861708","Terronima#0602","01-Nov-19 05:39 AM","","https://cdn.discordapp.com/attachments/395684916056031245/639669698191032330/001.jpg",""
"264056320552861708","Terronima#0602","01-Nov-19 05:39 AM","i got this from the first picture","",""
"393854278764068875","curiouskiwi#1671","01-Nov-19 06:00 AM","there should be photographs of various cs50 staff","",""
"264056320552861708","Terronima#0602","01-Nov-19 06:09 AM","ah, i cant understand what am i doing wrong üò¶","",""
"393854278764068875","curiouskiwi#1671","01-Nov-19 06:10 AM","are you getting 50 jpgs?  what's the size of the first one.","",""
"264056320552861708","Terronima#0602","01-Nov-19 06:11 AM","amm 1440x1440","",""
"393854278764068875","curiouskiwi#1671","01-Nov-19 06:12 AM","I mean, in bytes","",""
"264056320552861708","Terronima#0602","01-Nov-19 06:12 AM","512","",""
"393854278764068875","curiouskiwi#1671","01-Nov-19 06:12 AM","if you list the files in the folder","",""
"393854278764068875","curiouskiwi#1671","01-Nov-19 06:12 AM","so that means you only wrote the first block to the jpg and not all the following blocks","",""
"264056320552861708","Terronima#0602","01-Nov-19 06:13 AM","yep, i see now, ok ill try some other things, maybe my loop is incorrect ) thank you)","",""
"264056320552861708","Terronima#0602","01-Nov-19 06:43 AM","yey i found my mistake x) now it works )","",""
"264056320552861708","Terronima#0602","01-Nov-19 06:45 AM","thank you for help again )","",""
"393854278764068875","curiouskiwi#1671","01-Nov-19 06:46 AM","you're welcome üôÇ","",""
"264056320552861708","Terronima#0602","01-Nov-19 07:05 AM","5/6 not bad) but last image, i think there is still some errors, it looks good, but, i think it missing something )","",""
"264056320552861708","Terronima#0602","01-Nov-19 07:10 AM","cant understand how last image does not match","",""
"264056320552861708","Terronima#0602","01-Nov-19 07:27 AM","||// Conditions when to write data into jpg file
        if (trigger > 0)
        {
            if (feof(img) == 0)
            {
                // Write data into file from the buffer
                fwrite(&buffer, 1, 512, img);
            }
            // Conditions when to close file
            else
            {
                fclose(img);
                trigger = 0;
            }
        }
    }
    fclose(img);
    fclose(file);
    return 0;
}||
i think here is something wrong","",""
"490979026433867776","jhr_pato92#9062","01-Nov-19 06:07 PM","are we supposed to end up with 50 .jpg files if done succesfully ?","",""
"490979026433867776","jhr_pato92#9062","01-Nov-19 06:25 PM","@Terronima you know=","",""
"490979026433867776","jhr_pato92#9062","01-Nov-19 06:25 PM","?","",""
"490979026433867776","jhr_pato92#9062","01-Nov-19 06:35 PM","and are we supposed to be able to open them in the ide?","",""
"490979026433867776","jhr_pato92#9062","01-Nov-19 08:25 PM","so when i execute recover i end up with 50 .jpg files and they all seem to start with the bytes ""ff d8 ff e0"" as expected when i open the files in hex","",""
"490979026433867776","jhr_pato92#9062","01-Nov-19 08:25 PM","but still when i double click those files i dont see any picture ...","",""
"490979026433867776","jhr_pato92#9062","01-Nov-19 08:30 PM","nevermind i fixed it üôÇ","",""
"490979026433867776","jhr_pato92#9062","01-Nov-19 10:02 PM","@curiouskiwi you online?","",""
"490979026433867776","jhr_pato92#9062","01-Nov-19 10:27 PM","i get 50 jpg's in recover and read beginning of new file correctly but still end up with glitchy images.. any idea why?
https://pastebin.com/GQ0Z6jyE","",""
"393854278764068875","curiouskiwi#1671","01-Nov-19 10:32 PM","on line 60, why are you checking that buffer0 doesn't equal 0xff.  There's no reason why it can't.","",""
"490979026433867776","jhr_pato92#9062","01-Nov-19 10:45 PM","because if buffer [0] does not equal 0xff then i cannot be the beginning of a new JPEG file ?","",""
"393854278764068875","curiouskiwi#1671","01-Nov-19 10:47 PM","but that's an else if, so you've already tested it with if","",""
"393854278764068875","curiouskiwi#1671","01-Nov-19 10:51 PM","```
if it's a signature
    if there's a jpg open
        close it 
    open new jpg
if jpg is open
    write to it
```   that is essentially the path I would take","",""
"490979026433867776","jhr_pato92#9062","01-Nov-19 11:05 PM","ahh okay its works perfectly now. I restructured my if statements","",""
"490979026433867776","jhr_pato92#9062","01-Nov-19 11:07 PM","but still kinda don't understand my mistake on line 60. I just know that it was the reason for the ""bug""","",""
"490979026433867776","jhr_pato92#9062","01-Nov-19 11:08 PM","my idea was to check whether the first byte was == the first byte in the signature. Cause if it was not. Then i know for a fact that the currently first 4 bytes are not a signature..","",""
"490979026433867776","jhr_pato92#9062","01-Nov-19 11:09 PM","so line 60 was me trying to do 
```if this is not a signature && ongoing == 1 then...```","",""
"393854278764068875","curiouskiwi#1671","01-Nov-19 11:12 PM","@jhr_pato92   but you weren't saying ""if this is not a signature"". you were saying ""if the first byte isn't 0xff""     A block could start with 0xff and still not be a signature.","",""
"393854278764068875","curiouskiwi#1671","01-Nov-19 11:15 PM","Let's say I said, don't give me any sentences that start with ""This"" and you said, ""if the first letter isn't 'T' ...""","",""
"490979026433867776","jhr_pato92#9062","02-Nov-19 12:00 AM","I get the point now @curiouskiwi thanks for explaining","",""
"490979026433867776","jhr_pato92#9062","02-Nov-19 12:00 AM","my statement was statistically only right 1/4 of the time i understand it now üôÇ","",""
"264056320552861708","Terronima#0602","02-Nov-19 03:43 AM","yep we have to finish with 50 images, but it has to start from 000.jpg","",""
"264056320552861708","Terronima#0602","02-Nov-19 03:59 AM","i still cant understand what is wrong in my code, that last image is incorrect )","",""
"264056320552861708","Terronima#0602","02-Nov-19 04:01 AM","https://pastebin.com/3XCVi5H0","",""
"393854278764068875","curiouskiwi#1671","02-Nov-19 04:32 AM","@Terronima you're writing the last block twice.  Have a close look at your `feof` call.","",""
"264056320552861708","Terronima#0602","02-Nov-19 04:33 AM","feof will read it twice, but how to prevent it ?","",""
"264056320552861708","Terronima#0602","02-Nov-19 04:34 AM","still cant understand fully how feof work x) i think i need to return pointer or something","",""
"393854278764068875","curiouskiwi#1671","02-Nov-19 04:36 AM","which file are you trying to test for the end of file?","",""
"264056320552861708","Terronima#0602","02-Nov-19 04:38 AM","last one","",""
"264056320552861708","Terronima#0602","02-Nov-19 04:40 AM","i mean this file which im reading/writing","",""
"264056320552861708","Terronima#0602","02-Nov-19 04:41 AM","so, when im found beginning of the image, ill read till next image will be found, but gor last file","",""
"264056320552861708","Terronima#0602","02-Nov-19 04:42 AM","there is nothing after it, so i dont know how to stop )","",""
"264056320552861708","Terronima#0602","02-Nov-19 04:42 AM","otherwise it starts to write last line again","",""
"393854278764068875","curiouskiwi#1671","02-Nov-19 04:43 AM","so can you explain why are you calling `feof(img)` specifically?","",""
"264056320552861708","Terronima#0602","02-Nov-19 04:44 AM","i thought i will be able to catch end of the file in this way","",""
"393854278764068875","curiouskiwi#1671","02-Nov-19 04:44 AM","have you ever fread from `img`?","",""
"264056320552861708","Terronima#0602","02-Nov-19 04:45 AM","nope, in my mind it was like, there is specific pattern which will show when image is ends","",""
"264056320552861708","Terronima#0602","02-Nov-19 04:45 AM","but now i see that it is wrong idea )","",""
"393854278764068875","curiouskiwi#1671","02-Nov-19 04:45 AM","well, you are reading from a file, right?","",""
"393854278764068875","curiouskiwi#1671","02-Nov-19 04:45 AM","and feof gets set when you try to read past the end of a file.","",""
"393854278764068875","curiouskiwi#1671","02-Nov-19 04:46 AM","so you have the right idea","",""
"393854278764068875","curiouskiwi#1671","02-Nov-19 04:46 AM","but if you're not reading from `img` then why are you testing `feof(img)`?","",""
"264056320552861708","Terronima#0602","02-Nov-19 04:48 AM","yep good hint )","",""
"264056320552861708","Terronima#0602","02-Nov-19 04:48 AM","ill try","",""
"393854278764068875","curiouskiwi#1671","02-Nov-19 04:49 AM","maybe you should be testing feof on the file that you are actually reading?","",""
"393854278764068875","curiouskiwi#1671","02-Nov-19 04:49 AM","the one that you are trying to make sure you've reached the end of?","","üëç (1)"
"264056320552861708","Terronima#0602","02-Nov-19 04:49 AM","yes ) i got this point x) ill try now )","",""
"264056320552861708","Terronima#0602","02-Nov-19 04:50 AM","yep ) now its 100)","",""
"264056320552861708","Terronima#0602","02-Nov-19 04:50 AM","i mean done ) thank so for your help )","",""
"264056320552861708","Terronima#0602","02-Nov-19 04:51 AM","and now i have another idea how to do it x)  thank you )","","üíØ (1)"
"241631396307664897","Urwin#8936","02-Nov-19 07:29 PM","hi friends I seem to be reading the first 512 bytes over and over again when checking for the start of the first file üò±","",""
"161276565693399040","Eggstar#3877","03-Nov-19 02:48 AM","So I am having some trouble with both creating more than 1 jpeg and making my jpeg the full image. I think it might have something to do with writing the next 512 bytes or something. Also, I have some weird files showing up in my folder that I cant delete.","",""
"161276565693399040","Eggstar#3877","03-Nov-19 02:48 AM","https://github.com/True-Monado98/CS50/blob/master/Recover","",""
"161276565693399040","Eggstar#3877","03-Nov-19 02:49 AM","","https://cdn.discordapp.com/attachments/395684916056031245/640351759910567948/unknown.png",""
"161276565693399040","Eggstar#3877","03-Nov-19 02:49 AM","what should i do here","",""
"241631396307664897","Urwin#8936","03-Nov-19 03:20 AM","beats me I'm not that far yet sorry üôÇ","",""
"241631396307664897","Urwin#8936","03-Nov-19 07:43 AM","figured out my prior question, woop","",""
"161276565693399040","Eggstar#3877","03-Nov-19 07:49 PM","so i figured out what my problem is. Basically, my all my files are named 001 but they keep overwriting","",""
"161276565693399040","Eggstar#3877","03-Nov-19 07:50 PM","I get the correct number of files when I do printf(""%d"",image);","",""
"161276565693399040","Eggstar#3877","03-Nov-19 07:50 PM","but i is only 1","",""
"161276565693399040","Eggstar#3877","03-Nov-19 07:50 PM","so why doesnt i increase","",""
"393854278764068875","curiouskiwi#1671","03-Nov-19 07:58 PM","are you calling sprintf in the correct spot?","",""
"161276565693399040","Eggstar#3877","03-Nov-19 08:05 PM","i have changed it a little bit and now it runs everytime i close a file before i increase my counter by 1","",""
"161276565693399040","Eggstar#3877","03-Nov-19 08:08 PM","atleast one picture is fully created","",""
"161276565693399040","Eggstar#3877","04-Nov-19 11:50 PM","legitimately dont know where and why these files are showing up. I cant delete them and they come back everytime I run recover","https://cdn.discordapp.com/attachments/395684916056031245/641031645608017953/unknown.png",""
"393854278764068875","curiouskiwi#1671","04-Nov-19 11:53 PM","your recover program is creating them.  that tells me there's something wrong with how you are creating files.","",""
"161276565693399040","Eggstar#3877","04-Nov-19 11:55 PM","But why does the program work for the other 49 files, which are perfect","",""
"393854278764068875","curiouskiwi#1671","05-Nov-19 12:16 AM","perhaps your filename string variable gets corrupted at the end?  I'd suggest that you create a new folder and move your recover.c and your card.raw files to that new folder, then run `make recover` and then run ./recover card.raw again just to test whether it is your current version that is creating the bogus files.","",""
"161276565693399040","Eggstar#3877","05-Nov-19 12:17 AM","yeah i have moved my files to another folder and it always makes the same kind of files","",""
"161276565693399040","Eggstar#3877","05-Nov-19 12:17 AM","but now I have all 50 images and check 50 checks it as correct except for 049.jpg","",""
"393854278764068875","curiouskiwi#1671","05-Nov-19 12:18 AM","sounds like you aren't detecting the end of the raw file properly.  Are you using the return value of fread to determine when you have no more bytes read?","",""
"161276565693399040","Eggstar#3877","05-Nov-19 12:20 AM","i use a do while loop to check if fread returns 512","",""
"161276565693399040","Eggstar#3877","05-Nov-19 12:20 AM","and if it doesnt","",""
"161276565693399040","Eggstar#3877","05-Nov-19 12:20 AM","i close the files","",""
"161276565693399040","Eggstar#3877","05-Nov-19 12:20 AM","should it be a concern if my program still produces those files","",""
"393854278764068875","curiouskiwi#1671","05-Nov-19 12:21 AM","yes","",""
"393854278764068875","curiouskiwi#1671","05-Nov-19 12:22 AM","you can send me your code privately if you want.","",""
"161276565693399040","Eggstar#3877","05-Nov-19 12:23 AM","so now the weird files are gone","",""
"161276565693399040","Eggstar#3877","05-Nov-19 12:23 AM","and the problem is just the last file","",""
"161276565693399040","Eggstar#3877","05-Nov-19 12:23 AM","I think i got it now","",""
"161276565693399040","Eggstar#3877","05-Nov-19 12:23 AM","thanks","",""
"161276565693399040","Eggstar#3877","05-Nov-19 12:28 AM","so it had to do with when I checked for the end of the file and writing it","",""
"161276565693399040","Eggstar#3877","05-Nov-19 12:28 AM","works perfectly","",""
"161276565693399040","Eggstar#3877","05-Nov-19 12:28 AM","again, thanks","",""
"143274084313071616","Detri#8541","07-Nov-19 05:11 AM","I fixed a problem I had, but I was wondering if someone could explain why

int count = 0;
char *outfile = NULL;
sprintf(outfile, ""%03i.jpg"", count);

would return a SegFault? Not sure if this is enough information to explain by though :p","",""
"393854278764068875","curiouskiwi#1671","07-Nov-19 05:35 AM","`char *outfile = NULL;` you've declared a pointer that points to NULL.  You can't dereference it by passing it to sprintf.  (it doesn't point to any memory that you can put your string into)","",""
"393854278764068875","curiouskiwi#1671","07-Nov-19 05:35 AM","probably better to use a char array big enough to hold the entire string.","",""
"143274084313071616","Detri#8541","07-Nov-19 06:32 AM","got it, thank you!","",""
"609528101441110016","NL-Kevin#4845","08-Nov-19 09:55 PM","Hi, I'm really struggling with this one. Somehow, my code is unable to find the beginning of a jpeg. Even when I out the below code block in a basically 'forever loop' (e.g. while (1 > 0)), it would not find any 512-byte block start starts with the jpeg signature. Could you please give me some pointers? 
```
        int buffer[512];
        fread(buffer, 1, 512, inptr);
        //printf(""Position: %c\n"", *buffer);
        if (buffer[0] == 0xff &&
            buffer[1] == 0xd8 &&
            buffer[2] == 0xff &&
            (buffer[3] & 0xf0) == 0xe0)
            {
                printf(""File found!\n"");
            }
```","",""
"393854278764068875","curiouskiwi#1671","09-Nov-19 05:42 AM","your buffer needs to hold 512 bytes (8 bit values) ... not 512 ints (which are 32-bit values).  try using an `unsigned char` array instead","","üëç (1)"
"609528101441110016","NL-Kevin#4845","09-Nov-19 10:23 AM","Thanks @curiouskiwi !","",""
"324522780252962816","Sinergy#7605","13-Nov-19 09:31 AM","I don't understand why my code is failing the check for the final image,  The image looks right.  My code looks like this:
||while (!feof(rawData))
    {
        read one block

        
        if (block has starting bytes)
        {
            if (currentWriteFile)
            {
                close write file
            }
            Open new write file (filename changed at end of this loop)

            //This conditional just has user feedback
            if (!currentWriteFile)
            {
                fprintf(stderr, ""Could not create %s"", currentFilename);
                return -1;
            }
            else
            {
                fprintf(stderr, ""File named %s created\n"", currentFilename);
            }
            //Counts the filename upwards for next filename
            Increment(currentFilename);
        }

        
        if (currentWriteFile)
        {
            fwrite(currentBlock, sizeof(char), blockSize, currentWriteFile);
        }
    }
close rawdata
close write file if open
free where needed||","",""
"393854278764068875","curiouskiwi#1671","13-Nov-19 09:33 AM","feof is only set once you try to read *past* the end of the file, so you are probably writing the last block twice, since you enter the loop even though there is nothing left to read.","",""
"324522780252962816","Sinergy#7605","13-Nov-19 09:35 AM","ok now I understand why you were talking about that a bit earlier.  So in this case, fread would return 0?  What if it returned >0 but <512.  When I fwrite that would make a mess, right?","",""
"324522780252962816","Sinergy#7605","13-Nov-19 09:35 AM","the data is arranged in blocks here, but what if it wasn't?","",""
"393854278764068875","curiouskiwi#1671","13-Nov-19 09:37 AM","if it wasn't, you have to consider only writing as many blocks as fread told you it had read.","",""
"324522780252962816","Sinergy#7605","13-Nov-19 09:38 AM","I can probably just use that to cover both issues","",""
"324522780252962816","Sinergy#7605","13-Nov-19 09:39 AM","the second fwrite of the last block of 049.jpg will write 0 elements","",""
"324522780252962816","Sinergy#7605","13-Nov-19 09:42 AM","all done, thanks man!  Any chance of knowing your name?  Call me a curious Aussie üòÑ","",""
"393854278764068875","curiouskiwi#1671","13-Nov-19 09:43 AM","Brenda.  and not a man. üôÇ","",""
"324522780252962816","Sinergy#7605","13-Nov-19 09:43 AM","thanks ma'am üòÑ  I'm Greg","",""
"393854278764068875","curiouskiwi#1671","13-Nov-19 09:43 AM","kia ora","",""
"393854278764068875","curiouskiwi#1671","13-Nov-19 09:43 AM","g'day","",""
"572314553962987520","Fazil47#2692","14-Nov-19 04:23 PM","Can someone help I'm getting a segmentation fault on  the line `fwrite(&buffer, 512 * sizeof(BYTE), 1, img); // writing to image file`","",""
"572314553962987520","Fazil47#2692","14-Nov-19 04:44 PM","nevermind it works when I open `img` in append mode","",""
"163340680473739264",":3#2026","16-Nov-19 07:01 PM","Hi, everyone! My code works as it should but creates some trash files in IDE. Even while it is compiling. Does somebody know why?","https://cdn.discordapp.com/attachments/395684916056031245/645307545539444766/2019-11-16_19.55.21.png",""
"395426133035843585","MrBadger#3037","18-Nov-19 02:32 AM","Hi everyone
I'm pretty sure my code is working (I recover 50 images & all the ones I've checked seem fine) but, when I run Check50, I get error messages with sad-faces which all say ""expected exit code 0, not none"".
I have tried returning ""0"" each time I finish writing an image (and I also return 0 at the bottom of my main function), but this does not address the problem.

Can anyone help me better understand what I need to be doing here?

Many thanks!","",""
"393854278764068875","curiouskiwi#1671","18-Nov-19 02:36 AM","that generally means that your recover program isn't actually ending.   When you run it, does it pretty much instanteously create the 50 jpgs and then end?","",""
"395426133035843585","MrBadger#3037","18-Nov-19 02:43 AM","Hmm... I seem to have made some more changes this morning which have taken me a step backwards. 

Before those changes, yes, it would create the 50 JPEGs very quickly, and then it'd return me to the terminal prompt, so I was always assuming that it had finished running.","",""
"395426133035843585","MrBadger#3037","18-Nov-19 03:54 AM","Ok, I've fixed the errors that I introduced this morning. That seems to have addressed the ""expected exit code"" issue which I originally posted about. Thanks for your earlier reply!

Now I just have an issue with my last image not matching when I run Check50, despite my program producing an output image which looks good to the eye...","",""
"393854278764068875","curiouskiwi#1671","18-Nov-19 04:02 AM","the common cause of that is writing the last block twice.","",""
"507392187223244801","jasonlee#1523","21-Nov-19 02:04 AM","","https://cdn.discordapp.com/attachments/395684916056031245/646863435048550411/unknown.png",""
"507392187223244801","jasonlee#1523","21-Nov-19 02:04 AM","what exactly is the use of `char *argv[]`?","",""
"507392187223244801","jasonlee#1523","21-Nov-19 02:04 AM","Is it just to initiate empty array of `char`","",""
"507392187223244801","jasonlee#1523","21-Nov-19 02:04 AM","?","",""
"393854278764068875","curiouskiwi#1671","21-Nov-19 02:04 AM","it declares an array of strings (ie, the arguments)","",""
"393854278764068875","curiouskiwi#1671","21-Nov-19 02:05 AM","./caesar 2","",""
"393854278764068875","curiouskiwi#1671","21-Nov-19 02:05 AM","`argv[0]` is `""./caesar""`  `argv[1]` is `""2""`","",""
"393854278764068875","curiouskiwi#1671","21-Nov-19 02:05 AM","see lecture 2 I think?","",""
"507392187223244801","jasonlee#1523","21-Nov-19 02:06 AM","okay, so the input could be limitless and those arguments will be stored in that array?","",""
"393854278764068875","curiouskiwi#1671","21-Nov-19 02:06 AM","well, not limitless because eventually you'll run out of memory","",""
"507392187223244801","jasonlee#1523","21-Nov-19 02:07 AM","right. thank you!","",""
"507392187223244801","jasonlee#1523","22-Nov-19 01:28 AM","Is the use of `EOF` here valid?","https://cdn.discordapp.com/attachments/395684916056031245/647216904389525536/unknown.png",""
"507392187223244801","jasonlee#1523","22-Nov-19 01:58 AM","Okay, I am reading other people's code.. `while(fread(&buffer,512,1,inptr) != 0)` where does this idea come from?","",""
"507392187223244801","jasonlee#1523","22-Nov-19 01:59 AM","My solution to the `reading to the end of the file` isn't really a valid idea","",""
"507392187223244801","jasonlee#1523","22-Nov-19 01:59 AM","I can't really seem to find any reference to that while loop in the notes or lecture.","",""
"275265088695566337","bleepbloopbleep1#8632","22-Nov-19 05:02 AM","I used printf to try and check my while loop to read into the blocks but I'm getting nothing.","https://cdn.discordapp.com/attachments/395684916056031245/647270731125751818/Screen_Shot_2019-11-21_at_10.01.48_PM.png",""
"393854278764068875","curiouskiwi#1671","22-Nov-19 05:05 AM","so you didn't get any print? Are you sure your raw file is okay?","",""
"275265088695566337","bleepbloopbleep1#8632","22-Nov-19 05:11 AM","should i redownload it?","",""
"393854278764068875","curiouskiwi#1671","22-Nov-19 05:15 AM","what's its size?","",""
"275265088695566337","bleepbloopbleep1#8632","22-Nov-19 05:16 AM","redownloaded it and am now getting a print out of the error message","",""
"275265088695566337","bleepbloopbleep1#8632","22-Nov-19 05:16 AM","Thats better then before I guess haha","",""
"393854278764068875","curiouskiwi#1671","22-Nov-19 05:18 AM","you'll probably have all the JPEG prints too, but there will only be 50 of those versus thousands of the other","",""
"393854278764068875","curiouskiwi#1671","22-Nov-19 05:18 AM","so you probably miss them","",""
"275265088695566337","bleepbloopbleep1#8632","22-Nov-19 05:48 AM","I re-uploaded card.raw but this isn't giving me anything. Any advice?","https://cdn.discordapp.com/attachments/395684916056031245/647282152878243843/Screen_Shot_2019-11-21_at_10.45.44_PM.png",""
"393854278764068875","curiouskiwi#1671","22-Nov-19 05:54 AM","fread isn't going to return 0 the first time it runs, so the loop won't run.","",""
"507392187223244801","jasonlee#1523","22-Nov-19 10:22 PM","what does `inptr` and `outptr` actually represent?","",""
"507392187223244801","jasonlee#1523","22-Nov-19 10:23 PM","I can't really seem to find a definitive answer to it online","",""
"507392187223244801","jasonlee#1523","22-Nov-19 10:23 PM","does it simply mean `input file` and `output file`?","",""
"393854278764068875","curiouskiwi#1671","22-Nov-19 10:43 PM","they are variable names for the `FILE *`s   (ie, the pointers to the input and output files.)  You can call them anything you want. I think I have named mine `FILE *card;` and `FILE *jpg;`","",""
"507392187223244801","jasonlee#1523","22-Nov-19 11:12 PM","thank you","",""
"487223558733561866","thisIsDaniel#0256","22-Nov-19 11:43 PM","hello I'm trying to print the contents of my `buffer` to see what I'm reading off of the `card.raw` but when I do I just get `Position: <blank>`. What am I doing wrong?  ```
    // Read into a buffer
    unsigned char buffer[512];
    fread(&buffer, 512, 1, inptr);

    for (int i = 0; i < 512; i++)
    {
        printf(""Position: %c\n"", buffer[i]);
    }```","",""
"393854278764068875","curiouskiwi#1671","22-Nov-19 11:49 PM","the buffer isn't full of printable chars, so using %c to print it doesn't seem right.  How about %x  (to print the hex value)?","",""
"487223558733561866","thisIsDaniel#0256","22-Nov-19 11:59 PM","thank you so much @curiouskiwi  üôÇ I now get the value `0` for each item in the buffer. Am I using `fread` correctly?","",""
"393854278764068875","curiouskiwi#1671","23-Nov-19 12:02 AM","yes.  I think you'll find if you look at rawfile directly (using xxd), it starts with lots of 0s.   `xxd -l 1024 card.raw`  will show you the first 2 blocks.","",""
"393854278764068875","curiouskiwi#1671","23-Nov-19 12:03 AM","`xxd -l 1024 -s 1024 card.raw` will show you the 3rd & 4th blocks","",""
"487223558733561866","thisIsDaniel#0256","23-Nov-19 12:03 AM","ahh ok perfect! thank you so much!","",""
"507392187223244801","jasonlee#1523","23-Nov-19 12:04 AM","||
#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>


int main(int argc, char *argv[])
{
    //check usage
    if (argc != 2)
    {
        return 1;
    }
    // open file
    FILE* input = fopen(argv[1], ""r"");
    // return error if file does not existS
    if (!input)
    {
        return 1;
        printf(""file does not exists"");
    }
    // create an array with 512 bytess of bytes
    unsigned char bytes[512];
    // create count variable
    int count = 0;
    // create an empty string for filename
    char* filename = NULL;
    // create an empty output file
    FILE* output = NULL;
    // repeat until end of input
    while (fread(bytes, 1, sizeof(bytes), input) != 0)
    {
        // read 1 block of 512 bytes at a time
        fread(bytes, 1, sizeof(bytes), input);

        // check if beginning of jpeg file
        if (bytes[0] == 0xff && bytes[1] == 0xd8 && bytes[2] == 0xff && (bytes[3] & 0xf0) == 0xe0)
        {
            // if already found a jpeg, close the file
            if (count > 0)
            {
                fclose(output);
            }
            // name file
            sprintf(filename, ""%03i.jpg"", count);
            // open file
            output = fopen(filename, ""w"");
            // write file
            fwrite(bytes, 1, sizeof(bytes), output);
            // increment count
            count++;
        }
        else
        {
            // keep writing if jpeg header is already found
            fwrite(bytes, 1, sizeof(bytes), output);
        }
    }
    fclose(output);
}
||

I am having a segmentation fault error, what would be the best way to troubleshoot this kind of problem?","",""
"507392187223244801","jasonlee#1523","23-Nov-19 12:05 AM","Does anything jumps out to be causing this problem, perhaps?","",""
"393854278764068875","curiouskiwi#1671","23-Nov-19 12:05 AM","yes, but let's see if you can find it yourself.   run `valgrind ./recover card.raw`  and when it crashes, can you see any reason?","",""
"507392187223244801","jasonlee#1523","23-Nov-19 12:09 AM","ah there's a memory leak","",""
"507392187223244801","jasonlee#1523","23-Nov-19 12:09 AM","or at least something that's memory related error","",""
"507392187223244801","jasonlee#1523","23-Nov-19 12:09 AM","invalid read size of 4","",""
"393854278764068875","curiouskiwi#1671","23-Nov-19 12:09 AM","and do you see what line?","",""
"393854278764068875","curiouskiwi#1671","23-Nov-19 12:09 AM","I'd assume ` sprintf(filename, ""%03i.jpg"", count);`","",""
"507392187223244801","jasonlee#1523","23-Nov-19 12:09 AM","`    char* filename = NULL;`","",""
"507392187223244801","jasonlee#1523","23-Nov-19 12:09 AM","and this is not big enough to store that filename","",""
"507392187223244801","jasonlee#1523","23-Nov-19 12:10 AM","am I correct?","",""
"393854278764068875","curiouskiwi#1671","23-Nov-19 12:10 AM","yes","",""
"507392187223244801","jasonlee#1523","23-Nov-19 12:10 AM","I see!","",""
"393854278764068875","curiouskiwi#1671","23-Nov-19 12:10 AM","it has no memory","",""
"507392187223244801","jasonlee#1523","23-Nov-19 12:10 AM","right no memory","",""
"507392187223244801","jasonlee#1523","23-Nov-19 12:10 AM","so i have to assign it as a form of an array","",""
"507392187223244801","jasonlee#1523","23-Nov-19 12:11 AM","but wouldn't assigning random numbers like `6` or `8` be an unclean code?","",""
"393854278764068875","curiouskiwi#1671","23-Nov-19 12:12 AM","what do you mean by random?  Don't you know *exactly* how long a string you need?","",""
"507392187223244801","jasonlee#1523","23-Nov-19 12:12 AM","right","",""
"507392187223244801","jasonlee#1523","23-Nov-19 12:13 AM","so 4 bytes would be correct","",""
"507392187223244801","jasonlee#1523","23-Nov-19 12:14 AM","","https://cdn.discordapp.com/attachments/395684916056031245/647560482437201932/unknown.png",""
"507392187223244801","jasonlee#1523","23-Nov-19 12:14 AM","why would this return such error?","",""
"393854278764068875","curiouskiwi#1671","23-Nov-19 12:14 AM","how many bytes are in the string `""000.jpg""`","",""
"393854278764068875","curiouskiwi#1671","23-Nov-19 12:14 AM","including the nul char that signifies the end of a string","",""
"393854278764068875","curiouskiwi#1671","23-Nov-19 12:15 AM","if you don't want to bother counting, you can just declare your array with that value and the compiler will figure it out  `char name[] = ""jasonlee"";` for example would give you enough space for any string that long.","",""
"507392187223244801","jasonlee#1523","23-Nov-19 12:16 AM","right","",""
"507392187223244801","jasonlee#1523","23-Nov-19 01:32 AM","alot of actual images returned after running it","",""
"507392187223244801","jasonlee#1523","23-Nov-19 01:32 AM","","https://cdn.discordapp.com/attachments/395684916056031245/647580219384922146/unknown.png",""
"507392187223244801","jasonlee#1523","23-Nov-19 01:32 AM","however I am seeing a few of these, is this intended?","",""
"507392187223244801","jasonlee#1523","23-Nov-19 01:32 AM","above image is `000.jpg`","",""
"507392187223244801","jasonlee#1523","23-Nov-19 01:34 AM","","https://cdn.discordapp.com/attachments/395684916056031245/647580606548541440/unknown.png",""
"507392187223244801","jasonlee#1523","23-Nov-19 01:34 AM","only a handful images are broken out 50 images. (above screenshot shows `008.jpg`)","",""
"507392187223244801","jasonlee#1523","23-Nov-19 01:35 AM","about 8-9 images in total are broken.","",""
"507392187223244801","jasonlee#1523","23-Nov-19 01:36 AM","all in the range of `000 - 010.jpg`","",""
"507392187223244801","jasonlee#1523","23-Nov-19 01:45 AM","`check50` says everything is correct","",""
"507392187223244801","jasonlee#1523","23-Nov-19 01:45 AM","so I am little confused","",""
"487223558733561866","thisIsDaniel#0256","30-Nov-19 08:10 PM","Hello, I'm get an error message that seems to indicate that I need to pass a string to `sprintf()` instead of the array of strings. But I'm not sure how to go about that in this case. I'm creating an array for the filename as follows `char *filename[8];` and then calling the function like this ```sprintf(filename, ""%03i.jpg"", jpegs_found);```. But I get this error: ```error: incompatible pointer types passing 'char *[8]' to parameter of type 'char *'```","",""
"49375778571292672","MY EYES#5465","30-Nov-19 08:56 PM","`char *filename[8];` makes an array of 8 char pointers, not chars","","ü§© (1)"
"487223558733561866","thisIsDaniel#0256","30-Nov-19 10:17 PM","thank you so much @MY EYES","",""
"246173769326919681","kk#2141","06-Dec-19 10:57 PM","i just got rick rolled while blundering my way through this assignment yall are savage","",""
"248112960831094785","ReubenUnicruz#2585","08-Dec-19 03:52 AM","It seems that my card.raw does not have any images üò¶ I could not detect any headers.","",""
"248112960831094785","ReubenUnicruz#2585","08-Dec-19 04:05 AM","My code:
```#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>

void newFileName(char *nameBuffer, int numFile);
bool isJPEGHead(long *databuffer);

int main(int argc, char *argv[])
{
    if (argv[1] == NULL || argc > 2)
    {
        printf(""Usage: ./recover filename\n"");
        return 1;
    }

    FILE *img = fopen(argv[1], ""r"");

    if (img == NULL)
    {
        fprintf(stderr, ""Could not open %s.\n"", argv[1]);
        return 2;
    }

    long buffer[512];
    int numRead = fread(&buffer, 1, 512, img);

    int numImg = 0;

    while (numRead != 0)
    {
        if (isJPEGHead(buffer) == true)
        {
            printf(""Yay! An image!!! :D\n"");
            numImg++;
        }
        numRead = fread(&buffer, 1, 512, img);
    }

    printf(""%i\n"", numImg);

    fclose(img);
}


// Usage: newFileName(filename, numFile);
void newFileName(char *nameBuffer, int numFile)
{
    sprintf(nameBuffer, ""%03i.jpg"", numFile);
}


// Test whether buffer contains jpeg header...
bool isJPEGHead(long *databuffer)
{
    if (databuffer[0] == 0xff &&
        databuffer[1] == 0xd8 &&
        databuffer[2] == 0xff &&
        (databuffer[3] & 0xf0) == 0xe0)
    {
        return true;
    }

    return false;
}```
Why can I not detect anything? Am I reading the file wrong?","",""
"248112960831094785","ReubenUnicruz#2585","08-Dec-19 07:32 AM","Guys, my code works but all of the images are empty for some reason. Any suggestions?
```
#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>

void newFileName(char *nameBuffer, int numFile);
bool isJPEGHead(unsigned char *databuffer);

int main(int argc, char *argv[])
{
    if (argv[1] == NULL || argc > 2)
    {
        printf(""Usage: ./recover filename\n"");
        return 1;
    }

    // Open card image file...
    FILE *img = fopen(argv[1], ""r"");

    if (img == NULL)
    {
        fprintf(stderr, ""Could not open %s.\n"", argv[1]);
        return 2;
    }

    unsigned char buffer[512];

    int numImgs = 0;

    bool isCurrentImg = false;

    FILE *newImg = NULL;

    while (fread(&buffer, 1, sizeof(buffer), img) != 0)
    {

        if (isJPEGHead(buffer) == true && isCurrentImg == false)
        {
            isCurrentImg = true;

            char newFile[] = ""000.jpg"";
            sprintf(newFile, ""%03i.jpg"", numImgs);

            newImg = fopen(newFile, ""w"");

            fwrite(buffer, sizeof(buffer), 1, newImg);

            numImgs++;

        }

        if (isJPEGHead(buffer) == false && isCurrentImg == true)
        {
            fwrite(buffer, sizeof(buffer), 1, newImg);
        }

        if (isJPEGHead(buffer) == true && isCurrentImg == true)
        {
            fclose(newImg);
            isCurrentImg = false;
        }


    }

    fclose(img);
}


// Test whether buffer contains jpeg header...
bool isJPEGHead(unsigned char *databuffer)
{
    if (databuffer[0] == 0xff &&
        databuffer[1] == 0xd8 &&
        databuffer[2] == 0xff &&
        (databuffer[3] & 0xf0) == 0xe0
    ) {
        return true;
    }

    return false;
}
```","",""
"248112960831094785","ReubenUnicruz#2585","08-Dec-19 07:42 PM","I guess the staff and everyone else is too busy.","",""
"248112960831094785","ReubenUnicruz#2585","08-Dec-19 07:45 PM","Nvm I solved it accidentally lol. It's one of those: ""It doesn't work. Why?"" -> ""It works. Why?"" problems lol. I just had to switch the order of if statements.","",""
"534070519948115978","Stenly#2766","10-Dec-19 09:16 PM","Hello, can anybody help me with my code? I believe I have 90+% correct but I missing something. Can I share it here or can I send private message to somebody? I would really appreciate your help üôÇ","",""
"534070519948115978","Stenly#2766","10-Dec-19 11:54 PM","OK, Ive got it","",""
"333930283101323264","Anya L#2162","22-Dec-19 06:38 PM","Did anyone else get this? Every other check is good, and all images show up with no glitches (including that last one). I thought maybe I was copying EOF from the end of the file, but additional condition solved nothing. If anyone has ideas about possible reason or how to get additional insight, I would apreciate it!","https://cdn.discordapp.com/attachments/395684916056031245/658347588415782941/unknown.png",""
"345782983812448257","PaRaD1se#9305","22-Dec-19 10:57 PM","yikes what does it keep popping ""invalid or unsupported image format"" for some of the jpgs I got","",""
"345782983812448257","PaRaD1se#9305","22-Dec-19 10:57 PM","every other ones look just fine","",""
"345782983812448257","PaRaD1se#9305","22-Dec-19 11:04 PM","oh....it is now only 050.jpg","",""
"345782983812448257","PaRaD1se#9305","22-Dec-19 11:04 PM","the ""cursed"" jpeg pog?","",""
"345782983812448257","PaRaD1se#9305","22-Dec-19 11:08 PM","holy it is 512 MB large....","",""
"345782983812448257","PaRaD1se#9305","22-Dec-19 11:11 PM","Problem resolved...I did not set constraint on the last do while loop I had, it kept writing in..","",""
"654185948501901312","clarxino#1917","24-Dec-19 03:35 AM","I'm not sure if I have this right, but I'd like to ask anyway","",""
"654185948501901312","clarxino#1917","24-Dec-19 03:36 AM","||
#include <stdio.h>
#include <stdlib.h>
#include <cs50.h>
#include <stdint.h>

typedef uint8_t BYTE;

int main(int argc, char *argv[])
{
    // if there is no filename or there are more than 2 arguments, show error
    if (argv[1] == NULL |  | argc > 2)
    {
        fprintf(stderr, ""Usage: %s image\n"", argv[0]);
        return 1;
    }

    // remember filenames
    char *infile = argv[1];
    
    // Open the file
    FILE *file = fopen(argv[1], ""r"");

    // If file is invalid, indicate such
    if (file == NULL) {
        fprintf(stderr, ""Could not open %s.\n"", argv[1]);
        return 2;
    }
    
    BYTE buffer[512]

    while (fread(buffer, 512, 1, inptr) != 0)
  ||
Kinda lost on getting started with the while loop","",""
"333930283101323264","Anya L#2162","24-Dec-19 02:38 PM","@clarxino Why don't you hide your code behind spoiler tag *grumble grumble* 
One way to start is by writing down the algorithm you believe will solve the problem through pseudocode aka step by step in plain English","",""
"333930283101323264","Anya L#2162","24-Dec-19 02:41 PM","Another one is to start from the easiest task possible - have it recognize that there's at least 1 jpg image in the file for example - and then scale it bit by bit","",""
"345782983812448257","PaRaD1se#9305","24-Dec-19 10:32 PM","Watch the shorts if you haven't","",""
"345782983812448257","PaRaD1se#9305","24-Dec-19 10:33 PM","Hints are pretty obvious","",""
"654185948501901312","clarxino#1917","26-Dec-19 01:06 PM","Thank you for the help.","",""
"653485879293378560","1Andu#3818","29-Dec-19 09:41 AM","Why do I get Rick Roll'd at my first read of card.raw instead of starting from 0 ?","https://cdn.discordapp.com/attachments/395684916056031245/660749179789901824/SPOILER_Screenshot_2019-12-29_at_09.40.29.png",""
"653485879293378560","1Andu#3818","29-Dec-19 10:03 AM","look like i am reading twice thats the problem","",""
"653485879293378560","1Andu#3818","29-Dec-19 10:03 AM","solved it","",""
"392717162797596672","Homosexual Toaster#6083","29-Dec-19 03:20 PM","||            //first jpeg
            if (numberofjpeg == 1)
            {
                flag = 1;
                sprintf(filename, ""03%i.jpg"", numberofjpeg);
                FILE *img = fopen(filename, ""w"");
                fwrite(buffer, 1, 512, img);
                numberofjpeg++;
            }

            //second+ jpeg
            else
            {
                fclose(img);
                numberofjpeg++;
                sprintf(filename, ""03%i.jpg"", numberofjpeg);
                img = fopen(filename, ""w"")
                fwrite(buffer, 1, 512, img);
            }||","",""
"392717162797596672","Homosexual Toaster#6083","29-Dec-19 03:20 PM","this is my code for when the jpeg header is found. i get an error on fclose(img)","",""
"392717162797596672","Homosexual Toaster#6083","29-Dec-19 03:21 PM","``use of undeclared identifier 'img'``","",""
"392717162797596672","Homosexual Toaster#6083","29-Dec-19 03:21 PM","should i just declare *img as a global variable?","",""
"322973582432927757","kadavraverkisto#7943","29-Dec-19 03:30 PM","Not necessarily global, it can still be put inside main(), but before the whole if-operator.","",""
"392717162797596672","Homosexual Toaster#6083","29-Dec-19 03:30 PM","i see. i declared it in the main (), and it seems to work fine. Thank you!","",""
"392717162797596672","Homosexual Toaster#6083","29-Dec-19 03:37 PM","||            //first jpeg
            if (numberofjpeg == 1)
            {
                flag = 1;
                sprintf(filename, ""03%i.jpg"", numberofjpeg);
                img = fopen(filename, ""w"");
                fwrite(buffer, 1, 512, img);
                numberofjpeg++;
            }||

this is my code for the first jpeg, upon reading the jpeg header. I declared 
||char *filename = NULL;|| above, and running the program gives me a segementation fault on the sprintf line. 

Upon reading https://cs50.stackexchange.com/questions/9307/segmentation-fault-probably-because-of-sprintf, my understanding is that when declaring filename = NULL, i declared filename as a constant string/string literal, and because i tried to change  filename even though it's constant, it results in a segmentation fault. Is this correct?","",""
"322973582432927757","kadavraverkisto#7943","29-Dec-19 03:51 PM","I believe it isn't even a string literal, just a zero pointer.
'char *filename = NULL;' - there is a pointer variable called 'filename', it contains 0 and points to no memory. It can't be used other than for comparison until a real address is assigned.
'char *filename = ""000.jpg"";' - there are symbols ""000.jpg\0"" in the area of constants, prohibited for rewriting, 'filename' contains the address of its first symbol.
'char filename[8];' - there are eight random bytes in the area of changeable data, 'filename' ~~contains~~ equals to the address of its first byte.","",""
"392717162797596672","Homosexual Toaster#6083","29-Dec-19 04:02 PM","I understand! Thank you.","",""
"392717162797596672","Homosexual Toaster#6083","29-Dec-19 04:03 PM","My last question, only tangentially  related to recover: how can the memory card be corrupted such that the hexadecimals are still readable, but not the jpeg files themselves?","",""
"333930283101323264","Anya L#2162","29-Dec-19 04:10 PM","Don't they say in the intro that user deleted the files, but what it means is the way to access them was deleted, while the bytes are still there untill overwritten by something else? Not sure I got it right, but it makes sense to me *shrug*","",""
"49375778571292672","MY EYES#5465","29-Dec-19 07:38 PM","yup, ""deleting"" files off disk usually doesn't delete the actual data, it just marks those spots on the disk as open to being rewritten","",""
"49375778571292672","MY EYES#5465","29-Dec-19 07:38 PM","so you can still get them back if you know where to look","",""
"49375778571292672","MY EYES#5465","29-Dec-19 07:38 PM","data forensics/recovery guys do this stuff all the time","",""
"603799118867070999","lawfulevilgenius#6705","31-Dec-19 05:48 PM","i have a question, i am taking CS50 through EDX trying to earn the certificate. I have finished and submitted  whodunit and resize of this problem set but i don't think i will be able to finish recover before 2020. Will i have to start over on this entire problem set?","",""
"393854278764068875","curiouskiwi#1671","31-Dec-19 09:14 PM","If you complete Resize, we'll give you credit for the new Filter problem.  You'll still need to do Recover (those are both in pset4 for 2020).  We'll be publishing a transition chart soon.","",""
"603799118867070999","lawfulevilgenius#6705","31-Dec-19 11:58 PM","ok great. Also i noticed that on my submit.cs50.io page i only see vigenere, whodunit, and resize. but not Caesars cipher, mario, cash, the scratch project etc. i did submit all of those back in the summer though. where can i find those and do i need to do anything like resubmit them or move them around?","",""
"393854278764068875","curiouskiwi#1671","01-Jan-20 12:03 AM","do you see them as completed in your gradebook?  http://cs50.me/cs50x ?","",""
"603799118867070999","lawfulevilgenius#6705","01-Jan-20 01:37 AM","Yes! i see them. I had not seen that page before thanks","",""
"603799118867070999","lawfulevilgenius#6705","01-Jan-20 01:39 AM","turns out i had not linked my CS50.me account with EDX yet. I think that's why i could'nt find all of my course work","",""
"348924660882079746","daedalus6174#3707","01-Jan-20 09:14 AM","I completed resize in 2019 but filter is shown at 0% complete in my grade book üò¶","",""
"393854278764068875","curiouskiwi#1671","01-Jan-20 09:16 AM","@daedalus6174 what's your github username?","",""
"393854278764068875","curiouskiwi#1671","01-Jan-20 09:17 AM","if you passed resize, what will happen is that once you complete recover, your pset4 will be marked as complete, but you won't see the individual grade for filter because you didn't do it.  (but the overall problem set will take into account your resize)","",""
"393854278764068875","curiouskiwi#1671","01-Jan-20 09:19 AM","for example, this is what someone who completed caesar/vigenere in 2019 will see for pset2.  The individual grades aren't there (because those are for the 2020 problem submissions) but the pset as a whole is marked green (ie, complete)","https://cdn.discordapp.com/attachments/395684916056031245/661830814153310209/pset2.png",""
"348924660882079746","daedalus6174#3707","01-Jan-20 09:29 AM","Alright word. My GitHub username is hmbeale","",""
"348924660882079746","daedalus6174#3707","01-Jan-20 09:29 AM","I‚Äôll just keep chugging along then","",""
"393854278764068875","curiouskiwi#1671","01-Jan-20 09:33 AM","@daedalus6174 I can confirm you've completed pset1 and pset2","",""
"348924660882079746","daedalus6174#3707","01-Jan-20 09:34 AM","Thanks for checking that @curiouskiwi","",""
"393854278764068875","curiouskiwi#1671","01-Jan-20 09:35 AM","@daedalus6174 let me know, once you complete recover, if your pset4 is not shown as complete (it should be, as i can see that you passed resize/less)","","üëå (1)"
"547135013519491084","Enzo#5225","01-Jan-20 11:08 AM","guys... i started watching python lectures ... one question, is it possible to solve the recover exercise with python? is that doable? or python can not access memory?","",""
"319676057617825795","! Ben#3180","01-Jan-20 11:31 AM","You can open the raw file and read it as bytes in Python.","",""
"393854278764068875","curiouskiwi#1671","01-Jan-20 11:34 AM","@Enzo yes, you could do it in python.  look at file.read() and file.write()","",""
"547135013519491084","Enzo#5225","01-Jan-20 11:55 AM","@! Ben @curiouskiwi  ok thank you","",""
"393854278764068875","curiouskiwi#1671","01-Jan-20 12:02 PM","if you've already written it in C, you should be able to convert to python fairly easily (I never tried it until you asked, and I've got it done now) üôÇ","",""
"393854278764068875","curiouskiwi#1671","06-Jan-20 06:34 AM","@chriso try #filter üôÇ","",""
"393854278764068875","curiouskiwi#1671","06-Jan-20 06:36 AM","the question has nothing to do with recover. üôÇ","",""
"236287924734394368","chriso#1172","08-Jan-20 01:13 PM","with recover do we have to follow the tutorial and read the data in blocks of 512 BYTES or can we implement our own method of reading the data?","",""
"333930283101323264","Anya L#2162","08-Jan-20 04:40 PM","@chriso As long as it works and doesn't take forever, I don't think it matters what algorithm you apply.","",""
"236287924734394368","chriso#1172","08-Jan-20 11:50 PM","@Anya L ty","",""
"174850178384134145","L.S.#6002","11-Jan-20 04:40 AM","@chriso I‚Äôm not sure how you would read information differently. Why not just follow the method shown in the walkthrough? They presented you with two options: reading single blocks of 512 bytes, or reading 512 blocks of one byte.","",""
"236287924734394368","chriso#1172","11-Jan-20 04:43 AM","@L.S. you can read the whole lot in one go","",""
"174850178384134145","L.S.#6002","11-Jan-20 04:53 AM","@chriso true, but you‚Äôd need to know exactly how much information there is to read","",""
"236287924734394368","chriso#1172","11-Jan-20 04:53 AM","yeah","",""
"174850178384134145","L.S.#6002","11-Jan-20 04:54 AM","And after that, you‚Äôd probably save it in an array or buffer of some sort anyway, which you would then have to loop through anyway","",""
"236287924734394368","chriso#1172","11-Jan-20 04:54 AM","yeah is that not allowed?","",""
"174850178384134145","L.S.#6002","11-Jan-20 04:54 AM","Meaning you‚Äôd have created an extra step for nothing","",""
"174850178384134145","L.S.#6002","11-Jan-20 04:54 AM","No it is, it‚Äôs just not design-efficient","",""
"236287924734394368","chriso#1172","11-Jan-20 04:54 AM","I already submitted it so its done now","",""
"174850178384134145","L.S.#6002","11-Jan-20 04:55 AM","You‚Äôre free to do it, I‚Äôm just trying to understand why you‚Äôd choose a less efficient route","",""
"174850178384134145","L.S.#6002","11-Jan-20 04:55 AM","I see, well what matters is that you completed it. Good job","",""
"236287924734394368","chriso#1172","11-Jan-20 04:56 AM","I couldn't get it to work otherwise which is why I asked, but I received an answer like 2 days before you replied otherwise I would have gone back and changed the code","",""
"174850178384134145","L.S.#6002","11-Jan-20 04:57 AM","I see. Well, you‚Äôre always free to improve it in the future just for your own peace of mind. This is just for practice anyway, so it doesn‚Äôt matter at this point if the code is at its most efficient or not","",""
"236287924734394368","chriso#1172","11-Jan-20 04:58 AM","Yeah i will go back,  knowing more about pointers and memory now I think I should be able to get it done more efficiently. Thanks for the feedback.","",""
"364417667039363072","4shr4f#1055","11-Jan-20 09:23 PM","I used a while instead of if and have over 60000 JPGs to delete....","","ü§£ (1),üëç (1)"
"364417667039363072","4shr4f#1055","11-Jan-20 09:29 PM","find . -type f -iname \*.jpg -delete","",""
"364417667039363072","4shr4f#1055","11-Jan-20 09:29 PM","thank you stack overflow","",""
"364417667039363072","4shr4f#1055","11-Jan-20 09:33 PM","Only getting 24 images now.....","",""
"664560538113540156","milanzitka#3675","14-Jan-20 10:43 PM","Hello all, on this page:
https://cs50.harvard.edu/x/2020/psets/4/recover/
section ""Getting started"", #4 ""Execute wget http://cdn.cs50.net/2019/fall/psets/4/recover/recover.zip ..."" didn't work for me. It was just keep connecting and connecting but no response. What helped? Rewrite ""http"" to ""https"". 

Is it just a bug of mine, or does it happen to everyone?","",""
"393854278764068875","curiouskiwi#1671","14-Jan-20 10:56 PM","haven't heard of that problem. Are you using the IDE?","",""
"665871560862859264","Javelin89#7006","14-Jan-20 11:52 PM","Maybe it's too late where I am and I should just sleep but: When I read the first chunk of data, how do I move 512 bytes over to the next one?","",""
"393854278764068875","curiouskiwi#1671","14-Jan-20 11:57 PM","fread keeps track of where it is in the file it's reading","",""
"393854278764068875","curiouskiwi#1671","14-Jan-20 11:58 PM","so once you read 512 bytes, its 'file cursor' will be at the 513th byte ready to read again","",""
"665871560862859264","Javelin89#7006","14-Jan-20 11:58 PM","oh sweet! thanks, I should stop thinking too complicated üòÑ","",""
"664560538113540156","milanzitka#3675","15-Jan-20 09:33 AM","@curiouskiwi Yes, I'm using CS50 IDE. 
If i tried it exactly as pset says:","https://cdn.discordapp.com/attachments/395684916056031245/666907809497219082/unknown.png",""
"664560538113540156","milanzitka#3675","15-Jan-20 09:33 AM","it ends up like this:","https://cdn.discordapp.com/attachments/395684916056031245/666907919593242644/unknown.png",""
"664560538113540156","milanzitka#3675","15-Jan-20 09:35 AM","but if I try it with httpS, iit works well:","https://cdn.discordapp.com/attachments/395684916056031245/666908200687108096/unknown.png",""
"664560538113540156","milanzitka#3675","15-Jan-20 09:36 AM","Maybe its just text mistake in pset step #4? I looked at other problem sets and everywhere is ""wget https://...""","",""
"393854278764068875","curiouskiwi#1671","15-Jan-20 10:20 AM","@milanzitka I believe you're correct that it was a typo.  Fixing. Thanks!","",""
"664560538113540156","milanzitka#3675","15-Jan-20 02:23 PM","@curiouskiwi no problem, thank you for great job with CS50!","",""
"456226577798135808","Deleted User#0000","16-Jan-20 05:30 PM","So does fread work the same was as fgetc where it moves to the next chunk of memory everytime you call a function?","",""
"393854278764068875","curiouskiwi#1671","16-Jan-20 08:13 PM","Yes","",""
"456226577798135808","Deleted User#0000","16-Jan-20 08:21 PM","thanks","",""
"649522409812131841","sgubp#9685","19-Jan-20 09:04 PM","why am I getting segmentation fault I don't know why","",""
"649522409812131841","sgubp#9685","19-Jan-20 09:05 PM","||```c
while(fread(buff,512,1,file)!=0)
    {
        fread(buff,512,1,file);
        if(buff[0]==0xff && buff[1]==0xd8 && buff[2]==0xff && (buff[3] & 0xf0)==0xe0)
        {
            if(!check)
            {
               sprintf(filename,""%03i.jpg"",counter);
               counter++;
               recover=fopen(filename,""w"");
               fwrite(buff,512,1,recover);
               check=true;



            }
            else
            {
                fclose(recover);
                counter++;
                sprintf(filename,""%03i.jpg"",counter);
                recover=fopen(filename,""w"");
                fwrite(buff,1,512,recover);
            }
        }

    }
```||","",""
"49375778571292672","MY EYES#5465","19-Jan-20 10:04 PM","you're calling fread twice in each loop iteration. once in the while condition, and once again in the first line of the loop.
fread moves the file pointer forward by `size` number of bytes, which is 512 bytes in your case.

what you're effectively doing is loading 512 bytes in buff, checking that it does contain valid data, then loading the next 512 bytes from the file into buff again (or trying to). so you're reading 1024 bytes with each iteration, and not checking if the second read is valid before trying to access data from it","",""
"285408475457126400","Mendax#3549","20-Jan-20 07:46 AM","hi everyone, I'm having some difficulty with using fread to read the whole memory card","",""
"285408475457126400","Mendax#3549","20-Jan-20 07:47 AM","i know that fread reads data from a file into a buffer that you create","",""
"285408475457126400","Mendax#3549","20-Jan-20 07:47 AM","but i dont understand how fread can be used to read throuhg the whole memory card","",""
"285408475457126400","Mendax#3549","20-Jan-20 07:49 AM","what I've done is this:

BYTE buffer[512];
while (fread(buffer, sizeof(BYTE), 512, file_pointer) == 512)","",""
"285408475457126400","Mendax#3549","20-Jan-20 07:50 AM","in my understanding, I'm first creating an array of size 512, each element size of BYTE","",""
"285408475457126400","Mendax#3549","20-Jan-20 07:50 AM","then i'm using fread to read one byte of data, 512 times","",""
"285408475457126400","Mendax#3549","20-Jan-20 07:50 AM","but i dont get how this would lead to fread reading through the whole file","",""
"649522409812131841","sgubp#9685","20-Jan-20 10:16 AM","@MY EYES  thanks i will try to solve it","",""
"649522409812131841","sgubp#9685","20-Jan-20 10:51 AM","I also tried what you told me to do but still it doesn't work üò¶","",""
"456226577798135808","Deleted User#0000","20-Jan-20 11:04 AM","@Mendax I'm not sure how it exactly works either, but I believe that if you keep calling fread function in your loop until you reach the end of the file, fread will keep moving the next chunk of memory","",""
"456226577798135808","Deleted User#0000","20-Jan-20 11:04 AM","So for example if you wanted to read a file with 5 blocks of memory, each of them 512 bytes","",""
"456226577798135808","Deleted User#0000","20-Jan-20 11:05 AM","You would need a loop that would call fread 5 times","",""
"456226577798135808","Deleted User#0000","20-Jan-20 11:06 AM","So on first iteration it reads chunk 1, on second iteration chunk 2, etc. so it moves to the next chunk automatically","",""
"285408475457126400","Mendax#3549","21-Jan-20 04:19 AM","@Deleted User  ooooooo dang","",""
"285408475457126400","Mendax#3549","21-Jan-20 04:19 AM","I see i see","",""
"285408475457126400","Mendax#3549","21-Jan-20 04:19 AM","It seems to work in my code too","",""
"285408475457126400","Mendax#3549","21-Jan-20 04:20 AM","But dang so sad i dont understand how exactly fread works","",""
"393854278764068875","curiouskiwi#1671","21-Jan-20 04:21 AM","fread maintains a 'cursor' that keeps track of where in the file it is.  So when you read 512 bytes, the cursor is now sitting on the 513th byte waiting to read again.","",""
"393854278764068875","curiouskiwi#1671","21-Jan-20 04:22 AM","so if you're in a while loop like that, it will keep reading until it reaches the end (at which point, fread will return 0 ... ie, your while condition will be false and the loop won't run again)","",""
"285408475457126400","Mendax#3549","21-Jan-20 04:23 AM","Ahhhhh i see i see","",""
"285408475457126400","Mendax#3549","21-Jan-20 04:23 AM","Thanks!","",""
"456226577798135808","Deleted User#0000","22-Jan-20 03:13 AM","It's forensic because this pset uses forensic method of image recovery","",""
"456226577798135808","Deleted User#0000","22-Jan-20 03:13 AM","Also you are reading 512 blocks because jpeg consists of 512 blocks of memory","",""
"393854278764068875","curiouskiwi#1671","22-Jan-20 03:19 AM","forensic image is the card.raw file","",""
"456226577798135808","Deleted User#0000","22-Jan-20 03:23 AM","Forensic means criminal investigation science","",""
"393854278764068875","curiouskiwi#1671","22-Jan-20 03:30 AM","> And so I‚Äôve gone ahead and created a ‚Äúforensic image‚Äù of the card, storing its contents, byte after byte, in a file called card.raw. So that you don‚Äôt waste time iterating over millions of 0s unnecessarily, I‚Äôve only imaged the first few megabytes of the memory card. But you should ultimately find that the image contains 50 JPEGs.","",""
"393854278764068875","curiouskiwi#1671","22-Jan-20 03:33 AM","imagine you were a detective trying to find evidence of something and you found an ""erased"" memory card.  So you need to investigate it.  The science of investigation is called forensics.  So if we say it's a ""forensic image"", it just means that you're investigating it.","",""
"393854278764068875","curiouskiwi#1671","22-Jan-20 03:35 AM","and that check50 test is to test this:  
> Your program should accept exactly one command-line argument, the name of a forensic image from which to recover JPEGs.
> If your program is not executed with exactly one command-line argument, it should remind the user of correct usage, and main should return 1.","",""
"393854278764068875","curiouskiwi#1671","22-Jan-20 03:35 AM","and card.raw is the forensic image that you were given for testing your program","",""
"393854278764068875","curiouskiwi#1671","22-Jan-20 03:35 AM","so you run `./recover card.raw`  to run your program","",""
"393854278764068875","curiouskiwi#1671","22-Jan-20 03:36 AM","but if you run `./recover` your program should print an error and return 1.","",""
"665053121499627571","fjw#9108","24-Jan-20 12:46 AM","question to confim: fread() should begin its read from the SEEK_CUR pointer location as returned by ftell() ?  It appears I'm moving the file pointer correctly with fseek(), but fread() is grabbing the first byte of card.raw","",""
"665053121499627571","fjw#9108","24-Jan-20 12:47 AM","(And yes, I realize this isn't the preferred way to solve this pset - I'm implementing the solution in multiple ways, and want to understand the file manipulator functions better)","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 12:49 AM","it should read from the current position","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 12:50 AM","do you have a code snippet where that isn't happening? @fjw","",""
"665053121499627571","fjw#9108","24-Jan-20 12:51 AM","yeah - let me clean up this  section a bit so I only show the relevant bits","",""
"665053121499627571","fjw#9108","24-Jan-20 12:56 AM","oops - I guess my spoiler tag didn't work","",""
"665053121499627571","fjw#9108","24-Jan-20 12:57 AM","notes: BLOCKSIZE = 512, size_t = number of blocks in card.raw (calculation elsewhere for where I've implemented reading the whole card.raw in memory as a single read)","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 12:57 AM","so what are you seeing in your prints?","",""
"665053121499627571","fjw#9108","24-Jan-20 12:58 AM","~/pset4/recover/ $ ./recover card.raw | more
BufLength: 3744768
Blocks: 7314
What did I read in: 0 @ location 392400
Location: 392600
What did I read in: 0 @ location 392600
Location: 392800
What did I read in: 0 @ location 392800
Location: 392a00
What did I read in: 0 @ location 392a00
Location: 392c00
What did I read in: 0 @ location 392c00
Location: 392e00
What did I read in: 0 @ location 392e00
Location: 393000","",""
"665053121499627571","fjw#9108","24-Jan-20 12:58 AM","<snipped>","",""
"665053121499627571","fjw#9108","24-Jan-20 12:58 AM","so you see the file pointer moving","",""
"665053121499627571","fjw#9108","24-Jan-20 12:59 AM","but smallblock[0] is consistently 0 (which is the first value of the entire file)","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:05 AM","I'm assuming recoverfile is card.raw?","",""
"665053121499627571","fjw#9108","24-Jan-20 01:06 AM","yep","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:06 AM","I just ran that code: ```What did I read in: 0 @ location 200
Location: 400
What did I read in: d8 @ location 600
Location: 800
What did I read in: 69 @ location a00
Location: c00
What did I read in: f4 @ location e00
Location: 1000
What did I read in: 78 @ location 1200
Location: 1400
What did I read in: 8e @ location 1600
Location: 1800
What did I read in: 5 @ location 1a00
Location: 1c00
What did I read in: b4 @ location 1e00
Location: 2000
What did I read in: 60 @ location 2200
Location: 2400
What did I read in: 4f @ location 2600
Location: 2800
What did I read in: f0 @ location 2a00
Location: 2c00
What did I read in: 33 @ location 2e00
Location: 3000
What did I read in: 6e @ location 3200
Location: 3400
What did I read in: d9 @ location 3600
Location: 3800
What did I read in: a2 @ location 3a00
Location: 3c00
What did I read in: 26 @ location 3e00
Location: 4000
What did I read in: d @ location 4200
Location: 4400
What did I read in: 4a @ location 4600
Location: 4800
What did I read in: e2 @ location 4a00
Location: 4c00
What did I read in: d6 @ location 4e00
Location: 5000```","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:07 AM","if you run your code but change size_t to 10, so you can see the beginning of the output, do you get what I get?","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:08 AM","also, you realize you are skipping every other block with that fseek.","",""
"665053121499627571","fjw#9108","24-Jan-20 01:08 AM","yeah - I know","",""
"665053121499627571","fjw#9108","24-Jan-20 01:09 AM","I've been messing with this for awhile trying to figure out what's misbehaving since the first jpeg is at the start of block 3","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:09 AM","also, you realize that smallblock[i] isn't going to be the first block in the array","",""
"665053121499627571","fjw#9108","24-Jan-20 01:09 AM","so random cruft has snuck in while debugging","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:09 AM","since `i` is getting to be a very big number","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:10 AM","you don't read into smallblock[i]","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:10 AM","fread is going to read into smallblock[0] (to smallblock[511])","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:11 AM","so printing /testing smallblock[i] [i+1] etc isn't valid","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:12 AM","after the first read","",""
"665053121499627571","fjw#9108","24-Jan-20 01:12 AM","yeah - ignore the testing blocks","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:12 AM","okay, but you are printing smallblock[i]","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:12 AM","which is invalid","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:12 AM","it's not showing you what fread read in","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:13 AM","```
printf(""What did I read in: %x @ location %lx\n"", smallblock[i], ftell(raw));
```","",""
"665053121499627571","fjw#9108","24-Jan-20 01:13 AM","that's part of the cut n paste from the read in the entire file part version of this implementation","",""
"665053121499627571","fjw#9108","24-Jan-20 01:13 AM","ah.. you're right","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:13 AM","yes, but that's not what you read in, despite","",""
"665053121499627571","fjw#9108","24-Jan-20 01:14 AM","but back to your previous question","",""
"665053121499627571","fjw#9108","24-Jan-20 01:14 AM","changing size_t to 10 just gives me 10 iterations of 0 @ location <foo>","",""
"665053121499627571","fjw#9108","24-Jan-20 01:15 AM","and changing it to return smallblock{0] v smallblock[i]","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:16 AM","```
 ./recover card.raw
What did I read in: 0 @ location 200
Location: 400
What did I read in: ff @ location 600
Location: 800
What did I read in: 9d @ location a00
Location: c00
What did I read in: d @ location e00
Location: 1000```","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:16 AM","that's printing smallblock[0]","",""
"665053121499627571","fjw#9108","24-Jan-20 01:17 AM","weird because I'm not getting that","",""
"665053121499627571","fjw#9108","24-Jan-20 01:17 AM","let me poke at this a bit more","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:17 AM","have you somehow corrupted your card.raw?","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:18 AM","if you run `xxd -l 4 -s 1024 card.raw` what do you get?","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:19 AM","```
$ xxd -l 4 -s 1024 card.raw
00000400: ffd8 ffe0                                ....
```","",""
"665053121499627571","fjw#9108","24-Jan-20 01:19 AM","yes","",""
"665053121499627571","fjw#9108","24-Jan-20 01:19 AM","re: matching output on xxd","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:20 AM","so that shows that loc 400 has `ff`","",""
"665053121499627571","fjw#9108","24-Jan-20 01:21 AM","correct","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:21 AM","which is what my running of your program shows: ```Location: 400
What did I read in: ff ```","",""
"665053121499627571","fjw#9108","24-Jan-20 01:23 AM","and that's it","",""
"665053121499627571","fjw#9108","24-Jan-20 01:23 AM","lovely","",""
"665053121499627571","fjw#9108","24-Jan-20 01:23 AM","gotta figure out why fseek(recoverfile, 0, SEEK_SET) is misbehaving","",""
"665053121499627571","fjw#9108","24-Jan-20 01:23 AM","thanks for the help!","",""
"665053121499627571","fjw#9108","24-Jan-20 01:37 AM","@curiouskiwi one more question along this line for you if you don't mind:   I fseek() to the end to grab the size of card.raw, and then move it back to start grabbing 512 byte chunks","",""
"665053121499627571","fjw#9108","24-Jan-20 01:37 AM","but this debugging is weird:","",""
"393854278764068875","curiouskiwi#1671","24-Jan-20 01:39 AM","you might need to send me your entire code (privately)","",""
"665053121499627571","fjw#9108","24-Jan-20 01:54 AM","and for those that were following this: hint:  this is what you get when you try to do too many things at once and your code gets crufty","",""
"189367162568179722","Reptuce#2196","25-Jan-20 04:27 PM","Hi all, just curious why:
char filename[7];
sprintf(filename, ""%03i.jpg"", iImageCount);

could be causing a seg fault?","",""
"165837829287575552","September#5047","25-Jan-20 04:31 PM","@Reptuce I faced a segfault for that earlier too, solved it by using char * and calling malloc instead","",""
"189367162568179722","Reptuce#2196","25-Jan-20 04:33 PM","@September I'll give it a try thanks.","",""
"165837829287575552","September#5047","25-Jan-20 04:34 PM","as to your question specifically, could you try filename[8] instead? just making a guess here but you might have to make room for the null character","",""
"189367162568179722","Reptuce#2196","25-Jan-20 04:51 PM","Unfortunatrly, still getting yelled at by valgrind:
Invalid read of size 4
 at 0x56958BE: fwrite (iofwrite.c:37)
by 0x40097D: main (recover.c:51)
Address 0x0 is not stack'd, malloc'd or (recently) free'd

line 37 : sprintf(filename, ""%03i.jpg"", iImageCount);
line 51: fwrite(buffer, iBlockSize, 1, outFile);","",""
"234679095378706433","Blauelf#6622","25-Jan-20 05:24 PM","Do you write to the output file before opening it?
The line 37 refers to another file, the implementation of `fwrite`.","",""
"189367162568179722","Reptuce#2196","25-Jan-20 06:06 PM","@Blauelf I am, but I neglected to check on the pointers. Good news is, that it's no longer leaking, I think.
Bad news is that valgrind is now complaining about ""Using an uninitialized value of 8""

tried calloc to resolve this, but no luck.","",""
"234679095378706433","Blauelf#6622","25-Jan-20 06:10 PM","Sounds like it's accessing an uninitialised pointer.","",""
"189367162568179722","Reptuce#2196","25-Jan-20 07:01 PM","@Blauelf lol, I gathered as much, thanks anyway.","",""
"234679095378706433","Blauelf#6622","25-Jan-20 08:32 PM","I meant... you likely are not allocating memory you interpret as pointers, do you? At least not in `recover`, I would expect that in `speller`.","",""
"533017081319391242","Stanisloth#4572","26-Jan-20 06:45 AM","Can anyone help me find the error in my code? I create 50 jpgs but theyre all blank except the first one which looks like it only has the first two lines of the picture created.  ||`    while(fread(buffer, 512, 1, f) != 0)
    {
        //array for jpeg names
        char name[8];

        //Look for beginning of a JPEG ( 0xff, 0xd8, 0xff) and the last byte (oxe0 : 0xef)
        if (buffer[0] == 0xff &&
            buffer[1] == 0xd8 &&
            buffer[2] == 0xff &&
            (buffer[3] & 0xf0) == 0xe0)
        {
            // If start of new JPEG

            if (counter == 0)
            {
                sprintf(name, ""%03i.jpg"", counter);
                img = fopen(name, ""w"");
                counter++;
                fwrite(buffer, 512, 1, img);
                printf(""First JPEG Created\n"");
            }

            //if not first jpeg
            else
            {
                fclose(img);
                printf(""Making New JPEG\n"");
                counter++;
                img = fopen(name, ""w"");
                sprintf(name, ""%03i.jpg"", counter);
                fwrite(buffer, 512, 1, img);
                printf(""%s created\n"", name);
            }

        }

    }`||","",""
"234679095378706433","Blauelf#6622","26-Jan-20 12:07 PM","@Stanisloth The order of your actions is a bit off (not sure how relevant that is, might have you overwrite the first image with the second and skip number 001)
And... you write exactly one block per file, the first 512 bytes. What if a block is no JPEG header?","",""
"533017081319391242","Stanisloth#4572","26-Jan-20 03:55 PM","I see, so I should try and set up another else statement that continues writing if there is a jpeg file open?","",""
"234679095378706433","Blauelf#6622","26-Jan-20 04:33 PM","Could be an `else if` to your header detection. I moved the `fwrite` out of that part and made a regular `if` instead, so that my code has only one `fwrite`. But, same result.","",""
"603799118867070999","lawfulevilgenius#6705","26-Jan-20 08:09 PM","@curiouskiwi ok so i completed and submitted the 2019 Whodunnit and Resize problems, they were the old pset3, however, i was working on recover when the new year hit me. Then i had to do the NEW pset 3 problems because they were completely different. I noticed that it looks like the 2019 pset 3 was modified and bumped up to pset 4 for 2020. Now i dont see any credit for those 2019 projects that i completed in my gradebook and i spent like 10 days completing resize.... do i still have to complete filter now even though i submitted the 2019 projects? thanks!","",""
"393854278764068875","curiouskiwi#1671","26-Jan-20 10:22 PM","If you didn't complete Recover in 2019, then your pset3 wasn't complete and couldn't be counted towards the 2020 course.  So yes, you'll have to complete filter (and resubmit recover with the 2020 submission command).","",""
"603799118867070999","lawfulevilgenius#6705","26-Jan-20 11:50 PM","dang.. so i basically had to do 2 pset three's but I only got credit for one. lol","",""
"603799118867070999","lawfulevilgenius#6705","26-Jan-20 11:51 PM","i spent alot of time on those too. oh well, knowledge gained can never be a loss i suppose.","",""
"533017081319391242","Stanisloth#4572","27-Jan-20 12:35 AM","Was hoping someone could help me again. I fixed my program so that it actually countinues writing for each jpeg. checking through the images and they appear to be correct. However my program gets stuck on the last image, and check50 says that none of my images match? Can someone point me in the right direction","",""
"393854278764068875","curiouskiwi#1671","27-Jan-20 12:39 AM","```               img = fopen(name, ""w"");
                sprintf(name, ""%03i.jpg"", counter);
```  is this the order you want?  you are opening the file before you've created the correct filename, so it ends up with the previous one, right?","",""
"393854278764068875","curiouskiwi#1671","27-Jan-20 12:40 AM","@Stanisloth ^^","",""
"533017081319391242","Stanisloth#4572","27-Jan-20 12:41 AM","I completely missed that gosh. I've been looking at this for so long that I'm starting to get cross eyed haha. Let me go correct that and see if it works, thanks!","",""
"533017081319391242","Stanisloth#4572","27-Jan-20 12:46 AM","Ok check50 works out. Thanks! @Blauelf  @curiouskiwi","","üíØ (1)"
"662088335866462211","violinmaster27#8110","29-Jan-20 10:30 PM","I'm having trouble finding an algorithim for determining when the file has reached an end. I know it has to do with the return value of fread() but other than that I'm kind lost. Any help?","",""
"234679095378706433","Blauelf#6622","29-Jan-20 10:35 PM","Then test that value whenever you `fread`. Could even be in a loop condition, like `while (fread(...) != 0)` or similar.","",""
"662088335866462211","violinmaster27#8110","29-Jan-20 10:36 PM","oh okay, i hadn't thought of while loop","",""
"662088335866462211","violinmaster27#8110","29-Jan-20 10:39 PM","my confusion is how do you know that the program is going onto the next ""block"" each time it loops?","",""
"393854278764068875","curiouskiwi#1671","29-Jan-20 10:41 PM","you are calling `fread`","",""
"662088335866462211","violinmaster27#8110","29-Jan-20 10:42 PM","ok so it just does that on its own? once it's read a block it never goes back to it?","",""
"234679095378706433","Blauelf#6622","29-Jan-20 10:42 PM","The position within the file advances by the files read/written.","",""
"393854278764068875","curiouskiwi#1671","29-Jan-20 10:42 PM","that's right. the read 'cursor' moves forward as it reads","",""
"662088335866462211","violinmaster27#8110","29-Jan-20 10:43 PM","ahh i see","",""
"662088335866462211","violinmaster27#8110","29-Jan-20 10:43 PM","thank you!","",""
"662088335866462211","violinmaster27#8110","30-Jan-20 12:44 AM","should the jpegs open properly in the IDE? i try opening them but it says they're an unsupported file format","",""
"393854278764068875","curiouskiwi#1671","30-Jan-20 12:49 AM","they should, but sometimes the IDE has trouble opening them.  If you download one of them, can you see / open it locally?","",""
"662088335866462211","violinmaster27#8110","30-Jan-20 12:49 AM","no not that way either","",""
"662088335866462211","violinmaster27#8110","30-Jan-20 12:50 AM","i probably still need to fix something in my program","",""
"393854278764068875","curiouskiwi#1671","30-Jan-20 12:52 AM","do your jpgs have reasonable file sizes?","",""
"393854278764068875","curiouskiwi#1671","30-Jan-20 12:52 AM","I'd expect 000.jpg to be 114176 bytes for example","",""
"662088335866462211","violinmaster27#8110","30-Jan-20 12:53 AM","around 110 KB","",""
"393854278764068875","curiouskiwi#1671","30-Jan-20 01:39 AM","what's the exact size of 000.jpg?","",""
"662088335866462211","violinmaster27#8110","30-Jan-20 02:19 AM","it says 114KB","",""
"662088335866462211","violinmaster27#8110","30-Jan-20 02:20 AM","it recovers 50 of them","",""
"393854278764068875","curiouskiwi#1671","30-Jan-20 02:20 AM","and if you double click it, you get an invalid file type?","",""
"662088335866462211","violinmaster27#8110","30-Jan-20 02:21 AM","it says ""Invalid or Unsupported Image format""","",""
"662088335866462211","violinmaster27#8110","30-Jan-20 02:22 AM","yeah exact size is 114,176 bytes","",""
"393854278764068875","curiouskiwi#1671","30-Jan-20 02:24 AM","so that sounds fine.  can you download the 000.jpg and upload it here?","",""
"662088335866462211","violinmaster27#8110","30-Jan-20 02:24 AM","","https://cdn.discordapp.com/attachments/395684916056031245/672235703941201922/000.jpg",""
"393854278764068875","curiouskiwi#1671","30-Jan-20 02:25 AM","yeah, so that's not valid","",""
"393854278764068875","curiouskiwi#1671","30-Jan-20 02:25 AM","can you run `xxd -l 10 000.jpg`  and paste that here?","",""
"393854278764068875","curiouskiwi#1671","30-Jan-20 02:26 AM","I'd expect: ```00000000: ffd8 ffe0 0010 4a46 4946                 ......JFIF```","",""
"662088335866462211","violinmaster27#8110","30-Jan-20 02:26 AM","00000000: 3030 302e 6a70 6700 0000                 000.jpg...","",""
"393854278764068875","curiouskiwi#1671","30-Jan-20 02:26 AM","so your first 4 bytes (the signature) are totally wrong","",""
"662088335866462211","violinmaster27#8110","30-Jan-20 02:27 AM","okay","",""
"393854278764068875","curiouskiwi#1671","30-Jan-20 02:27 AM","see how mine starts with ff d8 ff e0?","",""
"662088335866462211","violinmaster27#8110","30-Jan-20 02:27 AM","yeah","",""
"393854278764068875","curiouskiwi#1671","30-Jan-20 02:27 AM","which is the signature you'd expect. you need to figure out why your first block isnt' the signature block","",""
"662088335866462211","violinmaster27#8110","30-Jan-20 02:27 AM","yeah thats the correct header","",""
"662088335866462211","violinmaster27#8110","30-Jan-20 02:27 AM","okay cool thanks!","",""
"393854278764068875","curiouskiwi#1671","30-Jan-20 02:30 AM","it may be that you are overwriting your buffer in some strange way since your filesize is exactly right (which means you are writing the correct number of blocks)","",""
"662088335866462211","violinmaster27#8110","30-Jan-20 02:31 AM","my buffer is: unsigned char bytes[512], that could be wrong though since i'm still getting the hang of this","",""
"393854278764068875","curiouskiwi#1671","30-Jan-20 02:31 AM","that's fine","",""
"662088335866462211","violinmaster27#8110","30-Jan-20 02:33 AM","my string for sprintf allocates 512 as well","",""
"393854278764068875","curiouskiwi#1671","30-Jan-20 02:33 AM","you can run `xxd -l 512 000.jpg` to show the entire first block if that might help","",""
"393854278764068875","curiouskiwi#1671","30-Jan-20 02:34 AM","well, you only need 8 but having a bigger array shouldn't make a difference","",""
"662088335866462211","violinmaster27#8110","30-Jan-20 02:34 AM","man that's what i had then i overthought it","",""
"662088335866462211","violinmaster27#8110","30-Jan-20 02:34 AM","lolol","",""
"662088335866462211","violinmaster27#8110","30-Jan-20 05:12 AM","I got it now! I was using the wrong data variable in my fwrite functions","",""
"393854278764068875","curiouskiwi#1671","30-Jan-20 05:13 AM","üôÇ","",""
"252442639541075969","madakralc#3237","31-Jan-20 12:51 PM","Hi! I believe I'm almost done with the problem but some issues remain... Everything seems to be working for the first 49 pictures but the last one is not created/working as intended. Anyone got an idea of what could be wrong?","",""
"252442639541075969","madakralc#3237","31-Jan-20 12:54 PM","Without showing my code it seems like my loops are working and while debugging I can see that the last file ""should have"" been created..","",""
"252442639541075969","madakralc#3237","31-Jan-20 02:20 PM","Nvm, solved it! üòÑ","",""
"534385061089509391","pinutz23#0354","01-Feb-20 09:41 PM","I do find exactly 50 images  and if i open my output as a .txt file i see that it starts with 255216255224 (0xff 0xd8 0xff 0xe0) but i can't open it as a .jpg ('file maybe broken'). How do i copy the blocks correctly?","",""
"534385061089509391","pinutz23#0354","01-Feb-20 09:42 PM","currentlz doing this:
fprintf(outfile, ""%x"", block[i]);","",""
"393854278764068875","curiouskiwi#1671","01-Feb-20 09:43 PM","why are you printing anything?  You need to be writing to the jpg file","",""
"393854278764068875","curiouskiwi#1671","01-Feb-20 09:43 PM","with fwrite","",""
"534385061089509391","pinutz23#0354","01-Feb-20 09:44 PM","I can to file with fprintf but maybe I should have a look at fwrite","",""
"393854278764068875","curiouskiwi#1671","01-Feb-20 09:45 PM","yes, much like the Filter problem did.","",""
"534385061089509391","pinutz23#0354","01-Feb-20 10:39 PM","wow, finally did it üôÇ","",""
"662015941785157654","Dalsnin#3322","04-Feb-20 04:46 PM","Am I completely off in thinking that the approach is to use fgetc while loop to find the initial jpeg file and then (somehow I have not figured out yet) start the fread function from that pointer?","",""
"393854278764068875","curiouskiwi#1671","04-Feb-20 07:51 PM","You only need fread and you read in 512 bytes at a time.","",""
"662015941785157654","Dalsnin#3322","04-Feb-20 08:44 PM","Thanks!","",""
"662015941785157654","Dalsnin#3322","04-Feb-20 08:44 PM","It is (slowly) coming together, but it is a difficult one. Though it teaches a lot of concepts nicely!","",""
"662015941785157654","Dalsnin#3322","05-Feb-20 01:19 PM","Wohoo! It is done! üôÇ","","üëç (1)"
"662015941785157654","Dalsnin#3322","05-Feb-20 01:20 PM","Awesome exercises!","",""
"386258758721994762","Scanners#6556","05-Feb-20 05:43 PM","I'll post this in the right place this time üôÉ  Can anybody help with this seg fault? I'm really struggling with this pset (for a change)","https://cdn.discordapp.com/attachments/395684916056031245/674641227966185495/SPOILER_Untitled.png",""
"386258758721994762","Scanners#6556","05-Feb-20 05:51 PM","Never mind, I've done it. For those of you struggling with seg faults. Remember ""Segmentation fault is a specific kind of error caused by accessing memory that ‚Äúdoes not belong to you.‚Äù That helped me figure out where I was going wrong. I think I was trying to open a file pointer set to NULL.","",""
"204230471834533889","extremq#6638","05-Feb-20 06:50 PM","dude, you could write %03i? im so sad rn @Scanners","",""
"204230471834533889","extremq#6638","05-Feb-20 06:51 PM","and yes you were writing to a NULL file","",""
"275851236002234368","Era3tone#4219","06-Feb-20 02:19 PM","Could anyone tell me about the BITWISE & part? ```(buffer(3 & 0xf0) == 0xe0``` I don't understand how this works? The bitwise AND gives either a 1 or 0 right ? so how can it be equal to 0xe0 i.e 1110 ?","",""
"234679095378706433","Blauelf#6622","06-Feb-20 02:26 PM","Bitwise because it takes all bits separately. And it's `buffer[3] & 0xf0`.","",""
"275851236002234368","Era3tone#4219","06-Feb-20 02:28 PM","So if buffer[3] is 0xe2 and you use & with 0xf0 then how will it give 1 or 0 ?","",""
"234679095378706433","Blauelf#6622","06-Feb-20 02:30 PM","No, you get 0xe0","",""
"234679095378706433","Blauelf#6622","06-Feb-20 02:33 PM","0xf0 has bits worth 16, 32, 64, and 128 set, all others zero. Using bitwise AND eliminates all other bits, that's why 0xf0 is called a bitmask.","",""
"512616173972488205","MaungShine#6469","08-Feb-20 09:10 AM","do(
        if (bytes[0] == 0xff && bytes[1] == 0xd8 && bytes[2] == 0xff && (bytes[3] & 0xf0) == 0xe0)
        {
            fclose(name);

            sprintf(name, ""%03i.jpg"", 2);
            FILE *img = fopen(name, ""w"");

            fwrite(bytes, 512, 1, img);
        }
        else
        {
             fwrite(bytes, 512, 1, img);
        }
      )
    while(return == 512);

    fclose(file);","",""
"512616173972488205","MaungShine#6469","08-Feb-20 09:13 AM","my if statement got error when i compiled my code.","",""
"234679095378706433","Blauelf#6622","08-Feb-20 10:21 AM","Do you have a variable named `return`? That's gross, don't use keywords that way.
And you can't `fclose` a string.
It's usually a good idea to read the error message and understand what it says. Not all error messages are misleading (but usually a bunch of random messages follow the correct ones because the compiler got confused at that point). If it mentions the `if`, is maybe `bytes` declared in a wrong way?","",""
"512616173972488205","MaungShine#6469","08-Feb-20 02:01 PM","I got another error again. Can you explain me why this happens, please.","",""
"512616173972488205","MaungShine#6469","08-Feb-20 02:03 PM","recover.c:39:29: error: use of undeclared identifier 'img'
                    fclose(img);
                            ^
recover.c:52:40: error: use of undeclared identifier 'img'
                fwrite(bytes, 512, 1, img);
                                       ^                                                                                                                                      here is my code and error","https://cdn.discordapp.com/attachments/395684916056031245/675673084845359104/SPOILER_recover.c",""
"234679095378706433","Blauelf#6622","08-Feb-20 03:54 PM","Variable `img` has to be declared in a more outside scope. I suggest before your `while` loop.","",""
"234679095378706433","Blauelf#6622","08-Feb-20 03:55 PM","Oh, and when sizing the array for the file name, do not forget the null terminator, it needs a byte, too.","",""
"234679095378706433","Blauelf#6622","08-Feb-20 03:57 PM","And two `fread` are hard to coordinate. Keep only the one in the condition.","",""
"512616173972488205","MaungShine#6469","08-Feb-20 05:53 PM","Thank youüòÉ. Done!","",""
"167593654452617216","Cellico#2608","08-Feb-20 08:50 PM","anyone around to answer some questions i have?","",""
"167593654452617216","Cellico#2608","08-Feb-20 08:50 PM","a lot of stuff i don't understand in this pset","",""
"167593654452617216","Cellico#2608","08-Feb-20 08:51 PM","the new syntax is killing me","",""
"167593654452617216","Cellico#2608","08-Feb-20 09:25 PM","wow i'm really surprised","",""
"167593654452617216","Cellico#2608","08-Feb-20 09:26 PM","i just wrote according to what brian's walkthrough said and i only got 1 üò¶","",""
"167593654452617216","Cellico#2608","08-Feb-20 09:26 PM","but i'm quite displeased that i don't fully understand everything in this pset","",""
"167593654452617216","Cellico#2608","08-Feb-20 09:32 PM","@madakralc can you share with me how you solved your issue? i have the same problem and i have no clue why it doesn't work. i can open 049.jpg and it looks fine to me","",""
"167593654452617216","Cellico#2608","08-Feb-20 09:44 PM","can someone help me on my code, I can't seem to solve the last check50 ""recovers 049.jpg correctly
recovered image does not match""","https://cdn.discordapp.com/attachments/395684916056031245/675789109091893248/SPOILER_recover.c",""
"167593654452617216","Cellico#2608","08-Feb-20 09:45 PM","Also, please tell me if you see any redundant code or if i can improve my code in any way.","",""
"234679095378706433","Blauelf#6622","08-Feb-20 10:18 PM","I'm lazy, so my `buffer` and `filename` would be regular arrays, no need to `free` them later. `malloc` gives no advantage here.
I would use `while`, not `do..while`, and move the `fread` into the loop condition.
You still process a block (do the header check and write to the output file) after you got the sign that `fread` could not get 512 bytes. I guess that's what gets you a :(
Something smells about that one:
```C
            fclose(f);
            rmdr = fread(buffer, 1, 512, f);
```
You read from a closed file? Wouldn't have read anything, as your last `fread` already hit file end.
Literally everything is same whether `filename==0` or not, except the `fclose`. So only that one would have to go into an `if`, the rest could come after that.
You wouldn't have to add `fwrite` in your header block handling if you turned your `else if` into an `if`.","",""
"234679095378706433","Blauelf#6622","08-Feb-20 10:18 PM","Oh, and you seem to `fclose(f)` twice.","",""
"234679095378706433","Blauelf#6622","08-Feb-20 10:20 PM","Surprised this does not crash all the time with those `fclose` mistakes.","",""
"671598050397126656","prakulagarwal#4207","08-Feb-20 11:23 PM","In #pset4 #recover 

Can someone hint me a way thru it....need help

Do i hv to read blocks of 512 bytes...one block at a time?

...if so then how can I read the bytes of next block say 513th byte....as fread will read only first 512 bytes.......

SIMPLY NOT GETTING HOW TO READ THE 2nd block of 512 bytes 

...OR....Do i hv to read whole file at once...but in this case...how will i get TO KNOW THE NUMBER  of total blocks in card.raw ie..fread(..., size , NUMBER, ....)..NUMBER??

Do i need to use EOF, getc(), feof(), ftell() kinda functions...not taught in lectures??üòï

Thanks in Adv.","",""
"393854278764068875","curiouskiwi#1671","08-Feb-20 11:29 PM","did you watch Brian's walkthrough?","",""
"393854278764068875","curiouskiwi#1671","08-Feb-20 11:31 PM","`fread(buffer, 512, 1, file)` will read 512 bytes from the file and store it in buffer.  It will then return 1, which means it was successful in reading the 1 block of 512 bytes.  So, if you use a `while` loop with this as the condition, you will read 512 blocks each time the loop runs.","",""
"553340374836314142","Holder#7561","09-Feb-20 02:00 AM","hello so i have a segmentation fault and i was wondering if their is a tool that will help me find where the seg fault is ?","",""
"553340374836314142","Holder#7561","09-Feb-20 02:02 AM","uint8_t buffer[512]; does this make any sense of do i need to define the variable type ?","",""
"393854278764068875","curiouskiwi#1671","09-Feb-20 02:12 AM","you don't need to define it (if the compiler didn't know about it, it wouldn't have compiled)","",""
"393854278764068875","curiouskiwi#1671","09-Feb-20 02:12 AM","you could run `valgrind ./recover card.raw` to see where the segfault is happening.","",""
"553340374836314142","Holder#7561","09-Feb-20 02:16 AM","thanks","",""
"167593654452617216","Cellico#2608","09-Feb-20 08:36 AM","@Blauelf thanks for the comments, i'll look into it now","",""
"167593654452617216","Cellico#2608","09-Feb-20 08:37 AM","was trying to use malloc just for the sake of it to get used to the syntax","",""
"671598050397126656","prakulagarwal#4207","09-Feb-20 08:38 AM","Thanx fr reply.....so that means if, for example, i write 2 times fread(buffer, size, number, file)....then can I say that the second time written fread()will read another set of 512 bytes....ie 513 to 1024 bytes....??","",""
"167593654452617216","Cellico#2608","09-Feb-20 08:42 AM","ok it works when i changed from ""do.. while"" to ""while"" thanks blauelf once again","",""
"167593654452617216","Cellico#2608","09-Feb-20 08:42 AM","i didn't realise fread will still run if its within a condition.","",""
"167593654452617216","Cellico#2608","09-Feb-20 08:44 AM","the ""rmdr"" code i wrote wasn't included in my first prototype, it was supposed to be a solution to fix the last :(. but it didn't work and i just left it in there.","",""
"671598050397126656","prakulagarwal#4207","09-Feb-20 08:46 AM","Its fread(buffer, 512, 1, file)","",""
"167593654452617216","Cellico#2608","09-Feb-20 08:47 AM","@Blauelf still not sure why it works after i changed from ""do... while"" to ""while"" though","",""
"167593654452617216","Cellico#2608","09-Feb-20 08:48 AM","doesn't do while just make sure that the program runs at least once? in this case, doesn't the program definitely run at least once?","",""
"167593654452617216","Cellico#2608","09-Feb-20 09:00 AM","oh wait","",""
"167593654452617216","Cellico#2608","09-Feb-20 09:00 AM","do while works too","",""
"167593654452617216","Cellico#2608","09-Feb-20 09:03 AM","oh the mistake is when i put fread() inside the loop and not in the condition","",""
"234679095378706433","Blauelf#6622","09-Feb-20 11:45 AM","`do`..`while` could work, but would require you to `fread` at least once outside the condition, and maybe have something like ""if at input file end, skip the content, or `break;` out of the loop"".","",""
"234679095378706433","Blauelf#6622","09-Feb-20 11:49 AM","It simply makes less sense to me.
Did you know that you can even assign inside the condition? Like
```c
while ((bytes_read = fread(buffer, 1, 512, card)) == 512)
```
The value of an assignment expression is the assigned value. In our case irrelevant, as the card dump is always a multiple of 512 bytes, so we would never find something other than 0 or 512.","",""
"234679095378706433","Blauelf#6622","09-Feb-20 11:53 AM","Another example, less related, could be something like
```c
int ch;
while ((ch = fgetc(file)) != EOF)
```
(`int` instead of `char` because the returned value is a `char` cast to `unsigned char`, or `EOF`, we need a value range from -1 to 255)","",""
"167593654452617216","Cellico#2608","09-Feb-20 12:04 PM","@Blauelf it doesn't need to have the fread at least once outside the condition","",""
"167593654452617216","Cellico#2608","09-Feb-20 12:04 PM","i just put the fread into the while at the end of the do while","",""
"167593654452617216","Cellico#2608","09-Feb-20 12:05 PM","so on the first run, ""do"" automatically runs the program at least once","",""
"167593654452617216","Cellico#2608","09-Feb-20 12:05 PM","then checks whether fread returns 1","",""
"167593654452617216","Cellico#2608","09-Feb-20 12:05 PM","i mean while loop could work too","",""
"167593654452617216","Cellico#2608","09-Feb-20 12:05 PM","and after some googling, people are saying that do while is rarely used","",""
"167593654452617216","Cellico#2608","09-Feb-20 12:06 PM","in this case i guess if i didnt know the size of card.raw, a while loop would fit better than a do while","",""
"167593654452617216","Cellico#2608","09-Feb-20 12:07 PM","i read on the cs50 manual that fread can return values less than the number of elements in the event that there are less elements than specified","",""
"167593654452617216","Cellico#2608","09-Feb-20 12:07 PM","not sure if that is what you are talking about","",""
"234679095378706433","Blauelf#6622","09-Feb-20 12:09 PM","Correct, if you make the ""element size"" 1 byte, it returns the number of bytes it could read successfully.","",""
"558678172372041764","Aimer#8978","09-Feb-20 08:36 PM","i dont understand the bitwise arithmethic","",""
"558678172372041764","Aimer#8978","09-Feb-20 08:36 PM","can someone help me","",""
"393854278764068875","curiouskiwi#1671","09-Feb-20 08:47 PM","search bitwise in this channel. lots of explanations.","",""
"558678172372041764","Aimer#8978","09-Feb-20 08:48 PM","i understand only","",""
"558678172372041764","Aimer#8978","09-Feb-20 08:48 PM","in terms of binary","",""
"558678172372041764","Aimer#8978","09-Feb-20 08:48 PM","but since we use hexadecimal","",""
"558678172372041764","Aimer#8978","09-Feb-20 08:48 PM","the way i understand is that the lower value is like 0's","",""
"558678172372041764","Aimer#8978","09-Feb-20 08:49 PM","and the higher value is like 1's","",""
"558678172372041764","Aimer#8978","09-Feb-20 08:49 PM","am i correct?","",""
"558678172372041764","Aimer#8978","09-Feb-20 08:50 PM","the value will revert to lower value like 0xe1 & 0xf0 will give 0xe0","",""
"234679095378706433","Blauelf#6622","09-Feb-20 08:50 PM","One hexadecimal digit represents four bits.","",""
"234679095378706433","Blauelf#6622","09-Feb-20 08:50 PM","Just a different notation.","",""
"234679095378706433","Blauelf#6622","09-Feb-20 08:51 PM","0xe1 is 11100001","",""
"558678172372041764","Aimer#8978","09-Feb-20 08:51 PM","> the value will revert to lower value like 0xe1 & 0xf0 will give 0xe0
@Aimer is this correct ?","",""
"234679095378706433","Blauelf#6622","09-Feb-20 08:53 PM","The result of bitwise AND has a bit set where both operands have the bit set. The 0xf0 is called a ""bitmask"", since applied with `&` it will only let a certain number of bits through, the rest is set to zero.","",""
"558678172372041764","Aimer#8978","09-Feb-20 08:54 PM","the & means that if both is 0, it will result in 0","",""
"558678172372041764","Aimer#8978","09-Feb-20 08:54 PM","and if one of it is 0 and the other is 1, it will also equates to 0","",""
"558678172372041764","Aimer#8978","09-Feb-20 08:54 PM","but only if both are 1 only it will equates to 1","",""
"393854278764068875","curiouskiwi#1671","09-Feb-20 08:57 PM","yes, so this particular bitmask zeroes out the lower 4 bits:  ```
0xe2        11100010
0xf0        11110000
0xe2 & 0xf0 11100000 (that's 0xe0)```  so we know that any value `0xe0` to `0xef` when `AND`ed with `0xf0` will give us `0xe0`","","üòÜ (1)"
"558678172372041764","Aimer#8978","09-Feb-20 08:59 PM","got it","",""
"393854278764068875","curiouskiwi#1671","09-Feb-20 08:59 PM","here's another explanation  https://www.reddit.com/r/cs50/comments/8uc049/recovery_how_does_this_code_check_for_the_fourth/e1ebtjq?utm_source=share&utm_medium=web2x","",""
"558678172372041764","Aimer#8978","09-Feb-20 09:20 PM","im still confused","",""
"558678172372041764","Aimer#8978","09-Feb-20 09:20 PM","","https://cdn.discordapp.com/attachments/395684916056031245/676145421436977195/unknown.png",""
"558678172372041764","Aimer#8978","09-Feb-20 09:20 PM","for both of the circled","",""
"361235692019384323","Sanath#7244","10-Feb-20 06:40 AM","Use `man fopen` and `man fread`","",""
"558678172372041764","Aimer#8978","10-Feb-20 08:46 AM","> Use `man fopen` and `man fread`
@Sanath how is that any different from the one that david's lecture?","",""
"361235692019384323","Sanath#7244","10-Feb-20 08:46 AM","What's the one in the lecture?","",""
"456226577798135808","Deleted User#0000","10-Feb-20 08:47 AM","Is there be any difference between ""r"" and ""a""?","",""
"456226577798135808","Deleted User#0000","10-Feb-20 08:47 AM","I meant ""w""","",""
"361235692019384323","Sanath#7244","10-Feb-20 08:47 AM","Between w and a?","",""
"456226577798135808","Deleted User#0000","10-Feb-20 08:47 AM","Yeah","",""
"361235692019384323","Sanath#7244","10-Feb-20 08:49 AM","W clears the file basically and starts writing at beginning","",""
"361235692019384323","Sanath#7244","10-Feb-20 08:49 AM","A is for appending. In other words, writing at the end of the file","",""
"456226577798135808","Deleted User#0000","10-Feb-20 08:50 AM","Oh thanks","",""
"456226577798135808","Deleted User#0000","10-Feb-20 08:50 AM","So will A work if it starts with blank file","",""
"361235692019384323","Sanath#7244","10-Feb-20 08:54 AM","Yeah","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 08:54 AM","for the recover problem, you should use ""w"" since you want a new file.","",""
"456226577798135808","Deleted User#0000","10-Feb-20 08:55 AM","Yeah but wouldn't fwrite keep overwriting the first byte?","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 08:56 AM","no, as long as you don't close the file after every write.","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 08:57 AM","fwrite keeps track of where it has written, and writes from that point forward.","","üôÇ (1)"
"456226577798135808","Deleted User#0000","10-Feb-20 08:57 AM","That part confused me, thanks for clarifying","",""
"558678172372041764","Aimer#8978","10-Feb-20 05:49 PM","after watching short, i understand the main different from fread and fwrite. fread is where you read where your file pointer is(last parameter of fread) and move it to a buffer( first parameter of your fread function)","",""
"558678172372041764","Aimer#8978","10-Feb-20 05:50 PM","while fwrite is where you write the file you reading from buffer( the first parameter of fwrite) to  a file pointer(last parameter of fwrite function)","",""
"558678172372041764","Aimer#8978","10-Feb-20 05:50 PM","should watch short first before jumping into pset","",""
"558678172372041764","Aimer#8978","10-Feb-20 06:10 PM","> fwrite keeps track of where it has written, and writes from that point forward.
@curiouskiwi thanks, i keep wondering on what occasion does fwrite overwrite the previous data","",""
"234679095378706433","Blauelf#6622","10-Feb-20 08:08 PM","@Aimer Check `fseek`, you can move the position within a file.","",""
"558678172372041764","Aimer#8978","10-Feb-20 08:09 PM","can i know. this recover.c is using memory from heap or stack?","",""
"558678172372041764","Aimer#8978","10-Feb-20 08:09 PM","im not yet considering of using malloc","",""
"234679095378706433","Blauelf#6622","10-Feb-20 08:10 PM","Also, unrelated, fopen mode ""w"" sets file length to zero, not exactly overwrite but more rewrite.","",""
"234679095378706433","Blauelf#6622","10-Feb-20 08:11 PM","`recover` can be solved without explicit `malloc`, using arrays on stack.","",""
"234679095378706433","Blauelf#6622","10-Feb-20 08:12 PM","`fopen` might use `malloc`, but as long as you `fclose`, that shouldn't be of any concern.","","üôÇ (1)"
"558678172372041764","Aimer#8978","10-Feb-20 08:12 PM","thanks","",""
"558678172372041764","Aimer#8978","10-Feb-20 08:15 PM","for this pset we need to update the name of the file we write the jpeg into right","",""
"558678172372041764","Aimer#8978","10-Feb-20 08:15 PM","","https://cdn.discordapp.com/attachments/395684916056031245/676491357933666333/unknown.png",""
"558678172372041764","Aimer#8978","10-Feb-20 08:15 PM","but how long is the length of array i should allocate","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 08:16 PM","as long as it needs to be to hold the string ""000.jpg""  (including the nul char at the end)","",""
"558678172372041764","Aimer#8978","10-Feb-20 08:17 PM","i guess its 8 then","","üëç (1)"
"558678172372041764","Aimer#8978","10-Feb-20 08:17 PM","thanks","",""
"558678172372041764","Aimer#8978","10-Feb-20 08:32 PM","do i need to close the current img if i encounter a new jpg","",""
"558678172372041764","Aimer#8978","10-Feb-20 08:32 PM","or just proceed with giving its a new name","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 08:35 PM","close it","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 08:36 PM","Brian says that in the walkthrough at about 10:40","",""
"676463066942144512","drail159#6376","10-Feb-20 08:38 PM","I ended up with a buffer overflow because I didn't set the array for the file name to a large enough size. I have gotten a lot of suggestions to set the array to a value that is much larger than I may ever need, but that seems wasteful. Is that something that is commonly done?","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 08:40 PM","given that in this case, you *know* how long the string is, there's zero reason to declare it really large 'just in case'.","",""
"676463066942144512","drail159#6376","10-Feb-20 08:40 PM","That's what I was thinking. Thank you.","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 08:42 PM","in the case of recover, you can even let the compiler figure out how much space you need ||`char filename[] = ""000.jpg"";` ||for example, declares an array long enough to hold that string.","",""
"558678172372041764","Aimer#8978","10-Feb-20 08:52 PM","i am new with this syntax","",""
"558678172372041764","Aimer#8978","10-Feb-20 08:52 PM","can someone point out where do i use this syntax incorrectly","",""
"558678172372041764","Aimer#8978","10-Feb-20 08:53 PM","or point out why my if statement is incorrect","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 08:56 PM","Where is your step in testing where you run `./recover card.raw` yourself to see what your program does?","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 08:57 PM","as it is in *every* problem, `check50` is meant to be used as a final check once you've done all of your own testing.","",""
"558678172372041764","Aimer#8978","10-Feb-20 08:59 PM","it says","",""
"558678172372041764","Aimer#8978","10-Feb-20 08:59 PM","","https://cdn.discordapp.com/attachments/395684916056031245/676502418078564374/unknown.png",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 09:02 PM","and if you run `valgrind ./recover card.raw` to see what's happening with the memory, what does that tell you?   It should point to a line number","",""
"558678172372041764","Aimer#8978","10-Feb-20 09:06 PM","","https://cdn.discordapp.com/attachments/395684916056031245/676504179262357529/unknown.png",""
"558678172372041764","Aimer#8978","10-Feb-20 09:06 PM","i already tinker it abit","",""
"558678172372041764","Aimer#8978","10-Feb-20 09:06 PM","this one means ok right","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 09:09 PM","no, that means you've opened files and not closed them","",""
"558678172372041764","Aimer#8978","10-Feb-20 09:10 PM","where does it states that","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 09:13 PM","all of those reachable bytes... it says they are the result of fopen","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 09:45 PM","if there are no errors, it would look like this: ```
$ valgrind ./recover card.raw
==4258== Memcheck, a memory error detector
==4258== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==4258== Using Valgrind-3.13.0 and LibVEX; rerun with -h for copyright info
==4258== Command: ./recover card.raw
==4258== 
==4258== 
==4258== HEAP SUMMARY:
==4258==     in use at exit: 0 bytes in 0 blocks
==4258==   total heap usage: 102 allocs, 102 frees, 237,048 bytes allocated
==4258== 
==4258== All heap blocks were freed -- no leaks are possible
==4258== 
==4258== For counts of detected and suppressed errors, rerun with: -v
==4258== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)```","","üôÇ (1)"
"558678172372041764","Aimer#8978","10-Feb-20 09:54 PM","> if there are no errors, it would look like this: ```
> $ valgrind ./recover card.raw
> ==4258== Memcheck, a memory error detector
> ==4258== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
> ==4258== Using Valgrind-3.13.0 and LibVEX; rerun with -h for copyright info
> ==4258== Command: ./recover card.raw
> ==4258== 
> ==4258== 
> ==4258== HEAP SUMMARY:
> ==4258==     in use at exit: 0 bytes in 0 blocks
> ==4258==   total heap usage: 102 allocs, 102 frees, 237,048 bytes allocated
> ==4258== 
> ==4258== All heap blocks were freed -- no leaks are possible
> ==4258== 
> ==4258== For counts of detected and suppressed errors, rerun with: -v
> ==4258== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)```
@curiouskiwi was waiting for this. thanks","",""
"558678172372041764","Aimer#8978","10-Feb-20 10:15 PM","because this is exactly how imagine in my head how every new jpeg is separated.","",""
"558678172372041764","Aimer#8978","10-Feb-20 10:16 PM","can someone point out what i did wrong","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 10:16 PM","can you open 000.jpg?","",""
"558678172372041764","Aimer#8978","10-Feb-20 10:17 PM","","https://cdn.discordapp.com/attachments/395684916056031245/676522224680828988/unknown.png",""
"558678172372041764","Aimer#8978","10-Feb-20 10:17 PM","this is wrong right","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 10:18 PM","yes","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 10:18 PM","I'd suggest you look at your logic in your loop","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 10:19 PM","you're checking if the first 4 bytes is a signature.  that's fine","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 10:19 PM","but then, you are checking if those same 4 bytes are a signature again, and closing the file you just opened.","",""
"558678172372041764","Aimer#8978","10-Feb-20 10:19 PM","this is the full","",""
"558678172372041764","Aimer#8978","10-Feb-20 10:19 PM","i make an additional condition","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 10:22 PM","how many times do you write the same signature block?","",""
"558678172372041764","Aimer#8978","10-Feb-20 10:22 PM","signature block?","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 10:25 PM","yes, you are reading in 512 bytes.  If the first 4 bytes are a signature, how many times do you write that block to the jpg file?","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 10:26 PM","and how many times *should* you?","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 10:30 PM","(I've deleted some posts to avoid spoilers for others)","","üôÇ (1)"
"558678172372041764","Aimer#8978","10-Feb-20 10:41 PM","> (I've deleted some posts to avoid spoilers for others)
@curiouskiwi im sorry..","",""
"558678172372041764","Aimer#8978","10-Feb-20 10:51 PM","what i understand is that if the firs 4 bytes is fall into the if statement","",""
"558678172372041764","Aimer#8978","10-Feb-20 10:51 PM","it will write the rest of it","",""
"558678172372041764","Aimer#8978","10-Feb-20 10:51 PM","i think i misunderstood things here","",""
"558678172372041764","Aimer#8978","10-Feb-20 10:53 PM","> 
> yes, you are reading in 512 bytes.  If the first 4 bytes are a signature, how many times do you write that block to the jpg file?
> @curiouskiwi i dont understand ..","",""
"558678172372041764","Aimer#8978","10-Feb-20 10:54 PM","should i make a for loop then inside there?","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 11:01 PM","no","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 11:02 PM","```
read in a block of 512 bytes
    if it's a signature
        close the jpg if there is one
        open a new jpg
        write the block
    if there's a jpg
        write the block ```   this is what you were doing","","üòÑ (1)"
"393854278764068875","curiouskiwi#1671","10-Feb-20 11:02 PM","can you see that you are writing the same block twice?","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 11:03 PM","your latest code (you just deleted), you removed the ""write the block"" from the first if statement.  So that would mean you are *correctly* only writing the block once (in your second if statement)","",""
"376187384376852481","YoYoO#2555","10-Feb-20 11:55 PM","Why is the file not opening? I swear this is the correct syntax.","https://cdn.discordapp.com/attachments/395684916056031245/676546788307763229/40.PNG",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 11:55 PM","because ""argv[1]"" is not the name of the file","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 11:56 PM","the name of the file is the string that is stored in the variable `argv[1]`","",""
"393854278764068875","curiouskiwi#1671","10-Feb-20 11:56 PM","not the literal string `""argv[1]""`","",""
"376187384376852481","YoYoO#2555","11-Feb-20 12:10 AM","In fopen, can you insert variables like you can in printf? Like for example with a % (placeholder)?","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 12:12 AM","it doesn't need formatting","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 12:12 AM","char *name = ""hello.txt"";","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 12:12 AM","fopen(name, ""r"");","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 12:13 AM","will open the file named ""hello.txt""","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 12:14 AM","in filter.c, for example: ```    // Open input file
    FILE *inptr = fopen(infile, ""r"");
```","",""
"376187384376852481","YoYoO#2555","11-Feb-20 12:15 AM","gotcha","",""
"376187384376852481","YoYoO#2555","11-Feb-20 12:56 AM","If I make `fread(buffer, 1, 512, file) == 512` what does the `== 512` bit mean?","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 01:00 AM","fread returns the number of elements it read.  Your call to fread says ""read in 512 elements of size 1""  so if it == 512, that means it was successful","",""
"376187384376852481","YoYoO#2555","11-Feb-20 01:01 AM","Would `==512` be any better than `!=0`?","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 01:02 AM","it means you read in an entire block.","",""
"553340374836314142","Holder#7561","11-Feb-20 01:23 AM","So my code doesn't write anything in the first image and only the beginning of the second one. Nothing on the rest.","",""
"376187384376852481","YoYoO#2555","11-Feb-20 02:44 AM","FILE * is required in front of img, right?","https://cdn.discordapp.com/attachments/395684916056031245/676589362196119552/43.PNG",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 02:50 AM","Yes, but the issue is that you have declared it inside the `if` body so it goes out of scope once that `if` statement ends.","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:05 AM","Ok cool, I established `FILE* img == NULL;` at the top to fix it.","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:06 AM","","https://cdn.discordapp.com/attachments/395684916056031245/676594790229475328/45.PNG",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:07 AM","So it appears the first 512 bytes is being written into the file which is good, so I'm guessing there's a problem with how the following blocks are copied into it (aka the else condition). I don't see a problem, though... because in the else condition it re-opens the file, copies the new data in, and then closes it.","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:08 AM","I also wrote `fopen(filename, ""a"");` meaning it should append into the file.","",""
"676463066942144512","drail159#6376","11-Feb-20 03:21 AM","On line 40 you are opening the file but not assigning it to a variable. Is that the problem?","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:27 AM","@drail159 Don't think so; I just then changed line 41 to`img = fopen(filename, ""a"");` but no difference was made :/","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:28 AM","Because all that's happening in line 41 is that it's just opening the file made in the if loop, right?","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:28 AM","Which was already assigned a variable.","",""
"676463066942144512","drail159#6376","11-Feb-20 03:33 AM","Hm. You must be right.","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:35 AM","@curiouskiwi","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 03:35 AM","the first image you open is named 001.jpg","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 03:35 AM","and why are you closing it before you've finished writing *all* the blocks that belong to it?","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 03:35 AM","the first image should be 000.jpg","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:36 AM","I mean it shouldn't matter if I close it, because I re-open it anyway and write the following blocks to it.","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:36 AM","> the first image should be 000.jpg
@curiouskiwi That's no worries I can change the counter back to ""-1""","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 03:36 AM","well, it will matter in the end when you run check50 because it will take so long to run that check50 will timeout and you'll fail all the tests.","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:37 AM","But check50 aside, when I run this program the pictures aren't loading fully, which is the problem.","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:37 AM","And I can't understand why","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 03:39 AM","are you sure that the jpgs you are looking at are the result of your latest run?  remember you've opened for append, so if the file exists from a former run of ./recover, you'll be adding to the file that already exists.","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 03:40 AM","seriously... don't use ""a""","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 03:40 AM","and don't close any file until you are sure you have written all the blocks.","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 03:40 AM","makes it too hard to debug","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 03:40 AM","and it's poor design","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:43 AM","The pictures are only loaded in the top left corner","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 03:43 AM","what's the size of 000.jpg ?","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 03:44 AM","(run `-ls -l` to get the list with sizes shown)","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:44 AM","I downloaded it and it showed 112kb","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 03:45 AM","look at your logic.  how many times are you writing the block containing the signature?","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 03:46 AM","if you scroll up in this channel, I had the *exact same* conversation with someone else with the same problem earlier today.:)","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:46 AM","Up until the next block contains [0xff] etc","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 03:46 AM","how many times are you writing the signature block itself","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:46 AM","That's the first block yeah","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 03:47 AM","well, it's not the first one, but the first one that has a signature.","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 03:47 AM","and how many times are you writing it?","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:49 AM","the if loop comes in contact with the jpeg signature, and so executes, writing those first 512 blocks to the img file. `if loop` finishes and then the next 512 blocks are `fread`. Because this next 512 blocks does not have the jpeg sig at the start, the `if loop` is skipped and so the else is executed, resulting in these next 512 blocks to be added to the original 512 blocks","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:49 AM","This continues until the next signature is found, where a new file is made. I don't see any problem here üò©","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 03:51 AM","are you closing the file once you are done with it?","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 03:52 AM","or are you trying to view a file that is still open?","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:52 AM","I mean with the open/close method before I was","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 03:53 AM","I have to go pick my kid up from school.  I'd suggest you get your file i/o all worked out, delete all the jpgs you've created, and then try again.  I'll be back in about 30 mins...  hopefully you'll have solved it by then. üôÇ","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:53 AM","Aight I'll keep trying","",""
"376187384376852481","YoYoO#2555","11-Feb-20 03:58 AM","I think the problem is with the while loop? How do I obtain the next block? Once the if/else condition finishes and the next line returns to the top which is the while loop, is the next block obtained?","",""
"393854278764068875","curiouskiwi#1671","11-Feb-20 04:21 AM","(helping privately)","",""
"376187384376852481","YoYoO#2555","11-Feb-20 04:39 AM","Anyone reading this... turns out there was an = and not == in the if loop üò´ I'll try put the photos on spolier mode now","",""
"614024394905354240","bobbydilano#2184","11-Feb-20 12:03 PM","How do we know if we have already found a JPEG  and have to continue writing to a file?","",""
"361235692019384323","Sanath#7244","11-Feb-20 12:06 PM","If you encounter the first 4 bytes that signify an image, its the beginning of a jpeg","",""
"361235692019384323","Sanath#7244","11-Feb-20 12:07 PM","So the previous file can be closed and a new one opened to start writing to","",""
"614024394905354240","bobbydilano#2184","11-Feb-20 12:27 PM","No I mean, the last condition. If it's not the start of a new JPEG and a JPEG has already been found, we have to continue writing to it. I'm confused about the condition to check for this","",""
"361235692019384323","Sanath#7244","11-Feb-20 12:52 PM","Let's say you've found the first jpeg start and opened a new file. The next time you read from the file, if the first 4 bytes are not the start sequence, they're a part of the jpeg we had found earlier","",""
"614024394905354240","bobbydilano#2184","11-Feb-20 02:16 PM","Thanks, got it! Just gotta check if the fileptr is null","",""
"558678172372041764","Aimer#8978","11-Feb-20 05:42 PM","herm..","",""
"558678172372041764","Aimer#8978","11-Feb-20 05:46 PM","","https://cdn.discordapp.com/attachments/395684916056031245/676816227129360384/unknown.png",""
"558678172372041764","Aimer#8978","11-Feb-20 06:06 PM","i got all picture recover except the zeroth one","https://cdn.discordapp.com/attachments/395684916056031245/676821358331559946/unknown.png",""
"558678172372041764","Aimer#8978","11-Feb-20 06:42 PM","this is my pseudocode","https://cdn.discordapp.com/attachments/395684916056031245/676830366962679829/unknown.png",""
"558678172372041764","Aimer#8978","11-Feb-20 06:53 PM","> Ok cool, I established `FILE* img == NULL;` at the top to fix it.
@YoYoO can i put `FILE* img;`.?","",""
"558678172372041764","Aimer#8978","11-Feb-20 06:53 PM","does that make any different?","",""
"234679095378706433","Blauelf#6622","11-Feb-20 07:27 PM","Depends on whether you might access that variable before its first assignment.","",""
"558678172372041764","Aimer#8978","11-Feb-20 07:28 PM","i put it outside the while loop","",""
"558678172372041764","Aimer#8978","11-Feb-20 09:09 PM","> this is my pseudocode
@Aimer ok nvm, i found my error in this pseudocode","",""
"558678172372041764","Aimer#8978","11-Feb-20 09:09 PM","@Blauelf @curiouskiwi  thank you guys üòÑ","https://cdn.discordapp.com/attachments/395684916056031245/676867545227067402/unknown.png","üíØ (1)"
"558678172372041764","Aimer#8978","11-Feb-20 10:03 PM","i got alot of valgrind error","",""
"558678172372041764","Aimer#8978","11-Feb-20 10:03 PM","D:","",""
"361235692019384323","Sanath#7244","11-Feb-20 10:06 PM","Are you using malloc?","",""
"558678172372041764","Aimer#8978","11-Feb-20 10:07 PM","no","",""
"361235692019384323","Sanath#7244","11-Feb-20 10:07 PM","Then you probably aren't closing your files properly with `fclose() `","",""
"558678172372041764","Aimer#8978","11-Feb-20 10:08 PM","ill send you my code","",""
"558678172372041764","Aimer#8978","11-Feb-20 10:08 PM","in private","",""
"376187384376852481","YoYoO#2555","12-Feb-20 08:30 AM","@Aimer Figure it out?","",""
"558678172372041764","Aimer#8978","12-Feb-20 09:23 AM","You can send your suggestion in case anyone in future looks for an answer in this channel","",""
"545590626083930112","jereldlimjy#3450","12-Feb-20 04:28 PM","does anyone know a good resource to learn more about file pointers and stuff? am honestly quite confused about this pset even after watching the shorts üòÖ","",""
"457983523635331092","assasin71#2014","12-Feb-20 05:27 PM","hi guyz","",""
"457983523635331092","assasin71#2014","12-Feb-20 05:36 PM","need help","",""
"127541905822187520","DGChem#7441","13-Feb-20 03:12 AM","I really need to say big thanks to @curiouskiwi, for the tips and hints for this problem! Whenever I start those problem sets, it's like a wall. But thanks to him and all of you users, it becomes possible for me (and I guess you all too üôÇ ) to solve this kind of problem! This one really showed how you need to combine all the previous knowledge, whilst adding a big chunk of complexity (for me) to solve this üòõ Big thanks! Never have I been happier to ""unlock"" myself to see the a new lecture üôà","",""
"254388348540551168","erayzeki#4849","13-Feb-20 04:09 PM","how can i read next 512 bytes ?","",""
"127541905822187520","DGChem#7441","13-Feb-20 04:17 PM","> fread returns the number of elements it read.  Your call to fread says ""read in 512 elements of size 1""  so if it == 512, that means it was successful

> `fread(buffer, 512, 1, file)` will read 512 bytes from the file and store it in buffer.  It will then return 1, which means it was successful in reading the 1 block of 512 bytes.  So, if you use a `while` loop with this as the condition, you will read 512 blocks each time the loop runs.

> You only need fread and you read in 512 bytes at a time.","",""
"254388348540551168","erayzeki#4849","13-Feb-20 04:22 PM","so fread is automatically send me to the next block ?  i understand that the program should stop when fread function return != 512. but i dont understand that how i should read next block when i succesfully read a block. i mean when i use fread function first time it will read first 512 bytes in card.raw . so what should  i do to read second 512. how am i going to reach there ?","",""
"361235692019384323","Sanath#7244","13-Feb-20 04:23 PM","Fread keeps track of how far you've read, it will automatically read the next block","","üëç (1)"
"254388348540551168","erayzeki#4849","13-Feb-20 04:25 PM","okay that was what i asked üëç  thank you both","",""
"127541905822187520","DGChem#7441","13-Feb-20 04:28 PM","> so fread is automatically send me to the next block ?  i understand that the program should stop when fread function return != 512. but i dont understand that how i should read next block when i succesfully read a block. i mean when i use fread function first time it will read first 512 bytes in card.raw . so what should  i do to read second 512. how am i going to reach there ?
@erayzeki 
1st question: yes; 2nd question: Look at your loop-condition again üôÇ","",""
"254388348540551168","erayzeki#4849","13-Feb-20 04:33 PM","yeah it returns size so i will check != 1 üòÑ","",""
"254388348540551168","erayzeki#4849","13-Feb-20 04:44 PM","no i will check with 512 because fread returns number of elements","",""
"254388348540551168","erayzeki#4849","13-Feb-20 04:47 PM","i am confused","",""
"254388348540551168","erayzeki#4849","13-Feb-20 04:47 PM","what does th","https://cdn.discordapp.com/attachments/395684916056031245/677526320325984267/unknown.png",""
"254388348540551168","erayzeki#4849","13-Feb-20 06:21 PM","yes it was 512. finally made it üòÑ","","ü•≥ (1)"
"395585988857954304","siafa#4740","14-Feb-20 08:56 PM","What better ways can I do something like this: ```char filename[20];```","",""
"395585988857954304","siafa#4740","14-Feb-20 08:57 PM","Basically I wanted to store filenames of 6 chars like this: ```char filename[7];``` having one extra bit for the null pointer","",""
"395585988857954304","siafa#4740","14-Feb-20 08:59 PM","But, I was running into seg fault. So when I did the above ```char filename[20];``` it worked. I feel I'm allocating more space than I need.","",""
"393854278764068875","curiouskiwi#1671","14-Feb-20 09:47 PM","the filenames for the jpgs have 7 chars + 1 for the NUL","",""
"393854278764068875","curiouskiwi#1671","14-Feb-20 09:47 PM","`'0' '0' '0' '.' 'j' 'p' 'g' '\0'`","",""
"393854278764068875","curiouskiwi#1671","14-Feb-20 09:49 PM","one way to avoid having to count is to declare it with a string that is the same as your first one but without explictly giving the length.  The compiler will figure it out for you:  ```char filename[] = ""000.jpg""```","",""
"393854278764068875","curiouskiwi#1671","14-Feb-20 09:49 PM","@siafa","",""
"395585988857954304","siafa#4740","14-Feb-20 09:51 PM","Okay. Thanks üôè","",""
"211261070185070602","Bobby#3076","15-Feb-20 11:51 PM","Oof. I should not have taken 3 weeks off. I don't even know where to start with this one. I'm gonna have to review the last couple of lectures lol.","",""
"211261070185070602","Bobby#3076","15-Feb-20 11:52 PM","@curiouskiwi Thanks for that tip. I thought it would only be 2 bytes, but it looks like it's closer to 8.","",""
"211261070185070602","Bobby#3076","15-Feb-20 11:54 PM","I'm having trouble knowing when to use the asterisk and when not to. I'm gonna have to review pointers, I think.","",""
"393854278764068875","curiouskiwi#1671","15-Feb-20 11:56 PM","fwiw, you shouldn't need to explicitly use pointers at all in this problem.","",""
"211261070185070602","Bobby#3076","15-Feb-20 11:58 PM","Oh, good to know, thanks. How do you check to see if fread is returning 512 bytes? Is it something like if (fread(blah, blah, blah, blah) == 1)?","",""
"393854278764068875","curiouskiwi#1671","15-Feb-20 11:59 PM","yes, although I'd probably use that in a while loop and not an if","",""
"211261070185070602","Bobby#3076","15-Feb-20 11:59 PM","Oh right because you want it to loop over and over. I gotcha.","",""
"211261070185070602","Bobby#3076","16-Feb-20 02:13 AM","Does it matter if you do `fread(buffer, 512, 1, card)` or `fread(buffer, 1, 512, card)`? Do they do the same thing?","",""
"234679095378706433","Blauelf#6622","16-Feb-20 02:29 AM","They both read the same number of bytes. The difference is with the return value. `fread` returns the number of ""blocks"" it could successfully read, the first number is the size of this unit, the second is the number you requested.
If you set the first number to 1, you get the number of bytes read. Since our file always is a multiple of 512 bytes (card dumps have this property), you could expect to read 0 or 512 bytes.","",""
"211261070185070602","Bobby#3076","16-Feb-20 02:32 AM","That's what I thought. Well jeez, I have the whole thing done but it is not working right at all and I can't figure out why. I'm getting 22 images and they all look corrupted. And the check50 says there should be an image called 049.jpg, so I'm thinking I'm missing a lot of images somehow.","",""
"211261070185070602","Bobby#3076","16-Feb-20 02:36 AM","I wanna just post my code here, but I don't wanna spoil it for anyone. When you do `img = fopen(filename, ""w"");` that creates a file with the filename of whatever file name you've stored in the filename variable. In my case, I used `sprintf(filename, ""%03i.jpg"", jpegNumber);`. I initialized jpegNumber at -1 and I incremented every time I found those 4 special header bytes. And then `fwrite(buffer, 512, 1, img);` takes the 512 bytes in the buffer and writes them to the file I have open.","",""
"211261070185070602","Bobby#3076","16-Feb-20 02:38 AM","If those header bytes are not found at the top of the buffer and I've found at least one jpeg, then I only have one line of code to execute: `fwrite(buffer, 512, 1, img);`. I believe that should automatically append that buffer onto the bottom of the img file I have open, which, again, should be whatever ###.jpg I've made most recently.","",""
"211261070185070602","Bobby#3076","16-Feb-20 02:39 AM","And there's only one case when I have to close the img file, and it's when I've found a new jpeg and it's not the first one.","",""
"393854278764068875","curiouskiwi#1671","16-Feb-20 03:50 AM","if you're only get 22 images, my guess is that you are doing multiple freads between checking for a signature block, and also throwing away half the bytes (which will mean all the images are corrupted)","",""
"211261070185070602","Bobby#3076","16-Feb-20 04:10 AM","Yes, that makes sense. It looks like the top of row of my images are okay but the middle and bottom are distorted.","",""
"211261070185070602","Bobby#3076","16-Feb-20 04:11 AM","I'm going to post my plain english pseudocode in a sec.","",""
"211261070185070602","Bobby#3076","16-Feb-20 04:14 AM","","https://cdn.discordapp.com/attachments/395684916056031245/678423840514113546/001.png",""
"393854278764068875","curiouskiwi#1671","16-Feb-20 04:15 AM","```while there are at least 512 bytes left on the memory card
{
    Read 512 bytes into buffer from card```   to me, this looks like you are calling `fread` twice each time through the loop?","",""
"211261070185070602","Bobby#3076","16-Feb-20 04:21 AM","Um. I don't think so? Let me think.","",""
"393854278764068875","curiouskiwi#1671","16-Feb-20 04:22 AM","how are you checking there are at least 512 bytes left?","",""
"211261070185070602","Bobby#3076","16-Feb-20 04:22 AM","Oh, you mean once when I check in the while statement and then again in the very next line?","",""
"393854278764068875","curiouskiwi#1671","16-Feb-20 04:23 AM","yep","",""
"211261070185070602","Bobby#3076","16-Feb-20 04:23 AM","Wait, when I run that line, does it actually perform that action and overwrite the buffer?","",""
"393854278764068875","curiouskiwi#1671","16-Feb-20 04:23 AM","yep","",""
"211261070185070602","Bobby#3076","16-Feb-20 04:24 AM","Oh dang. Okay, so I have to find a way to effectively run that same check without overwriting my buffer.","",""
"393854278764068875","curiouskiwi#1671","16-Feb-20 04:24 AM","don't call fread in the next line","",""
"211261070185070602","Bobby#3076","16-Feb-20 04:25 AM","Oh, literally just take that out. Ok.","",""
"211261070185070602","Bobby#3076","16-Feb-20 04:25 AM","Works like a charm. Lol omg.","",""
"211261070185070602","Bobby#3076","16-Feb-20 04:26 AM","I thought that would just run the check in the background or something and check the result, I didn't know it would actually do the thing! Jeez","",""
"211261070185070602","Bobby#3076","16-Feb-20 04:26 AM","Thank you so much!","",""
"393854278764068875","curiouskiwi#1671","16-Feb-20 04:28 AM","to check the results, it has to call the function (ie, do the function) üôÇ","",""
"393854278764068875","curiouskiwi#1671","16-Feb-20 04:28 AM","you aren't alone in not realizing that...  üôÇ","",""
"211261070185070602","Bobby#3076","16-Feb-20 04:28 AM","Good to know. üôÇ","",""
"430515097421742102","edd#5479","16-Feb-20 07:17 PM","`000.jpg` and `001.jpg` output fine but it stops there. Passes all tests except the middle images and `049.jpg` ones. Any ideas where I should look?","",""
"430515097421742102","edd#5479","16-Feb-20 07:46 PM","So my counter is not updating and  `001.jpg` is getting renamed over and over. I don't see why yet","",""
"425802339392290817","agustinvaca1111#0920","16-Feb-20 07:50 PM","maybe you're setting it = 0 everytime","",""
"430515097421742102","edd#5479","16-Feb-20 07:50 PM","already checked. it's outside the loop","",""
"425802339392290817","agustinvaca1111#0920","16-Feb-20 07:51 PM","is your counter++ in the new jpeg if?","",""
"430515097421742102","edd#5479","16-Feb-20 07:52 PM","in both if and else. if it's the first jpeg and in the ""if it's not the first jpeg""","",""
"430515097421742102","edd#5479","16-Feb-20 07:53 PM","if i print the counter in the else statement-- before and after the `counter++`--it updates but only once","",""
"430515097421742102","edd#5479","16-Feb-20 07:53 PM","and then it keeps repeating `1`","",""
"430515097421742102","edd#5479","16-Feb-20 07:55 PM","```
IF NEW JPEG AND NOT FIRST JPEG:
  UPDATE COUNTER
  CLOSE PREVIOUS FILE
  RENAME FILENAME
  OPEN NEW JPEG
  WRITE
```","",""
"430515097421742102","edd#5479","16-Feb-20 07:56 PM","that's how my code looks like. it behaves like it is doing all of that many times except updating counter more than once","",""
"425802339392290817","agustinvaca1111#0920","16-Feb-20 08:00 PM","guess you'll have to wait for a TA","",""
"425802339392290817","agustinvaca1111#0920","16-Feb-20 08:00 PM","haven't even finished mine lol","",""
"430515097421742102","edd#5479","16-Feb-20 08:01 PM","no problem. thanks a lot for your insight on it","",""
"430515097421742102","edd#5479","16-Feb-20 08:03 PM","so i don't understand why but if these global variables are declared outside of main then it works perfectly even though they were living outside the loop","",""
"425802339392290817","agustinvaca1111#0920","16-Feb-20 08:16 PM","I'm getting a segmentation fault on my first draft","",""
"425802339392290817","agustinvaca1111#0920","16-Feb-20 08:18 PM","","https://cdn.discordapp.com/attachments/395684916056031245/678666398439833600/SPOILER_recover_1.jpg",""
"425802339392290817","agustinvaca1111#0920","16-Feb-20 08:19 PM","please give any comment you can think of, I just wanted to get the logic written then correct it","",""
"676463066942144512","drail159#6376","16-Feb-20 08:54 PM","in the first pass of your while loop if no image is found then you never open img. This means that when you call fclose(img) the first time img == NULL.","",""
"676463066942144512","drail159#6376","16-Feb-20 08:56 PM","@agustinvaca1111 Set a break point at the beginning of your while loop and run `debug50 recover card.raw` and step through your program one line at a time until you get a warning. When you get the warning you should be on the fclose(img); line.","",""
"425802339392290817","agustinvaca1111#0920","16-Feb-20 11:00 PM","Thanks drail! I ended changing up a lot of things but I finally got it to work!","",""
"425802339392290817","agustinvaca1111#0920","16-Feb-20 11:00 PM","How did yours go?","",""
"425802339392290817","agustinvaca1111#0920","16-Feb-20 11:01 PM","@drail159","",""
"676463066942144512","drail159#6376","16-Feb-20 11:19 PM","Good, there was a lot of new stuff to get my head around but I got it done.","",""
"237137502538956800","∆ä∆ñ»§∆¨∆≤∆¶∆Å#4906","18-Feb-20 01:30 PM","I was stuck for an hour because I didn't know *fread* would remember which parts of the file you already read","",""
"237137502538956800","∆ä∆ñ»§∆¨∆≤∆¶∆Å#4906","18-Feb-20 01:30 PM","I seemed to missed that bit in the walkthrough","",""
"237137502538956800","∆ä∆ñ»§∆¨∆≤∆¶∆Å#4906","18-Feb-20 01:30 PM","Read and watch everything folks!","",""
"599347668245807136","cs50-humblechris#1019","18-Feb-20 05:55 PM","","https://cdn.discordapp.com/attachments/395684916056031245/679355225978437652/SPOILER_valgrind.png",""
"599347668245807136","cs50-humblechris#1019","18-Feb-20 05:56 PM","üëÜ Pls can someone explain to me what wrong here, dont seem to figure it out yet","",""
"234679095378706433","Blauelf#6622","18-Feb-20 10:36 PM","Line 47 makes little sense. Have you changed the code after doing `make` and running `valgrind`?
Some guess: Do you have `filename` set up for *eight* characters? I guess `buffer` and `filename` are arrays?","",""
"599347668245807136","cs50-humblechris#1019","19-Feb-20 12:31 AM","nothing on line 47. do you mean line 45 or 49? buffer is an array while filename is not","",""
"676463066942144512","drail159#6376","19-Feb-20 02:25 AM","No your valgrind report says that something happened on line 47. That's why it doesn't make sense. Has your code changed since you ran that report?","",""
"676463066942144512","drail159#6376","19-Feb-20 02:26 AM","The problem is that you are trying to access memory that hasn't been allocated. so you've either accessed a variable that hasn't been assigned or you have exceeded the buffer on an array or something to that effect.","",""
"599347668245807136","cs50-humblechris#1019","19-Feb-20 11:47 AM","oh, its possible that line change, I'd run valgrind again","",""
"678955282763612193","malhotrautkarsh#0361","19-Feb-20 12:17 PM","My code is printing the images but most of them are in invalid format","",""
"678955282763612193","malhotrautkarsh#0361","19-Feb-20 12:18 PM","Here my code :","",""
"678955282763612193","malhotrautkarsh#0361","19-Feb-20 12:18 PM","#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <stdint.h>

typedef uint8_t BYTE;

void JPEG(void) ;

int main(int argc, char *argv[])
{

    if (argc != 2)
    {

        printf(""Usage : ./recover image"")  ;

        return 1 ;

    }

    else

    {

        //open memory card

        FILE *card = fopen(argv[1], ""r"") ;


        // Read from memory card

        unsigned char copy[512] ;



        while (copy[0] != 0xff && copy[1] != 0xd8 && copy[2] != 0xff && (copy[3] & 0xf0) != 0xe0)

        {
            fread(copy, 512, 1,  card) ;
        }


        int jpeg = 0 ;
        char buffer[8] ;

        while (jpeg < 50)
        {

            sprintf(buffer, ""%03i.jpg"", jpeg);

            FILE *img = fopen(buffer, ""w"") ;


            do

            {

                fwrite(&copy, 512, 1, img) ;
                fread(copy, 512, 1,  card) ;

            }

            while (copy[0] != 0xff && copy[1] != 0xd8 && copy[2] != 0xff && (copy[3] & 0xf0) != 0xe0) ;


            fclose(img) ;

            jpeg++ ;





        }


        fclose(card) ;


    }





}","",""
"348479760931880962","GeeeeeN#9779","19-Feb-20 02:27 PM","Can someone help me why nothing happens in my program even if it compiles okay?","",""
"348479760931880962","GeeeeeN#9779","19-Feb-20 02:27 PM","","https://cdn.discordapp.com/attachments/395684916056031245/679665333145042956/SPOILER_13.jpg",""
"348479760931880962","GeeeeeN#9779","19-Feb-20 02:29 PM","a clear shot","https://cdn.discordapp.com/attachments/395684916056031245/679665984935559168/SPOILER_87027727_2603057609976145_6092162808726683648_n.jpg",""
"127541905822187520","DGChem#7441","19-Feb-20 07:27 PM","look at your if conditions, and do the loops step by step^^ That's how I find out most of my mistakes","",""
"234679095378706433","Blauelf#6622","19-Feb-20 11:33 PM","@GeeeeeN Wouldn't it be either ||`fread(buffer, 512, 1, file) == 1`|| or ||`fread(buffer, 1, 512, file) == 512`||?","",""
"348479760931880962","GeeeeeN#9779","20-Feb-20 07:32 AM","@Blauelf hey may I ask why would it be == 1?","",""
"676463066942144512","drail159#6376","20-Feb-20 07:34 AM","Fread takes four arguments: a variable to store the data in, the number of bytes to read per chunk, the number of data chunks it should try to read, and the data source to read from. It then returns the number of chunks it was able to read. In your case you are asking it to read just one chunk of 512 bytes and so the highest value it can possibly return is 1 meaning that it successfully read everything you asked it to.","",""
"676463066942144512","drail159#6376","20-Feb-20 07:39 AM","@GeeeeeN that means your while loop condition never returns true and so it never does anything.","",""
"378746468653072387","Awork#7602","20-Feb-20 11:19 AM","Hello, none of my JPEGs are recovered correctly, plus I keep getting an extra one, could some point me in the right direction please??","https://cdn.discordapp.com/attachments/395684916056031245/679980477896982530/SPOILER_Captura_de_pantalla_83.png",""
"378746468653072387","Awork#7602","20-Feb-20 11:23 AM","most of my recovered files end up looking like this","https://cdn.discordapp.com/attachments/395684916056031245/679981360915677225/006.jpg",""
"234679095378706433","Blauelf#6622","20-Feb-20 11:58 PM","There's something wrong with the first loop's condition, I guess your first file isn't even showing those few blocks.
And you seem to have issues with `fopen` and `fclose`, with so many more `fopen`s than `fclose`s executed.
I wouldn't want to use mode ""a"", as this appends to an existing file. Use ""w"" with a `FILE*` declared above your loop, so that it persists over multiple iterations (and `fopen` on finding a header signature, `fclose`ing first only if there is an open file).","",""
"678377940030980120","ziller#6589","21-Feb-20 02:34 AM","ok... so I‚Äôm reading from card.raw ok ( I think )","",""
"678377940030980120","ziller#6589","21-Feb-20 02:34 AM","and I‚Äôm finding jpegs ok I think","",""
"678377940030980120","ziller#6589","21-Feb-20 02:35 AM","but when trying to write to files I‚Äôm getting a segmentation fault","",""
"393854278764068875","curiouskiwi#1671","21-Feb-20 02:37 AM","oh sorry","",""
"393854278764068875","curiouskiwi#1671","21-Feb-20 02:37 AM","wrong channel","",""
"678377940030980120","ziller#6589","21-Feb-20 02:37 AM","hehe","",""
"678377940030980120","ziller#6589","21-Feb-20 02:37 AM","I mean... it‚Äôs the same pointer","",""
"678377940030980120","ziller#6589","21-Feb-20 02:37 AM","I forgot about valgrind","",""
"678377940030980120","ziller#6589","21-Feb-20 02:37 AM","thanks for the reminder","",""
"393854278764068875","curiouskiwi#1671","21-Feb-20 02:37 AM","okay,so run `valgrind ./recover card.raw`","",""
"678377940030980120","ziller#6589","21-Feb-20 02:38 AM","I had put in some printf statements to debug a bit... initially to check my conditions for looking for jpegs were working","",""
"678377940030980120","ziller#6589","21-Feb-20 02:44 AM","so.... it‚Äôs sprintf that‚Äôs going wonky","",""
"678377940030980120","ziller#6589","21-Feb-20 02:44 AM","which... never even","",""
"678377940030980120","ziller#6589","21-Feb-20 02:44 AM","oh ffs","",""
"678377940030980120","ziller#6589","21-Feb-20 02:44 AM","I think I know what that is","",""
"678377940030980120","ziller#6589","21-Feb-20 02:57 AM","I was presuming something beyond my understanding at this stage involving the file writing / reading process was borked...","",""
"678377940030980120","ziller#6589","21-Feb-20 02:58 AM","but I was just trying to address a string badly...","",""
"678377940030980120","ziller#6589","21-Feb-20 03:12 AM","well I‚Äôm nearly there... but I think i‚Äôm going to call it a night...","",""
"678377940030980120","ziller#6589","21-Feb-20 03:12 AM","I have all the smiley faces but the last one...","",""
"678377940030980120","ziller#6589","21-Feb-20 03:12 AM","and I‚Äôm not sure what‚Äôs wrong there as I have recovered an image and can view it...","",""
"678377940030980120","ziller#6589","21-Feb-20 03:13 AM","I‚Äôm doing everything in a while loop","",""
"393854278764068875","curiouskiwi#1671","21-Feb-20 03:13 AM","perhaps you are writing an extra 512 block, which could happen if you aren't recognizing the end of the file at the right point","",""
"678377940030980120","ziller#6589","21-Feb-20 03:13 AM","so tried changing it to do / while","",""
"678377940030980120","ziller#6589","21-Feb-20 03:13 AM","hmmm I suppose that would make it worse","",""
"678377940030980120","ziller#6589","21-Feb-20 03:13 AM","if there‚Äôs an extra","",""
"678377940030980120","ziller#6589","21-Feb-20 03:14 AM","I wondered if maybe I was missing a block","",""
"393854278764068875","curiouskiwi#1671","21-Feb-20 03:14 AM","if your while condition is testing the return value of fread, then it shouldn't be writing an extra one.","",""
"678377940030980120","ziller#6589","21-Feb-20 03:16 AM","hmmm... I‚Äôll have another read through my code... I‚Äôve got to that late night basic logic blindness stage where all logic should say ‚Äústop trying to think about this you‚Äôre making dumb mistakes‚Äù and yet...","",""
"678377940030980120","ziller#6589","21-Feb-20 03:17 AM","on the memory front... valgrind said:","",""
"678377940030980120","ziller#6589","21-Feb-20 03:17 AM","=13430== HEAP SUMMARY:
==13430==     in use at exit: 1,104 bytes in 2 blocks
==13430==   total heap usage: 103 allocs, 101 frees, 237,560 bytes allocated
==13430==","",""
"678377940030980120","ziller#6589","21-Feb-20 03:17 AM","I‚Äôve freed up the memory I allocated for reading from card.raw","",""
"393854278764068875","curiouskiwi#1671","21-Feb-20 03:17 AM","are you mallocing the filename for some reason??","",""
"393854278764068875","curiouskiwi#1671","21-Feb-20 03:17 AM","or the buffer?","",""
"393854278764068875","curiouskiwi#1671","21-Feb-20 03:18 AM","I wouldn't expect to use malloc at all in this problem.","",""
"678377940030980120","ziller#6589","21-Feb-20 03:18 AM","I only did because it was mentioned in the spec","",""
"678377940030980120","ziller#6589","21-Feb-20 03:18 AM","but I also freed it","",""
"393854278764068875","curiouskiwi#1671","21-Feb-20 03:18 AM","oh, it says ""if you use malloc, be sure to free"". üôÇ","",""
"393854278764068875","curiouskiwi#1671","21-Feb-20 03:19 AM","did you fclose the last jpg file and the rawfile?","",""
"678377940030980120","ziller#6589","21-Feb-20 03:19 AM","I did not...","",""
"393854278764068875","curiouskiwi#1671","21-Feb-20 03:19 AM","that's your 2 blocks then","",""
"393854278764068875","curiouskiwi#1671","21-Feb-20 03:19 AM","the 2 FILE*","",""
"678377940030980120","ziller#6589","21-Feb-20 03:20 AM","this is why you don‚Äôt code late at night when you think you‚Äôre being productive but you‚Äôre just missing things that are staring you in the face.","",""
"678377940030980120","ziller#6589","21-Feb-20 03:33 AM","well... I couldn‚Äôt solve it... within my loop... for some reason I couldn‚Äôt quite wrap my head around it...","",""
"678377940030980120","ziller#6589","21-Feb-20 03:33 AM","now it‚Äôs solved with while(1)","",""
"678377940030980120","ziller#6589","21-Feb-20 03:33 AM","and if (blah) break.","",""
"678377940030980120","ziller#6589","21-Feb-20 03:34 AM","and if I can be bothered I‚Äôll try and work out what I was doing wrong in the morning!","",""
"678377940030980120","ziller#6589","21-Feb-20 03:34 AM","for now I shall sleep and bask in the temporary high of the green smiling faces.","",""
"393854278764068875","curiouskiwi#1671","21-Feb-20 03:34 AM","üôÇ","",""
"678377940030980120","ziller#6589","21-Feb-20 03:34 AM","thanks for the help","",""
"393854278764068875","curiouskiwi#1671","21-Feb-20 03:35 AM","(I wish discord was like Slack and showed you people's timezones when you click their name)  Have no idea what time it is for most people! üôÇ  It's 2:35pm here.  good night!","",""
"678377940030980120","ziller#6589","21-Feb-20 03:35 AM","a:35","",""
"678377940030980120","ziller#6589","21-Feb-20 03:35 AM","1:35","",""
"678377940030980120","ziller#6589","21-Feb-20 03:35 AM","(am)","",""
"393854278764068875","curiouskiwi#1671","21-Feb-20 03:35 AM","UK?","",""
"678377940030980120","ziller#6589","21-Feb-20 03:35 AM","yeah","",""
"393854278764068875","curiouskiwi#1671","21-Feb-20 03:36 AM","hope you weren't flooded (have no idea how widespread that was!)","",""
"678377940030980120","ziller#6589","21-Feb-20 03:37 AM","the worst of it actually was near me... but I live in the city and away from the river... further north were some scenes... but it was generally quite localised...","",""
"678377940030980120","ziller#6589","21-Feb-20 03:37 AM","UK weather is basically a trade off... the deal is that it‚Äôs never all that great... but it‚Äôs also never all that bad... recently the deal seems to have been broken","",""
"393854278764068875","curiouskiwi#1671","21-Feb-20 03:42 AM","hmm","",""
"512830461463101450","django97#8980","21-Feb-20 08:57 AM","Can someone help me understand why my program only opens 25 jpg and stops.","",""
"393854278764068875","curiouskiwi#1671","21-Feb-20 09:13 AM","might happen if you are freading twice each time in the loop, and thereby throwing away every other 512-byte block.  @django97","",""
"512830461463101450","django97#8980","21-Feb-20 09:43 AM","@curiouskiwi i don't think i am here's the code","https://cdn.discordapp.com/attachments/395684916056031245/680318709348171780/SPOILER_cs50.PNG",""
"512830461463101450","django97#8980","21-Feb-20 09:43 AM","","https://cdn.discordapp.com/attachments/395684916056031245/680318758505414704/SPOILER_cs501.PNG",""
"378746468653072387","Awork#7602","21-Feb-20 10:21 AM","@Blauelf Thank you so much!!","",""
"378746468653072387","Awork#7602","21-Feb-20 10:21 AM","My files are recovering correctly except that I'm not getting the first one","",""
"378746468653072387","Awork#7602","21-Feb-20 10:23 AM","Files 2 - 50 have been recovered successfully but the first one is no where to be found","https://cdn.discordapp.com/attachments/395684916056031245/680328605045489664/SPOILER_Captura_de_pantalla_84.png",""
"566075422547247105","kaizen71#1394","21-Feb-20 10:56 AM","hello","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:06 AM","anyone therE?","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:12 AM","help","https://cdn.discordapp.com/attachments/395684916056031245/680341020021751823/Annotation_2020-02-21_144201.png",""
"678377940030980120","ziller#6589","21-Feb-20 11:16 AM","what‚Äôs your question kaizen71?","",""
"678377940030980120","ziller#6589","21-Feb-20 11:16 AM","looking at that code I‚Äôm not 100% sure what you‚Äôre aiming for with the buffer[3] check...","",""
"678377940030980120","ziller#6589","21-Feb-20 11:17 AM","the range you‚Äôre checking for is 0xe0... 0xef","",""
"678377940030980120","ziller#6589","21-Feb-20 11:19 AM","oh, right... sorry... I misread it....","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:20 AM","im just checking if m able to detect those jpegs","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:20 AM","m only getting one positive for it","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:21 AM","m just starting out with recover you see","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:21 AM","m kinda stuck with what m doing wrong","",""
"678377940030980120","ziller#6589","21-Feb-20 11:24 AM","is the loop running? (i.e. do you get a list of ‚Äúyay‚Äùs but only one ‚ÄúMaybe‚Äù?","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:24 AM","i get many yays and one maybe","",""
"678377940030980120","ziller#6589","21-Feb-20 11:29 AM","when I tried to compile your code I got an error on the bitwise operation","",""
"678377940030980120","ziller#6589","21-Feb-20 11:30 AM","which I created with a typo","",""
"678377940030980120","ziller#6589","21-Feb-20 11:30 AM","ignore me","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:33 AM","any hints on what m dng wrong here?","",""
"678377940030980120","ziller#6589","21-Feb-20 11:38 AM","honestly I‚Äôm not sure... I only solved it myself last night and I constructed the loop slightly differently...","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:39 AM","is it the ide?","",""
"678377940030980120","ziller#6589","21-Feb-20 11:39 AM","I inserted your check in replace of mine and it worked fine... then I tried constructing the loop with the read as the condition (as you have)... and I got a segmentation fault... which I didn‚Äôt investigate much further...","",""
"678377940030980120","ziller#6589","21-Feb-20 11:40 AM","if you add a counter to report how many times the loop read a block... what do you get?","",""
"678377940030980120","ziller#6589","21-Feb-20 11:40 AM","(also, why do you have a != symbol? is that an editor setting?)","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:40 AM","i do hit fread multiple times","",""
"678377940030980120","ziller#6589","21-Feb-20 11:41 AM","but how many times?","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:42 AM","16 times apparently","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:42 AM","i just declared a counter","",""
"678377940030980120","ziller#6589","21-Feb-20 11:44 AM","I confess I‚Äôm not sure about what fread returns and when... but fwiw I checked that it wasn‚Äôt returning 0 rather than specifically returning 1","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:45 AM","fread returns size of size items read?","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:45 AM","number of size size items read","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:46 AM","in my case 512 bytes","",""
"678377940030980120","ziller#6589","21-Feb-20 11:47 AM","I just printf()‚Äôd that on mine... and yes... it returns 512 bytes...","",""
"678377940030980120","ziller#6589","21-Feb-20 11:48 AM","then 0","",""
"678377940030980120","ziller#6589","21-Feb-20 11:48 AM","though why, then, your loop even runs 16 times I don‚Äôt know?!","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:49 AM","i guess i need some more help","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:49 AM","who can point it out","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:49 AM","same boat as you","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:50 AM","cant seem to find out because it doesnt make sense","",""
"678377940030980120","ziller#6589","21-Feb-20 11:50 AM","have you tried it with != 0 instead of == 1 ??","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:51 AM","why wud one do !=0","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:51 AM","the check is if m reading 512 bytes one time","",""
"678377940030980120","ziller#6589","21-Feb-20 11:51 AM","that‚Äôs what I thought too","",""
"678377940030980120","ziller#6589","21-Feb-20 11:52 AM","but printf of the return value on every loop gave me:","",""
"678377940030980120","ziller#6589","21-Feb-20 11:52 AM","","https://cdn.discordapp.com/attachments/395684916056031245/680351071222104078/image0.png",""
"678377940030980120","ziller#6589","21-Feb-20 11:52 AM","oh wait","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:52 AM","if it makes sense ill do this","",""
"678377940030980120","ziller#6589","21-Feb-20 11:52 AM","sorry... our fread statements are different","",""
"678377940030980120","ziller#6589","21-Feb-20 11:53 AM","I haven‚Äôt had coffee yet lol","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:53 AM","check this one out if it makes sense","https://cdn.discordapp.com/attachments/395684916056031245/680351489692139580/Annotation_2020-02-21_152326.png",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:54 AM","fread rturns number of times size items were read","",""
"678377940030980120","ziller#6589","21-Feb-20 11:55 AM","are we sure we have the same card.raw?","",""
"678377940030980120","ziller#6589","21-Feb-20 11:55 AM","ls -l card.raw ?","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:59 AM","i think","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:59 AM","my card raw","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:59 AM","got corrupted?","",""
"566075422547247105","kaizen71#1394","21-Feb-20 11:59 AM","idk","",""
"566075422547247105","kaizen71#1394","21-Feb-20 12:00 PM","getting lot of maybes now","",""
"678377940030980120","ziller#6589","21-Feb-20 12:09 PM","so nothing wrong with your code","",""
"678377940030980120","ziller#6589","21-Feb-20 12:10 PM","and thanks for the bitwise operator... I treated it like an integer...","",""
"566075422547247105","kaizen71#1394","21-Feb-20 12:38 PM","yay","",""
"566075422547247105","kaizen71#1394","21-Feb-20 12:38 PM","m done","",""
"566075422547247105","kaizen71#1394","21-Feb-20 12:38 PM","thanks @ziller","","üëç (1)"
"566075422547247105","kaizen71#1394","21-Feb-20 12:39 PM","the problem was i was overwriting argv[1] when i attempted this problem previously while fwriting","",""
"566075422547247105","kaizen71#1394","21-Feb-20 12:42 PM","so that made card.raw corrupted","",""
"678377940030980120","ziller#6589","21-Feb-20 01:52 PM","Well done man... sorry I tried to invent problems in perfectly solid code!!","",""
"512830461463101450","django97#8980","21-Feb-20 05:42 PM","Can anyone tell me why my code only opens 24 valid JPEGs? Here's my code:","",""
"512830461463101450","django97#8980","21-Feb-20 05:42 PM","","https://cdn.discordapp.com/attachments/395684916056031245/680439224633131046/SPOILER_cs50.PNG",""
"512830461463101450","django97#8980","21-Feb-20 05:42 PM","","https://cdn.discordapp.com/attachments/395684916056031245/680439254408626178/SPOILER_cs501.PNG",""
"678377940030980120","ziller#6589","21-Feb-20 06:40 PM","at the end of the outer loop there you set your check_sig to false... but the last read was in fact true... (hence it broke the loop of writing extra blocks to xxx.jpg.... that block is never written anywhere...","",""
"678377940030980120","ziller#6589","21-Feb-20 06:41 PM","the next loop goes looking for a subsequent jpg header...","",""
"678377940030980120","ziller#6589","21-Feb-20 06:45 PM","maybe there‚Äôs an easier way to set up those loops...","",""
"512830461463101450","django97#8980","21-Feb-20 07:21 PM","Thank you you're absolutely right I took out that line and it works perfectly","",""
"230721716412874753","Vince#6486","21-Feb-20 10:18 PM","I'm either getting blank alpha channels or images that are really artifacted...","",""
"230721716412874753","Vince#6486","21-Feb-20 10:18 PM","and I'm only making 27 images out of the 50 :/","",""
"230721716412874753","Vince#6486","21-Feb-20 10:22 PM","","https://cdn.discordapp.com/attachments/395684916056031245/680509724541845524/SPOILER_recover1.png",""
"230721716412874753","Vince#6486","21-Feb-20 10:22 PM","I don't understand this problem set at all :/","https://cdn.discordapp.com/attachments/395684916056031245/680509778514149477/SPOILER_recover2.png",""
"230721716412874753","Vince#6486","22-Feb-20 12:23 AM","does anyone mind helping me out?","",""
"676463066942144512","drail159#6376","22-Feb-20 01:31 AM","You call fread twice in each do loop, that is wasting every other chunk.","",""
"676463066942144512","drail159#6376","22-Feb-20 01:47 AM","@Vince","",""
"230721716412874753","Vince#6486","22-Feb-20 01:54 AM","ohhh","",""
"230721716412874753","Vince#6486","22-Feb-20 02:09 AM","I fixed it by doing this and it works","",""
"230721716412874753","Vince#6486","22-Feb-20 02:09 AM","but the final picture (049.jpg) isn't correct apparently","",""
"230721716412874753","Vince#6486","22-Feb-20 02:09 AM","the image looks fine","",""
"230721716412874753","Vince#6486","22-Feb-20 02:09 AM","but according to check50 it isn't right","",""
"230721716412874753","Vince#6486","22-Feb-20 02:11 AM","nvm, I'm stupid and didn't do return 0; at the end","",""
"230721716412874753","Vince#6486","22-Feb-20 02:13 AM","nvm again... that wasn't the problem... this problem set is much harder than the others so far :/","",""
"230721716412874753","Vince#6486","22-Feb-20 02:22 AM","So everything works, apart from 049.jpg which is apparently wrong according to check50 (even though the image looks fine), I don't know what's wrong now...","https://cdn.discordapp.com/attachments/395684916056031245/680570045029416998/SPOILER_recover4.png",""
"676463066942144512","drail159#6376","22-Feb-20 02:47 AM","I don't see what's wrong either ‚òπÔ∏è","",""
"622128000787546122","DataScientist#6397","22-Feb-20 02:59 AM","Does someone know what is wrong with my code here? I have tried to figure out the issue with many tweaks but without any luck... I am having a segmentation fault and valgrind doesn't seem to be much help either. Any help would be much appreciated.","",""
"622128000787546122","DataScientist#6397","22-Feb-20 03:00 AM","","https://cdn.discordapp.com/attachments/395684916056031245/680579663944482877/Capture_1.JPG",""
"622128000787546122","DataScientist#6397","22-Feb-20 03:00 AM","","https://cdn.discordapp.com/attachments/395684916056031245/680579726087291028/Capture_2.JPG",""
"676463066942144512","drail159#6376","22-Feb-20 03:49 AM","Could you show your valgrind output?","",""
"676463066942144512","drail159#6376","22-Feb-20 03:51 AM","@DataScientist","",""
"622128000787546122","DataScientist#6397","22-Feb-20 04:21 AM","","https://cdn.discordapp.com/attachments/395684916056031245/680599995144994850/Capture_1.JPG",""
"622128000787546122","DataScientist#6397","22-Feb-20 04:21 AM","","https://cdn.discordapp.com/attachments/395684916056031245/680600034152415250/Capture_2.JPG",""
"622128000787546122","DataScientist#6397","22-Feb-20 04:21 AM","Here is the output.","",""
"230721716412874753","Vince#6486","22-Feb-20 04:37 AM","@drail159 Hmm... Thanks anyway though, and you helped me with the multiple fread calls too which fixed my main issue üôÇ","",""
"230721716412874753","Vince#6486","22-Feb-20 04:37 AM","Is there anyone I can contact to get proper help?","",""
"230721716412874753","Vince#6486","22-Feb-20 04:37 AM","well, more to report a potential issue with the check50 bot?","",""
"676463066942144512","drail159#6376","22-Feb-20 04:41 AM","Sorry, been busy with the kids. You could post in #general about your issue and a mod would be able to help with that.","",""
"676463066942144512","drail159#6376","22-Feb-20 05:21 AM","@Vince The problem is that your check for the beginning of an image is flawed and never returns true. That means that you never enter the loop to open recoveredImage so when you try to free it at the end you get a segfault. The primary solution is to fix  your check but you may also want to enclose the final fclose for recovered image in a check like `if (recoveredImage != NULL)` just to make sure you don't have to deal with this again while you figure it out.","",""
"676463066942144512","drail159#6376","22-Feb-20 05:30 AM","Sorry I took so long but I had to wait until I had time to copy your file and run debug50 on it.","",""
"230721716412874753","Vince#6486","22-Feb-20 01:44 PM","@drail159 was that directed towards @DataScientist and a mis-tag?","",""
"234679095378706433","Blauelf#6622","22-Feb-20 01:54 PM","@Vince You attempt to read the block, you write it to disk, then you check whether you actually were able to read that block.
Therefore, your last file has the last 512 byte block repeated. As the extra data does not prevent the image from being decoded, it would appear normal, just slightly larger than it should.
I would use a regular `while` loop, and move the `fread` into the condition||, like `while (fread(...) == 512)`||","",""
"230721716412874753","Vince#6486","22-Feb-20 03:30 PM","ah okay, I think I understand, but I did change the do-while loop into a while loop and it works now, cheers üôÇ","",""
"230721716412874753","Vince#6486","22-Feb-20 03:31 PM","I guess I don't yet understand the true difference between for/while/do-while lol","",""
"234679095378706433","Blauelf#6622","22-Feb-20 03:36 PM","`do..while` is just like `while`, just that the first iteration skips the condition, so the loop runs at least once. The important part here is just that you do read->write->check, while it should be read->check->write.","",""
"230721716412874753","Vince#6486","22-Feb-20 03:50 PM","that makes a lot more sense üôÇ","",""
"230721716412874753","Vince#6486","22-Feb-20 03:50 PM","Thanks! On to week 5 now!","",""
"381236641492107264","Amine#2111","22-Feb-20 05:36 PM","hey, i dont get this in the **walkthrough**, if i see the start of JPEG, i should write all of the files after it again or what","https://cdn.discordapp.com/attachments/395684916056031245/680800102725582856/unknown.png",""
"381236641492107264","Amine#2111","22-Feb-20 05:59 PM","is just the first block should i write or all of the block that after it?","",""
"361235692019384323","Sanath#7244","22-Feb-20 06:11 PM","Each color signifies a separate file","",""
"234679095378706433","Blauelf#6622","22-Feb-20 06:11 PM","From the first header block, all the blocks belong to one output file.","",""
"361235692019384323","Sanath#7244","22-Feb-20 06:11 PM","You write to the same file till you reach another jpeg start sequence","","üëç (1)"
"381236641492107264","Amine#2111","22-Feb-20 06:14 PM","so i dont need to create another file to write ?","",""
"381236641492107264","Amine#2111","22-Feb-20 06:14 PM","and you mean that like the yellow blocks are an JPEG or just a same file","",""
"381236641492107264","Amine#2111","22-Feb-20 06:14 PM","?","",""
"234679095378706433","Blauelf#6622","22-Feb-20 06:14 PM","You switch the output file when you hit another file header.","",""
"381236641492107264","Amine#2111","22-Feb-20 06:16 PM","when i see another JPEG file then i write the file that i was reading ?","",""
"234679095378706433","Blauelf#6622","22-Feb-20 06:32 PM","In this graphic you posted, the whole thing is the input file. Each colour represents a different output file, each beginning with those four bytes.","",""
"381236641492107264","Amine#2111","22-Feb-20 06:34 PM","oh i get something now, thanks","",""
"622128000787546122","DataScientist#6397","22-Feb-20 07:11 PM","Thanks for going to all this trouble to help me out @drail159 ! I will take a closer look at that.","",""
"381236641492107264","Amine#2111","22-Feb-20 07:35 PM","i wanna know how to check it's the end of the card","",""
"381236641492107264","Amine#2111","22-Feb-20 07:36 PM","cause i wanna use a for loop to check every time 512 bytes  ...","",""
"381236641492107264","Amine#2111","22-Feb-20 07:36 PM","till the end of card","",""
"676463066942144512","drail159#6376","22-Feb-20 09:02 PM","@DataScientist np, it's always fun to build and play with other peoples code.","",""
"678377940030980120","ziller#6589","22-Feb-20 11:20 PM","quick q thinking back over this problem... and the fact malloc was introduced in the lectures / shorts and referenced in the spec","",""
"678377940030980120","ziller#6589","22-Feb-20 11:20 PM","which I think unthinkingly used when it wasn‚Äôt really necessary","",""
"678377940030980120","ziller#6589","22-Feb-20 11:20 PM","I guess I‚Äôm slightly unclear on when you / would / need it...","",""
"678377940030980120","ziller#6589","22-Feb-20 11:21 PM","is it essentially just when you don‚Äôt know at compile time how much memory you need and what to be able to define it based on something dynamic?","",""
"678377940030980120","ziller#6589","22-Feb-20 11:21 PM","like in the filter programme where ‚Äúimage[height][width]‚Äù will be a different size for each file?","",""
"678377940030980120","ziller#6589","22-Feb-20 11:21 PM","or is there some other reason to store something on the Heap rather than the Stack?","",""
"141016406543040512","Shhwip#8890","22-Feb-20 11:24 PM","im sure this has been brought up dozens of times","",""
"141016406543040512","Shhwip#8890","22-Feb-20 11:24 PM","but at address 00000200 of card.raw in recover there is a link to cs50.ly/surprise","",""
"361235692019384323","Sanath#7244","22-Feb-20 11:26 PM","Generally:
1. if you dont know how much memory you need / need to adjust memory usage dynamically
2. if you need very large allocations, malloc/calloc fail with proper errors. See :https://www.reidatcheson.com/c/programming/2015/12/07/vlas.html","",""
"361235692019384323","Sanath#7244","22-Feb-20 11:26 PM","@ziller","",""
"678377940030980120","ziller#6589","22-Feb-20 11:30 PM","thanks for that...","",""
"361235692019384323","Sanath#7244","22-Feb-20 11:37 PM","you'll use it in speller","",""
"361235692019384323","Sanath#7244","22-Feb-20 11:37 PM","and understand better","",""
"234679095378706433","Blauelf#6622","22-Feb-20 11:52 PM","@Sanath I wasn't aware the stack is *that* limited. You could have much larger global variables, which obviously do not reside on the stack.","",""
"361235692019384323","Sanath#7244","22-Feb-20 11:56 PM","I couldnt actually reproduce an error but since i can't really check for failure, i've just regarded it as bad practice","",""
"470427327244009483","niV#5484","23-Feb-20 01:01 AM","Hello everyone! Did anyone solve the recover problem using the function ""fseek""?","",""
"234679095378706433","Blauelf#6622","23-Feb-20 01:04 AM","Some people did that. At least we had requests here of people, usually having trouble with the input file end, last file too long, infinite loops, that type of problems.
It's not really required for that in this problem, so I would try to avoid the trouble.
Do you want to read something twice?","",""
"141016406543040512","Shhwip#8890","23-Feb-20 01:04 AM","fun fact I just deleted that function because you dont need it here","",""
"141016406543040512","Shhwip#8890","23-Feb-20 01:05 AM","if you use fseek and fread you tend to only get 27 images","",""
"141016406543040512","Shhwip#8890","23-Feb-20 01:05 AM","fread automatically seeks to the end of where it read to if you call it again","",""
"234679095378706433","Blauelf#6622","23-Feb-20 01:08 AM","That's a problem I haven't seen with `fseek` on this channel. People tend to use it to correct for reading too far, and that can have funny effects at file end, with reading the same last block over and over.","",""
"141016406543040512","Shhwip#8890","23-Feb-20 01:09 AM","dont give me code advice I was just trying to find the images","https://cdn.discordapp.com/attachments/395684916056031245/680914203938127917/SPOILER_unknown.png",""
"141016406543040512","Shhwip#8890","23-Feb-20 01:10 AM","fseek is redundant","",""
"234679095378706433","Blauelf#6622","23-Feb-20 01:13 AM","I wouldn't say redundant, it's detrimental. Yes, matches your description of 27 images.
Also, hard-coded number of iterations, while file size could be anything :/","",""
"470427327244009483","niV#5484","23-Feb-20 01:21 AM","I used fseek and got all 50 images, but I am having trouble writing only a fraction of the file into the jpgs","",""
"234679095378706433","Blauelf#6622","23-Feb-20 01:25 AM","Not much there. From the first header, write all blocks to output files, exactly once. On finding the next header, switch to the next output file. And, of course stop at input file end.","",""
"234679095378706433","Blauelf#6622","23-Feb-20 01:25 AM","I don't see where you would have to fseek there.","",""
"470427327244009483","niV#5484","23-Feb-20 04:03 AM","I made a prototype of the code from scratch without fseek now but it shows segmentation fault. Can anyone take a look at my code?","",""
"141016406543040512","Shhwip#8890","23-Feb-20 04:13 AM","sure I will","",""
"141016406543040512","Shhwip#8890","23-Feb-20 04:14 AM","is there an end of file character at the end of each jpg? How can i tell when Im done with the file card.raw?","",""
"141016406543040512","Shhwip#8890","23-Feb-20 04:15 AM","I know that its 3,744,768 bytes, divided by 512 gives me 7,314 and I can hard code that but from what @Blauelf said there is probably a better way of doing it","",""
"470427327244009483","niV#5484","23-Feb-20 04:15 AM","I'll share the code in private w u","",""
"234679095378706433","Blauelf#6622","23-Feb-20 11:47 AM","@Shhwip The file size is an assumption that now is reasonable, but might not be in the future, and cannot be derived from the problem statement itself. At my work, some of the more recent problems originated from someone making assumptions that made sense in that moment. And then suddenly certain orders would multiply because a number was assumed to be unique in that database table, but no longer is. Of course, person making assumptions in the past is no longer with the company, took a while to debug.
That's why I have a certain dislike for hard-coding such limits. Maybe correct result now, passing all test cases, but a bad thing in code that is meant to endure.","",""
"141016406543040512","Shhwip#8890","23-Feb-20 10:44 PM","can you give an alternative?","",""
"393854278764068875","curiouskiwi#1671","23-Feb-20 10:47 PM","as Brian explains in the walkthrough, because `fread` returns the number of elements read, you could put your `fread` into the while condition so that it will continue to run as long as you've successfully read a block.","",""
"141016406543040512","Shhwip#8890","23-Feb-20 11:02 PM","I dont know how I missed that","",""
"141016406543040512","Shhwip#8890","23-Feb-20 11:07 PM","yup that did it. Thanks @curiouskiwi","",""
"141016406543040512","Shhwip#8890","23-Feb-20 11:08 PM","lesson learned, watch the walkthrough multiple times","",""
"378746468653072387","Awork#7602","24-Feb-20 02:52 AM","hello, my code doesn't recover the first image","",""
"378746468653072387","Awork#7602","24-Feb-20 02:52 AM","it recovers everything else perfectly","",""
"378746468653072387","Awork#7602","24-Feb-20 02:53 AM","and I'm not sure why??","",""
"141016406543040512","Shhwip#8890","24-Feb-20 03:23 AM","is the first image corrupted cause you are starting the file with a bunch of garbage bytes as you didn't start the first file with the JPG header but instead with the start of the card.raw file?","",""
"378746468653072387","Awork#7602","24-Feb-20 03:26 AM","No, the first image is the second image","",""
"378746468653072387","Awork#7602","24-Feb-20 03:26 AM","and I only recover 49 images total","",""
"141016406543040512","Shhwip#8890","24-Feb-20 03:32 AM","so sounds like you are skipping the first .jpg header?","",""
"378746468653072387","Awork#7602","24-Feb-20 03:33 AM","maybe?? but shouldn't the first .jpg header be the same as the rest??","",""
"378746468653072387","Awork#7602","24-Feb-20 03:37 AM","should I make a separate header identifier for the first JPEG???","",""
"393854278764068875","curiouskiwi#1671","24-Feb-20 03:37 AM","how do you know the first image you recover is the second one?","",""
"393854278764068875","curiouskiwi#1671","24-Feb-20 03:38 AM","do you mean, that you never create a 000.jpg?","",""
"378746468653072387","Awork#7602","24-Feb-20 03:38 AM","I was only getting 49 files, so I tried starting the names with 1 (so that 000.jpg would be 001.jpg) and check50 was checking the middle and last recovers photos as correct","",""
"378746468653072387","Awork#7602","24-Feb-20 03:39 AM","and the first one as incorrect because when I did that, there obviously was no 000.jpg file","",""
"393854278764068875","curiouskiwi#1671","24-Feb-20 03:40 AM","when you started with 001.jpg  you passed the final 049.jpg test?","",""
"393854278764068875","curiouskiwi#1671","24-Feb-20 03:40 AM","I think that's what you meant, but just confirming","",""
"378746468653072387","Awork#7602","24-Feb-20 03:40 AM","Yeah","",""
"378746468653072387","Awork#7602","24-Feb-20 03:41 AM","so that's why I think my code isn't recovering the first one at all","",""
"393854278764068875","curiouskiwi#1671","24-Feb-20 03:41 AM","there's nothing special about the first one, other than there is no jpg before it.","",""
"393854278764068875","curiouskiwi#1671","24-Feb-20 03:42 AM","are you reading in 512 byte blocks?  and then, when you find a signature, closing any open jpg (there won't be one in this case) and then creating the next one (which would be 000.jpg in the first case)?","",""
"393854278764068875","curiouskiwi#1671","24-Feb-20 03:42 AM","you shouldn't need any special handling for the first one","",""
"378746468653072387","Awork#7602","24-Feb-20 03:43 AM","I am doing those things","",""
"378746468653072387","Awork#7602","24-Feb-20 03:43 AM","so that's why I find it weird that the first one isn't appearing","",""
"393854278764068875","curiouskiwi#1671","24-Feb-20 03:44 AM","if you want to send me your code privately, I can review (I have to leave in about 5 mins but I have time til then)","",""
"393854278764068875","curiouskiwi#1671","24-Feb-20 03:49 AM","solved. üôÇ","",""
"205714404010885120","Teckers#6125","24-Feb-20 04:29 AM","My program is only reading 33600bytes of the first jpg then stopping. Doesn't give an error or anything. Does anyone have any ideas?","",""
"393854278764068875","curiouskiwi#1671","24-Feb-20 04:41 AM","does your fread ask for 1 block of 512 bytes?","",""
"393854278764068875","curiouskiwi#1671","24-Feb-20 04:41 AM","how do you determine when to stop reading?","",""
"205714404010885120","Teckers#6125","24-Feb-20 04:45 AM","I figured it out. It was actually reading the whole card and writing everything to one file.","",""
"527893624260788237","Kalek#4586","24-Feb-20 05:00 AM","My program wasn't recovering images properly and I read this comment here ""Fread keeps track of how far you've read, it will automatically read the next block"" and I realized I didn't need to use fseek. I commented out fseek and that fixed my issues. Thank you","",""
"470427327244009483","niV#5484","24-Feb-20 08:35 AM","the compiler does not let me compile my code. my logic is: if the counter of jpegs is greater than 1, then close the file open. But it says ""use of undeclared variable""","",""
"470427327244009483","niV#5484","24-Feb-20 08:58 AM","I've solved that problem. Now I have another one which is my program does compile and seems to be correct, but no jpegs are generated. Can anyone help me?","",""
"470427327244009483","niV#5484","24-Feb-20 08:58 AM","https://pastebin.com/Jm7N8m2V","",""
"470427327244009483","niV#5484","24-Feb-20 08:58 AM","What am I missing exactly?","",""
"234679095378706433","Blauelf#6622","24-Feb-20 09:36 AM","You have an `fread` in the condition, but you ignore the bytes it read because you call it a second time right after that.","",""
"234679095378706433","Blauelf#6622","24-Feb-20 09:37 AM","And you might want to have another `if (counterJPG > 0)` after your loop, to close the last output file if it exists.","",""
"348479760931880962","GeeeeeN#9779","24-Feb-20 01:29 PM","@drail159 @Blauelf  hey guys thanks, after almost a week I finished recover. last question, why does sprintf goes first before fopen in creating the jpeg? can it go the other way?","",""
"348479760931880962","GeeeeeN#9779","24-Feb-20 01:29 PM","","https://cdn.discordapp.com/attachments/395684916056031245/681462680535564308/102.jpg",""
"128701429316583425","madmoe#5613","24-Feb-20 01:48 PM","Hello blauelf","",""
"234679095378706433","Blauelf#6622","24-Feb-20 01:48 PM","You want to open a file before you know its name? Or do I misinterpret what you are saying?","",""
"128701429316583425","madmoe#5613","24-Feb-20 01:49 PM","I‚Äôm struggling so hard with this pset","",""
"128701429316583425","madmoe#5613","24-Feb-20 01:49 PM","Do you mind going over it with me?","",""
"128701429316583425","madmoe#5613","24-Feb-20 01:49 PM","I‚Äôll paste my code and you could tell me if I‚Äôm walking in the right direction?","",""
"128701429316583425","madmoe#5613","24-Feb-20 01:51 PM","```c
int main(int argc, char *argv[])
{
    
    int counter = 0;
    
    
    if (argc < 2) {
        printf(""Usage: recover file"");
        return 1;
    }
    
    FILE *file = fopen(argv[1], ""r"");
    if (!file) {
        return 1;
    }
    
    //Read 512 bytes
    unsigned char bytes[10000];
    
    while (counter < 50) {
        fread(bytes, 512, 1, file);
        
        for (int i = 0; i < 512; ++i) {
            if ((counter == 0) && (bytes[i] == 0xff && bytes[i + 1] == 0xd8 && bytes[i + 2] == 0xff && ((bytes[i + 3] & 0xf0) == 0xe0))) {
         
         char filename[50]
         sprintf(filename, ""%03i.jpg"", counter);
         FILE *img = fopen(filename, ""w"");
         fwrite(bytes, 512, 1, )
         
           
        
    }
    

}
```","",""
"348479760931880962","GeeeeeN#9779","24-Feb-20 01:56 PM","@Blauelf in fopen, if file do not exist it will create a file to open right? meaning you can rename the file after it was created in fopen function?","",""
"234679095378706433","Blauelf#6622","24-Feb-20 01:59 PM","I don't think you can rename it while it is open.","",""
"128701429316583425","madmoe#5613","24-Feb-20 01:59 PM","@Blauelf","",""
"128701429316583425","madmoe#5613","24-Feb-20 01:59 PM","Please help","",""
"128701429316583425","madmoe#5613","24-Feb-20 01:59 PM","I know I‚Äôm really bad","",""
"470427327244009483","niV#5484","24-Feb-20 06:14 PM","Thank you @Blauelf! I implemented what u recommended! Unfortunately though, I am getting Segmentation fault now. Here is my code","",""
"470427327244009483","niV#5484","24-Feb-20 06:14 PM","https://pastebin.com/8mxCe3ij","",""
"470427327244009483","niV#5484","24-Feb-20 06:14 PM","If anyone could help me, I'd be grateful","",""
"234679095378706433","Blauelf#6622","24-Feb-20 06:26 PM","`if (img == NULL) { fclose(img)`
So you call `fclose(NULL)`?","",""
"234679095378706433","Blauelf#6622","24-Feb-20 06:27 PM","Can you locate the segfault by stepping in debug mode, one line at a time?","",""
"234679095378706433","Blauelf#6622","24-Feb-20 06:28 PM","Also, `free(block)` would become difficult.","",""
"234679095378706433","Blauelf#6622","24-Feb-20 06:29 PM","Oh, I get it, your `while` loop never runs. Read again what exactly `fread` returns.","",""
"234679095378706433","Blauelf#6622","24-Feb-20 06:29 PM","Your `while` never runs, therefore `img` is `NULL` at the end, and the unconditional `fclose(img)` is `fclose(NULL)`, and that segfaults.","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 06:38 AM","I'm confused!!!
```C
fread(buffer, size, number, file_to_be_read)
```
In this function, Brain said size is the size of item to be read. But in what unit? How can I define say I want to read 1 byte size? How can I express 1 byte?
I want to do this...
```C
// for 1 block of 512 bytes
BYTE buffer[512];
fread(buffer, 1byte, 512, file_to_be_read)
```
But I don't know how to do that.","",""
"361235692019384323","Sanath#7244","25-Feb-20 06:47 AM","Just 1","",""
"361235692019384323","Sanath#7244","25-Feb-20 06:47 AM","It takes size in bytes","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 06:47 AM","why 1?","",""
"361235692019384323","Sanath#7244","25-Feb-20 06:47 AM","1 block","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 06:48 AM","aww OK. So fread expects size in byte?","",""
"361235692019384323","Sanath#7244","25-Feb-20 06:48 AM","Or well, rn you're reading 512 blocks of 1 byte each","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 06:48 AM","`fread(buffer, 1, 512, file)` will read in 512 chunks of 1 byte each  and will return 512 if successful.","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 06:49 AM","alternatively `fread(buffer, 512, 1, file)` will read in 1 chunk of 512 bytes and will return 1 if successful.","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 06:49 AM","Ok. Thank you so much sir @Sanath @curiouskiwi .","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 09:05 AM","Hey how to write spoiler code.","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 09:06 AM","I just deleted previously sent message casue it might spoil who are just starting out. Sry","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 09:11 AM","This is what I've done so far and I'm not sure yet if it will work. Becuase I can't figure out how to read to the end of file and stop. 
||`
#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>

typedef uint8_t BYTE;

int main(int argc, char *argv[])
{
    if (argc != 2)
    {
        printf(""Usage: ./recover image\n"");
        return 1;
    }

    // open memory card
    FILE *infile = fopen(argv[1], ""r"");

    int foundFile = -1;
    FILE *outfile;
    // whether or not the program is in the process of writing a new jpg file
    bool writing = false;
    
    //==========repeat until end of file=============
    
    // one block
    BYTE buffer[512];
    fread(&buffer, 1, 512, infile);
    
    // check signature of jpeg
    if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0)
    {
        if (!writing)
        {
            writing = true;
            // create new file
            char *filename = malloc(8);
            sprintf(filename, ""%03i.jpg"", ++foundFile);
            outfile = fopen(filename, ""w"");
            free(filename);
            // write to the file
            fwrite(&buffer, 1, 512, outfile);
        }
        else
        {
            // close previously being written file
            fclose(outfile);
            //create new file
            char *filename = malloc(8);
            sprintf(filename, ""%03i.jpg"", ++foundFile);
            outfile = fopen(filename, ""w"");
            free(filename);
            // write to the file
            fwrite(&buffer, 1, 512, outfile);
        }
    }
    else
    {
        // keep writing to the current file
        fwrite(&buffer, 1, 512, outfile);
    }
    
    //==========end of loop=============

    return 0;
}
`||","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 09:14 AM","your comments indicate a loop, but I don't see a loop.","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 09:14 AM","Yeah I just don't know how to loop till end of file.","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 09:14 AM","the hint suggested a while loop","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 09:14 AM","with the fread itself as the condition","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 09:14 AM","testing the return value","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 09:15 AM","Ok, I'll try. I'll be back soon Sir","",""
"457971782293389314","./S.A#6274","25-Feb-20 09:33 AM","wadahek is this pset","",""
"457971782293389314","./S.A#6274","25-Feb-20 09:33 AM","hardly any hints üò≥","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 09:44 AM","Will fread automatically read the next bytes in while loop?","",""
"361235692019384323","Sanath#7244","25-Feb-20 09:44 AM","yes it keeps track of how far youve read","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 09:48 AM","What is going on? I got what's called ""Segmentation fault"". What is that? OMG","",""
"361235692019384323","Sanath#7244","25-Feb-20 09:49 AM","its a memory error","",""
"361235692019384323","Sanath#7244","25-Feb-20 09:50 AM","just means youre accessing memory youre not allowed to touch","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 09:50 AM","hmm?","",""
"457971782293389314","./S.A#6274","25-Feb-20 09:50 AM","> What is going on? I got what's called ""Segmentation fault"". What is that? OMG","https://cdn.discordapp.com/attachments/395684916056031245/681770011966177322/unknown.png","üòÇ (1)"
"361235692019384323","Sanath#7244","25-Feb-20 09:50 AM",":GWjiangoOmegaLUL:","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 09:51 AM","Hell yeah. This pset is really crazy!!!!!","",""
"361235692019384323","Sanath#7244","25-Feb-20 09:51 AM","i think next one is the one that gives segfaults a lot","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 09:51 AM","You mean pset5?","",""
"361235692019384323","Sanath#7244","25-Feb-20 09:52 AM","yeah","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 09:54 AM","@„ÄéSixthSense„Äè if you run `valgrind ./recover card.raw` it should tell you what the error is.","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:00 AM","I don't know what they mean üò≠ . 

```
Use of uninitialised value of size 8
==21268==    at 0x56958BE: fwrite (iofwrite.c:37)
==21268==    by 0x4009E3: main (recover.c:62)
==21268==  Uninitialised value was created by a stack allocation
==21268==    at 0x4007B0: main (recover.c:9)
==21268== 
==21268== Invalid read of size 4
==21268==    at 0x56958BE: fwrite (iofwrite.c:37)
==21268==    by 0x4009E3: main (recover.c:62)
==21268==  Address 0x0 is not stack'd, malloc'd or (recently) free'd
```","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 10:01 AM","what's line 62?  looks like it's an fwrite but that you are trying to read from something null (ie, empty)","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:04 AM","Yeah it's an fwrite. It' writing the buffer( which is `fread(&buffer, 1, 512, infile)` to outfile. So it means `buffer` still got nothing?","",""
"361235692019384323","Sanath#7244","25-Feb-20 10:05 AM","What's buffer? It looks like you're passing it's address","",""
"361235692019384323","Sanath#7244","25-Feb-20 10:05 AM","Which is probably not what you want to do","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:06 AM","What!!!","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:06 AM","Isn't fread or fwrite expects a pointer ?","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 10:06 AM","that's fine if it's an array","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 10:07 AM","what's line 9?","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:07 AM","I declare buffer as an array of byte `BYTE buffer[512]`.","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:07 AM","line 9 is the start of main block","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 10:08 AM","and you've declared the buffer before your while loop?","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:09 AM","Nope. I declared the buffer inside the loop.","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 10:09 AM","that will declare a new buffer every time.  unnecessary.","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 10:09 AM","also, are you checking that you have a jpg file open before you try to write to it?","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:11 AM","Should I sent the code here?","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:12 AM","In the loop, I read data from infile into buffer.","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:13 AM","Immediately after that, I use if statements.","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:14 AM","Check whether the first 4 bytes match the jpg signature.","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:14 AM","what do we even have to do lmaooo","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:14 AM","It it matches, I check whether the program already writing a jpg file.","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:15 AM","idek where to start üòÇ","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:15 AM","if it not I create a new jpg file and write to it. It it was writing a jpg file, I close the previous file and write a new file.","",""
"361235692019384323","Sanath#7244","25-Feb-20 10:16 AM","@„ÄéSixthSense„Äè when you pass an array to a function, its passed as a pointer to the first element automatically","",""
"361235692019384323","Sanath#7244","25-Feb-20 10:16 AM","(address of the first element)","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:16 AM","> @„ÄéSixthSense„Äè when you pass an array to a function, its passed as a pointer to the first element automatically
@Sanath Ah I see. I don't need explicit pointer?","",""
"361235692019384323","Sanath#7244","25-Feb-20 10:17 AM","nope","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:17 AM","OK, got it.","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:18 AM","","https://cdn.discordapp.com/attachments/395684916056031245/681777003380342799/unknown.png",""
"457971782293389314","./S.A#6274","25-Feb-20 10:18 AM","am i on the right path?","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:18 AM","üò©","",""
"361235692019384323","Sanath#7244","25-Feb-20 10:19 AM","easier to use 1, 512 instead of 512, 1 since then you can use its return value","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 10:19 AM","you can use the return value no matter which way.  just have to use the correct one. üôÇ","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:19 AM","what is return value? üò©","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 10:19 AM","fread returns the number of elements read","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 10:20 AM","you use it in the while condition to know that it was successful.","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:20 AM","ok so what are the parameters 1, 512 or 512,1?","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 10:20 AM","as Brian explained in the walkthrough.","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 10:20 AM","please review that if you are unsure.","",""
"361235692019384323","Sanath#7244","25-Feb-20 10:20 AM","well for this data, since its a multiple of 512. For other data wont it be easier to check how many bytes youve read with 1, 512?","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:21 AM","oh ok lemme see the walkthrough. i never watch walkthroughs lol","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 10:22 AM","@„ÄéSixthSense„Äè on line 62, you are writing to the file even though you don't know if there is one open.","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:23 AM","Ahhhhhhhhhhhhh","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:23 AM","Me stupid ass.","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 10:23 AM","good luck!  signing off now.","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:24 AM","noo","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:24 AM","Ok sir. I really appreciate your help.","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:24 AM","lol jk","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:24 AM","good bye","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:24 AM","Thank you so much sirs","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:50 AM","Hellllllllllll yeahhhhh. I made it . Yayyyyyyyyyyyyyyyyyyyyyyyyyyyyy","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:50 AM","Thank you so much @curiouskiwi  & @Sanath .","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:50 AM","congrats","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:50 AM","I really really thank you so much.","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:52 AM","@./S.A Thank you","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:52 AM","@„ÄéSixthSense„Äè how did you check EOF?","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:52 AM","can you check the return value of fread() to be equal to zero?","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:52 AM","if it's zero then it must be eof right?","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:55 AM","?","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:57 AM","So this is fread. `fread(buffer, size, number, file)`
If fread successfully read the provided number of elements. It will return that number. If not say there is 27 elements, but you read five at a time `fread(buffer, size, 5, file)` so 5, 5, 5, 5, 5, 2. So when it read the last buffer, it can't find 5 elements, so it will return just 2.","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:57 AM","Sry for my bad english if I confused u üòÖ","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:58 AM","With this return value, you can think of how you detect eof.","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:58 AM","i still think i should check against zero","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:58 AM","after reading your explanation","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:59 AM","btw this is what im doing:","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 10:59 AM","Why?","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:59 AM","```int bytes_recieved = fread(buffer, 512, 1, infile);```","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:59 AM","so if 0 bytes are recieved, then must be EOF","",""
"457971782293389314","./S.A#6274","25-Feb-20 10:59 AM","if anything less greater than 512, then some content is there in the block of 512","",""
"457971782293389314","./S.A#6274","25-Feb-20 11:00 AM","maybe the last image is taking up half of the 512 block","",""
"457971782293389314","./S.A#6274","25-Feb-20 11:00 AM","in that case it will return the half of 512","",""
"457971782293389314","./S.A#6274","25-Feb-20 11:00 AM","which is 256","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 11:02 AM","How can an image only takes 256 bytes.","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 11:03 AM","Jeez I need a break üòÖ . Sry. I'm doing this the whole day.","",""
"457971782293389314","./S.A#6274","25-Feb-20 11:04 AM","uh it can take for example 2 512 blocks and then 1 (half of 512) block","",""
"457971782293389314","./S.A#6274","25-Feb-20 11:04 AM","right?","",""
"457971782293389314","./S.A#6274","25-Feb-20 11:04 AM","no?","",""
"457971782293389314","./S.A#6274","25-Feb-20 11:05 AM","> Jeez I need a break üòÖ . Sry. I'm doing this the whole day.
@„ÄéSixthSense„Äè aight you relax, i'll just keep posting questions and hopefully someone else will answer I.A","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 11:17 AM","What the hell? I don't get 100% score!!!!!!!","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 11:18 AM","last picture doesn't match","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 11:18 AM","why","",""
"234679095378706433","Blauelf#6622","25-Feb-20 12:02 PM","Too large maybe? Any chance you write before checking EOF, so you write last block twice?","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 12:08 PM","I'm checking sir.","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 12:11 PM","Yeah. The last image is larger than other images.","",""
"234679095378706433","Blauelf#6622","25-Feb-20 12:15 PM","Then your EOF detection is not working properly.","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 12:17 PM","This is what I'm doing...
As long as fread returns 512, keep looping. If it returns any other values (less than 512 I think), then write the last block and end looping. And close the file.","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 12:18 PM","What I'm thinking is that if it can't read 512 numbers of elements, it means EOF.","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 12:21 PM","The loop will stop as soon as fread function reads less numbers than I ask to read, and everything is in the loop. So","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 12:33 PM","Please could you suggest top ten sources to increase my C language skill?","",""
"234679095378706433","Blauelf#6622","25-Feb-20 12:35 PM","Sounds reasonable from how you describe it. No `fseek`, I hope?","",""
"542000840148254740","„ÄéSixthSense„Äè#6565","25-Feb-20 12:35 PM","Can I pm you sir? I'll add you","",""
"237137502538956800","∆ä∆ñ»§∆¨∆≤∆¶∆Å#4906","25-Feb-20 08:05 PM","@./S.A To answer your question. The whole raw file is made up of 512 byte blocks. So it starts and ends with a 512 byte block. 

The block size never changes. 
An image with the size of 2 and a half blocks still takes up 3 blocks in total","",""
"237137502538956800","∆ä∆ñ»§∆¨∆≤∆¶∆Å#4906","25-Feb-20 08:06 PM","Half of that block is just empty. This is called ""slack space""","",""
"457971782293389314","./S.A#6274","25-Feb-20 08:55 PM","Yes so in that case if i read 512 blocks at a time and then after the last image, which lets say takes up half a block at its end, after that when i try to read 512 blocks, i should get 0 as return value from fread() right?","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 08:58 PM","it's either a short item count or 0.  depends on what you've told it to read.","",""
"393854278764068875","curiouskiwi#1671","25-Feb-20 08:58 PM","if you are expecting it to return 1, then it will return 0.  if you are expecting it to return 512 and it doesn't read 512, then it will return a number less than 512 (which may be 0)","",""
"128701429316583425","madmoe#5613","26-Feb-20 01:45 AM","hello","",""
"128701429316583425","madmoe#5613","26-Feb-20 01:46 AM","my code","",""
"128701429316583425","madmoe#5613","26-Feb-20 01:46 AM","it finds all 50 images but they're all sort of scrambled or not outputed correctly","",""
"678377940030980120","ziller#6589","26-Feb-20 02:23 AM","do you ever close the images that are opened in the else condition?","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:27 AM","tried that","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:28 AM","doesnt seem to fix it","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:28 AM","btw i think only the first 512 bytes ever get written","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:28 AM","because i can see only the top of my file","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:28 AM","in every file","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:28 AM","the top of the image ^^","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 02:29 AM","you should keep writing to the same file (without reopening it) until you find the next new jpg, at which point you should close the prior one and open the new one.","",""
"678377940030980120","ziller#6589","26-Feb-20 02:32 AM","also... at the moment your else condition writes.... where?!","",""
"678377940030980120","ziller#6589","26-Feb-20 02:37 AM","(if there are iterations of your loop before you reach the first jpg, at the moment they‚Äôre written to img which opens a filename","",""
"678377940030980120","ziller#6589","26-Feb-20 02:37 AM","which is an uninitialised array...","",""
"678377940030980120","ziller#6589","26-Feb-20 02:37 AM","which can contain data...","",""
"678377940030980120","ziller#6589","26-Feb-20 02:37 AM","I‚Äôm very much far from an expert but I could imagine that having... consequences","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:41 AM","i get a segmentation fault now","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:41 AM",".-.","",""
"678377940030980120","ziller#6589","26-Feb-20 02:41 AM","(for example, when I tried running your code it created a file called ?... it then successfully wrote the first 6 jpgs before segfaulting halfway through the 7th... which I suspect is a consequence of","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:44 AM","consequence of what?","",""
"678377940030980120","ziller#6589","26-Feb-20 02:44 AM","leaving the file open","",""
"678377940030980120","ziller#6589","26-Feb-20 02:44 AM","multiple times","",""
"678377940030980120","ziller#6589","26-Feb-20 02:45 AM","you move the pointer but never close the file","",""
"678377940030980120","ziller#6589","26-Feb-20 02:46 AM","simply closing it after appending actually will fix that...","",""
"678377940030980120","ziller#6589","26-Feb-20 02:47 AM","but... as curiouskiwi says... it‚Äôs not necessary to keep opening and closing the file like that... just open one and keep writing to it till it‚Äôs finished...","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:49 AM","if i dont open it i get a segmentation fault","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:49 AM","also you're saying you managed to recover 6 jpgs with my code","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:49 AM","mine doesnt ever do that","",""
"678377940030980120","ziller#6589","26-Feb-20 02:53 AM","the behaviour of it will be quite unpredictable","",""
"678377940030980120","ziller#6589","26-Feb-20 02:53 AM","because of the memory errors...","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:53 AM","jesus christ it works","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:53 AM","wooooooooooohoooooooooooo","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:53 AM","lets go baby","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:53 AM","god","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:53 AM","i get full credit for this right","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:53 AM","all i failed to do was close the file","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:53 AM","didnt think it would be that importabt","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:54 AM","i wanted to close it like you suggested before","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:54 AM","but i thought that would permanently close it?","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:54 AM","i forgot its gonna open it again when the loops runs","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:54 AM","as per my code","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:54 AM","aw man i'm so happy you have no idea","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:54 AM","thank you","",""
"678377940030980120","ziller#6589","26-Feb-20 02:55 AM","I‚Äôm glad it works... but there might still be a few bugs in the code...","",""
"678377940030980120","ziller#6589","26-Feb-20 02:56 AM","for example... before the first jpg is found","",""
"678377940030980120","ziller#6589","26-Feb-20 02:56 AM","you can check for that by seeing if your counter is > 0... but you don‚Äôt want to be writing anything till then...","",""
"678377940030980120","ziller#6589","26-Feb-20 02:57 AM","at the moment you write to ‚Äúfilename‚Äù which was declared as an array but not initialised (you didn‚Äôt set it to any values)","",""
"678377940030980120","ziller#6589","26-Feb-20 02:57 AM","that array could contain anything... or ideally nothing... but essentially you can‚Äôt know that","",""
"678377940030980120","ziller#6589","26-Feb-20 02:57 AM","definitely worth fixing that...","",""
"128701429316583425","madmoe#5613","26-Feb-20 02:58 AM","what should i initialise it to?","",""
"678377940030980120","ziller#6589","26-Feb-20 02:59 AM","easier just to avoid writing it until you find your first jpg (at which point sprintf has set it to 000.jpg, and counter has been increased to 1)","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 03:00 AM","never write to `img` unless you've checked that `img` actually exists (ie, there's a file open)","",""
"128701429316583425","madmoe#5613","26-Feb-20 03:01 AM","hmm","",""
"128701429316583425","madmoe#5613","26-Feb-20 03:02 AM","how about if i take the array declaration to inside my first if statment","",""
"128701429316583425","madmoe#5613","26-Feb-20 03:02 AM","where if check if its a header","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 03:05 AM","then it will not be in scope outside that if statement.","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 03:05 AM","where you have it is fine","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 03:05 AM","I'd rethink your pseudocode slightly","",""
"128701429316583425","madmoe#5613","26-Feb-20 03:06 AM","that's right","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 03:06 AM","```if it's a signature block
    if there's an open file, close it
    get the new filename
    open the file
    write the block
else
    if there's an open file, write to it. ```","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 03:08 AM","or even more simply","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 03:08 AM","```While I have read in 512 bytes:
    Are the first 4 bytes a signature?
         Is there already a jpg open?  if so close it.
         create a new jpg
    Is there a jpg open?
        write the bytes
close the final jpg
close the rawfile```","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 03:09 AM","no else required, since you only write if you have an open jpg.","",""
"128701429316583425","madmoe#5613","26-Feb-20 03:09 AM","Thank you very much for going over this with me","",""
"128701429316583425","madmoe#5613","26-Feb-20 03:09 AM","i'm grateful","",""
"457971782293389314","./S.A#6274","26-Feb-20 04:27 AM","> if you are expecting it to return 1, then it will return 0.  if you are expecting it to return 512 and it doesn't read 512, then it will return a number less than 512 (which may be 0)
@curiouskiwi ah so ive done 512, 1 which means read 512 blocks one time. So at EOF it should return 0, right?","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 04:27 AM","yes","",""
"457971782293389314","./S.A#6274","26-Feb-20 04:27 AM","And shouldn't it return zero even if i did 1, 512?","",""
"457971782293389314","./S.A#6274","26-Feb-20 04:27 AM","It won't be able to read any of the 512 blocks each time it tried","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 04:31 AM","it will return 0 if it is at the end of the file or couldn't read from the file","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 04:32 AM","but it could return something else if it successfully read a smaller number of bytes","",""
"457971782293389314","./S.A#6274","26-Feb-20 05:08 AM","When a file takes half a block, fread will still return 512 right?","",""
"457971782293389314","./S.A#6274","26-Feb-20 05:08 AM","Because i think i read somewhere that remaining of 512 blocks are filled with zeroes","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 05:09 AM","do you mean if the block is 512 bytes but has zeroes at the end?  yes","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 05:09 AM","fread doesn't care what the values the bytes have","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 05:11 AM","you can see this because the first 512 bytes of card.raw are entirely zeros, and fread is happy to read those and return 512","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 05:11 AM","you can see that ```
~/pset4/recover/ $ xxd -l 512 card.raw```  and you'll get all zeros","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 05:12 AM","`xxd` shows you the hex representation of the file and `-l 512` says, show only the first 512 bytes.","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 05:15 AM","and ```~/pset4/recover/ $ xxd  -s -512 card.raw    ``` will show you the final 512 bytes of the file","",""
"457971782293389314","./S.A#6274","26-Feb-20 05:54 AM","Ohhkay thanks a lot","",""
"457971782293389314","./S.A#6274","26-Feb-20 05:54 AM","So i just need to check for zero bytes for eof","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 05:56 AM","if you're using a while loop with (the return value of) fread as the condition, it will check for that automatically.","",""
"457971782293389314","./S.A#6274","26-Feb-20 07:03 AM","I'm using using an infinite loop with a break statement","",""
"457971782293389314","./S.A#6274","26-Feb-20 07:05 AM","Or rather was","",""
"457971782293389314","./S.A#6274","26-Feb-20 07:06 AM","Haven't touched the code since yesterday","",""
"621646199908204563","CloseupGamer#1688","26-Feb-20 06:06 PM","so happy.. literally one line of code messed me up for 2 evenings straight. so simple and didn't see it","https://cdn.discordapp.com/attachments/395684916056031245/682257081218367495/unknown.png",""
"361235692019384323","Sanath#7244","26-Feb-20 06:30 PM","well done","",""
"456134395007467522","LORIS#3189","26-Feb-20 07:26 PM","Any tips?","https://cdn.discordapp.com/attachments/395684916056031245/682277411433349162/1111.PNG",""
"676463066942144512","drail159#6376","26-Feb-20 07:28 PM","Buffer is a one-dimensional array.","",""
"361235692019384323","Sanath#7244","26-Feb-20 07:28 PM","It's in the error message. Buffer[i] is a char","","üòÖ (1)"
"106517507099099136","The Wild Haggis#1685","26-Feb-20 07:41 PM","@CloseupGamer That always happens to me haha. I once was baffled about a piece of code for 2 days, and it was because of 1 symbol I forgot to put in for an if statement. Good job","",""
"456134395007467522","LORIS#3189","26-Feb-20 09:16 PM","","https://cdn.discordapp.com/attachments/395684916056031245/682305021651451909/1111.PNG",""
"456134395007467522","LORIS#3189","26-Feb-20 09:18 PM","If i already found a jpeg, how can i know the index of the file i was writing to?","",""
"456134395007467522","LORIS#3189","26-Feb-20 09:19 PM","so i can close it in my first else statement","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 09:46 PM","do you mean fclose the image?  just `fclose(img)`  since you are using the same file handle for all of the jpgs.","",""
"456134395007467522","LORIS#3189","26-Feb-20 09:55 PM","But i cant do that! since it gives me the error 
error: use of undeclared identifier 'img'
                    fclose (img);","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 09:56 PM","try declaring `FILE * img = NULL;` before your loop and then, in line 30, just set `img = fopen(filename, ""w"");`","",""
"393854278764068875","curiouskiwi#1671","26-Feb-20 09:56 PM","that way, the `img` variable will be in scope for all of your loop.","",""
"456134395007467522","LORIS#3189","26-Feb-20 10:00 PM","Oh! that was it, now I think the problem is how to keep writing? (in my second else statement)","https://cdn.discordapp.com/attachments/395684916056031245/682316070773981257/1111.PNG",""
"621646199908204563","CloseupGamer#1688","27-Feb-20 02:41 AM","Yeh take a look at the second else statement","",""
"106517507099099136","The Wild Haggis#1685","27-Feb-20 03:07 PM","||```C
    typedef uint8_t BYTE;

    // Set buffer to size of 512 bytes
    int *buffer = malloc(512 * sizeof(BYTE));
    if (buffer == NULL)
    {
        fprintf(stderr, ""Not enough memory.\n"");
        printf(""Exiting the program...\n"");
        return 1;
    }

    // Counter for JPGs found
    int count = 0;

    // Loop through until we reach the end of the file
    while (fread(buffer, sizeof(buffer), 1, inptr) == 1)
    {
        // Check if buffer is start of a JPG with 0xff, 0xd8, 0xff, 1110
        if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0)
        {
```||

Using debug50, I've found my code never gets past this if statement.","",""
"106517507099099136","The Wild Haggis#1685","27-Feb-20 03:12 PM","nvm I needed to do ||` BYTE *buffer = malloc(512 * sizeof(BYTE)); `||","",""
"294454788093902849","Zeina#6519","27-Feb-20 04:19 PM","if i read one chunk of 512 bytes then do that again one more time, does it read the next 512 bytes or go back to the beginning of the file?","",""
"361235692019384323","Sanath#7244","27-Feb-20 04:25 PM","the next 512, it keeps track of how far youve read","",""
"294454788093902849","Zeina#6519","27-Feb-20 04:27 PM","and is there a way of doing that again and again other than a while loop?","",""
"361235692019384323","Sanath#7244","27-Feb-20 04:28 PM","Any loop works","",""
"294454788093902849","Zeina#6519","27-Feb-20 04:34 PM","alright thanks","",""
"294454788093902849","Zeina#6519","27-Feb-20 04:49 PM","in the walkthrough I didnt get what the last parameter for sprintf is exactly","",""
"361235692019384323","Sanath#7244","27-Feb-20 04:49 PM","What do you mean?","",""
"361235692019384323","Sanath#7244","27-Feb-20 04:50 PM","It's just normal printf with an extra first argument for the string","",""
"294454788093902849","Zeina#6519","27-Feb-20 04:52 PM","","https://cdn.discordapp.com/attachments/395684916056031245/682600989697900544/unknown.png",""
"294454788093902849","Zeina#6519","27-Feb-20 04:52 PM","this","",""
"294454788093902849","Zeina#6519","27-Feb-20 04:52 PM","what is the 2 for exactly","",""
"361235692019384323","Sanath#7244","27-Feb-20 05:04 PM","just think of it like printf, `%i` will get replaced by an integer, in this case, 2. Since its `%03i` that becomes 002","",""
"294454788093902849","Zeina#6519","27-Feb-20 05:08 PM","and how does filename fit into this, wont the filename be 000.jpg .... 001.jpg and so on","",""
"361235692019384323","Sanath#7244","27-Feb-20 05:10 PM","filenames where you will store the formatted string","",""
"361235692019384323","Sanath#7244","27-Feb-20 05:10 PM","instead of printing to the console","",""
"361235692019384323","Sanath#7244","27-Feb-20 05:10 PM","yoy 'print' it to the buffer, filename","",""
"294454788093902849","Zeina#6519","27-Feb-20 05:13 PM","oh i see","",""
"294454788093902849","Zeina#6519","27-Feb-20 06:18 PM","```c
 char filename[10];
//write the file name
sprintf(filename, ""%03i.jpg"", jpegCounter);
```
can we also say ``char *filename = malloc(10);`` ?","",""
"361235692019384323","Sanath#7244","27-Feb-20 06:23 PM","yes, and then you need to free the memory later","",""
"361235692019384323","Sanath#7244","27-Feb-20 06:23 PM","no real point in doing it though","",""
"294454788093902849","Zeina#6519","27-Feb-20 06:26 PM","oh alright, was just checking","",""
"294454788093902849","Zeina#6519","27-Feb-20 06:26 PM","thanks for your help","",""
"294454788093902849","Zeina#6519","27-Feb-20 06:27 PM","i was able to complete it","",""
"456134395007467522","LORIS#3189","27-Feb-20 09:23 PM","What am I doing wrong pls?","https://cdn.discordapp.com/attachments/395684916056031245/682669232177414285/1111.PNG",""
"253510205545906176","Borza Andrei#9461","27-Feb-20 09:30 PM","Mine works fine for the first 48 files but says that 049.jpg is not correct. Is there any edge case I might have missed?","",""
"294454788093902849","Zeina#6519","27-Feb-20 10:33 PM","@LORIS I think its your ``&& (img == NULL)``, but im not sure","",""
"294454788093902849","Zeina#6519","27-Feb-20 10:34 PM","because you only continue writing 512 bytes if img is NULL, which shouldn't be the case","",""
"456134395007467522","LORIS#3189","27-Feb-20 11:15 PM","But how can i know if the image is open or not? @Zeina","",""
"393854278764068875","curiouskiwi#1671","27-Feb-20 11:16 PM","if `img` is NULL, it isn't.","",""
"456134395007467522","LORIS#3189","28-Feb-20 01:14 PM","When I set the size of the filename to an 8, just like   char filename[8];
I mean with that filename has 8 chars, and I think this will be enough to store each image?","",""
"247805115015102464","MaxMayo#4771","28-Feb-20 02:26 PM","wouldn't it just be 7? ""000.jpg""","",""
"361235692019384323","Sanath#7244","28-Feb-20 02:27 PM","you need 1 for the '\0'","",""
"247805115015102464","MaxMayo#4771","28-Feb-20 02:28 PM","you right","",""
"456134395007467522","LORIS#3189","28-Feb-20 04:47 PM","And what about the size of buffer?
I assigned it to:     int buffer[sizeof(file)];
Is that wrong? @Sanath","",""
"456134395007467522","LORIS#3189","28-Feb-20 04:57 PM","Or should I assign it to 512? I thought the ""file"" is so big (cos it contains the pics) so I did that, (I still don't understand these things very well tbh)","",""
"294454788093902849","Zeina#6519","28-Feb-20 04:57 PM","yes 512","",""
"294454788093902849","Zeina#6519","28-Feb-20 04:57 PM","because you want to read 512 bytes at a time","",""
"456134395007467522","LORIS#3189","28-Feb-20 05:03 PM","And I wanna know what's the size of file? I mean what the function sizeof(file) is returning?
I tried to print it out but... the error Incorrect usage appeared!","",""
"361235692019384323","Sanath#7244","28-Feb-20 05:05 PM","File is a pointer, so it will return the amount of memory a pointer takes","",""
"361235692019384323","Sanath#7244","28-Feb-20 05:06 PM","You're misunderstanding what sizeof does","",""
"456134395007467522","LORIS#3189","28-Feb-20 05:07 PM","Oh! i think it returns an int in bytes üòÖ ?","",""
"361235692019384323","Sanath#7244","28-Feb-20 05:07 PM","Yes, it returns the amount of memory it's argument takes","",""
"361235692019384323","Sanath#7244","28-Feb-20 05:08 PM","So generally 4 for an int, 8 for a double, etc","",""
"456134395007467522","LORIS#3189","28-Feb-20 05:35 PM","And how can i keep writing?
""If it's not a start of a jpeg, then, If I already found a jpg and the image is open, keep writing....""
That's what I have to do in my last else statement (As in the walkthrough), I implemented that with just
else
        {
            if (jpg_counter != 0 && img != NULL)
            {
                fwrite (filename, 512, 1, img);
            }
        }","",""
"456134395007467522","LORIS#3189","28-Feb-20 05:40 PM","I think, inside this else, I need to set a condition when, ""this not a start of a jpg and I didnt find any jpegs before (means that jpg_counter = 0) So now, I need to move to the next block (the next 512 bytes)) Am I right?","",""
"361235692019384323","Sanath#7244","28-Feb-20 06:20 PM","you cant write to filename, it expects a FILE *. Use fopen first","",""
"456134395007467522","LORIS#3189","28-Feb-20 08:06 PM","Maybe a stupid question but how can i see the recoverd images?","",""
"456134395007467522","LORIS#3189","28-Feb-20 08:20 PM","I finally got rid of that segmentation fault, now, in my loop. If it's not header(not the start of a new jpg) and I didn't find a jpeg before(jpg counter = 0), how can I pass to the next 512 bytes and keep searching?","",""
"361235692019384323","Sanath#7244","28-Feb-20 08:49 PM","Fread keeps track of how far it's read","",""
"361235692019384323","Sanath#7244","28-Feb-20 08:49 PM","It will read the next 512 bytes everytime you call it","",""
"361235692019384323","Sanath#7244","28-Feb-20 08:49 PM","And the recovered images will appear in your folder","",""
"671796715556306994","jul1aaa#4398","28-Feb-20 09:56 PM","What's going wrong? Why only 049.jpg does not match?","https://cdn.discordapp.com/attachments/395684916056031245/683039961280413702/unknown.png",""
"671796715556306994","jul1aaa#4398","28-Feb-20 09:57 PM","this is 049.jpg recovered with my program, looks good","https://cdn.discordapp.com/attachments/395684916056031245/683040213743828994/unknown.png",""
"234679095378706433","Blauelf#6622","28-Feb-20 09:59 PM","@jul1aaa Is it possible that your programme does read->write->check instead of read->check->write, and therefore writes last block twice?","",""
"671796715556306994","jul1aaa#4398","28-Feb-20 10:03 PM","it reads block, checks if it has JPEG signature, if it has it starts writing new file, if it didn't find JPEG signature and it already has found JPEG, it continues to write in it","",""
"671796715556306994","jul1aaa#4398","28-Feb-20 10:04 PM","I don't think it's possible that it writes any block twice","",""
"671796715556306994","jul1aaa#4398","28-Feb-20 10:06 PM","so it's read -> check -> write","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 10:10 PM","Maybe your final read didn‚Äôt succeed and you wrote the buffer again. That‚Äôs a very common problem if you aren‚Äôt using fread as your while condition","",""
"671796715556306994","jul1aaa#4398","28-Feb-20 10:11 PM","when i tried to use fread in while condition, all jpegs had glitch, so i used feof","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 10:11 PM","If you are checking for eof, that doesn‚Äôt get set until you try to read past the end of the file.","",""
"671796715556306994","jul1aaa#4398","28-Feb-20 10:12 PM","and that's why last block is written twice to 049.jpg","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 10:12 PM","Yes","",""
"671796715556306994","jul1aaa#4398","28-Feb-20 10:14 PM","thank youüòä","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 11:20 PM","if the jpg is already open (ie line 47 is true), why are you opening a new one? writing and then closing it?  all you should do is write to the already open img","",""
"456134395007467522","LORIS#3189","28-Feb-20 11:24 PM","I thought I should open it first or the fwrite won't work!
So all what do i have to type inside that if statement is                 
fwrite (filename, 512, 1, img);  ?","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 11:24 PM","yes","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 11:24 PM","it's already open","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 11:24 PM","otherwise img would be NULL","",""
"456134395007467522","LORIS#3189","28-Feb-20 11:25 PM","Oh üòÖ  But i'm still getting the errors in check50, damn!","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 11:26 PM","are you seeing the images","",""
"456134395007467522","LORIS#3189","28-Feb-20 11:27 PM","They don't appear in my folder at all!","",""
"456134395007467522","LORIS#3189","28-Feb-20 11:27 PM","It's so wired!","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 11:28 PM","No, it's because it's not finding any","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 11:28 PM","what kind of buffer should you be using?","",""
"456134395007467522","LORIS#3189","28-Feb-20 11:29 PM","Oh, wait... I'm initializing it as int buffer[512];","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 11:31 PM","and are you reading in 512 ints?","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 11:31 PM","an int is 4 bytes","",""
"456134395007467522","LORIS#3189","28-Feb-20 11:33 PM","I want to read 512 bytes, but There is no type byte i could use!","",""
"456134395007467522","LORIS#3189","28-Feb-20 11:34 PM","I mean like BYTE buffer[512]","",""
"456134395007467522","LORIS#3189","28-Feb-20 11:34 PM","That maybe stupid!","",""
"456134395007467522","LORIS#3189","28-Feb-20 11:42 PM","Oh! I figured that out!","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 11:42 PM","well, BYTE is defined as an unsigned 8 bit char.  so `unsigned char` would work.  Or you could `typedef uint8_t  BYTE;`  at the top of your file and then use BYTE","",""
"456134395007467522","LORIS#3189","28-Feb-20 11:43 PM","Yeah, that was new to me!!!","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 11:43 PM","it's how you could use BYTE in filter","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 11:43 PM","because it's typedef'd in bmp.h","",""
"456134395007467522","LORIS#3189","28-Feb-20 11:44 PM","Oh! yeah!
Now, I can see 000.jpg in my folder... but the pic is all white!","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 11:50 PM","do you only see 000.jpg? what about the other 49?","",""
"456134395007467522","LORIS#3189","28-Feb-20 11:52 PM","I only see and don't see the 000.jpg (I see it in the folder, but I dont see it when I open it!(White))","",""
"456134395007467522","LORIS#3189","28-Feb-20 11:53 PM","No other pics are recovered ü§î","",""
"456134395007467522","LORIS#3189","28-Feb-20 11:55 PM","When I debug... I think it shows that the error is in line 24","",""
"456134395007467522","LORIS#3189","28-Feb-20 11:55 PM","if (jpg_counter == 0)","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 11:55 PM","what sort of error?","",""
"456134395007467522","LORIS#3189","28-Feb-20 11:58 PM","It's just making that line 24 red!!","https://cdn.discordapp.com/attachments/395684916056031245/683070456882004078/1111.PNG",""
"456134395007467522","LORIS#3189","28-Feb-20 11:58 PM","It's really wired!!!!","",""
"456134395007467522","LORIS#3189","28-Feb-20 11:58 PM","nothing is wrong with that if statement","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 11:58 PM","that's your breakpoint","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 11:59 PM","I don't see any error","",""
"456134395007467522","LORIS#3189","28-Feb-20 11:59 PM","Oh, just realized, ma bad!!!","",""
"393854278764068875","curiouskiwi#1671","28-Feb-20 11:59 PM","that's what the red dot in the margin means","",""
"456134395007467522","LORIS#3189","29-Feb-20 12:00 AM","yeah! I remembered when David did that!","",""
"456134395007467522","LORIS#3189","29-Feb-20 12:00 AM","But why my code isn't working?","",""
"393854278764068875","curiouskiwi#1671","29-Feb-20 12:01 AM","so when you run `./recover card.raw` you only get 000.jpg and it's not correct?","",""
"456134395007467522","LORIS#3189","29-Feb-20 12:01 AM","Exactly!","",""
"456134395007467522","LORIS#3189","29-Feb-20 12:01 AM","as u can see in the screenshot!","",""
"393854278764068875","curiouskiwi#1671","29-Feb-20 12:02 AM","so what happens when you continue on with your debug50 session?  does it never find a second signature?","",""
"456134395007467522","LORIS#3189","29-Feb-20 12:10 AM","Well, as I understand this...
First when I run debug, that red margin read(as I call it) in all the lines in the first if statement of my first if statement (from line 24 to line 32). As i think it found the first jpg. Then, it jumps to the end of the first if statement (in line 45). It dosn't go to the outside else in line 46.
After that, the same process continue, it jumps from the lines 20 -then- 22 then- 47 then 49 then 20 then 22... etc, until the program ends!","",""
"456134395007467522","LORIS#3189","29-Feb-20 12:10 AM","So it's not finding any header at all cexept the first one!","",""
"456134395007467522","LORIS#3189","29-Feb-20 12:11 AM","Here is the link of my code, if u want to try it!","",""
"456134395007467522","LORIS#3189","29-Feb-20 12:11 AM","https://pastebin.com/iyg9uN9x","",""
"456134395007467522","LORIS#3189","29-Feb-20 12:12 AM","Basically, it's not finding any second signature as u said","",""
"393854278764068875","curiouskiwi#1671","29-Feb-20 12:12 AM","when will jpg_counter ever change?","",""
"456134395007467522","LORIS#3189","29-Feb-20 12:13 AM","Only once, in my else statement inside the first if statement in line 33. ""If i already found a jpg, then, close the previous file, increment jpg_counter and open a new file""","",""
"393854278764068875","curiouskiwi#1671","29-Feb-20 12:14 AM","so will it ever then?","",""
"393854278764068875","curiouskiwi#1671","29-Feb-20 12:14 AM","when you find the second signature, what's the value of jpg_counter?","",""
"456134395007467522","LORIS#3189","29-Feb-20 12:22 AM","So when I'm checking if (jpg_counter == 0), the else statement won't work at all! because if it found a header, jpg_counter must be zero, and it won't change at all cos the condition of the else statement won't be met!","",""
"393854278764068875","curiouskiwi#1671","29-Feb-20 12:23 AM","that's right.  so perhaps you need to update jpg_counter after you find the first one.","",""
"456134395007467522","LORIS#3189","29-Feb-20 12:26 AM","Oh!
Now I can see all the pics in my folder! but all are white lol!","",""
"456134395007467522","LORIS#3189","29-Feb-20 12:30 AM","""Invalid or Unsupported Image Format"" appears in the IDE","",""
"393854278764068875","curiouskiwi#1671","29-Feb-20 12:32 AM","yep","",""
"393854278764068875","curiouskiwi#1671","29-Feb-20 12:32 AM","look at your fwrite again","",""
"393854278764068875","curiouskiwi#1671","29-Feb-20 12:32 AM","what are you writing to the file?","",""
"393854278764068875","curiouskiwi#1671","29-Feb-20 12:32 AM","I didn't see the error earlier.","",""
"456134395007467522","LORIS#3189","29-Feb-20 12:37 AM","Well, I should write to the buffer!
But the 049.jpg is so small!
So:  recovers middle images correctly
    001.jpg not found
recovers 049.jpg correctly
    recovered image does not match","",""
"393854278764068875","curiouskiwi#1671","29-Feb-20 12:39 AM","write from the buffer","",""
"456134395007467522","LORIS#3189","29-Feb-20 12:40 AM","Sry, I meant to write from* the buffer!
Like:      fwrite (buffer, 512, 1, img);","",""
"456134395007467522","LORIS#3189","29-Feb-20 12:41 AM","Only the pic 001 is missing","",""
"393854278764068875","curiouskiwi#1671","29-Feb-20 12:42 AM","if 001 is missing, that means you are incrementing jpg_counter incorrectly","",""
"393854278764068875","curiouskiwi#1671","29-Feb-20 12:42 AM","you could simplify it by not checking the value of that at all, and just checking if img is null or not.","",""
"456134395007467522","LORIS#3189","29-Feb-20 12:52 AM","Oh! another stupid mistake from me! I wasn't focusing that much!","",""
"456134395007467522","LORIS#3189","29-Feb-20 12:52 AM","Thanks a lot!","",""
"247805115015102464","MaxMayo#4771","29-Feb-20 05:13 AM","hey guys, for some reason my code keeps writing to the last file in my program infinitely at the end and I think it has to do with my while loop, any ideas?
```c
while (fread(buffer, 1, 512, file) != EOF)
{
// my program
// ...
// No header file found, continue to write bytes
            else
            {
                // if first jpeg found
                if(first_found)
                {
                    // bringing information from the buffer->file
                    fwrite(buffer, 1, 512, jpg);
                }
}
```","",""
"247805115015102464","MaxMayo#4771","29-Feb-20 05:14 AM","I would think it would stop once we reach the end of card.raw but I don't think it does","",""
"393854278764068875","curiouskiwi#1671","29-Feb-20 05:17 AM","fread will never return EOF.  it returns 0 when it can't read any more","",""
"393854278764068875","curiouskiwi#1671","29-Feb-20 05:18 AM","> If an error occurs, or the end of the file is reached,
>        the return value is a short item count (or zero).","",""
"247805115015102464","MaxMayo#4771","29-Feb-20 05:19 AM","Thank you sir! üòÑ","",""
"247805115015102464","MaxMayo#4771","29-Feb-20 05:22 AM","üí™ check50 has been passed üí™","",""
"178462411206950912","Chook#2868","29-Feb-20 09:16 AM","```c
int main(int argc, char *argv[])
{
    if (argc != 2)
    {
        printf(""Usage: ./recover image\n"");
        return 1;
    }
    
    // Declares a data type
    typedef uint8_t BYTE;
    
    // Allocates memory to a buffer
    BYTE buf = malloc(512 * sizeof(BYTE));
     
    FILE *file = fopen(argv[1], ""r"");
```","",""
"178462411206950912","Chook#2868","29-Feb-20 09:17 AM","error: incompatible pointer to integer conversion initializing 'BYTE' (aka 'unsigned char') with an expression of type 'void *' [-Werror,-Wint-conversion]
    BYTE buf = malloc(512 * sizeof(BYTE));","",""
"178462411206950912","Chook#2868","29-Feb-20 09:17 AM","What is the correct way to initialise this? I tried turning it into an array instead but it didnt like that either","",""
"178462411206950912","Chook#2868","29-Feb-20 09:19 AM","Got it, it's because i forgot the pointer notation on buf","",""
"676463066942144512","drail159#6376","29-Feb-20 05:49 PM","@Chook BYTE *buf = malloc...","",""
"676463066942144512","drail159#6376","29-Feb-20 05:51 PM","Or BYTE buf[512];","",""
"463376795937275914","Brittney#1988","01-Mar-20 02:37 AM","trying this","https://cdn.discordapp.com/attachments/395684916056031245/683472996412817430/unknown.png",""
"463376795937275914","Brittney#1988","01-Mar-20 02:37 AM","and getting","https://cdn.discordapp.com/attachments/395684916056031245/683473051740012554/unknown.png",""
"463376795937275914","Brittney#1988","01-Mar-20 02:38 AM","why would I not be able to use a bool?","",""
"202180238162001920","Lukas#2338","01-Mar-20 02:38 AM","I think you need to include stdbool.h","",""
"463376795937275914","Brittney#1988","01-Mar-20 02:38 AM","oh","",""
"463376795937275914","Brittney#1988","01-Mar-20 02:38 AM","that worked....c is so weird","",""
"234679095378706433","Blauelf#6622","01-Mar-20 11:53 AM","@Brittney C isn't weird, it's just close to the bare metal. And the CPU has no idea of a boolean, so having a `bool` is mostly for the reader of code. But the CPU does have an idea of zero or non-zero. When I check for `answer == 42`, the programme checks `answer - 42` and tests whether it is zero.
https://en.wikipedia.org/wiki/Zero_flag","","üëç (1)"
"381236641492107264","Amine#2111","02-Mar-20 06:06 PM","last one","https://cdn.discordapp.com/attachments/395684916056031245/684069072710926344/unknown.png",""
"381236641492107264","Amine#2111","02-Mar-20 06:07 PM","i use the `feof()` function to know the end, to stop the loop, is there any function better ?","",""
"676463066942144512","drail159#6376","02-Mar-20 06:32 PM","I can tell you what I did. I used fread to control my loop. Fread returns how many blocks it read so I just checked that it read what I expected:
`while(fread(buffer, 512, 1, file) == 1)`","",""
"457971782293389314","./S.A#6274","02-Mar-20 06:41 PM","i'm attempting to write to multiple files, and im using this syntax to make file names:

``` char out_file[8];
    sprintf(out_file, ""%03i.jpg"", files_count);```

can i write the first line once and use the sprintf statement multiple times in my code? will each sprintf statement over write the out_file array?","",""
"361235692019384323","Sanath#7244","02-Mar-20 06:41 PM","feof returns true *after* you read eof not when you reach it","",""
"393854278764068875","curiouskiwi#1671","02-Mar-20 06:47 PM","@./S.A yes","",""
"457971782293389314","./S.A#6274","02-Mar-20 06:47 PM","oks ty","",""
"457971782293389314","./S.A#6274","02-Mar-20 06:54 PM","```while (bytes_recieved)```","",""
"457971782293389314","./S.A#6274","02-Mar-20 06:54 PM","this is a valid c syntax to do something while it is not zero right?","",""
"393854278764068875","curiouskiwi#1671","02-Mar-20 06:54 PM","yes","",""
"457971782293389314","./S.A#6274","02-Mar-20 06:55 PM","my program is stuck in an infinite loop üò≠","",""
"457971782293389314","./S.A#6274","02-Mar-20 06:55 PM","it's outputiing image files","",""
"457971782293389314","./S.A#6274","02-Mar-20 06:55 PM","and those files are correct. opening them does display an image","",""
"457971782293389314","./S.A#6274","02-Mar-20 06:55 PM","but the program isn't stopping","",""
"457971782293389314","./S.A#6274","02-Mar-20 06:55 PM","how many files are to be created btw?","",""
"307434803165397003","MiDO#7198","02-Mar-20 06:56 PM","So, where should I start in this problem? ü§î","",""
"457971782293389314","./S.A#6274","02-Mar-20 06:56 PM","im getting till 049.jpg","",""
"457971782293389314","./S.A#6274","02-Mar-20 06:56 PM","> So, where should I start in this problem? ü§î
@MiDO listen to Brian's video","",""
"457971782293389314","./S.A#6274","02-Mar-20 06:56 PM","walkthrough","",""
"393854278764068875","curiouskiwi#1671","02-Mar-20 06:56 PM","if you're in an infinite loop, that means your `bytes_recieved` variable must never be zero","",""
"457971782293389314","./S.A#6274","02-Mar-20 06:58 PM","i verified with someone here that with the method im using, bytes recieved will be zero at eof","",""
"457971782293389314","./S.A#6274","02-Mar-20 06:58 PM","ah i got it","",""
"457971782293389314","./S.A#6274","02-Mar-20 06:58 PM","im not breaking out of the other loop","",""
"457971782293389314","./S.A#6274","02-Mar-20 06:58 PM","i think that's my mistake","",""
"457971782293389314","./S.A#6274","02-Mar-20 06:58 PM","lemme check","",""
"457971782293389314","./S.A#6274","02-Mar-20 07:02 PM","SUCCESSSSSSSSS","",""
"457971782293389314","./S.A#6274","02-Mar-20 07:02 PM","üòÄ","",""
"307434803165397003","MiDO#7198","02-Mar-20 07:06 PM","@./S.A 
I did.","",""
"457971782293389314","./S.A#6274","02-Mar-20 07:07 PM","dang","",""
"457971782293389314","./S.A#6274","02-Mar-20 07:08 PM","don't you understand at ALL how to start?","",""
"457971782293389314","./S.A#6274","02-Mar-20 07:08 PM","this was the first pset for which i saw the walkthrough (so far) and it really helped me to get started","",""
"393854278764068875","curiouskiwi#1671","02-Mar-20 07:10 PM","> im not breaking out of the other loop
@./S.A you have more than one loop??","",""
"457971782293389314","./S.A#6274","02-Mar-20 07:11 PM","yes  lol","",""
"393854278764068875","curiouskiwi#1671","02-Mar-20 07:12 PM","sounds overcomplicated. üôÇ","",""
"457971782293389314","./S.A#6274","02-Mar-20 07:12 PM","first a while (true) loop which tries to read file till it finds the first jpeg matching block
then when first jpeg is encountered, an while(bytes_recieved) block to go on till eof","",""
"457971782293389314","./S.A#6274","02-Mar-20 07:13 PM","if i do submit50 once, can i come back later, change my code, and submit50 again?","",""
"393854278764068875","curiouskiwi#1671","02-Mar-20 07:13 PM","yes","",""
"457971782293389314","./S.A#6274","02-Mar-20 07:13 PM","will the latest submit50 overwrite the old one?","",""
"457971782293389314","./S.A#6274","02-Mar-20 07:13 PM","ah good","",""
"393854278764068875","curiouskiwi#1671","02-Mar-20 07:13 PM","you have unlimited submissions as with all problems","",""
"457971782293389314","./S.A#6274","02-Mar-20 07:13 PM","i'll just send the current code, and after completing the course, i'll prolly come back to make the codes more efficient I.A","",""
"457971782293389314","./S.A#6274","02-Mar-20 07:14 PM","im doing it on edx. will i be able to get the free certificate?","",""
"457971782293389314","./S.A#6274","02-Mar-20 07:14 PM","the free one is on cs50.harvard.edu or some other site as far as i remember","",""
"393854278764068875","curiouskiwi#1671","02-Mar-20 07:14 PM","yes.","",""
"393854278764068875","curiouskiwi#1671","02-Mar-20 07:15 PM","https://cs50.harvard.edu/x/2020/certificate/","",""
"393854278764068875","curiouskiwi#1671","02-Mar-20 07:15 PM","the CS50x course is identical on both sites","",""
"457971782293389314","./S.A#6274","02-Mar-20 07:17 PM","ah good","",""
"457971782293389314","./S.A#6274","02-Mar-20 07:17 PM","and do i need to end the course before end of 2020?","",""
"393854278764068875","curiouskiwi#1671","02-Mar-20 07:20 PM","https://cs50.harvard.edu/x/2020/faqs/#i-wont-be-able-to-finish-the-course-before-31-december-2020-what-will-happen","",""
"457971782293389314","./S.A#6274","02-Mar-20 07:22 PM","o ty","",""
"307434803165397003","MiDO#7198","02-Mar-20 11:20 PM","So guys I'm not fully understanding how did it get deleted and how am I going to ""recover"" it, shouldn't the ermm.. pictures be (not) there if it got deleted anyway? 
This to me seems like we only deleted the pointers to those pictures, and I have to search the memory for those pictures and make ah.. pointers for them.","",""
"307434803165397003","MiDO#7198","02-Mar-20 11:24 PM","Also, 
So I'm going to read each 512 bytes and check each one if it's a new .jpg, but what am I going to do exactly when I find a .jpg, am I going to copy the contents of the 512 bytes in the ###.jpg? If so, how to actually deal with .jpg in terms of copying them?","",""
"234679095378706433","Blauelf#6622","03-Mar-20 12:17 AM","The images are still there, in our example just the directory got lost (and with it the information which files start at which sector), with smaller cards the file system usually is FAT32, and that's not very robust. Luckily, if you don't delete files in between, images usually get written in one piece, though in the general case, you can't know for sure.
From the first header you encounter, each 512 byte block should be written to exactly one output file. At each new JPEG signature, the output file changes.","",""
"307434803165397003","MiDO#7198","03-Mar-20 05:49 AM","Hmmü§î, thanks üëçüèº","",""
"469125518659158016","Saber#7900","03-Mar-20 06:12 AM","Hi, what am i supposed to type into free() ??","",""
"361235692019384323","Sanath#7244","03-Mar-20 08:42 AM","The address that you malloc'd before, though you shouldn't be using malloc in this pset anyway, there's really no point","",""
"469125518659158016","Saber#7900","03-Mar-20 09:26 AM","Ohh I see then I'll reconfigure it then","",""
"469125518659158016","Saber#7900","03-Mar-20 09:28 AM","So instead of malloc, just assign the 512 into buffer directly?","",""
"361235692019384323","Sanath#7244","03-Mar-20 09:30 AM","wdym assign?","",""
"234679095378706433","Blauelf#6622","03-Mar-20 09:38 AM","You can declare an array of 512 bytes. With that size, with this way we want to use it, stack works just fine. For larger memory chunks, and if you need dynamically sized memory to persist, you'll need to `malloc`.","",""
"469125518659158016","Saber#7900","03-Mar-20 01:40 PM","yea i meant declare üòÖ","",""
"469125518659158016","Saber#7900","03-Mar-20 01:43 PM","like this FILE *buffer = [512] ?","",""
"234679095378706433","Blauelf#6622","03-Mar-20 01:53 PM","`BYTE buffer[512];` (it's not related to `FILE`, which is only needed to access files, you wouldn't want to open 512 files at once, do you?)","",""
"469125518659158016","Saber#7900","03-Mar-20 01:56 PM","oh yea sry its BYTE","",""
"469125518659158016","Saber#7900","03-Mar-20 01:56 PM","no wonder it gets errors","",""
"266971325254467584","Berky_Ross#6951","05-Mar-20 03:00 PM","Does recover takes a while to process?","",""
"266971325254467584","Berky_Ross#6951","05-Mar-20 03:03 PM","Can be more than 1 file opened?","",""
"266971325254467584","Berky_Ross#6951","05-Mar-20 03:43 PM","can someone help me?","",""
"361235692019384323","Sanath#7244","05-Mar-20 03:46 PM","Recover should be pretty fast","",""
"361235692019384323","Sanath#7244","05-Mar-20 03:47 PM","While more than 1 file can be opened, you will need separate pointers to access them","",""
"266971325254467584","Berky_Ross#6951","05-Mar-20 04:29 PM","I need someone to see my code, i'm stuck.","",""
"266971325254467584","Berky_Ross#6951","05-Mar-20 04:34 PM","plz","",""
"242584655012823041","PaoloTiu17#4179","05-Mar-20 05:13 PM","","https://cdn.discordapp.com/attachments/395684916056031245/685142992071557140/unknown.png",""
"242584655012823041","PaoloTiu17#4179","05-Mar-20 05:13 PM","Idk whats wrong","",""
"242584655012823041","PaoloTiu17#4179","05-Mar-20 05:14 PM","i'm just checking if the bytes actually goes into the buffer but it doesnt seem so","",""
"676463066942144512","drail159#6376","05-Mar-20 05:37 PM","Place a break point on a line ofter fread like on the for line. Then, using debug50 you can see the values of buffer directly.","",""
"361235692019384323","Sanath#7244","05-Mar-20 05:41 PM","looks fine to me but the first block you read into buffer isnt guaranteed to have 0xff","",""
"676463066942144512","drail159#6376","05-Mar-20 05:44 PM","Try: `printf(""%i\n"", fread(buffer, 512, 1, file));` this will print 1 if everything worked correctly or 0 otherwise.","",""
"266971325254467584","Berky_Ross#6951","05-Mar-20 05:51 PM","*removed*","",""
"266971325254467584","Berky_Ross#6951","05-Mar-20 05:52 PM","Anything correct within that?","",""
"676463066942144512","drail159#6376","05-Mar-20 05:57 PM","Try using `while (1)` then after fread do
```
if (feof);
  break;
```","",""
"676463066942144512","drail159#6376","05-Mar-20 05:59 PM","Else, an easier method would be to use
```
while(fread(buffer, 1, 512, f) == 512)
```","",""
"266971325254467584","Berky_Ross#6951","05-Mar-20 05:59 PM","The pictures get printed but they don't work","",""
"266971325254467584","Berky_Ross#6951","05-Mar-20 05:59 PM","> Else, an easier method would be to use
> ```
> while(fread(buffer, 1, 512, f) == 512)
> ```
@drail159 I thought this would consume more time to process the function on every iteration.","",""
"266971325254467584","Berky_Ross#6951","05-Mar-20 06:00 PM","But I won't have to type it again, ye?","",""
"676463066942144512","drail159#6376","05-Mar-20 06:00 PM","No, you wouldn't have the fread inside the loop and you would also not have an explicit check for feof() so you would actually save a small amount of processing time.","",""
"266971325254467584","Berky_Ross#6951","05-Mar-20 06:01 PM","I'm kinda confused at it, what if it's less than 512 isn't this a remaining data?","",""
"266971325254467584","Berky_Ross#6951","05-Mar-20 06:01 PM","or all chunks are exactly 512?","",""
"676463066942144512","drail159#6376","05-Mar-20 06:02 PM","You are right about that. You should probably do `fread(buffer, 512, 1, f) > 0`. Good catch, I missed that.","",""
"266971325254467584","Berky_Ross#6951","05-Mar-20 06:02 PM","ye cool.","",""
"266971325254467584","Berky_Ross#6951","05-Mar-20 06:03 PM","> ```C
        else if (order > 0)
        {
            fwrite(buffer, sizeof(BYTE), 512, img);
        }
```
@Berky_Ross See this piece, if I removed ""if (order > 0)"" the program for somereason do not respond, it start but nothig happens untiL I manually close it,","",""
"266971325254467584","Berky_Ross#6951","05-Mar-20 06:05 PM","My program is to check for first bytes if it's the header of jpeg keep writing to the img file, if it reaches a new header, close the last one and open a new to one to start writing and so on,.","",""
"266971325254467584","Berky_Ross#6951","05-Mar-20 06:05 PM","But doesn't give the required results.","",""
"676463066942144512","drail159#6376","05-Mar-20 06:20 PM","When I run your code it seems to work fine by changing the while loop like I suggested, removing 
```
        if (z != 512)
        {
            fclose(img);
            break;
        }
```
and changing all instances of `fread(buffer, sizeof(BYTE), 512, f)` to `fread(buffer, 512, 1, f)`.
I was then able to get all 50 images successfully.","",""
"676463066942144512","drail159#6376","05-Mar-20 06:24 PM","And if I fclose img and f after the while loop, then there aren't even any memory leaks. It looks to me like your code is good.","",""
"266971325254467584","Berky_Ross#6951","05-Mar-20 06:45 PM","@drail159 the imges shows up?","",""
"676463066942144512","drail159#6376","05-Mar-20 06:45 PM","Yeah. I got it just fine.","",""
"266971325254467584","Berky_Ross#6951","06-Mar-20 07:09 AM","Hello, my problem during the problem was that I declared filename as a [7] characters array, by changing to 8 it solved the problem, but I want to ask why would the ""string"" file name affect the whole process, that the imges weren't written correctly?","",""
"393854278764068875","curiouskiwi#1671","06-Mar-20 07:16 AM","@Berky_Ross `sprintf` will put the string ""000.jpg"" into the memory you allocated for the char array.  It doesn't care if there is enough room.  So imagine that the compiler gave you address 100 for the filename, and allocated locations 100, 101, 102, 103, 104, 105, 106  to it.  But you also declare a buffer to hold your 512 bytes, so the compiler sees the next free spot in memory is location 107. so allocates 107 - 618 for that.  
You read in 512 bytes.  And let's say here's your memory: ```
100 101 102 103 104 105 106 107 108 109 110 111 ...
                            ff   d8  ff  e0  ...```   and now you find a signature and sprintf your ""000.jpg"" string into the filename: ```
'0' '0' '0' '.' 'j' 'p' 'g' '\0' d8  ff  e0  ...   ```what's happened?  Can you see that the null char from your filename has now overwritten the first byte of your buffer?  Now, every one of your jpgs will start with `00` instead of `ff` because fwrite grabs what's in the buffer starting at location 107, but you've corrupted it by not having enough space for your filename.","","‚ù§Ô∏è (1)"
"266971325254467584","Berky_Ross#6951","06-Mar-20 07:19 AM","wow, it's my first time to give up strings lol.","",""
"266971325254467584","Berky_Ross#6951","06-Mar-20 07:21 AM","wow, I love your reply.","",""
"266971325254467584","Berky_Ross#6951","06-Mar-20 07:22 AM","My problem that I thought it's something about my algorithm or wrong implementation of some functions I'm using for first time, so I was away from the solution.","",""
"266971325254467584","Berky_Ross#6951","06-Mar-20 07:23 AM","It's so interesting that in cs50, after every problem set we are jumping hills of knowledge, thnx a lot for this course.","",""
"393854278764068875","curiouskiwi#1671","06-Mar-20 07:23 AM","it can be hard to find when you do one thing incorrectly but see the effects somewhere else.","",""
"393854278764068875","curiouskiwi#1671","06-Mar-20 07:24 AM","üôÇ","",""
"266971325254467584","Berky_Ross#6951","06-Mar-20 07:26 AM","Ye, I see, self-trust also can change a lot.","",""
"166210877148626944","GhostE#9548","08-Mar-20 04:21 PM","Hint from my stupid mistakes
1 file extension is .jpg not .jpeg
2 file name start with 000 (I increment first in my update file name function)","",""
"684797506776989699","jpl0pes#2858","10-Mar-20 10:01 PM","Just finished it finally üéâ üéä  Wanted to share since this one took me a bit to go through the logic

Things it took a lot of time for me to wrap my head around (They might be simple for other people though)

1. fread() sort of works like you're looping. Everytime you call it it ""moves"" the n elements you've read before. This means that every value that reads is different. 

2.  think of fcread like a lens, the 2nd and 3rd argument it's just the size of that lens. You then drag your lens across the file and everytime you stop you take a picture of it and store it in the buffer. Took me a while to really understand this üôà 

3. fopen opens a file if it exists already. If it does not exist it just creates a new one.","",""
"307434803165397003","MiDO#7198","11-Mar-20 03:05 PM","I was literally just going to ask about the first point @jpl0pes","","üôå (1)"
"307434803165397003","MiDO#7198","11-Mar-20 03:54 PM","ah..","",""
"307434803165397003","MiDO#7198","11-Mar-20 03:54 PM","a lot of help will be needed in this one :c","",""
"307434803165397003","MiDO#7198","11-Mar-20 03:58 PM","```c
int arr[512];
while (1==1)
{
    fread(arr, 1, 4, card);
    if ((arr[0] == 0xff) && (arr[1] == 0xd8) && (arr[2] == 0xff) && ((arr[3] & 0xf0) == 0xe0))
    {
        printf(""works!"");
        break;
    }
}
```","",""
"307434803165397003","MiDO#7198","11-Mar-20 04:00 PM","I tried fread(arr, 512, 1, card);","",""
"307434803165397003","MiDO#7198","11-Mar-20 04:00 PM","still stuck in an infinite loop","",""
"684797506776989699","jpl0pes#2858","11-Mar-20 04:41 PM","@MiDO It might be with the data type you've chosen for *arr*. I think using *int* as the data type when you read card.raw you will not store in *arr* the byte in a type that you can match to those hex values. Therefore the infinite loop due to the condition is never satisfied

Look in the lecture notes how David stored the first 3 bytes or at the hints that Brian gives at the end of the Problem Set. It might help!

fread(arr, 1, 4, card) you're saying you want to read 1 bytes times 4 = 4. You're reading 4 bytes each time. You will want to read each 512 bytes block at a time.","",""
"307434803165397003","MiDO#7198","11-Mar-20 04:56 PM","Yeah I thought so... Thanks.","",""
"307434803165397003","MiDO#7198","11-Mar-20 04:57 PM","I thought so at first*
And to test it I hard coded the array values 
arr[0] = 0xff and so on","",""
"307434803165397003","MiDO#7198","11-Mar-20 04:57 PM","And it worked, so I thought it'd work for this one too.","",""
"307434803165397003","MiDO#7198","11-Mar-20 05:00 PM","At first I thought it's either there's a data type that stores hexadecimals or I'll have to struct it, but I went for the easier solution instead  üòÖ","",""
"190836927870664704","danYEEET#7768","12-Mar-20 08:36 PM","","https://cdn.discordapp.com/attachments/395684916056031245/687730822299648029/unknown.png",""
"190836927870664704","danYEEET#7768","12-Mar-20 08:37 PM","is this code usable for reading through the card file and finding jpegs ?","",""
"190836927870664704","danYEEET#7768","12-Mar-20 08:41 PM","removing the check for the fourth byte fixes it 
any idea why","",""
"393854278764068875","curiouskiwi#1671","12-Mar-20 08:50 PM","@danYEEET  your condition for the fourth byte is wrong.  `(buffer[i+3] & 0xf0 == 0xe0)`","",""
"190836927870664704","danYEEET#7768","12-Mar-20 08:51 PM","ah","",""
"190836927870664704","danYEEET#7768","12-Mar-20 08:51 PM","thanks","",""
"537754970204798995","boardinary#1158","13-Mar-20 02:29 AM","When I debug this code, I get an error when it loops to fread a fourth time (second time after first successful jpg check). Fatal error: glibc detected an invalid stdio handle","https://cdn.discordapp.com/attachments/395684916056031245/687819558962069584/unknown.png",""
"393854278764068875","curiouskiwi#1671","13-Mar-20 02:31 AM","is your filename[7] large enough to hold a properly terminated string like ""000.jpg""?","","üëç (1)"
"537754970204798995","boardinary#1158","13-Mar-20 02:33 AM","wow thanks, Ive been working on this for a week without even looking at that filename again","",""
"254622976710803456","bec#7264","13-Mar-20 02:35 PM","I don't understand what doug is trying to say when he's talking about bitwise arithmetic","",""
"190836927870664704","danYEEET#7768","13-Mar-20 02:52 PM","","https://cdn.discordapp.com/attachments/395684916056031245/688006450760515594/unknown.png",""
"190836927870664704","danYEEET#7768","13-Mar-20 02:52 PM","signs of progress","",""
"254622976710803456","bec#7264","13-Mar-20 03:18 PM","is it  a good idea to keep those JPEG headers in an array of ints instead of chars?","",""
"190836927870664704","danYEEET#7768","13-Mar-20 04:35 PM","```c
 char filename[512];
    BYTE *buffer = malloc(512);
    FILE *write_file = NULL;
    int image_counter = 0;
    while(fread(buffer,512,1,file))
    {

        int number = fread(buffer,512,1,file);
        if(number == 0)
        {
            break;
        }
        if(buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0)
            {
                if(image_counter > 0)
                {
                    fclose(write_file);
                }

                image_counter++;
                if(image_counter <= 9)
                {
                     sprintf(filename,""%03i.jpg"",image_counter);
                }

                else if(image_counter <= 99)
                {
                     sprintf(filename,""0%i.jpg"",image_counter);
                }

                else
                {
                    sprintf(filename,""%i.jpg"",image_counter);
                }

                write_file = fopen(filename,""w"");
                fwrite(buffer,512,number,write_file);

        }
        if(image_counter > 0)
        {
            fwrite(buffer,512,number,write_file);
        }


    }


```","",""
"190836927870664704","danYEEET#7768","13-Mar-20 04:38 PM","so I write a block to a jpg file but only once and it just skips to the next one","",""
"190836927870664704","danYEEET#7768","13-Mar-20 04:43 PM","any idea why ?","",""
"254622976710803456","bec#7264","13-Mar-20 04:46 PM","lad","",""
"254622976710803456","bec#7264","13-Mar-20 04:46 PM","you're freading twice","",""
"254622976710803456","bec#7264","13-Mar-20 04:47 PM","also lad what data type is buffer for you,just curious","",""
"254622976710803456","bec#7264","13-Mar-20 04:47 PM","||int number = fread(buffer,512,1,file);
        if(number == 0)
        {
            break;
        }||","",""
"254622976710803456","bec#7264","13-Mar-20 04:48 PM","I don't get the point in these lines of yours","",""
"190836927870664704","danYEEET#7768","13-Mar-20 04:48 PM","yea I just noticed that","",""
"254622976710803456","bec#7264","13-Mar-20 04:48 PM","if fread returns 0 the while loop would have ended","",""
"254622976710803456","bec#7264","13-Mar-20 04:49 PM","also in the future be sure to spoiler your code","",""
"190836927870664704","danYEEET#7768","13-Mar-20 04:49 PM","will do","",""
"190836927870664704","danYEEET#7768","13-Mar-20 04:54 PM","okay that fixed one issue 
now i am creating 50 jpegs
but they are still with one block only","",""
"254622976710803456","bec#7264","13-Mar-20 04:55 PM","why one block only?","",""
"254622976710803456","bec#7264","13-Mar-20 04:55 PM","the jpeg goes on for many blocks till the header for a new jpeg is found and repeat","",""
"190836927870664704","danYEEET#7768","13-Mar-20 04:57 PM","","https://cdn.discordapp.com/attachments/395684916056031245/688038100076593270/SPOILER_hO7bcumDzKMvAAAAABJRU5ErkJggg.png",""
"190836927870664704","danYEEET#7768","13-Mar-20 04:57 PM","that's the first image","",""
"190836927870664704","danYEEET#7768","13-Mar-20 05:19 PM","my point is that it's not writing all the chunks into the jpeg files","",""
"190836927870664704","danYEEET#7768","13-Mar-20 05:23 PM","okay I think I fixed it","",""
"190836927870664704","danYEEET#7768","13-Mar-20 05:24 PM","","https://cdn.discordapp.com/attachments/395684916056031245/688044733045800992/SPOILER_j56XZlAaBNJjMD9O2HMzh5rgnRqITsNBuSRWB9dQXsZiMC0TgPULVNrfB5JWRlWJFmVKC6qpwBWq0343zXTXR230AkIC.png",""
"190836927870664704","danYEEET#7768","13-Mar-20 05:28 PM","","https://cdn.discordapp.com/attachments/395684916056031245/688045744736829440/unknown.png",""
"190836927870664704","danYEEET#7768","13-Mar-20 05:28 PM","@bec  and @curiouskiwi thanks very much","",""
"327654027523391489","Tune#3601","13-Mar-20 06:49 PM","so....this is weird. My program compiles successfully. If I run my program all the way through debug50 it completes and creates 50 viewable jpegs. But if I try to run it without debug50 it states: Fatal error: glibc detected an invalid stdio handle
Aborted","",""
"327654027523391489","Tune#3601","13-Mar-20 07:56 PM","Nevermind, was able to resolve!!","",""
"677215146694803458","pbrouse#8651","13-Mar-20 07:57 PM","What was the issue? I‚Äôve been looking at it trying to figure it out haha. Almost sounds like it was trying to close a file that was already closed or something?","",""
"327654027523391489","Tune#3601","13-Mar-20 08:07 PM","I was trying to initialize the img FILE before the while/if/else statements because otherwise it would mark a few of them as being undeclared when attempting to compile","",""
"327654027523391489","Tune#3601","13-Mar-20 08:07 PM","to do so properly, i had to actually set it to NULL","",""
"327654027523391489","Tune#3601","13-Mar-20 08:07 PM","so FILE *img; had to become FILE *img = NULL;","",""
"327654027523391489","Tune#3601","13-Mar-20 08:21 PM","","https://cdn.discordapp.com/attachments/395684916056031245/688089290562863112/unknown.png",""
"327654027523391489","Tune#3601","13-Mar-20 08:21 PM","","https://cdn.discordapp.com/attachments/395684916056031245/688089393994661888/SPOILER_unknown.png",""
"234679095378706433","Blauelf#6622","13-Mar-20 10:59 PM","@Tune Is it possible that the last block is written twice? `feof` would trigger only after a failed `fread`.","","ü•≥ (1)"
"327654027523391489","Tune#3601","13-Mar-20 11:27 PM","I'll look into that! Thank you","",""
"327654027523391489","Tune#3601","13-Mar-20 11:34 PM","","https://cdn.discordapp.com/attachments/395684916056031245/688137847307632709/unknown.png",""
"327654027523391489","Tune#3601","13-Mar-20 11:34 PM","@Blauelf I appreciate the help","",""
"254622976710803456","bec#7264","14-Mar-20 11:54 AM","cs50.ly/surprise","",""
"254622976710803456","bec#7264","14-Mar-20 11:54 AM","this was in the card.raw","",""
"684652492256051221","asmat#3174","14-Mar-20 02:14 PM","how can i say unsigned char bytes[512]; is less the 512","",""
"684652492256051221","asmat#3174","14-Mar-20 02:14 PM","what i want to do is have a check for the size of block","",""
"684652492256051221","asmat#3174","14-Mar-20 02:15 PM","if (bytes < 512)  this is what i want to write how can i do that","",""
"414059914995171338","Shaz#5774","14-Mar-20 05:01 PM","hello everyone i am getting sad face while check50 look for correctness in 049.jpg","",""
"414059914995171338","Shaz#5774","14-Mar-20 05:02 PM","although i can view 049.jpg in my folder","",""
"414059914995171338","Shaz#5774","14-Mar-20 05:02 PM","but don't why check50 saying it's not ok","",""
"414059914995171338","Shaz#5774","14-Mar-20 05:03 PM","here is the 049.jpg","https://cdn.discordapp.com/attachments/395684916056031245/688401914714783821/049.jpg",""
"414059914995171338","Shaz#5774","14-Mar-20 05:03 PM","and this is the error i am getting","",""
"414059914995171338","Shaz#5774","14-Mar-20 05:03 PM","","https://cdn.discordapp.com/attachments/395684916056031245/688401996176162826/last.PNG",""
"234679095378706433","Blauelf#6622","14-Mar-20 05:33 PM","@Shaz My version would `fread` only in my only loop's condition, and check its return value. If you have a multi-loop approach, or use `feof` (which triggers only after an at least partially unsuccessful read), you might accidentally write last block twice.","",""
"307434803165397003","MiDO#7198","14-Mar-20 06:14 PM","Guys is there another video like Brian's walkthrough to help me more with this problem?
(One which won't make feel like I cheated)","",""
"414059914995171338","Shaz#5774","14-Mar-20 07:03 PM","@Blauelf I think i am having problem with feof function","",""
"234679095378706433","Blauelf#6622","14-Mar-20 07:05 PM","You'd have to check that directly after using `fread`. Which is probably useless, as `fread` itself returns a number you could use instead.","","üëç (1)"
"414059914995171338","Shaz#5774","14-Mar-20 07:15 PM","@Blauelf you are genius. üëç Thank You","https://cdn.discordapp.com/attachments/395684916056031245/688435093005402209/genius.PNG",""
"684652492256051221","asmat#3174","14-Mar-20 07:48 PM","i tried 
if (count > 0)
{
       if  (fread(&bytes, 1, 512, rawCard) != 512) 
       {
                 break;
        }
        fwrite(&bytes, 512, 1, picFromCard);
}
it stops after 026.jpg
if (count > 0)
{
       if  (fread(&bytes, 512, 1, rawCard) != 512) 
       {
                 break;
        }
        fwrite(&bytes, 512, 1, picFromCard);
}
only recovers 000.jpg
what am i doing wrong","",""
"234679095378706433","Blauelf#6622","14-Mar-20 07:55 PM","026.jpg might indicate you are checking only half of the sectors.
This `if (count > 0)` with an `fread` inside looks confusing to me.","",""
"684652492256051221","asmat#3174","14-Mar-20 07:58 PM","i am trying to get that last 049.jpg check for not writing the last buffer twice","",""
"684652492256051221","asmat#3174","14-Mar-20 07:59 PM","i am using EOF","",""
"684652492256051221","asmat#3174","14-Mar-20 09:12 PM","got it working","",""
"254622976710803456","bec#7264","14-Mar-20 09:22 PM","any idea why this ""while(fread(BUFFER, 512, 1, file) == 512)"" immediately causes a segfault","",""
"254622976710803456","bec#7264","14-Mar-20 09:25 PM","buffer is of size [512]","",""
"234679095378706433","Blauelf#6622","14-Mar-20 09:25 PM","`file` is not `fopen`ed correctly? `BUFFER` is a pointer-type and you did not `malloc`?","",""
"234679095378706433","Blauelf#6622","14-Mar-20 09:26 PM","So you have `unsigned char BUFFER[512];` or equivalent?","",""
"254622976710803456","bec#7264","14-Mar-20 09:26 PM","I copied the fopen thing from the pset guide","",""
"254622976710803456","bec#7264","14-Mar-20 09:26 PM","yah I have exactly that","",""
"254622976710803456","bec#7264","14-Mar-20 09:26 PM","I didn't alloc any memory though,doesn't fopen alloc it","",""
"234679095378706433","Blauelf#6622","14-Mar-20 09:26 PM","Definitely wrong is the `512, 1` with `== 512`, this would never be true. Either make it `1, 512` or `== 1`","",""
"234679095378706433","Blauelf#6622","14-Mar-20 09:27 PM","Oh.... you never enter the loop, and later `fclose(img)` or similar (with the output image never opened)?","",""
"234679095378706433","Blauelf#6622","14-Mar-20 09:28 PM","That would be why I have the `fclose` for the output image with an `if`.","",""
"254622976710803456","bec#7264","14-Mar-20 09:32 PM","it doesn't execute the loop once it gets a segfault as soon as the line is executed","",""
"234679095378706433","Blauelf#6622","14-Mar-20 09:33 PM","That would make sense only if something's wrong with `file`. You checked for `NULL` after `FILE *file = fopen(...);`, right?","",""
"254622976710803456","bec#7264","14-Mar-20 09:33 PM","with regards to my fclose placement I have placed it at the end","",""
"254622976710803456","bec#7264","14-Mar-20 09:33 PM","ah It seems I haven't","",""
"254622976710803456","bec#7264","14-Mar-20 09:35 PM","files not NULL but it still gets a seg fault","",""
"254622976710803456","bec#7264","14-Mar-20 09:36 PM","don't get this at all","",""
"234679095378706433","Blauelf#6622","14-Mar-20 09:42 PM","This is weird then. Segfault could be either the buffer or the file. If it is neither - no idea.","",""
"254622976710803456","bec#7264","14-Mar-20 09:42 PM","ah I think I got it","",""
"254622976710803456","bec#7264","14-Mar-20 09:43 PM","works!","",""
"234679095378706433","Blauelf#6622","14-Mar-20 09:44 PM","What was it?","",""
"254622976710803456","bec#7264","14-Mar-20 09:44 PM","it was me assigning 7 chars for filename and forgetting about the newline character according to this reddit thread","",""
"254622976710803456","bec#7264","14-Mar-20 09:45 PM","even though the debugger showed the seg fault happening when I stepped into while(fread(BUFFER, 512, 1, file) == 512)","",""
"254622976710803456","bec#7264","14-Mar-20 09:54 PM","||bool jpeg = (BUFFER[0] == header[0] && BUFFER[1] == header[1] && BUFFER[2] == header[2] && (BUFFER[3] * 0xf0) == header[3]);||","",""
"254622976710803456","bec#7264","14-Mar-20 09:54 PM","any idea what's wrong with this line of code","",""
"254622976710803456","bec#7264","14-Mar-20 09:54 PM","||const unsigned char header[4] = {0xff, 0xd8, 0xff, 0xe0};||","",""
"254622976710803456","bec#7264","14-Mar-20 09:54 PM","bit more context","",""
"254622976710803456","bec#7264","14-Mar-20 09:55 PM","just keeping the bool in an if statement","",""
"254622976710803456","bec#7264","14-Mar-20 10:01 PM","it never returns true","",""
"234679095378706433","Blauelf#6622","14-Mar-20 10:04 PM","@bec Newline? You mean the null terminator?
And you fixed the 512/1 issue with `fread`?","",""
"684652492256051221","asmat#3174","15-Mar-20 08:13 AM","i used filename[3] and it worked for me with all 50 pic i want to know will it work with lager file name as well of should i use some larger number
//format the file name ###.jpg 
            char filename[3];
            sprintf(filename, ""%03i.jpg"", jpgCount);
for the knowledge question.","",""
"254622976710803456","bec#7264","15-Mar-20 08:35 AM","no not with buffer, it was with the filename (for the file I wanna write) not having enough characters to store the filename and the null terminator","",""
"254622976710803456","bec#7264","15-Mar-20 08:35 AM","and that caused it to segfault at the the while statement somehow","",""
"254622976710803456","bec#7264","15-Mar-20 09:13 AM","my count variable wasn't exceeding one and if it was iterated over while it was one it would just overflow to become 0 somehow I don't get it","",""
"254622976710803456","bec#7264","15-Mar-20 09:13 AM","when I replaced it with a normal int not freads casuing a SIGABRT","",""
"254622976710803456","bec#7264","15-Mar-20 09:15 AM","I also read online that debug50 could ""mask"" some errors and that it's better to use printfs to see which lines work and which don't","",""
"254622976710803456","bec#7264","15-Mar-20 09:15 AM","this happened last time with FREAD causing a segfault when something else completely was causing the segfaults","",""
"393854278764068875","curiouskiwi#1671","15-Mar-20 09:19 AM","`sprintf` doesn't care how much space you allocated for the string. It will write the entire string including the NUL terminator starting at the first byte of the memory.  If you haven't allocated enough space, the extra char(s) will simply overwrite whatever happens to be in memory there.","",""
"254622976710803456","bec#7264","15-Mar-20 09:22 AM","yeah I allocated 8 stuff and everything was working fine with no errors but wrong outputs but once I changed the count variable from an unsigned int to an int it started causing an SIGABRT on FREAD after a few iteration on the while loop","",""
"393854278764068875","curiouskiwi#1671","15-Mar-20 09:26 AM","so it works now? and you don't know why?","",""
"393854278764068875","curiouskiwi#1671","15-Mar-20 09:26 AM","or does it still not work?","",""
"254622976710803456","bec#7264","15-Mar-20 09:29 AM","didn't work when I typed the message I don't know what I did but it works now","",""
"254622976710803456","bec#7264","15-Mar-20 09:29 AM","ü•¥","",""
"254622976710803456","bec#7264","15-Mar-20 09:29 AM","by that I mean it just spits out 50 images","",""
"254622976710803456","bec#7264","15-Mar-20 09:30 AM","not necessarily the correct ones or ones that make sense","",""
"393854278764068875","curiouskiwi#1671","15-Mar-20 09:33 AM","so it doesn't work.","",""
"393854278764068875","curiouskiwi#1671","15-Mar-20 09:33 AM","you can send me your code privately if you need guidance","",""
"307434803165397003","MiDO#7198","15-Mar-20 09:00 PM","Guys is there another video like Brian's walkthrough to help me more with this problem?
(One which won't make feel like I cheated)","",""
"393854278764068875","curiouskiwi#1671","15-Mar-20 09:07 PM","@MiDO Maybe Zamyla's walkthrough from a few years back (which I think covers essentially the same stuff?) might give you a fresh perspective on it ?  https://youtu.be/Y4vV61lbL3g","",""
"307434803165397003","MiDO#7198","15-Mar-20 09:08 PM","Well will watch.","",""
"307434803165397003","MiDO#7198","15-Mar-20 10:53 PM","Ya know, unexpectedly, that actually helped!","","üëç (1)"
"456134395007467522","LORIS#3189","16-Mar-20 04:02 PM","When you reset your phone for example, can you still recover any picture with somehow?","",""
"307434803165397003","MiDO#7198","16-Mar-20 05:27 PM","Well wew, that was actually strangely easier than I expected, it just needed some time and focus.","https://cdn.discordapp.com/attachments/395684916056031245/689132653974519852/Capt44ure.PNG",""
"254622976710803456","bec#7264","16-Mar-20 06:59 PM","anyone know why my codes screwing up?","",""
"254622976710803456","bec#7264","16-Mar-20 07:04 PM","","https://cdn.discordapp.com/attachments/395684916056031245/689157088882196481/SPOILER_unknown.png",""
"361235692019384323","Sanath#7244","16-Mar-20 07:11 PM","Your output jpegs can consist of multiple blocks of 512 bytes, you're closing them immediately after writing 1 block","",""
"254622976710803456","bec#7264","16-Mar-20 07:13 PM","I am reopening them when I read in another block though","",""
"361235692019384323","Sanath#7244","16-Mar-20 07:16 PM","Every time you reopen them you start writing from the beginning, overwriting the block","",""
"361235692019384323","Sanath#7244","16-Mar-20 07:16 PM","Check out what fopen does with ""w"" as an argument","",""
"254622976710803456","bec#7264","16-Mar-20 07:19 PM","oh, didn't know about that, thanks","",""
"254622976710803456","bec#7264","16-Mar-20 07:19 PM","my count variable keeps going between 0 and 1 for some reason I can not undestand","",""
"361235692019384323","Sanath#7244","16-Mar-20 07:27 PM","How do you know it's doing that?","",""
"254622976710803456","bec#7264","16-Mar-20 07:30 PM","debugger","",""
"254622976710803456","bec#7264","16-Mar-20 07:30 PM","lel my program worked","",""
"254622976710803456","bec#7264","16-Mar-20 07:30 PM","wait it was only for the first picture","",""
"254622976710803456","bec#7264","16-Mar-20 07:31 PM","I looked at count in the debugger","",""
"254622976710803456","bec#7264","16-Mar-20 07:31 PM","it keeps going from 0 to 1 and then from 1 to 0","",""
"254622976710803456","bec#7264","16-Mar-20 07:31 PM","ü•¥","",""
"254622976710803456","bec#7264","16-Mar-20 07:32 PM","I can't figure out why it's doing that counts declaration is outside of the loop","",""
"254622976710803456","bec#7264","16-Mar-20 07:33 PM","and it's declared as a regular int","",""
"361235692019384323","Sanath#7244","16-Mar-20 07:33 PM","You can step through the program and see where it's doing that","",""
"254622976710803456","bec#7264","16-Mar-20 07:34 PM","sprintf","",""
"254622976710803456","bec#7264","16-Mar-20 07:34 PM","oddly enough","",""
"361235692019384323","Sanath#7244","16-Mar-20 07:35 PM","Weird","",""
"361235692019384323","Sanath#7244","16-Mar-20 07:36 PM","Also think that should be jpg not jpeg","",""
"361235692019384323","Sanath#7244","16-Mar-20 07:36 PM","Not 100% sure but that's what I remember","",""
"254622976710803456","bec#7264","16-Mar-20 07:38 PM","where I wrote JPEG","",""
"254622976710803456","bec#7264","16-Mar-20 07:38 PM","and it writes the first file fine","",""
"254622976710803456","bec#7264","16-Mar-20 07:38 PM","but doesn't write anything else","",""
"254622976710803456","bec#7264","16-Mar-20 07:38 PM","oddly enough","",""
"361235692019384323","Sanath#7244","16-Mar-20 07:39 PM","In the sprintf I mean, that should be jpg I think","",""
"254622976710803456","bec#7264","16-Mar-20 07:44 PM","> There are actually no differences between the JPG and JPEG formats. The only difference is the number of characters used. JPG only exists because in earlier versions of Windows (MS-DOS 8.3 and FAT-16 file systems) they required a three letter extension for the file names","",""
"254622976710803456","bec#7264","16-Mar-20 07:45 PM","||count = count + 1;
            int temp_trash = count;
            sprintf(filename, ""%03i.jpeg"", temp_trash):||","",""
"254622976710803456","bec#7264","16-Mar-20 07:45 PM","even after this code change the value of count still goes to 0","",""
"254622976710803456","bec#7264","16-Mar-20 07:45 PM","at the sprintf line","",""
"361235692019384323","Sanath#7244","16-Mar-20 07:45 PM","Makes a difference for check50","",""
"254622976710803456","bec#7264","16-Mar-20 07:46 PM","oh shit","",""
"254622976710803456","bec#7264","16-Mar-20 07:46 PM","fixed","",""
"254622976710803456","bec#7264","16-Mar-20 07:46 PM","anyways how do I fix the sprintf problem","",""
"361235692019384323","Sanath#7244","16-Mar-20 07:47 PM","Send me your file, I'll try to debug at my end","",""
"254622976710803456","bec#7264","16-Mar-20 07:50 PM","got em!","",""
"254622976710803456","bec#7264","16-Mar-20 07:50 PM","It was the variable being weird inside the loop","",""
"254622976710803456","bec#7264","16-Mar-20 07:50 PM","I made it a global variable and it works now‚Ñ¢Ô∏è","",""
"254622976710803456","bec#7264","16-Mar-20 07:50 PM","although I have around 100 files in the directory now","",""
"254622976710803456","bec#7264","16-Mar-20 07:51 PM","thanks a lot man","",""
"361235692019384323","Sanath#7244","16-Mar-20 07:51 PM","Kinda weird I still don't know why it was doing that","",""
"361235692019384323","Sanath#7244","16-Mar-20 07:51 PM","I probably just haven't gotten enough sleep:GWjiangoOmegaLUL:","",""
"234679095378706433","Blauelf#6622","17-Mar-20 12:56 AM","@LORIS There was some case when recycled smartphone memory chips got soldered into USB sticks, and somebody was able to recover images. They even found somebody who had fotographed their ID card.
So whether your images can be recovered totally depends on how the manufacturer has implemented security. If they are really throwing away a key to ""delete"" an encrypted drive, fine. But if they claim to encrypt and actually just unlock the unencrypted phone, most people would not be able to tell the difference (the latter is cheaper and faster).","",""
"300642557568876544","Arthuur#6836","17-Mar-20 01:18 AM","I got a little bug on my program, when i ran the debugger un saw something weird.","",""
"300642557568876544","Arthuur#6836","17-Mar-20 01:18 AM","","https://cdn.discordapp.com/attachments/395684916056031245/689251320745558029/Capture_decran_2020-03-17_a_00.15.30.png",""
"300642557568876544","Arthuur#6836","17-Mar-20 01:19 AM","after this step the value of my reading file is changing but i dont know why","",""
"300642557568876544","Arthuur#6836","17-Mar-20 01:19 AM","","https://cdn.discordapp.com/attachments/395684916056031245/689251512169660498/Capture_decran_2020-03-17_a_00.16.50.png",""
"300642557568876544","Arthuur#6836","17-Mar-20 01:22 AM","i use sprintf function but it does'nt have anything to do with my open file and none of the variables that i use or change in this line is involved in the creation of the 'carteSD' variable","",""
"300642557568876544","Arthuur#6836","17-Mar-20 01:22 AM","a bit confused","",""
"234679095378706433","Blauelf#6622","17-Mar-20 08:31 AM","@Arthuur How long can the string be that still fits into `nom`? How many characters do you write?
Any extra characters might overwrite some other variables.","",""
"234679095378706433","Blauelf#6622","17-Mar-20 08:32 AM","I don't think the problem description mentions path `img/` at all.","",""
"234679095378706433","Blauelf#6622","17-Mar-20 08:36 AM","0x67 would be `g`, 0x70 would be `p`, 0x6a would be `j`. The null terminator might appear as a leading zero.","",""
"234679095378706433","Blauelf#6622","17-Mar-20 08:37 AM","And now you learnt that the stack for us grows backwards, with new variables placed in front of old ones üòõ","",""
"300642557568876544","Arthuur#6836","17-Mar-20 10:38 AM","Incredible that‚Äôs right","",""
"300642557568876544","Arthuur#6836","17-Mar-20 10:39 AM","But anyway don‚Äôt know why this is overwriting my pointer","",""
"300642557568876544","Arthuur#6836","17-Mar-20 10:41 AM","The length of ‚Äònom‚Äô is 8 and if it was too small i would had a segfault","",""
"234679095378706433","Blauelf#6622","17-Mar-20 02:05 PM","@Arthuur You get a segfault if you access memory you are not allowed to. But here the other variable is also on your stack, and you are allowed to write to it. Segmentation faults usually happen when you messed up very badly, like dereferencing a null pointer, or accessing an array element way out of range.","",""
"299249869359546369","Sheriff Kovalski#3520","17-Mar-20 07:30 PM","https://pastebin.com/5hWuGFmF","",""
"299249869359546369","Sheriff Kovalski#3520","17-Mar-20 07:31 PM","Can someone help to lead me further in the code? I kinda messed this all up","",""
"456134395007467522","LORIS#3189","17-Mar-20 08:44 PM","Oh! thx for that info blaueff.","",""
"627606845200007169","itachi#3344","17-Mar-20 09:39 PM","@Sheriff Kovalski fread(buffer, 512, sizeof(BYTE), infile)","",""
"299249869359546369","Sheriff Kovalski#3520","17-Mar-20 09:53 PM","@itachi oh, that pushed the affair a bit","",""
"299249869359546369","Sheriff Kovalski#3520","17-Mar-20 09:54 PM","But now all the images are white","",""
"371565560674385922","SWEPY#2404","17-Mar-20 10:10 PM","Guys, can someone explain me this expression: (buffer[3] & 0xf0) == 0xe0). I don't understand how it works","",""
"300642557568876544","Arthuur#6836","17-Mar-20 11:06 PM","this is a binary & it compare each bites of the two expression and if the are the same the output is 1 else 
    1 1 1 1  0 0 0 0  = 0xff
& 1 1 1 0 0 0 0 1   = 0xe1
= 1 1 1 0 0 0 0 0  = 0xe0","",""
"300642557568876544","Arthuur#6836","17-Mar-20 11:06 PM","*else 0:","",""
"300642557568876544","Arthuur#6836","17-Mar-20 11:07 PM","so whatever the number after 'e' is the result will always be 0xe0","",""
"300642557568876544","Arthuur#6836","17-Mar-20 11:14 PM","*correction*if there is two 1 the result is 1 otherwise the result is 0.","",""
"371565560674385922","SWEPY#2404","18-Mar-20 08:50 AM","> this is a binary & it compare each bites of the two expression and if the are the same the output is 1 else 
>     1 1 1 1  0 0 0 0  = 0xff
> & 1 1 1 0 0 0 0 1   = 0xe1
> = 1 1 1 0 0 0 0 0  = 0xe0
@Arthuur  thanks a lot üôÇ","",""
"299249869359546369","Sheriff Kovalski#3520","18-Mar-20 06:23 PM","https://pastebin.com/sZGYj68P","",""
"299249869359546369","Sheriff Kovalski#3520","18-Mar-20 06:24 PM","Found 50 jpgs but all of them are like this","",""
"299249869359546369","Sheriff Kovalski#3520","18-Mar-20 06:24 PM","","https://cdn.discordapp.com/attachments/395684916056031245/689871768181014608/000.jpg",""
"202180238162001920","Lukas#2338","18-Mar-20 06:30 PM","you should remove the fwrite that's in the if statement where you open the file","",""
"299249869359546369","Sheriff Kovalski#3520","18-Mar-20 06:32 PM","Gotcha! Appreciate it!","",""
"329258671177596928","DustinS#6016","18-Mar-20 11:35 PM","could someone give a little hint, why buffer is 0 everywhere / fread don't works?","https://cdn.discordapp.com/attachments/395684916056031245/689950032082108458/unknown.png",""
"393854278764068875","curiouskiwi#1671","18-Mar-20 11:35 PM","that points to a memory issue.  Are you sure that your string for the filename is long enough to hold a properly terminated string?","",""
"393854278764068875","curiouskiwi#1671","18-Mar-20 11:36 PM","> `sprintf` will put the string ""000.jpg"" into the memory you allocated for the char array.  It doesn't care if there is enough room.  So imagine that the compiler gave you address 100 for the filename, and allocated locations 100, 101, 102, 103, 104, 105, 106  to it.  But you also declare a buffer to hold your 512 bytes, so the compiler sees the next free spot in memory is location 107. so allocates 107 - 618 for that.  
> You read in 512 bytes.  And let's say here's your memory: ```
> 100 101 102 103 104 105 106 107 108 109 110 111 ...
>                             ff   d8  ff  e0  ...```   and now you find a signature and sprintf your ""000.jpg"" string into the filename: ```
> '0' '0' '0' '.' 'j' 'p' 'g' '\0' d8  ff  e0  ...   ```what's happened?  Can you see that the null char from your filename has now overwritten the first byte of your buffer?  Now, every one of your jpgs will start with `00` instead of `ff` because fwrite grabs what's in the buffer starting at location 107, but you've corrupted it by not having enough space for your filename.  @DustinS","",""
"329258671177596928","DustinS#6016","18-Mar-20 11:48 PM","alright, I allocated now 8 * sizeof(char) for the char array, but unluckily it didn't change the fact, that every buffer element equals 0.","",""
"393854278764068875","curiouskiwi#1671","18-Mar-20 11:50 PM","do you mean the first time you read in 512 bytes? or every time? @DustinS","",""
"329258671177596928","DustinS#6016","19-Mar-20 12:13 AM","I only tested the first run... thank you üôÇ","",""
"294900326195003392","HybridZ_YT#0667","19-Mar-20 05:22 AM","can i use the fseek fucntion for this problem?","",""
"393854278764068875","curiouskiwi#1671","19-Mar-20 05:23 AM","there's no reason you would need to use it","",""
"177816719136522240","K_#1848","21-Mar-20 12:22 AM","I'm feeling super-lost with this, have gone over the lesson and Brian and Zamyla's walkthroughs to no avail. 

I think there are a number of issues, but my first problem right now is that when I try to make recover, I get:

error: incompatible pointer types passing 'char *' to parameter of type 'FILE *'
      (aka 'struct _IO_FILE *') [-Werror,-Wincompatible-pointer-types]
                fwrite(&buffer[x], 512, 1, filename);

I don't really understand the interactions between files and other data structures. Any pointers (haha) much appreciated.","",""
"329904059014447105","KenKinoshita#5783","21-Mar-20 03:08 AM","HELP! Why is my code starts at 001.jpeg? üò©","https://cdn.discordapp.com/attachments/395684916056031245/690728540466970654/Screen_Shot_2020-03-21_at_10.07.46.png",""
"329904059014447105","KenKinoshita#5783","21-Mar-20 03:32 AM","NVM. I found what's wrong in my code üôÇ","",""
"329904059014447105","KenKinoshita#5783","21-Mar-20 03:44 AM","I  have question. What is the difference between fwrite(buf, 512, 1, img) between fwrite(buf, 1, 512, img). I tried both and seem to work properly.","",""
"251199781152620545","Charles#0217","21-Mar-20 04:42 AM","I think the only difference is fwrite(buf, 512, 1, img) you're writing 1 element of size 512 bytes. With fwrite(buf, 1, 512, img), you're writing 512 elements of size 1 byte. I think that since your buffer is 512 bytes it doesn't really matter which way you write the data","",""
"251199781152620545","Charles#0217","21-Mar-20 04:43 AM","fread would probably be more sensitive as you're processing the information as you read it.","",""
"361235692019384323","Sanath#7244","21-Mar-20 07:27 AM","the return value changes","",""
"329904059014447105","KenKinoshita#5783","21-Mar-20 07:42 AM","@Sanath can you please explain more? üôÇ","",""
"361235692019384323","Sanath#7244","21-Mar-20 07:44 AM","fread returns the number of elements successfully read, which is the third argument if no error occurs/end of file isnt reached","",""
"329904059014447105","KenKinoshita#5783","21-Mar-20 07:48 AM","Hmmm. Still don't get it ü§Ø","",""
"393854278764068875","curiouskiwi#1671","21-Mar-20 08:04 AM","> I  have question. What is the difference between fwrite(buf, 512, 1, img) between fwrite(buf, 1, 512, img). I tried both and seem to work properly.
@KenKinoshita 
the first one `fwrite(buf, 512, 1, img)` says:  ""write from buf to the img 1 block of data that is 512 bytes long. if successful return 1 (the number of blocks written or zero if none)"".  
the second one `fwrite(buf, 1, 512, img)` says ""write from buf to the img 512 blocks of data each 1 byte long.  if successful return 512 (the number of blocks written, or however many were written, or zero if none)""

So if it successfully can write 512 bytes of data, either of those calls will do the same thing, just return a different value. (either 1 or 512)","",""
"329904059014447105","KenKinoshita#5783","21-Mar-20 08:09 AM","@curiouskiwi Is it also the same with ""fread"" function?","",""
"393854278764068875","curiouskiwi#1671","21-Mar-20 08:10 AM","yes.  https://man.cs50.io/3/fread","",""
"329904059014447105","KenKinoshita#5783","21-Mar-20 08:22 AM","I sort of get it now. Maybe I just need a little more practice to embed them in my brain cells. 
Thank you @curiouskiwi @Sanath and @Charles","",""
"591869713768906916","Best#1972","22-Mar-20 02:53 AM","Can someone get me started, I understood the entirety of the lecture even to the point where I took extensive notes following along","https://cdn.discordapp.com/attachments/395684916056031245/691087166234951780/unknown.png",""
"591869713768906916","Best#1972","22-Mar-20 02:53 AM","but I cant even picture starting this assignment","",""
"591869713768906916","Best#1972","22-Mar-20 05:21 AM",") :","",""
"591869713768906916","Best#1972","22-Mar-20 10:05 AM","to my friends out there who may also be struggling with file management","",""
"591869713768906916","Best#1972","22-Mar-20 10:05 AM","idk if im allowed to link stuff but i will","",""
"591869713768906916","Best#1972","22-Mar-20 10:05 AM","this video is very very useful","",""
"591869713768906916","Best#1972","22-Mar-20 10:05 AM","https://www.youtube.com/watch?v=_KW_YBTXhN0","",""
"251199781152620545","Charles#0217","22-Mar-20 03:05 PM","It‚Äôs very helpful to start out with pseudocode! I think the main purpose of this course is to get us to think more low level/like a computer does.","",""
"251199781152620545","Charles#0217","22-Mar-20 03:05 PM","We‚Äôre you able to get started?","",""
"282113226353803265","Nihil Novi#0084","22-Mar-20 05:59 PM","my recover is working, but is anyone willing to take a look at the structure of the program itself? I did it all in main without any fancy function usage and was wondering if there is some further refactoring possible","",""
"591869713768906916","Best#1972","22-Mar-20 09:18 PM","I have gotten started","",""
"591869713768906916","Best#1972","22-Mar-20 09:19 PM","still quite lost but progress is goin","",""
"591869713768906916","Best#1972","22-Mar-20 09:19 PM","","https://cdn.discordapp.com/attachments/395684916056031245/691365404743958559/unknown.png",""
"234679095378706433","Blauelf#6622","23-Mar-20 09:22 AM","@Best Give your `sprintf` its own char buffer (e.g. some array of `char` with enough space for the full string including the null terminator). `f` is most definitely not a valid choice.","",""
"637322068622573582","HorizonLight#3035","23-Mar-20 11:37 AM","Hi everyone ! the first image we are supposed to find, is it this one ?","https://cdn.discordapp.com/attachments/395684916056031245/691581297490919424/unknown.png",""
"637322068622573582","HorizonLight#3035","23-Mar-20 11:38 AM","I get jpgs from 000.jpg to 049.jpg, they are all correct, but only the last one is recognised as good","https://cdn.discordapp.com/attachments/395684916056031245/691581707458969670/unknown.png",""
"637322068622573582","HorizonLight#3035","23-Mar-20 11:41 AM","here's my code, I tried some tweaks to see where I was wrong, here, only 049.jpg is correct","https://cdn.discordapp.com/attachments/395684916056031245/691582304404897792/SPOILER_unknown.png",""
"234679095378706433","Blauelf#6622","23-Mar-20 01:26 PM","Your `if (found)`, move it below header detection. Otherwise you would always append the header belonging to the next file.","",""
"637322068622573582","HorizonLight#3035","23-Mar-20 04:37 PM","","https://cdn.discordapp.com/attachments/395684916056031245/691656786695946310/SPOILER_unknown.png",""
"637322068622573582","HorizonLight#3035","23-Mar-20 04:37 PM","I don't understand why I get this result, if it doesn't find a good header, it should just keep writting","https://cdn.discordapp.com/attachments/395684916056031245/691656989100474489/unknown.png",""
"234679095378706433","Blauelf#6622","23-Mar-20 07:12 PM","@HorizonLight If you just move it down, you still write the header block twice. You could remove one fwrite.","",""
"637322068622573582","HorizonLight#3035","23-Mar-20 08:13 PM","God, now that you say it it's obvious !","",""
"637322068622573582","HorizonLight#3035","23-Mar-20 08:13 PM","Thanks a lot, once agan I was close but not right !","",""
"613261793254440960","Se√±or Sherlock#0183","25-Mar-20 06:09 AM","I'm getting segmentation fault error. Can someone tell me where I am making a mistake?","https://cdn.discordapp.com/attachments/395684916056031245/692223626153295934/SPOILER_Screenshot_81.png",""
"393854278764068875","curiouskiwi#1671","25-Mar-20 06:14 AM","you've declared a string literal as your filename.  As such, it cannot be altered, so when sprintf tries to write to it, you crash.  Perhaps a char array that can hold all the chars in your properly terminated string is better.","",""
"613261793254440960","Se√±or Sherlock#0183","25-Mar-20 06:15 AM","Thanks!","",""
"310762125062701056","justmiiplaynwii#5323","26-Mar-20 12:38 AM","Hi! I have a question about fread
how can i make fread read the next 512 bytes?
if i make a loop with fread in it won't it just read the same first 512 bytes?","",""
"393854278764068875","curiouskiwi#1671","26-Mar-20 12:39 AM","fread automatically moves its 'read cursor' to the end of the block, ready to read the next block when called","",""
"310762125062701056","justmiiplaynwii#5323","26-Mar-20 12:40 AM","oh ok
Thank you!","",""
"372141606012321793","Yoggan#0011","26-Mar-20 11:17 PM","hei can someone help me","",""
"372141606012321793","Yoggan#0011","26-Mar-20 11:17 PM","i feel like i am very close to the answer","",""
"372141606012321793","Yoggan#0011","26-Mar-20 11:17 PM","","https://cdn.discordapp.com/attachments/395684916056031245/692844712692023297/unknown.png",""
"372141606012321793","Yoggan#0011","26-Mar-20 11:18 PM","some hints please","",""
"665053121499627571","fjw#9108","27-Mar-20 12:15 AM","first hint: fgetc only reads a single char from a file stream","",""
"372141606012321793","Yoggan#0011","27-Mar-20 12:23 AM","i know","",""
"372141606012321793","Yoggan#0011","27-Mar-20 12:24 AM","on that line i check character by character to see i'm on the end of the file or not","",""
"665053121499627571","fjw#9108","27-Mar-20 12:27 AM","ok - and as you're stepping through byte by byte - what are you checking","",""
"184471073264369664","Henrique Moura#5152","27-Mar-20 12:27 AM","I'm having problems. I can generate 48 images, but in the 49th it seems my program dont leave the while loop","",""
"184471073264369664","Henrique Moura#5152","27-Mar-20 12:28 AM","","https://cdn.discordapp.com/attachments/395684916056031245/692862494213013566/unknown.png",""
"184471073264369664","Henrique Moura#5152","27-Mar-20 12:28 AM","and then I get 48 good images and this","",""
"184471073264369664","Henrique Moura#5152","27-Mar-20 12:28 AM","","https://cdn.discordapp.com/attachments/395684916056031245/692862604716146708/unknown.png",""
"184471073264369664","Henrique Moura#5152","27-Mar-20 12:41 AM","found it
it seems that fread() didnt detect the end of the file, so I did it manually","",""
"184471073264369664","Henrique Moura#5152","27-Mar-20 12:41 AM","","https://cdn.discordapp.com/attachments/395684916056031245/692865946058096670/unknown.png",""
"184471073264369664","Henrique Moura#5152","27-Mar-20 12:42 AM","","https://cdn.discordapp.com/attachments/395684916056031245/692865979029389403/unknown.png",""
"665053121499627571","fjw#9108","27-Mar-20 12:42 AM","I was about to say - consider your final loop for your while() -- is what is fread() returning? üòâ","",""
"184471073264369664","Henrique Moura#5152","27-Mar-20 12:49 AM","very interesting","",""
"372141606012321793","Yoggan#0011","27-Mar-20 01:50 AM","im checking if it's a jpeg file then continue the reading if is not step over it","",""
"200786636684918784","Clyde Syecca#7825","27-Mar-20 05:22 AM","","https://cdn.discordapp.com/attachments/395684916056031245/692936619862261760/SPOILER_temp_code.PNG",""
"200786636684918784","Clyde Syecca#7825","27-Mar-20 05:22 AM","can someone check my code?","",""
"200786636684918784","Clyde Syecca#7825","27-Mar-20 05:23 AM","it only works for 000.jpg and 001.jpg","",""
"200786636684918784","Clyde Syecca#7825","27-Mar-20 05:23 AM","but after that the program just ends","",""
"200786636684918784","Clyde Syecca#7825","27-Mar-20 05:23 AM","and I cant find out why","",""
"200786636684918784","Clyde Syecca#7825","27-Mar-20 03:33 PM","Never mind I found the mistake","",""
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","27-Mar-20 07:52 PM","At the end of the video Brian said that fread() returns the number of items size size that were read. Can someone explain how is this relevant to the solution?  I am not supposed to know how many blocks of 512 bytes there is, right?","",""
"184471073264369664","Henrique Moura#5152","27-Mar-20 07:54 PM","I guess in the end of the loop, if you read the end of the file, it's very probable you'll get a return different of 512, than you can use it as your stop condition","",""
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","27-Mar-20 07:56 PM","The size of the block at the end of the file is probably not 512?","",""
"184471073264369664","Henrique Moura#5152","27-Mar-20 08:01 PM","probably","",""
"184471073264369664","Henrique Moura#5152","27-Mar-20 08:02 PM","did you see the walkthrough with brien?","",""
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","27-Mar-20 08:02 PM","Is it because of the ""slack space""?","",""
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","27-Mar-20 08:02 PM","> probably
@Henrique Moura Yes I have been watching it multiple times already üò¶","",""
"184471073264369664","Henrique Moura#5152","27-Mar-20 08:02 PM","I don't think so, but I am also learning, so I'm not the most trustable to tell you heheh","",""
"184471073264369664","Henrique Moura#5152","27-Mar-20 08:03 PM","> @Henrique Moura Yes I have been watching it multiple times already üò¶
@„ÇΩ„Éï„Ç£„Ç¢ me too!","",""
"184471073264369664","Henrique Moura#5152","27-Mar-20 08:03 PM","It took me hours to solve this blur","",""
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","27-Mar-20 08:04 PM","Mine as well. Blur was really challenging. But this one is getting me confused with the syntax.","",""
"184471073264369664","Henrique Moura#5152","27-Mar-20 08:04 PM","I guess the pseudocode in the end is very important","",""
"184471073264369664","Henrique Moura#5152","27-Mar-20 08:04 PM","you can save it in one .txt and try to see how you could implement it","",""
"184471073264369664","Henrique Moura#5152","27-Mar-20 08:05 PM","I did this, I wrote the pseudocode elsewhere, and then as I was rewatching, I tried to put the functions where they would fit","","üëç (1)"
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","27-Mar-20 11:38 PM","> How can I see the image I recovered?","",""
"665053121499627571","fjw#9108","27-Mar-20 11:43 PM","there's a builtin jpeg viewer in the IDE - just doublecheck on the image in the IDE","",""
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","27-Mar-20 11:46 PM","Where am I supposed to see the image file? These are the only files in my directory. Does the jpg file appear here after I run the program?","https://cdn.discordapp.com/attachments/395684916056031245/693214358175481986/Capture1.PNG",""
"393854278764068875","curiouskiwi#1671","27-Mar-20 11:48 PM","yes","","üëç (1)"
"393854278764068875","curiouskiwi#1671","27-Mar-20 11:48 PM","if they aren't there, your program didn't recover anything","",""
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","27-Mar-20 11:52 PM","But it also gave me this. Is it possible that I am missing a piece of code to display the file that's why it's not showing the image in my directory?","https://cdn.discordapp.com/attachments/395684916056031245/693215889956536440/Capture2.PNG",""
"393854278764068875","curiouskiwi#1671","27-Mar-20 11:57 PM","when you run `./recover card.raw` do you not get all 50 jpgs in that folder?","",""
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","27-Mar-20 11:57 PM","No üò¶","",""
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","27-Mar-20 11:58 PM","I didn't get any at all but it says that I recovered 000.jpg so I was confused.","",""
"393854278764068875","curiouskiwi#1671","28-Mar-20 12:00 AM","are you sure that the version you are testing with check50 is the same one you are running?  if you run `make recover` and then try again, do you see them?","",""
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","28-Mar-20 12:02 AM","Yes. It's the same result. It still says I recovered 000.jpg yet I see no changes in my directory.","",""
"393854278764068875","curiouskiwi#1671","28-Mar-20 12:22 AM","so when you run `ls -la` to list the files in your directory where you just ran recover, what do you get?","",""
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","28-Mar-20 12:24 AM","","https://cdn.discordapp.com/attachments/395684916056031245/693223899533410336/Capture4.PNG",""
"393854278764068875","curiouskiwi#1671","28-Mar-20 12:24 AM","your card.raw file is empty","",""
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","28-Mar-20 12:26 AM","Does that mean I didn't really recover anything?","",""
"393854278764068875","curiouskiwi#1671","28-Mar-20 12:28 AM","it means you have nothing to recover, since you have somehow deleted all the data in card.raw","",""
"393854278764068875","curiouskiwi#1671","28-Mar-20 12:28 AM","you'll need to get a new copy","",""
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","28-Mar-20 12:28 AM","Thank you @curiouskiwi","",""
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","28-Mar-20 01:33 AM","After reading the first 512 bytes of the file and calling fread() again will the content of the buffer be updated to the next 512 bytes?","",""
"393854278764068875","curiouskiwi#1671","28-Mar-20 02:42 AM","yes","","üëç (2)"
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","28-Mar-20 10:27 AM","Hello, what kind of image am I supposed to see for the 50th file?","",""
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","28-Mar-20 10:28 AM","I have 049.jpg but it says that it does not match.","",""
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","28-Mar-20 10:28 AM","Although the picture looks perfectly okay.","",""
"393854278764068875","curiouskiwi#1671","28-Mar-20 10:28 AM","most common reason is if you are writing the last 512 bytes twice","",""
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","28-Mar-20 10:29 AM","Oh thank you.","",""
"558660774307037194","„ÇΩ„Éï„Ç£„Ç¢#7524","28-Mar-20 10:30 AM","If I say EOF is it the last block of the memory or is it after the last block?","",""
"393854278764068875","curiouskiwi#1671","28-Mar-20 10:31 AM","EOF is only set when you try to read *past* the end","","üëç (2)"
"676272958322245672","Taiel#2422","28-Mar-20 07:11 PM","@curiouskiwi whenever my code gets to fread(&info, 512, 1, f); it says segmentation fault","",""
"676272958322245672","Taiel#2422","28-Mar-20 07:11 PM","why is that?","",""
"361235692019384323","Sanath#7244","28-Mar-20 07:26 PM","What's info?","",""
"676272958322245672","Taiel#2422","28-Mar-20 07:48 PM","The name I put to the buffer","",""
"361235692019384323","Sanath#7244","28-Mar-20 08:21 PM","Just pass in info not it's address","",""
"361235692019384323","Sanath#7244","28-Mar-20 08:22 PM","Arrays will decay to pointers","",""
"676272958322245672","Taiel#2422","28-Mar-20 08:22 PM","ok","",""
"676272958322245672","Taiel#2422","28-Mar-20 08:23 PM","it still says segmentation fault when it reaches that line","",""
"361235692019384323","Sanath#7244","28-Mar-20 08:23 PM","Need to see your code then","",""
"361235692019384323","Sanath#7244","28-Mar-20 08:23 PM","You sure you've recompiled?","",""
"676272958322245672","Taiel#2422","28-Mar-20 08:24 PM","#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>
typedef uint8_t BYTE;
int main(int argc, char *argv[])
{
   
    if (argc < 2)
    {
        return 1;
    }
    FILE *f = fopen(""argv[1]"", ""r"");
    BYTE *info = malloc(512);
    char *name[512];
    int a = 0;
    fread(info, 512, 1, f);
if (info[0] == 0xff && info[1] == 0xd8 && info[2] == 0xff && (info[3] & 0xf0) == 0xe0)
    {
        do
        {
            if (a == 0)
            {
                sprintf(name[a], ""%03i.jpg"", a);
                FILE *img = fopen(name[a], ""w"");
                fwrite(&info[a], 512, 1, img);
                a++;
            }
            FILE *img = fopen(name[a], ""w"");
            fwrite(&info[a], 512, 1, img);
        }
        while (info[0] != 0xff && info[1] != 0xd8 && info[2] != 0xff && (info[3] & 0xf0) != 0xe0);
        sprintf(name[a], ""%03i.jpg"", a);
        FILE *img = fopen(name[a], ""w"");
    }
}","",""
"367044760415895553","gansach#6107","28-Mar-20 08:42 PM","@Taiel when you're initializing file pointer f you're giving the first argument as ""argv[1]"" instead of argv[1], this argument should be a string (char *) and the user input argv[1] = ""card.raw"", so you've to put in ""card.raw""(hard coded value) there but you're literally putting ""argv[1]"".","",""
"676272958322245672","Taiel#2422","28-Mar-20 08:44 PM","tried that, but when it runs it says segmentation fault","",""
"367044760415895553","gansach#6107","28-Mar-20 08:46 PM","use: valgrind ./recover card.raw to debug further","",""
"361235692019384323","Sanath#7244","28-Mar-20 08:47 PM","Gansach is right, use argv[1] without quotes, if you're getting a segfault that lines not the issue","",""
"676272958322245672","Taiel#2422","28-Mar-20 08:47 PM","the line that give the seg fault is fread(&info, 512, 1, f);","",""
"367044760415895553","gansach#6107","28-Mar-20 08:50 PM","Can you share a picture of your valgrind summary?","",""
"361235692019384323","Sanath#7244","28-Mar-20 08:50 PM","Again, info not &info","",""
"361235692019384323","Sanath#7244","28-Mar-20 08:51 PM","It's a pointer","",""
"676272958322245672","Taiel#2422","28-Mar-20 08:51 PM","i changed that","",""
"676272958322245672","Taiel#2422","28-Mar-20 08:52 PM","==847== Invalid read of size 1
==847==    at 0x40074C: main (recover.c:17)
==847==  Address 0x0 is not stack'd, malloc'd or (recently) free'd
==847== 
==847== 
==847== Process terminating with default action of signal 11 (SIGSEGV)
==847==  Access not within mapped region at address 0x0
==847==    at 0x40074C: main (recover.c:17)
==847==  If you believe this happened as a result of a stack
==847==  overflow in your program's main thread (unlikely but
==847==  possible), you can try to increase the size of the
==847==  main thread stack using the --main-stacksize= flag.
==847==  The main thread stack size used in this run was 8388608.
==847== 
==847== HEAP SUMMARY:
==847==     in use at exit: 1,064 bytes in 2 blocks
==847==   total heap usage: 3 allocs, 1 frees, 5,160 bytes allocated
==847== 
==847== 512 bytes in 1 blocks are definitely lost in loss record 1 of 2
==847==    at 0x4C2FB0F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==847==    by 0x40071F: main (recover.c:13)
==847== 
==847== 552 bytes in 1 blocks are still reachable in loss record 2 of 2
==847==    at 0x4C2FB0F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==847==    by 0x5694E49: __fopen_internal (iofopen.c:65)
==847==    by 0x5694E49: fopen@@GLIBC_2.2.5 (iofopen.c:89)
==847==    by 0x400711: main (recover.c:12)
==847== 
==847== LEAK SUMMARY:
==847==    definitely lost: 512 bytes in 1 blocks
==847==    indirectly lost: 0 bytes in 0 blocks
==847==      possibly lost: 0 bytes in 0 blocks
==847==    still reachable: 552 bytes in 1 blocks
==847==         suppressed: 0 bytes in 0 blocks
==847== 
==847== For counts of detected and suppressed errors, rerun with: -v
==847== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)
Segmentation fault","",""
"361235692019384323","Sanath#7244","28-Mar-20 08:53 PM","What's line 17","",""
"676272958322245672","Taiel#2422","28-Mar-20 08:53 PM","if (info[0] == 0xff && info[1] == 0xd8 && info[2] == 0xff && (info[3] & 0xf0) == 0xe0)","",""
"676272958322245672","Taiel#2422","28-Mar-20 08:53 PM","its doing the seg fault there now","",""
"367044760415895553","gansach#6107","28-Mar-20 08:53 PM","It says invalid read of size 1 at address 0x0, you're trying to dereference a null pointer","",""
"361235692019384323","Sanath#7244","28-Mar-20 08:53 PM","Info is null apparently","",""
"367044760415895553","gansach#6107","28-Mar-20 08:54 PM","You should add a condition to return 1 (exit program) if initializing f returns a NULL pointer, which I guess it's doing because your argument was ""argv[1]""","",""
"676272958322245672","Taiel#2422","28-Mar-20 08:56 PM","i hard coded card.raw into the program","",""
"367044760415895553","gansach#6107","28-Mar-20 08:56 PM","It should be ""card.raw""","",""
"676272958322245672","Taiel#2422","28-Mar-20 08:57 PM","#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>
typedef uint8_t BYTE;
int main(int argc, char *argv[])
{
   
   /* if (argc < 2)
    {
        return 1;
    }*/
    FILE *f = fopen(""card.raw"", ""r"");
    if (f == NULL)
        return 1;
    BYTE *info = malloc(512);
    char *name[512];
    int a = 0;
    fread(info, 1, 512, f);
if (info[0] == 0xff && info[1] == 0xd8 && info[2] == 0xff && (info[3] & 0xf0) == 0xe0)
    {
        do
        {
            if (a == 0)
            {
                sprintf(name[a], ""%03i.jpg"", a);
                FILE *img = fopen(name[a], ""w"");
                fwrite(&info[a], 512, 1, img);
                a++;
            }
            FILE *img = fopen(name[a], ""w"");
            fwrite(&info[a], 512, 1, img);
        }
        while (info[0] != 0xff && info[1] != 0xd8 && info[2] != 0xff && (info[3] & 0xf0) != 0xe0);
        sprintf(name[a], ""%03i.jpg"", a);
        FILE *img = fopen(name[a], ""w"");
    }
    free(info);
}","",""
"367044760415895553","gansach#6107","28-Mar-20 08:57 PM","Do you still get a seg fault?","",""
"676272958322245672","Taiel#2422","28-Mar-20 08:59 PM","no it just ends","",""
"367044760415895553","gansach#6107","28-Mar-20 08:59 PM","Cool","",""
"367044760415895553","gansach#6107","28-Mar-20 09:00 PM","You've to implement your fread() inside the main loop, only then will it read 512 bytes and then the next 512 bytes and so on","",""
"676272958322245672","Taiel#2422","28-Mar-20 09:01 PM","found it","",""
"676272958322245672","Taiel#2422","28-Mar-20 09:01 PM","thanks","",""
"367044760415895553","gansach#6107","28-Mar-20 09:08 PM","My program runs fine when I write to an already initialised image pointer (case for appending to an already open JPEG file), but when I try to reopen the pointer using image = fopen(imageName, ""a""), before writing to the already open file, the images I get are destroyed/pixellated.","",""
"367044760415895553","gansach#6107","28-Mar-20 09:09 PM","Shouldn't reassiging a pointer using append argument, open at the end of the currently open file?","",""
"367044760415895553","gansach#6107","28-Mar-20 09:10 PM","Even though it would be redundant to reopen the file but still, I think even when I use the append argument it still goes to writing at the beginning of the file, I may be wrong","",""
"367044760415895553","gansach#6107","28-Mar-20 09:15 PM","Fixed it, realised it while asking the question lol","",""
"367044760415895553","gansach#6107","28-Mar-20 09:16 PM","I had to close the file before reopening for appending, it works in both cases now","",""
"367044760415895553","gansach#6107","28-Mar-20 09:16 PM","That's interesting kind of like you're saving your file when you close it","",""
"683083480275746954","bkapbkap#1012","29-Mar-20 01:25 AM","Which problem should be done first, Recover or Filter?","",""
"361235692019384323","Sanath#7244","29-Mar-20 01:25 AM","filter","",""
"683083480275746954","bkapbkap#1012","29-Mar-20 01:27 AM","Thanks @Sanath","",""
"591874246683394059","Muhammad Usman#3919","29-Mar-20 07:43 PM","What should be buffer (array) size for fread?","",""
"361235692019384323","Sanath#7244","29-Mar-20 08:10 PM","512 bytes since that's the size of 1 block","",""
"591874246683394059","Muhammad Usman#3919","29-Mar-20 08:14 PM","Thats the size of 1 block how do i know how many blocks is in the file?","",""
"361235692019384323","Sanath#7244","29-Mar-20 08:15 PM","you dont, you read 1 block at a time till you cant read anymore","",""
"591874246683394059","Muhammad Usman#3919","29-Mar-20 08:18 PM","Ok one more thing 
Fread(buffer,size,number,name)
What does number mean? 1 means it will read only 1 block?","",""
"361235692019384323","Sanath#7244","29-Mar-20 08:18 PM","yes","",""
"591874246683394059","Muhammad Usman#3919","29-Mar-20 08:19 PM","So i loop it till ???","",""
"361235692019384323","Sanath#7244","29-Mar-20 08:19 PM","fread will read `size * number` bytes","",""
"361235692019384323","Sanath#7244","29-Mar-20 08:19 PM","have you watched the walkthrough?","",""
"591874246683394059","Muhammad Usman#3919","29-Mar-20 08:19 PM","Yep .. couple of times","",""
"591874246683394059","Muhammad Usman#3919","29-Mar-20 08:19 PM","üò≠","",""
"361235692019384323","Sanath#7244","29-Mar-20 08:20 PM","the line of code is mentioned there im pretty sure","",""
"361235692019384323","Sanath#7244","29-Mar-20 08:20 PM","fread will return number of blocks read if it works correctly","",""
"591874246683394059","Muhammad Usman#3919","29-Mar-20 08:21 PM","Ill see walkthrough 1 more time","",""
"591874246683394059","Muhammad Usman#3919","29-Mar-20 08:38 PM","I wantched it again .. ok i got some things cleared but what i dont understand  for example there are 500 blocks of 512bytes .. how will buffer[512] will store it?","",""
"591874246683394059","Muhammad Usman#3919","29-Mar-20 08:38 PM","Am i missing some point here?","",""
"591874246683394059","Muhammad Usman#3919","29-Mar-20 08:39 PM","@Sanath","",""
"361235692019384323","Sanath#7244","29-Mar-20 08:42 PM","youre reading one block at a time, not the entire file, you only need enough memory to store 1 block","",""
"591874246683394059","Muhammad Usman#3919","29-Mar-20 08:45 PM","Do fread have to be in some loop to read 2nd block?","",""
"591874246683394059","Muhammad Usman#3919","29-Mar-20 08:45 PM","Or wil it automaticaly","",""
"361235692019384323","Sanath#7244","29-Mar-20 08:56 PM","it keeps track of how far youve read","",""
"361235692019384323","Sanath#7244","29-Mar-20 08:56 PM","but to repeatedly read youre going to need a loop anyway","",""
"412822445070876673","gtacs#3034","29-Mar-20 09:58 PM","I'm debugging my code and wondering, is there a difference between closing a .jpg and appending data to it, and leaving it open and writing to it?  my issue is i can recover all 50 jpgs but they look like crap, and it causes a fault on the last two params of check50

thx","",""
"591874246683394059","Muhammad Usman#3919","30-Mar-20 12:01 AM","When i try to if(buffer == 0xff) i get error comparision between pointer and integer","",""
"393854278764068875","curiouskiwi#1671","30-Mar-20 12:04 AM","you want to compare the first byte in the buffer.  `buffer[0]`","",""
"201112072946319360","TheNicky#5390","30-Mar-20 03:31 AM","guys how do I return 1 if the image does not open? pseudocode: ```  

FILE *file = fopen(argv[1], ""r""); 
if dont open:
return 1```","",""
"393854278764068875","curiouskiwi#1671","30-Mar-20 03:40 AM","`if (file == NULL)`   just as you saw in filter.c","",""
"201112072946319360","TheNicky#5390","30-Mar-20 03:51 AM","> `if (file == NULL)`   just as you saw in filter.c
@curiouskiwi thanks !","",""
"561715686062161930","alyosha#9620","30-Mar-20 06:56 AM","Can someone please tell me what I'm doing wrong here? All 50 files exist but each image only shows the top corner or part of the top row. I checked my code multiple times and am really at a loss. Thanks!","https://cdn.discordapp.com/attachments/395684916056031245/694032214345777162/SPOILER_Screen_Shot_2020-03-30_at_5.54.38_AM.png",""
"393854278764068875","curiouskiwi#1671","30-Mar-20 06:57 AM","how many chars (including the required null char at the end) do you need for the string ""000.jpg""?","",""
"561715686062161930","alyosha#9620","30-Mar-20 06:57 AM","oooh 8?","",""
"561715686062161930","alyosha#9620","30-Mar-20 06:57 AM","but this doesn't seem to be the part that's wrong though","",""
"561715686062161930","alyosha#9620","30-Mar-20 06:58 AM","the names show up fine it's just the image doesn't load","",""
"393854278764068875","curiouskiwi#1671","30-Mar-20 06:58 AM","how about you fix that and try again?","",""
"561715686062161930","alyosha#9620","30-Mar-20 06:59 AM","I fixed it and it's still wrong :/","",""
"393854278764068875","curiouskiwi#1671","30-Mar-20 06:59 AM","if you run `ls -l` on your folder, what's the size of 000.jpg?","",""
"393854278764068875","curiouskiwi#1671","30-Mar-20 07:00 AM","also, any reason why you are writing every block twice each time?","",""
"561715686062161930","alyosha#9620","30-Mar-20 07:01 AM","this is what shows up when i run ls -l","https://cdn.discordapp.com/attachments/395684916056031245/694033515075076096/Screen_Shot_2020-03-30_at_6.00.29_AM.png",""
"561715686062161930","alyosha#9620","30-Mar-20 07:02 AM","Oh it is fixed! i deleted the second run of fwrite","",""
"561715686062161930","alyosha#9620","30-Mar-20 07:02 AM","Thank you so much!","",""
"393854278764068875","curiouskiwi#1671","30-Mar-20 07:03 AM","you're welcome","",""
"676669057306591242","220284hk#8165","30-Mar-20 02:24 PM","> how many chars (including the required null char at the end) do you need for the string ""000.jpg""?
@curiouskiwi oh my god! This is completely inexplicable! I have been trying to figure out the issue in my program for so long and when I changed this it worked! When I ran debug50, it could find the starts of jpgs fine (fread was working okay) but for some reason when I was writing using fwrite, the first byte was saved as 0x00 instead of 0xff (when I opened the jpg as hexadecimal). How are the two even related? I would be grateful for any explanation!","",""
"591874246683394059","Muhammad Usman#3919","30-Mar-20 03:32 PM","@curiouskiwi  yes please explain it to me too","",""
"412822445070876673","gtacs#3034","30-Mar-20 06:10 PM","Here is my code for recover, I'm passing everything on check50 except image 049.jpg is not correct. However, when I run the program it looks good on my pc...I'm assuming it has to do with end of file (eof) detection, but I can't see the bug.

any help is much appreciated","https://cdn.discordapp.com/attachments/395684916056031245/694201973809086464/SPOILER_recover_code.txt",""
"412822445070876673","gtacs#3034","30-Mar-20 06:11 PM","here is my check50","https://cdn.discordapp.com/attachments/395684916056031245/694202053270044772/recover_check50.png",""
"676669057306591242","220284hk#8165","30-Mar-20 10:28 PM","> here is my check50
@gtacs Hey! I had a look at your program. If you run debug50 with a breakpoint at line34 it may help you figure out what the problem is :). If you're still stuck let me know","",""
"412822445070876673","gtacs#3034","30-Mar-20 10:31 PM","@220284hk thx for the reply i'll check that, been driving me crazy...","",""
"676669057306591242","220284hk#8165","30-Mar-20 10:39 PM","> @220284hk thx for the reply i'll check that, been driving me crazy...
@gtacs You're welcome! Also, you might want to have a look at how to negate statements üôÇ","",""
"393854278764068875","curiouskiwi#1671","30-Mar-20 10:47 PM","> @curiouskiwi oh my god! This is completely inexplicable! I have been trying to figure out the issue in my program for so long and when I changed this it worked! When I ran debug50, it could find the starts of jpgs fine (fread was working okay) but for some reason when I was writing using fwrite, the first byte was saved as 0x00 instead of 0xff (when I opened the jpg as hexadecimal). How are the two even related? I would be grateful for any explanation!
@220284hk @Muhammad Usman   the 0x00 in the first byte of your buffer is the NULL char that sprintf added to the end of the filename string. `sprintf` wrote the bytes `'0' '0' '0' '.' 'j' 'p' 'g' '\0'` where it belonged, but because your array had only 7 bytes allocated to it, the last byte (the null) simply overwrote the memory in that slot ... which just happens to be the memory that was allocated for your buffer.  So buffer[0] then became 0x00","",""
"676669057306591242","220284hk#8165","30-Mar-20 10:49 PM","@curiouskiwi  Thank you for your answer! That was my guess as well but the likelihood of that occuring again and again in the same location would be 0 if one were to run it on their own computer right? Is the memory stored non randomly on the IDE?","",""
"393854278764068875","curiouskiwi#1671","30-Mar-20 10:54 PM","@220284hk the compiler decides what memory to use, but generally, it just grabs contiguous memory if its available.  In this case it grabbed 7 bytes for the filename and 512 for the buffer directly afterwards.  If you'd had another variable in your program that was declared in between those 2, it would have put that in memory and depending on how much space it needed, you might not have run into this overwriting problem.","","üëç (1)"
"393854278764068875","curiouskiwi#1671","30-Mar-20 10:55 PM","if you're running the same compiler on your own machine, I'd expect the same thing to happen","",""
"676669057306591242","220284hk#8165","30-Mar-20 10:58 PM","Thank you for you time once again!","",""
"444575948696846336","tmichal2#4341","30-Mar-20 11:36 PM","I'm having trouble getting my program to work. Compiling correctly and outputting jpegs #0-49, but each of those jpegs has the same first 6 bytes when I look at the hexadecimal view (and, of course there is no image shown).","",""
"444575948696846336","tmichal2#4341","30-Mar-20 11:37 PM","I think I'm stuck on the last ""Else"" in Brian's pseudocode, i.e. ""Else, If already found JPEG...""","",""
"444575948696846336","tmichal2#4341","31-Mar-20 12:26 AM","Nvm, got it!","",""
"411234197751988224","BhayanakMaut#9412","31-Mar-20 01:58 PM","I DID IT!!!","",""
"411234197751988224","BhayanakMaut#9412","31-Mar-20 01:58 PM","Feels so surreal..","",""
"411234197751988224","BhayanakMaut#9412","31-Mar-20 01:58 PM","Can't believe I've done it.","",""
"429310729657516054","TLAIR#1637","31-Mar-20 05:59 PM","typedef uint8_t BYTE; what does this mean","",""
"429310729657516054","TLAIR#1637","31-Mar-20 05:59 PM","?","",""
"361235692019384323","Sanath#7244","31-Mar-20 06:01 PM","uint8_t is a unsigned integer 8 bits wide","",""
"429310729657516054","TLAIR#1637","31-Mar-20 06:03 PM","so to use use it ...just replace int with uint_8?","",""
"429310729657516054","TLAIR#1637","31-Mar-20 06:03 PM","its a type?","",""
"361235692019384323","Sanath#7244","31-Mar-20 06:03 PM","yeah its a type","",""
"361235692019384323","Sanath#7244","31-Mar-20 06:03 PM","the typedef makes BYTE the same thing","",""
"429310729657516054","TLAIR#1637","31-Mar-20 06:04 PM","Thanks a lot","",""
"393854278764068875","curiouskiwi#1671","01-Apr-20 07:52 AM","the size?","",""
"393854278764068875","curiouskiwi#1671","01-Apr-20 07:54 AM","why is argv[1] in quotes?  `    char *src_name = ""argv[1]"";`","",""
"689842294484107401","Shahriar#4279","01-Apr-20 07:55 AM","My bad. I thought it should be within quotation marks as it's a string.","",""
"393854278764068875","curiouskiwi#1671","01-Apr-20 07:56 AM","did that fix your segfault?","",""
"689842294484107401","Shahriar#4279","01-Apr-20 07:58 AM","> did that fix your segfault?
@curiouskiwi  yeah üôÇ . Thanks","",""
"689842294484107401","Shahriar#4279","01-Apr-20 08:02 AM","@curiouskiwi do you think my use of the ceil() function was redundant in that code?","",""
"393854278764068875","curiouskiwi#1671","01-Apr-20 08:03 AM","sorry, I didn't get that far before deleting it.  It's not a common solution to calculate the size ahead of time. üòâ","",""
"689842294484107401","Shahriar#4279","01-Apr-20 08:09 AM","> sorry, I didn't get that far before deleting it.  It's not a common solution to calculate the size ahead of time. üòâ
@curiouskiwi  I was trying to divide the size by 512 to get the possible block_numbers so that i can run a for loop against it until the program reaches the end of the file. I am trying to think of other ways but this is the first idea that i came up with üòï","",""
"393854278764068875","curiouskiwi#1671","01-Apr-20 08:19 AM","you can certainly do that. I think the walkthrough suggest you simply use the return value from fread to know if it reached the end","",""
"393854278764068875","curiouskiwi#1671","01-Apr-20 08:19 AM","in a while loop","",""
"689842294484107401","Shahriar#4279","01-Apr-20 11:04 AM","@curiouskiwi ,  gladly i could figure that out after getting your hint and going through the walkthrough a few more times üòå .  Even though it took me a little more than 7 hours  to finish the whole program correctly, i am glad that i could make it finally üòÄ. @malan  @brian , you guys are the best  ü§ü","https://cdn.discordapp.com/attachments/395684916056031245/694819508094763058/asfs.PNG",""
"689842294484107401","Shahriar#4279","01-Apr-20 12:38 PM","> Can someone please tell me what I'm doing wrong here? All 50 files exist but each image only shows the top corner or part of the top row. I checked my code multiple times and am really at a loss. Thanks!
@alyosha  Looks like the while statement needs to be fixed.","",""
"689842294484107401","Shahriar#4279","01-Apr-20 12:44 PM","> Can someone please tell me what I'm doing wrong here? All 50 files exist but each image only shows the top corner or part of the top row. I checked my code multiple times and am really at a loss. Thanks!
@alyosha And also above counter++, probably you need to consider using fwrite() after opening the file.","",""
"418804878656274434","SvejKelej#4184","01-Apr-20 08:18 PM","@brian i would like to study some arabic pleaseüá∏üá¶","",""
"429310729657516054","TLAIR#1637","01-Apr-20 09:17 PM","guys.....how long is the code??{lines approximate?}","",""
"96996320262242304","awithsmith#6847","02-Apr-20 09:32 AM","@TLAIR I just submitted mine at 64 lines","",""
"429310729657516054","TLAIR#1637","02-Apr-20 12:27 PM","@awithsmith thanks","",""
"501385167693414427","noubody#4835","02-Apr-20 05:03 PM","Is it just me or did anyone get a seg fault in recover","",""
"501385167693414427","noubody#4835","02-Apr-20 05:03 PM","its driving me crazy","",""
"501385167693414427","noubody#4835","02-Apr-20 05:05 PM","would any one mind helping me out with this one, i dont clear cut answer just a clue on where its going wrong","https://cdn.discordapp.com/attachments/395684916056031245/695272809659629618/SPOILER_recover.c",""
"501385167693414427","noubody#4835","02-Apr-20 05:10 PM","the code is a bit messy, so apologies in advance","",""
"665053121499627571","fjw#9108","02-Apr-20 08:32 PM","look at your variable initializations","",""
"665053121499627571","fjw#9108","02-Apr-20 08:35 PM","and as a freebie (different problem) but one you'll stare at for days not not see:  %03i, <---- you have a comma üòâ","",""
"665053121499627571","fjw#9108","02-Apr-20 08:37 PM","but hint for your problem - initializing multiple variables on a single line can often result in incorrect datatyping","",""
"501385167693414427","noubody#4835","03-Apr-20 11:38 AM","thanks for the hints, i found an wrong declaration and the silly comma too","",""
"501385167693414427","noubody#4835","03-Apr-20 11:41 AM","but i am still getting a segmentation fault i tried valgrind but its difficult to understand it. Could u look into it once more @fjw  pls üòø","",""
"501385167693414427","noubody#4835","03-Apr-20 11:57 AM","https://pastebin.com/MG52Jd7P","",""
"665053121499627571","fjw#9108","03-Apr-20 04:44 PM","@noubody 2 things - you sure your code compiles?  Once I fixed what was wrong based on the compiler errors and the code compiled, your code is (almost) fine - you also need better file exception handling and then it's complete","",""
"665053121499627571","fjw#9108","03-Apr-20 04:47 PM","and the hint to fix your compiler errors can be found in the hint section of the pset specification","",""
"429310729657516054","TLAIR#1637","03-Apr-20 05:39 PM","guys....so the fread returns an integer.....how do we use the integer?","",""
"665053121499627571","fjw#9108","03-Apr-20 05:53 PM","https://man.cs50.io/3/fread","",""
"674765626916601858","rcGLA#7676","03-Apr-20 06:49 PM","Trying to get my head around sprintf(). Why is it that if I initialise filename as an array of characters (filename[8]) it works fine, but if I initialise it like: char *filename = ""0123456""; I get a segmentation fault? Don't both methods create a string of length 8?","",""
"429310729657516054","TLAIR#1637","03-Apr-20 07:55 PM","The sprintf() gives us a file .....so how do we save the name to use it?","",""
"354322001596514315","SixSlotsSamurai#2197","03-Apr-20 08:10 PM","> The sprintf() gives us a file .....so how do we save the name to use it?
@TLAIR it gives us a formatted output which writed to the pointer (character string).","",""
"269227960156946454","GhostDragon#7128","03-Apr-20 08:39 PM","@SixSlotsSamurai  PLEASE dont post so much code, if you have to then put it under a spoiler tag","",""
"354322001596514315","SixSlotsSamurai#2197","03-Apr-20 08:47 PM","> @SixSlotsSamurai  PLEASE dont post so much code, if you have to then put it under a spoiler tag
@GhostDragon Ok. Sorry","",""
"429310729657516054","TLAIR#1637","03-Apr-20 08:56 PM","@SixSlotsSamurai ok ...but lets say its saving 002.jpg.","",""
"429310729657516054","TLAIR#1637","03-Apr-20 08:56 PM","How can i save this value?","",""
"269227960156946454","GhostDragon#7128","03-Apr-20 09:06 PM","@SixSlotsSamurai you say that but its still there","",""
"269227960156946454","GhostDragon#7128","03-Apr-20 09:06 PM","please put it under spoiler or delete it","",""
"354322001596514315","SixSlotsSamurai#2197","03-Apr-20 10:55 PM","> How can i save this value?
@TLAIR you already store (save) this value in your string variable. You need to open file with that filename to write.","",""
"385411510773612545","rjdabeast#6898","04-Apr-20 04:05 AM","Guys I am very stuck","",""
"385411510773612545","rjdabeast#6898","04-Apr-20 04:08 AM","","https://cdn.discordapp.com/attachments/395684916056031245/695801888406372433/SPOILER_Screen_Shot_2020-04-04_at_4.07.47_AM.png",""
"385411510773612545","rjdabeast#6898","04-Apr-20 04:08 AM","I keep getting a seg fault","",""
"385411510773612545","rjdabeast#6898","04-Apr-20 04:08 AM","Could someone give me some advice please","",""
"393854278764068875","curiouskiwi#1671","04-Apr-20 04:09 AM","your filename is declared as a string literal that is read only.  Perhaps you want a character array large enough to hold your string instead.","",""
"385411510773612545","rjdabeast#6898","04-Apr-20 04:15 AM","So should i do","",""
"385411510773612545","rjdabeast#6898","04-Apr-20 04:15 AM","char* filename[8] = NULL;","",""
"393854278764068875","curiouskiwi#1671","04-Apr-20 04:16 AM","no, that's an array of 8 strings","",""
"393854278764068875","curiouskiwi#1671","04-Apr-20 04:16 AM","but close.  and no need to initialize it.","",""
"385411510773612545","rjdabeast#6898","04-Apr-20 04:18 AM","char filename[8]; ?","",""
"385411510773612545","rjdabeast#6898","04-Apr-20 04:24 AM","now I end up getting one jpeg","",""
"385411510773612545","rjdabeast#6898","04-Apr-20 06:04 AM","All jpegs turn out perfect except the last one where only the top row of pixels can be seen","",""
"385411510773612545","rjdabeast#6898","04-Apr-20 06:24 AM","","https://cdn.discordapp.com/attachments/395684916056031245/695836153856917514/SPOILER_Screen_Shot_2020-04-04_at_6.24.07_AM.png",""
"385411510773612545","rjdabeast#6898","04-Apr-20 06:24 AM","Once I reach the last jpeg, this is the part of my code that works on it","",""
"385411510773612545","rjdabeast#6898","04-Apr-20 06:25 AM","Any suggestions?","",""
"385411510773612545","rjdabeast#6898","04-Apr-20 06:25 AM","I only get the top row of pixels","",""
"501385167693414427","noubody#4835","04-Apr-20 01:47 PM","can anybody help me with this, the code so far logically should work but i am keep on getting seg fault error, i tired a bunch of things including those @fjw tipped but nothing seems to work, i been with this problem for disgusting amount of hours pls help me to end it","",""
"501385167693414427","noubody#4835","04-Apr-20 01:47 PM","https://pastebin.com/wDBENZnw","",""
"236625588868087808","psychodoughb0y#0892","04-Apr-20 09:47 PM","Anyone know why image_number is set back to zero after I call ||sprintf(image_name,  ""%03d.jpg"", image_number); || If I comment out this line it goes up as intended.","",""
"236625588868087808","psychodoughb0y#0892","04-Apr-20 09:55 PM","I tried doing int x = image_number, then using x in that formula, and had the same problem.  I can't understand why that line would change the variable at all.","",""
"236625588868087808","psychodoughb0y#0892","04-Apr-20 10:23 PM","I don't understand why that line is affecting the variable image_number at all, especially once I removed it and replaced it with x.","",""
"236625588868087808","psychodoughb0y#0892","04-Apr-20 10:45 PM","Got it with some help.","",""
"335057764336402444","tomasz#5748","06-Apr-20 03:46 PM","Hello, everybody!
I'm super stuck with this problem, to the point where I look at the code and cannot think of anything else to do. Can somebody please give me any pointers (pun *so* intended :P)? It compiles fine, but I'm getting only 23 jpeg files and they're all distorted. Thanks for all your help in advance!
https://pastebin.com/jCZf7pxL
PS. I just started programming for the first time in my life a couple of weeks ago, so I'm aware there could be some rookie mistakes in there, don't be too harsh on me! üòÑ","",""
"317468958854742028","Jrua#0824","06-Apr-20 10:34 PM","can someone explain to me what we're supposed to do in this pset?","",""
"317468958854742028","Jrua#0824","06-Apr-20 10:34 PM","i'm confused about like everything for this pset","",""
"694267506910691420","cielcloud#5124","06-Apr-20 10:49 PM","short answer: you have 'lost' a list of pictures that was deleted from a memory card, and your job is to recover the pictures that were deleted because they are technically still in memory.","",""
"694267506910691420","cielcloud#5124","06-Apr-20 10:49 PM","@Jrua","",""
"317468958854742028","Jrua#0824","06-Apr-20 10:50 PM","no like","",""
"317468958854742028","Jrua#0824","06-Apr-20 10:50 PM","nvm","",""
"694267506910691420","cielcloud#5124","06-Apr-20 10:53 PM","what are you confused exaclty?","",""
"694267506910691420","cielcloud#5124","06-Apr-20 10:53 PM","try to give us more details of what you are not understanding","",""
"694954008325914695","Jking#0735","06-Apr-20 11:05 PM","Can someone help me figure out this Segmentation Fault I am getting? It happens directly after the first jpg is finished and I rename the 'filename' and open it. I know that it has to be how I implemented sprintf() or fopen().","https://cdn.discordapp.com/attachments/395684916056031245/696812826571833374/SPOILER_Screen_Shot_2020-04-06_at_3.02.42_PM.png",""
"694954008325914695","Jking#0735","07-Apr-20 12:02 AM","@etherealshade I figured it out by creating a temp char * using malloc() and my program is now working. But honestly I'm really unsure why it didn't work before. I guess I'm still confused on when to use malloc(). Why is the original char *filename causing a segfault in sprintf?","",""
"694954008325914695","Jking#0735","07-Apr-20 12:12 AM","Ok, I guess I'm misunderstanding the sprintf function. I thought it was reassigning the values in the string","",""
"393854278764068875","curiouskiwi#1671","07-Apr-20 12:27 AM","@etherealshade that's an array of strings","",""
"393854278764068875","curiouskiwi#1671","07-Apr-20 12:28 AM","@Jking your issue is that you've declared your filename to be a string literal (ie, read only) and as such, when you try to sprintf to it, you'll crash.  Perhaps you meant a char array rather than a pointer?","",""
"694954008325914695","Jking#0735","07-Apr-20 12:48 AM","ah so lose the '*'?","",""
"409623218517704705","Thien#0976","07-Apr-20 12:53 AM","why does he use fread(bytes, 3, 1, file) but not fread(bytes, 1, 3, file)?
Is he assuming that each element is 3-byte large?","https://cdn.discordapp.com/attachments/395684916056031245/696839977560047666/unknown.png",""
"409623218517704705","Thien#0976","07-Apr-20 12:56 AM","yes, I also feel like 1, 3 or 1, 512 is more understandable","",""
"409623218517704705","Thien#0976","07-Apr-20 12:57 AM","but still, I don't quite understand what I should do after watching walkthrough video, lecture and even the short videos","",""
"409623218517704705","Thien#0976","07-Apr-20 12:59 AM","this is what I have done so far
but as far as I understand, these lines of code only read the first 512-byte chunk","https://cdn.discordapp.com/attachments/395684916056031245/696841565657759794/SPOILER_unknown.png",""
"409623218517704705","Thien#0976","07-Apr-20 12:59 AM","but how are the chunks seperated?","",""
"409623218517704705","Thien#0976","07-Apr-20 01:00 AM","separated*?","",""
"409623218517704705","Thien#0976","07-Apr-20 01:35 AM","yes, I'm aware of that
I'm gonna summarize what I know so far:
1/ Read the file until encounter something like 0xff 0xd8 0xff
2/ Start writing data from 0xff until seeing another one.
I'm confused at this step, writing means using fwrite, right?
So, I'll have something like this:
FILE* img = fopen(""example.jpg"", ""w"");
fwrite(buffer[???], 1, 512, img);
right?
So this is where I'm confused, how do I determine which point I start writing?","",""
"409623218517704705","Thien#0976","07-Apr-20 01:39 AM","for example, this first 512-byte block is not a JPEG, how can I start reading the second 512-block?
For example my first block fread is: fread(buffer, 1, 512, sourceptr);","",""
"409623218517704705","Thien#0976","07-Apr-20 01:42 AM","but we don't know how many blocks are there, do we?","",""
"409623218517704705","Thien#0976","07-Apr-20 01:48 AM","for example, I want to check if the first block is a JPEG or not
I'm gonna do like this, right?","https://cdn.discordapp.com/attachments/395684916056031245/696853930415751168/SPOILER_unknown.png",""
"409623218517704705","Thien#0976","07-Apr-20 01:51 AM","I ran it, you can see at the terminal window","",""
"409623218517704705","Thien#0976","07-Apr-20 01:52 AM","but is the buffer supposed to have enough space for the whole memory card?","",""
"409623218517704705","Thien#0976","07-Apr-20 01:57 AM","still confused
fread is reading the file from the beginning right? from the very first byte of the file
so how can we read each 512-byte block at a time? Like, read the first 512-byte block, then read the next 512-byte block, then the next one, ...?","",""
"409623218517704705","Thien#0976","07-Apr-20 02:00 AM","but we don't need fseek to do this problem, right?","",""
"393854278764068875","curiouskiwi#1671","07-Apr-20 02:00 AM","you shouldn't need to use fseek at all","",""
"409623218517704705","Thien#0976","07-Apr-20 02:00 AM","I understand a bit more now, I'll try some more","",""
"409623218517704705","Thien#0976","07-Apr-20 02:08 AM","is this picture what am I supposed to recover?","https://cdn.discordapp.com/attachments/395684916056031245/696858787314925628/unknown.png",""
"409623218517704705","Thien#0976","07-Apr-20 02:09 AM","but its header is 0xff 0xd8 0xff","",""
"236625588868087808","psychodoughb0y#0892","07-Apr-20 02:58 AM","@Thien Check the assignment again.  Those three values were not the only ones to look for.","",""
"409623218517704705","Thien#0976","07-Apr-20 02:59 AM","what values?","",""
"362729008531505154","Mike Portnoyz#7103","07-Apr-20 03:21 AM","Hmmm. It seems to work perfectly yet the tester says nothing is recovered correctly.","",""
"362729008531505154","Mike Portnoyz#7103","07-Apr-20 03:22 AM","oh I was supposed to number them from 000 maybe","",""
"236625588868087808","psychodoughb0y#0892","07-Apr-20 03:25 AM","> but its header is 0xff 0xd8 0xff
@Thien These values.","",""
"409623218517704705","Thien#0976","07-Apr-20 03:26 AM","I may have made a short-cut when saying that
I actually did check the first 4 bytes","","üëç (1)"
"409623218517704705","Thien#0976","07-Apr-20 03:28 AM","This is what I did, I hope to find at least a clue of a real picture
it turns out I find nothing","https://cdn.discordapp.com/attachments/395684916056031245/696879069886939266/SPOILER_unknown.png",""
"409623218517704705","Thien#0976","07-Apr-20 03:29 AM","because at the first bytes of the memory card, it's not JPEG file, so I think I may poke around to detect the first JPEG file","",""
"362729008531505154","Mike Portnoyz#7103","07-Apr-20 03:30 AM","why read 512 intervals of 1 byte instead of 1 interval of 512 bytes?","",""
"409623218517704705","Thien#0976","07-Apr-20 03:31 AM","I don't know that yet, but I feel like it's the way it should be, to check every single byte","",""
"362729008531505154","Mike Portnoyz#7103","07-Apr-20 03:31 AM","also, some things in c are a bit odd in the way that they actually get executed for real, even if you put them inside the condition of an if.","",""
"362729008531505154","Mike Portnoyz#7103","07-Apr-20 03:32 AM","no, we're looking at chunks of 512 bytes, not chunks of 1 byte. We're sampling big sections on purpose, and we check the start of those each 512 bytes","",""
"362729008531505154","Mike Portnoyz#7103","07-Apr-20 03:32 AM","every time you call fread, I think, it executes on a new part of data","",""
"362729008531505154","Mike Portnoyz#7103","07-Apr-20 03:33 AM","you could simply put it into your while and check every time (you're never refreshing n in your loop at the moment anyways)","",""
"362729008531505154","Mike Portnoyz#7103","07-Apr-20 03:33 AM","so you get the benefit of both checking if it's returning 1 (as in, it successfully read 1 chunk of 512 bytes), and also at the same time it actually reads the file","",""
"409623218517704705","Thien#0976","07-Apr-20 03:40 AM","right now I'm just trying to detect the very first JPEG file in the memory card
I did something like this, still got nothing even though I try a chunk of 512 bytes","https://cdn.discordapp.com/attachments/395684916056031245/696881970910593094/SPOILER_unknown.png",""
"236625588868087808","psychodoughb0y#0892","07-Apr-20 03:44 AM","How big is an image?","",""
"409623218517704705","Thien#0976","07-Apr-20 03:45 AM","maybe more than 512 bytes","",""
"409623218517704705","Thien#0976","07-Apr-20 04:05 AM","I use debug50 and it seems my fwrite function doesn't work","",""
"361235692019384323","Sanath#7244","07-Apr-20 06:48 AM","Your image isn't 512 bytes, I'd recommend watching the walkthrough again","",""
"409623218517704705","Thien#0976","07-Apr-20 06:51 AM","I've watched no less than 5 times","",""
"409623218517704705","Thien#0976","07-Apr-20 07:06 AM","I did it, I completed recover","",""
"409623218517704705","Thien#0976","07-Apr-20 07:07 AM","50 pictures in total","",""
"490319398268174336","jl16exapvp#0699","07-Apr-20 06:25 PM","The code works as expected but check50 says that the 049.jpg doesn't match.","https://cdn.discordapp.com/attachments/395684916056031245/697104776911126588/SPOILER_unknown.png",""
"409623218517704705","Thien#0976","07-Apr-20 08:04 PM","what does your 049.jpg look like?","",""
"694954008325914695","Jking#0735","07-Apr-20 08:45 PM","@curiouskiwi  I was able to complete my recover and submit, but this was still confusing me. I did a little research about string literals (https://www.dreamincode.net/forums/topic/411227-the-difference-between-c-strings-and-string-literals/) and was wondering if you could tell me if this is correct: since I hard-coded the initialization of ""filename"" as ""000.jpg"" I created a string literal that the compiler stored in a read only section of memory. If I had just created an empty  char array with length 8 and then filled it using sprintf() it would have been allocated to the stack memory where I could have continuosly re-written to it?","",""
"490319398268174336","jl16exapvp#0699","07-Apr-20 08:47 PM","Looks like this","https://cdn.discordapp.com/attachments/395684916056031245/697140596434796585/unknown.png",""
"393854278764068875","curiouskiwi#1671","07-Apr-20 10:30 PM","@Jking yes, that's correct","","üôå (1)"
"409623218517704705","Thien#0976","07-Apr-20 11:45 PM","> Looks like this
@jl16exapvp hmm, I may have encountered the same issue as yours
but mine was slightly different.
Ask yourself this, when will your loop break?","",""
"490319398268174336","jl16exapvp#0699","08-Apr-20 02:14 AM","Thanks, I will check","",""
"694267506910691420","cielcloud#5124","08-Apr-20 04:27 AM","Hi guys, I have been stuck on my pset4 recover for days now and I can't figure out why my if statement is not working. When I run the debugger, it seems that the if statement on line 37 is skipped and then executes line 54 following with a segmentation fault. Can anyone give me some hints on why the if condition at line 37 cannot be runned? Any help is greatly appreciated, thanks!","https://cdn.discordapp.com/attachments/395684916056031245/697256164714348555/SPOILER_Capture.PNG",""
"269227960156946454","GhostDragon#7128","08-Apr-20 04:28 AM","what is buffer[3] & 0xf0 supposed to mean on line 37?","",""
"694267506910691420","cielcloud#5124","08-Apr-20 04:29 AM","This is a better screenshot with the variables included","https://cdn.discordapp.com/attachments/395684916056031245/697256736045793400/SPOILER_Capture.PNG",""
"694267506910691420","cielcloud#5124","08-Apr-20 04:30 AM","huh it means if buffer[3] falls within 0xe0 and 0x15 (to my understanding )","",""
"694267506910691420","cielcloud#5124","08-Apr-20 04:30 AM","@GhostDragon","",""
"694267506910691420","cielcloud#5124","08-Apr-20 04:31 AM","buffer[3] of a jpeg is a hexadecimal from 0xe0 to 0x15, so we can use buffer[3] & 0xf0) == 0xe0 instead of including all numbers (if im correct)","",""
"269227960156946454","GhostDragon#7128","08-Apr-20 04:32 AM","oh ok","",""
"269227960156946454","GhostDragon#7128","08-Apr-20 04:33 AM","i think i see the issue","",""
"269227960156946454","GhostDragon#7128","08-Apr-20 04:33 AM","imagine if your while condition isnt true from the start","",""
"269227960156946454","GhostDragon#7128","08-Apr-20 04:34 AM","it will try to close img which is null","",""
"694267506910691420","cielcloud#5124","08-Apr-20 04:37 AM","sorry are you referring to the 2 fclose at the end of the file? (line 57 & 58)","",""
"269227960156946454","GhostDragon#7128","08-Apr-20 04:37 AM","yes","",""
"694267506910691420","cielcloud#5124","08-Apr-20 04:38 AM","correct me if im wrong, but i think while statement can be false only if the fread function has read all of the memory no?","",""
"694267506910691420","cielcloud#5124","08-Apr-20 04:38 AM","if all of the memory hasn't been read yet, it will not execute the two fclose","",""
"269227960156946454","GhostDragon#7128","08-Apr-20 04:40 AM","yeah you are right sorry","",""
"694267506910691420","cielcloud#5124","08-Apr-20 04:40 AM","np","",""
"694267506910691420","cielcloud#5124","08-Apr-20 04:40 AM","problem must be around line 37 cuz it skips it when i use debugging","",""
"694267506910691420","cielcloud#5124","08-Apr-20 04:41 AM","idk why buffer[0] etc doesn't store the hexadecimal value of the jpeg (when i use debugging, it doens't show the values)","",""
"269227960156946454","GhostDragon#7128","08-Apr-20 04:42 AM","try making that condition a boolean in a previous line just to see the value of it","",""
"694267506910691420","cielcloud#5124","08-Apr-20 04:42 AM","you meant like bool x = buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0;","",""
"694267506910691420","cielcloud#5124","08-Apr-20 04:43 AM","still gives the same issue...","",""
"269227960156946454","GhostDragon#7128","08-Apr-20 04:43 AM","hmm","",""
"694267506910691420","cielcloud#5124","08-Apr-20 04:43 AM","","https://cdn.discordapp.com/attachments/395684916056031245/697260340609679391/SPOILER_gg.PNG",""
"269227960156946454","GhostDragon#7128","08-Apr-20 04:43 AM","are you sure you are reading the right number of bytes?","",""
"694267506910691420","cielcloud#5124","08-Apr-20 04:43 AM","well it's block of 512, so yeah","",""
"236625588868087808","psychodoughb0y#0892","08-Apr-20 06:13 AM","Does an fread of 512, 1 do the same as 1, 512?","",""
"236625588868087808","psychodoughb0y#0892","08-Apr-20 06:14 AM","Because I know it isn't with malloc, right?","",""
"393854278764068875","curiouskiwi#1671","08-Apr-20 06:21 AM","it reads 512 bytes; the difference is the value that is returned upon success","",""
"236625588868087808","psychodoughb0y#0892","08-Apr-20 06:23 AM","But buffer is the same with either value?","",""
"393854278764068875","curiouskiwi#1671","08-Apr-20 06:27 AM","yes","",""
"317468958854742028","Jrua#0824","08-Apr-20 10:18 PM","how do i choose the beginning point of fread","",""
"317468958854742028","Jrua#0824","08-Apr-20 10:19 PM","what if i want to read the second chunk of memory","",""
"361235692019384323","Sanath#7244","08-Apr-20 10:19 PM","fread keeps track of how far its read","",""
"317468958854742028","Jrua#0824","08-Apr-20 10:21 PM","ah","",""
"317468958854742028","Jrua#0824","08-Apr-20 10:21 PM","oh hi sanath","",""
"317468958854742028","Jrua#0824","08-Apr-20 10:21 PM","how should I make the jpegs after i check if they're jpegs?","",""
"317468958854742028","Jrua#0824","08-Apr-20 10:22 PM","this is what i have so far","https://cdn.discordapp.com/attachments/395684916056031245/697526737537597964/SPOILER_unknown.png",""
"633236105805692956","Mika'el#9365","08-Apr-20 11:31 PM","Keep on getting a segmentation fault. Anyone see why?","",""
"694267506910691420","cielcloud#5124","08-Apr-20 11:34 PM","@Mika'el you might need to write a condition if the 512 bytes is not a jpeg image","",""
"694267506910691420","cielcloud#5124","08-Apr-20 11:34 PM","in your code, you wrote if (jpeg header found) {print} else {keep writing}","",""
"694267506910691420","cielcloud#5124","08-Apr-20 11:35 PM","what if the chunk of memory is not a jpeg file?","",""
"676272958322245672","Taiel#2422","08-Apr-20 11:45 PM","you only want to close the file if you find (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0) and the img isnt nule","",""
"676272958322245672","Taiel#2422","08-Apr-20 11:46 PM","only keep writing if img isnt nule","",""
"676272958322245672","Taiel#2422","08-Apr-20 11:46 PM","null","",""
"633236105805692956","Mika'el#9365","08-Apr-20 11:48 PM","ok let me try that","",""
"694267506910691420","cielcloud#5124","08-Apr-20 11:51 PM","","https://cdn.discordapp.com/attachments/395684916056031245/697549229870284830/SPOILER_unknown.png",""
"694267506910691420","cielcloud#5124","08-Apr-20 11:51 PM","hey guys can anyone tell me why my code is not generating the jpegs in the correct order and colors?","",""
"676272958322245672","Taiel#2422","09-Apr-20 12:12 AM","Instead of if buffer != try else if count != 0","",""
"694267506910691420","cielcloud#5124","09-Apr-20 12:13 AM","@Taiel you meant to just remove the buffer != and keep only count !=?","",""
"676272958322245672","Taiel#2422","09-Apr-20 12:13 AM","Yes","",""
"676272958322245672","Taiel#2422","09-Apr-20 12:14 AM","Instead of if put else if","",""
"694267506910691420","cielcloud#5124","09-Apr-20 12:14 AM","omg it worked! üòÑ","",""
"676272958322245672","Taiel#2422","09-Apr-20 12:14 AM","üëç üëç üëç","",""
"694267506910691420","cielcloud#5124","09-Apr-20 12:15 AM","i need to figure out why my previous code didn't work haha, but thanks for your help @Taiel !","",""
"676272958322245672","Taiel#2422","09-Apr-20 12:16 AM","Because if you use if it runs the first if and If the second one is also true it runs the second one","",""
"676272958322245672","Taiel#2422","09-Apr-20 12:16 AM","An else if only runs the second if the first isn't true","",""
"694267506910691420","cielcloud#5124","09-Apr-20 12:17 AM","correct me if im wrong but both if shouldn't run simultaneously because the condition wouldn't meet no? it's either the bytes contain header of jpeg or it doesn't contain","",""
"694267506910691420","cielcloud#5124","09-Apr-20 12:18 AM","for ex first if runs only if jpegHeader is detected, which also means the second if won't run because it has jpeg header","",""
"676272958322245672","Taiel#2422","09-Apr-20 12:19 AM","Except it might contain one of those but not all of them","",""
"676272958322245672","Taiel#2422","09-Apr-20 12:20 AM","You have to use else if if you don't put the buffer !=","",""
"676272958322245672","Taiel#2422","09-Apr-20 12:20 AM","The thing with that is that if one of those is false it won't run","",""
"676272958322245672","Taiel#2422","09-Apr-20 12:22 AM","If the third buffer is equal to it even if it's not a jpeg your file won't work","",""
"676272958322245672","Taiel#2422","09-Apr-20 12:22 AM","Because you are using an &&","",""
"317468958854742028","Jrua#0824","09-Apr-20 12:25 AM","how should i declare buffer?","",""
"694267506910691420","cielcloud#5124","09-Apr-20 12:26 AM","oh yeah i think i got what you meant know @Taiel","",""
"694267506910691420","cielcloud#5124","09-Apr-20 12:28 AM","basically in my previous code, i asked to continue writing only if all of the buffers do not match the jpeg header (which is not always the case, as some buffers might have one or two matching buffers, but is not the beginning of a new jpeg)","",""
"676272958322245672","Taiel#2422","09-Apr-20 12:28 AM","Exactly","",""
"694267506910691420","cielcloud#5124","09-Apr-20 12:30 AM","thanks for clarifying on it, really appreciate the help @Taiel ! it still tells me 000.jpg is not recovered correctly but i think i can figure it out myself haha","",""
"694267506910691420","cielcloud#5124","09-Apr-20 12:31 AM","oh nvm, it's all working perfeclty now","",""
"694267506910691420","cielcloud#5124","09-Apr-20 12:31 AM","ü§£","",""
"676272958322245672","Taiel#2422","09-Apr-20 12:31 AM","üëç üëç","",""
"676272958322245672","Taiel#2422","09-Apr-20 12:31 AM","Great","",""
"694267506910691420","cielcloud#5124","09-Apr-20 12:31 AM","thanks again i finally finished this pset LOL","",""
"694267506910691420","cielcloud#5124","09-Apr-20 12:31 AM","> how should i declare buffer?
@Jrua it should be declared as BYTE","",""
"694267506910691420","cielcloud#5124","09-Apr-20 12:31 AM","https://cs50.harvard.edu/x/2020/psets/4/recover/","",""
"676272958322245672","Taiel#2422","09-Apr-20 12:32 AM","> thanks again i finally finished this pset LOL
@cielcloud good luck on speller","",""
"694267506910691420","cielcloud#5124","09-Apr-20 12:32 AM","in the hints section, it tells you how to declare buffer","",""
"694267506910691420","cielcloud#5124","09-Apr-20 12:32 AM","> @cielcloud good luck on speller
@Taiel lol i heard speller is even more difficult than recover...","",""
"676272958322245672","Taiel#2422","09-Apr-20 12:32 AM","> @Taiel lol i heard speller is even more difficult than recover...
@cielcloud yeah it is","",""
"694267506910691420","cielcloud#5124","09-Apr-20 12:32 AM","well I guess I will have a lot of fun!","",""
"676272958322245672","Taiel#2422","09-Apr-20 12:34 AM","You probably will","",""
"694267506910691420","cielcloud#5124","09-Apr-20 12:34 AM","ü§£","",""
"671601274780778499","manolo#9615","09-Apr-20 03:56 AM","If anyone need helps on this i'm helping the guys at filter, going to be here all evening","",""
"671601274780778499","manolo#9615","09-Apr-20 03:56 AM","shoot a txt","",""
"326039502898462722","Dawx#5035","09-Apr-20 02:09 PM","does anyone know are we allowed to use .raw file provded in course for outiside of course, i have uni project and i was thinking about making this same project, but in python","",""
"326039502898462722","Dawx#5035","09-Apr-20 02:10 PM","or are there any websites where i could get such files?","",""
"246033603329392651","guilleacq#9467","09-Apr-20 09:29 PM","I finally finished recover and it only took me 15 minutes","",""
"246033603329392651","guilleacq#9467","09-Apr-20 09:29 PM","Is this one of the images we had to recover?","",""
"246033603329392651","guilleacq#9467","09-Apr-20 09:30 PM","","https://cdn.discordapp.com/attachments/395684916056031245/697875999991267450/SPOILER_unknown.png",""
"676272958322245672","Taiel#2422","09-Apr-20 09:31 PM","im not sure what image number does it have so i check","",""
"676272958322245672","Taiel#2422","09-Apr-20 09:31 PM","there alot of images i didnt check all of them","",""
"409623218517704705","Thien#0976","09-Apr-20 09:31 PM","look strange to me","",""
"676272958322245672","Taiel#2422","09-Apr-20 09:33 PM","it would be weird for the program to recover another image","",""
"676272958322245672","Taiel#2422","09-Apr-20 09:33 PM","it has to be right","",""
"409623218517704705","Thien#0976","09-Apr-20 09:34 PM","where do you recover that image?","",""
"246033603329392651","guilleacq#9467","09-Apr-20 10:03 PM","hahahha jokes aside, how could I get the size of the memory card in order to then make the 512b splits?","",""
"676272958322245672","Taiel#2422","09-Apr-20 10:05 PM","and stop when you dont have more 512b to read","",""
"246033603329392651","guilleacq#9467","09-Apr-20 10:05 PM","Okay but how do I check if I don't have more to read?","",""
"361235692019384323","Sanath#7244","09-Apr-20 10:06 PM","Check freads return value","",""
"696291235215704174","Willis0#3300","09-Apr-20 10:51 PM","Would anyone be able to see why my code for recover isn't working? It is compiling fine but doesn't seem to read anything meaninful into the buffer","https://cdn.discordapp.com/attachments/395684916056031245/697896401274798120/SPOILER_Recover.png",""
"317468958854742028","Jrua#0824","09-Apr-20 11:43 PM","how should I declare the buffer?","",""
"317468958854742028","Jrua#0824","09-Apr-20 11:43 PM","i'm confused on how to declare it as a byte","",""
"317468958854742028","Jrua#0824","09-Apr-20 11:53 PM","nvm","",""
"317468958854742028","Jrua#0824","09-Apr-20 11:53 PM","i stupid","",""
"210794892408913921","TJ#3031","10-Apr-20 01:23 AM","So, after completing the pset, I was originally having problems if not having the else if and having an if statement instead within the jpeg check statement.  Anyone have an idea why? I am really confused.","",""
"210794892408913921","TJ#3031","10-Apr-20 01:25 AM","||if (bytes[0] == 0xff && bytes[1] == 0xd8 && bytes[2] == 0xff && ((bytes[3] & 0xf0) == 0xe0))
            {

                if (count == 0)
                {

                    sprintf(filename, ""%03i.jpg"", counter);
                    img = fopen(filename, ""w"");
                    fwrite(bytes, 512, 1, img);
                    counter++;
                    count++;
                }
                else if (count > 0)
                {
                    fclose(img);
                    sprintf(filename, ""%03i.jpg"", counter);
                    img = fopen(filename, ""w"");
                    fwrite(bytes, 512, 1, img);
                    counter++;
                }


            }||","",""
"429310729657516054","TLAIR#1637","10-Apr-20 05:04 AM","This works for some pictures but does not print some properly.....Please help??","https://cdn.discordapp.com/attachments/395684916056031245/697990309602263041/SPOILER_recover3_2.png",""
"429310729657516054","TLAIR#1637","10-Apr-20 05:21 AM","Like this one.....","https://cdn.discordapp.com/attachments/395684916056031245/697994602921328640/000.jpg",""
"694267506910691420","cielcloud#5124","10-Apr-20 05:58 AM","@TLAIR  can you change your last else if statement's condition to just c != 0?","",""
"694267506910691420","cielcloud#5124","10-Apr-20 05:58 AM","remove x[0] != 0xff","",""
"236625588868087808","psychodoughb0y#0892","10-Apr-20 07:03 AM","Why did you put x[0] != 0xff? @TLAIR","",""
"429310729657516054","TLAIR#1637","10-Apr-20 07:09 AM","My buffer is x and count is c....","",""
"236625588868087808","psychodoughb0y#0892","10-Apr-20 07:11 AM","Right, why do you care if buffer 0 is 0xff?","",""
"429310729657516054","TLAIR#1637","10-Apr-20 07:12 AM","To know that whether its a jpg?","",""
"429310729657516054","TLAIR#1637","10-Apr-20 07:12 AM","Ohhhh","",""
"236625588868087808","psychodoughb0y#0892","10-Apr-20 07:12 AM","You already check for that in the first two","",""
"429310729657516054","TLAIR#1637","10-Apr-20 07:13 AM","Thanks a lot!!","",""
"236625588868087808","psychodoughb0y#0892","10-Apr-20 07:13 AM","No problem.","",""
"429310729657516054","TLAIR#1637","10-Apr-20 07:15 AM","If u dot mind....why was it a problem tho??","",""
"236625588868087808","psychodoughb0y#0892","10-Apr-20 07:18 AM","Because what happens if the first pixel of the block just happens to be 0xff?","",""
"236625588868087808","psychodoughb0y#0892","10-Apr-20 07:20 AM","All 0xff means is full color value in one channel of that pixel.","",""
"429310729657516054","TLAIR#1637","10-Apr-20 07:25 AM","Ohhh..thanks","",""
"236625588868087808","psychodoughb0y#0892","10-Apr-20 07:31 AM","Happy to help","",""
"271693897149841408","Stronkman#2469","10-Apr-20 11:54 AM","How can I know how often it should check for 512 byte parts in the file? In other words how long do I make my loop?","",""
"393854278764068875","curiouskiwi#1671","10-Apr-20 11:56 AM","fread will return the number of elements it read, so you can use that as your condition","",""
"271693897149841408","Stronkman#2469","10-Apr-20 12:42 PM","Thank you very much. Does anyone know how I would go about how I could read a second part in fread, because currently I don't see how I can first read the first 512 bytes, and how I can then do the next 512-1024 bytes?","",""
"271693897149841408","Stronkman#2469","10-Apr-20 12:42 PM","I feel like I am missing something which should be clear","",""
"393854278764068875","curiouskiwi#1671","10-Apr-20 12:56 PM","fread keeps track of what it has read and is always ready to read the next block","",""
"271693897149841408","Stronkman#2469","10-Apr-20 12:56 PM","aah oke thanks!","",""
"271693897149841408","Stronkman#2469","10-Apr-20 06:36 PM","Hi guys I am getting an error with the code ```sprintf(filename, ""%03i.jpg"", count); ```","",""
"271693897149841408","Stronkman#2469","10-Apr-20 06:37 PM","Doesn't the first parameter declare a name, where I want to write to?","",""
"271693897149841408","Stronkman#2469","10-Apr-20 06:37 PM","I am getting the error that I use an undeclared indentifier 'filename'","",""
"271693897149841408","Stronkman#2469","10-Apr-20 06:38 PM","I presume I am making a dumb mistake, but I am not sure how I should go about this?","",""
"676272958322245672","Taiel#2422","10-Apr-20 06:44 PM","> Hi guys I am getting an error with the code ```sprintf(filename, ""%03i.jpg"", count); ```
@Stronkman you have to declare it first","",""
"676272958322245672","Taiel#2422","10-Apr-20 06:44 PM","> Doesn't the first parameter declare a name, where I want to write to?
@Stronkman no ot doesn't","",""
"271693897149841408","Stronkman#2469","10-Apr-20 06:57 PM","Thanks!","",""
"271693897149841408","Stronkman#2469","10-Apr-20 06:57 PM","I am getting another error would it be okay if I sent you part of the code?","",""
"317468958854742028","Jrua#0824","10-Apr-20 07:31 PM","i keep getting pointer errors","",""
"317468958854742028","Jrua#0824","10-Apr-20 07:31 PM","code here: https://gist.github.com/jruaaa/4ddd2b8fa1a800d697be21699a6a6ea7","",""
"676272958322245672","Taiel#2422","10-Apr-20 07:38 PM","what is the error message","",""
"676272958322245672","Taiel#2422","10-Apr-20 07:39 PM","also you should take out line 47","",""
"317468958854742028","Jrua#0824","10-Apr-20 07:48 PM","munmap_chunk(): invalid pointer
Aborted","",""
"317468958854742028","Jrua#0824","10-Apr-20 07:49 PM","and done","",""
"317468958854742028","Jrua#0824","10-Apr-20 07:49 PM","https://gist.github.com/jruaaa/4ddd2b8fa1a800d697be21699a6a6ea7","",""
"361235692019384323","Sanath#7244","10-Apr-20 07:51 PM","sounds like a weird free call","",""
"361235692019384323","Sanath#7244","10-Apr-20 07:51 PM","cant check it rn","",""
"317468958854742028","Jrua#0824","10-Apr-20 07:55 PM","what's that?","",""
"361235692019384323","Sanath#7244","10-Apr-20 07:57 PM","youre freeing a variable that shouldnt be free'd","",""
"676272958322245672","Taiel#2422","10-Apr-20 07:58 PM","your buffer is wrong","",""
"317468958854742028","Jrua#0824","10-Apr-20 07:59 PM","progress!","",""
"317468958854742028","Jrua#0824","10-Apr-20 07:59 PM","i don't need to free buffer","",""
"317468958854742028","Jrua#0824","10-Apr-20 07:59 PM","but even if i remove that i only recover half of the first","",""
"676272958322245672","Taiel#2422","10-Apr-20 07:59 PM","it should be BYTE *buffer = malloc(","",""
"317468958854742028","Jrua#0824","10-Apr-20 07:59 PM","","https://cdn.discordapp.com/attachments/395684916056031245/698215666553192538/unknown.png",""
"317468958854742028","Jrua#0824","10-Apr-20 08:00 PM","it still is stopping halfway","",""
"361235692019384323","Sanath#7244","10-Apr-20 08:00 PM","you really shouldnt be using pointers for this pset, its unnecessary complexity","",""
"676272958322245672","Taiel#2422","10-Apr-20 08:01 PM","You forgot counter++;","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:01 PM","where?","",""
"676272958322245672","Taiel#2422","10-Apr-20 08:01 PM","Where you create the file","",""
"676272958322245672","Taiel#2422","10-Apr-20 08:01 PM","In the if buffer[0]","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:01 PM","i'm doing it after i close it","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:02 PM","because shouldn't the first image be 000.jpg","",""
"676272958322245672","Taiel#2422","10-Apr-20 08:02 PM","Yes put it at the end","",""
"676272958322245672","Taiel#2422","10-Apr-20 08:03 PM","After open=1;","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:03 PM","yeah i put it after i close the open one","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:03 PM","wait what?","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:03 PM","why?","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:03 PM","i already have it before a new file is created","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:04 PM","wait","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:04 PM","nvm","",""
"676272958322245672","Taiel#2422","10-Apr-20 08:04 PM","It's not there","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:04 PM","ik","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:04 PM","im just dumb","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:04 PM","hold for a moment please","",""
"676272958322245672","Taiel#2422","10-Apr-20 08:04 PM","Ok > hold for a moment please
@Jrua","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:05 PM","lmao","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:05 PM","im trying to do a phone call impression","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:05 PM","i got it","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:05 PM","i think","",""
"676272958322245672","Taiel#2422","10-Apr-20 08:05 PM","üëç üëç","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:05 PM","that was relatively easy","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:05 PM","just the logistics and tiny things","",""
"676272958322245672","Taiel#2422","10-Apr-20 08:05 PM","Yeah","",""
"271693897149841408","Stronkman#2469","10-Apr-20 08:06 PM","I am getting the error ``` recover.c:39:24: error: use of undeclared identifier 'image'
                fclose(image);
                       ^````","",""
"271693897149841408","Stronkman#2469","10-Apr-20 08:07 PM","But I am not sure how Ishould identify it in my code","",""
"271693897149841408","Stronkman#2469","10-Apr-20 08:07 PM","I currently have this part","",""
"676272958322245672","Taiel#2422","10-Apr-20 08:07 PM","When you put FILE *image = fopen","",""
"271693897149841408","Stronkman#2469","10-Apr-20 08:08 PM","I was unclear sorry. I get the error at my else part","",""
"676272958322245672","Taiel#2422","10-Apr-20 08:08 PM","I have to leave right now, after lunch if you still have the issue I'll help","",""
"271693897149841408","Stronkman#2469","10-Apr-20 08:08 PM","But the else part can only run at the second run","",""
"269227960156946454","GhostDragon#7128","10-Apr-20 08:08 PM","please put code under spoiler tag","",""
"271693897149841408","Stronkman#2469","10-Apr-20 08:08 PM","Sorry how do I do that?","",""
"269227960156946454","GhostDragon#7128","10-Apr-20 08:08 PM","when you upload an image its an option but for text put double vertical bars around it","",""
"271693897149841408","Stronkman#2469","10-Apr-20 08:09 PM","Should my error be spoilered?","",""
"271693897149841408","Stronkman#2469","10-Apr-20 08:09 PM","","https://cdn.discordapp.com/attachments/395684916056031245/698218068295286784/SPOILER_unknown.png",""
"271693897149841408","Stronkman#2469","10-Apr-20 08:10 PM","|| Why do I get an error for not identifying at fclose(image); , because the else part can only run at the second loop which mean it had already been identified under if (count == 0) ||","",""
"271693897149841408","Stronkman#2469","10-Apr-20 08:10 PM","How could I solve this?","",""
"269227960156946454","GhostDragon#7128","10-Apr-20 08:11 PM","> Should my error be spoilered?
@Stronkman no need only actual code","",""
"271693897149841408","Stronkman#2469","10-Apr-20 08:13 PM","Thank you, sorry for the earlier slip op, I did not realize that was a possibility","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:16 PM","buffer is wrong","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:17 PM","BYTE *buffer  = malloc(512);","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:18 PM","@Stronkman ^","",""
"271693897149841408","Stronkman#2469","10-Apr-20 08:18 PM","Thanks!, why wouldn't declaring it as an array of bytes work?","",""
"271693897149841408","Stronkman#2469","10-Apr-20 08:18 PM","could be a very dumb question","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:19 PM","you're not declaring it as an array of individual bytes","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:19 PM","you're declaring it as an array of 8 bytes if i understadn the typedef","",""
"271693897149841408","Stronkman#2469","10-Apr-20 08:20 PM","but why wouldn't BYTE buffer[512]; declare it as an array of such? Thank you very much though","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:20 PM","i have no idea","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:20 PM","ask taiel or sanath when they get on later","",""
"271693897149841408","Stronkman#2469","10-Apr-20 08:21 PM","Oke thank you! do you know how I could solve the error use of undeclared identifier (image)","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:21 PM","send me a gist with your code","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:21 PM","gist.github.com","",""
"317468958854742028","Jrua#0824","10-Apr-20 08:21 PM","copy paste your code in","",""
"271693897149841408","Stronkman#2469","10-Apr-20 08:22 PM","I sent you a dm with the code","",""
"655894626934325259","Lemushan#5085","10-Apr-20 09:02 PM","There must be something wrong with my logic here but I can't quite figure it out. I generate up to 22 images that are distorted and aren't completely filled with image data. I'm not sure why my code doesn't continue writing the code for one particular image after it has identified the header.","https://cdn.discordapp.com/attachments/395684916056031245/698231434607067286/SPOILER_Screen_Shot_2020-04-10_at_1.57.03_PM.jpg",""
"655894626934325259","Lemushan#5085","10-Apr-20 09:02 PM","These are the kinds of images I'm getting","https://cdn.discordapp.com/attachments/395684916056031245/698231513728417853/Screen_Shot_2020-04-10_at_2.01.26_PM.jpg",""
"317468958854742028","Jrua#0824","10-Apr-20 09:09 PM","@Lemushan what if you haven't even discovered a new jpeg yet","",""
"317468958854742028","Jrua#0824","10-Apr-20 09:09 PM","are you going to write 512 bytes to a nonexistent jpeg?","",""
"317468958854742028","Jrua#0824","10-Apr-20 09:10 PM","can you put your entire code into a gist for us to examine","",""
"655894626934325259","Lemushan#5085","10-Apr-20 09:57 PM","@Jrua ahh thanks for helping me see that! I definitely need to modify my last `else` statement.","",""
"317468958854742028","Jrua#0824","10-Apr-20 10:07 PM","@Lemushan your last else statement is fine","",""
"317468958854742028","Jrua#0824","10-Apr-20 10:07 PM","you're making this way too difficult and complicated","",""
"317468958854742028","Jrua#0824","10-Apr-20 10:09 PM","wtf is all this crap","",""
"317468958854742028","Jrua#0824","10-Apr-20 10:09 PM","you can't print those bytes of data because they're part of a jpeg and not in unicod","",""
"317468958854742028","Jrua#0824","10-Apr-20 10:10 PM","and you still haven't fixed the first thing i pointed out","",""
"317468958854742028","Jrua#0824","10-Apr-20 10:11 PM","what if there  hasn't been the start of a jpeg yet","",""
"317468958854742028","Jrua#0824","10-Apr-20 10:11 PM","its not an if else","",""
"317468958854742028","Jrua#0824","10-Apr-20 10:11 PM","its an if and elif thing","",""
"655894626934325259","Lemushan#5085","10-Apr-20 10:13 PM","That's just part of a personal test that I forgot to take out of the code to make sure I was actually reading data from the card.raw file. I created the gist before fixing what you pointed out. I'm working on that now. thanks for your help.","",""
"651110562176172045","m.sharifit88#2964","11-Apr-20 11:59 AM","> There must be something wrong with my logic here but I can't quite figure it out. I generate up to 22 images that are distorted and aren't completely filled with image data. I'm not sure why my code doesn't continue writing the code for one particular image after it has identified the header.
@Lemushan Likely you have an extra fread in your logic. I didn't see your code but maybe you call fread twice in each iteration.","",""
"651110562176172045","m.sharifit88#2964","11-Apr-20 12:02 PM","@Lemushan Yes I saw your code and your problem is calling fread twice per iteration. one in checking while loop and another for count. remove one of them logically.","",""
"651110562176172045","m.sharifit88#2964","11-Apr-20 12:07 PM","Recover seems to be an easy problem but I got headache to solve that partly because of using some new topics which was not taught before; like sprintf and ...","",""
"651110562176172045","m.sharifit88#2964","11-Apr-20 12:08 PM","Believe it or not I was more comfortable with tideman than recover. üòê üòê","",""
"651110562176172045","m.sharifit88#2964","11-Apr-20 12:11 PM","Of course I forgot to say I usually solve problem sets without watching walkthroughts. That's spoiler for me and I like to solve a problem on my own. ü§® ü§®","",""
"683310188278710313","Sir Shish Kebab#1472","11-Apr-20 02:06 PM","I'm having an issue with my recover code. The images seem to be coming out perfectly but I only get 000.jpg and 001.jpg. check50 says that 001.jpg hash is wrong and 049.jpg is missing. https://gist.github.com/KabirAcharya/d51d68d9684f7ef2bab10090aa35d955","",""
"388975038084415499","JayKay#6470","11-Apr-20 04:23 PM","This is my code for recover. After i run the code, the files from 000 too 049 are generated but they contain nothing. Just some random patterns https://pastebin.com/Rxdb7wLM","https://cdn.discordapp.com/attachments/395684916056031245/698523674260799498/unknown.png",""
"388975038084415499","JayKay#6470","11-Apr-20 04:24 PM","is there something wrong with the fread function?","",""
"683310188278710313","Sir Shish Kebab#1472","11-Apr-20 04:28 PM","dw i fixed mine. was bc i missed a place for the null terminator in my string.","",""
"388975038084415499","JayKay#6470","11-Apr-20 05:11 PM","pls @ me if someone can help me out up there üòÑ","",""
"655894626934325259","Lemushan#5085","11-Apr-20 07:20 PM","@m.sharifit88 Thanks for taking a look. I was actually able to fix it yesterday. Commenting out my test code snippet (that included the `fread()`) plus adjusting my logic to account for what should happen if a JPEG hadn't been identified yet ended up doing the trick.","",""
"655894626934325259","Lemushan#5085","11-Apr-20 07:31 PM","@JayKay I was able to run your code successfully with one minor adjustment. I would review your logic and consider when it is good to use two if statements vs using an if/else if statement in your decision flow. Hope that helps!","",""
"406663990345728023","Sony#6379","11-Apr-20 07:40 PM","so I just got this error when I tried to run my program","",""
"406663990345728023","Sony#6379","11-Apr-20 07:40 PM","~/pset4/recover/ $ ./recover card.raw                                                                                                                                                                                                                                                                                                                      
Fatal error: glibc detected an invalid stdio handle
Aborted","",""
"406663990345728023","Sony#6379","11-Apr-20 07:40 PM","any idea what would cause that?","",""
"236625588868087808","psychodoughb0y#0892","11-Apr-20 07:47 PM","@Sony Have you used debug50 to see which line causes the problem?","",""
"236625588868087808","psychodoughb0y#0892","11-Apr-20 07:48 PM","The first step in debugging is always to find the root of the issue.","",""
"388975038084415499","JayKay#6470","11-Apr-20 08:06 PM","I finally completed this one. Thanks to the few people who helped me find the error with my code.

But i'm still confused how are ``fread(buffer, 512, 1, img)`` and ``fread(buffer, 1, 512, img)`` give out the same output?
What exactly does the ``size`` and ``number`` parameters of ``fread`` mean here?","",""
"388975038084415499","JayKay#6470","11-Apr-20 08:07 PM","@Sony what's your output?","",""
"406663990345728023","Sony#6379","11-Apr-20 08:07 PM","similar to yours","",""
"406663990345728023","Sony#6379","11-Apr-20 08:07 PM","not exactly the same","",""
"406663990345728023","Sony#6379","11-Apr-20 08:08 PM","I get like the first row of the image but each 512 byte chunk becomes more and more displaced","",""
"676272958322245672","Taiel#2422","11-Apr-20 08:10 PM","> I finally completed this one. Thanks to the few people who helped me find the error with my code.
> 
> But i'm still confused how are ``fread(buffer, 512, 1, img)`` and ``fread(buffer, 1, 512, img)`` give out the same output?
> What exactly does the ``size`` and ``number`` parameters of ``fread`` mean here?
@JayKay if im not mistaken the size is the size of data you are reading in bytes, the number is how many of those you are reading","",""
"676272958322245672","Taiel#2422","11-Apr-20 08:11 PM","so 1, 512 would mean you are reading 512 pieces of 1 byte 512, 1 would mean you are reading 1 piece of 512 bytes","",""
"388975038084415499","JayKay#6470","11-Apr-20 08:11 PM","oh, that makes sense","",""
"676272958322245672","Taiel#2422","11-Apr-20 08:12 PM","im not sure piece is the right word but i couldnt come up with a better one","",""
"388975038084415499","JayKay#6470","11-Apr-20 08:14 PM","works! üòÑ","",""
"665053121499627571","fjw#9108","11-Apr-20 09:14 PM","@JayKay https://man.cs50.io/3/fread","",""
"671601274780778499","manolo#9615","12-Apr-20 01:45 AM","anybody needs help","",""
"697530696645869610","AdonisN#0684","12-Apr-20 04:54 AM","@manolo You handing out help for free","",""
"697530696645869610","AdonisN#0684","12-Apr-20 04:54 AM","?","",""
"671601274780778499","manolo#9615","12-Apr-20 05:38 AM","yes ofc","",""
"671601274780778499","manolo#9615","12-Apr-20 05:38 AM","are you stuck?","",""
"671601274780778499","manolo#9615","12-Apr-20 05:39 AM","i never give full answers, I just give hints where you made a mistake","",""
"298442590720622593","Sean#1286","12-Apr-20 07:19 AM","Hi, can anyone help me with this?","",""
"298442590720622593","Sean#1286","12-Apr-20 07:19 AM","","https://cdn.discordapp.com/attachments/395684916056031245/698749010948915220/unknown.png",""
"671601274780778499","manolo#9615","12-Apr-20 07:43 AM","yes","",""
"671601274780778499","manolo#9615","12-Apr-20 07:44 AM","Suppose I load a file called damagedmemory.raw this is my own memory card that I want to retrieve pictures from it, but mistakenly the memory card never had a jpg to begin with.","",""
"671601274780778499","manolo#9615","12-Apr-20 07:44 AM","It was a brandnew, freshly formatted memory card","",""
"671601274780778499","manolo#9615","12-Apr-20 07:44 AM","what is your program going to do?","",""
"671601274780778499","manolo#9615","12-Apr-20 07:45 AM","He tells you; how are you going to handle the lack of forensic image?","",""
"671601274780778499","manolo#9615","12-Apr-20 07:45 AM","memorycard.raw is not really a .raw memory card that you can check","",""
"671601274780778499","manolo#9615","12-Apr-20 07:47 AM","Then he tells you that you are recovering correctly some of the images, the first one and another one from the middle of memory card. But not the last one. Try to debug by jumping to the 48^th picture and see how your program behaves from there on","",""
"671601274780778499","manolo#9615","12-Apr-20 07:48 AM","The good thing is that your program works. You just have to adjust 2 things 1) If I falsely give you a fake .raw file you have to stop the execution and tell me so, 2) you have to retrieve correctly all the jpgs ALL THE WAY to the end.","",""
"244497172412760064","Nick_jo#6430","12-Apr-20 09:48 AM","Hi, can somebody help me out with this? Im unable to find why my program isn't detection JPEG.","https://cdn.discordapp.com/attachments/395684916056031245/698786556206383114/SPOILER_rec1.PNG",""
"244497172412760064","Nick_jo#6430","12-Apr-20 09:50 AM","*detecting","",""
"651110562176172045","m.sharifit88#2964","12-Apr-20 10:48 AM","@Nick_jo  buffer itself is a pointer, no need to add &. Default size for fread is based on byte; no need to add size of. You just read the first 512 bytes of memory in this code which hasn't jpg signature. You need a loop to iterate this action forward.","",""
"244497172412760064","Nick_jo#6430","12-Apr-20 11:00 AM","So barring the loop is the code ok?","",""
"244497172412760064","Nick_jo#6430","12-Apr-20 11:00 AM","@m.sharifit88","",""
"244497172412760064","Nick_jo#6430","12-Apr-20 11:01 AM","Thanks for the help!","",""
"651110562176172045","m.sharifit88#2964","12-Apr-20 11:40 AM","@Nick_jo  No p. Be careful to use fread once in each iteration. For example while(fread(....) > 0) blah blah blah. while loop itself check the condition and moves fread forward.","",""
"298442590720622593","Sean#1286","12-Apr-20 12:39 PM","@manolo It worked perfectly, thanks for the help. üôÇ","",""
"244497172412760064","Nick_jo#6430","12-Apr-20 03:10 PM","@m.sharifit88 it's working thanks a ton","",""
"192439456354140161","jiho#6232","12-Apr-20 08:43 PM","https://gist.github.com/jihocs/5413e5ce64df386d75af8f63bedec391","",""
"192439456354140161","jiho#6232","12-Apr-20 08:44 PM","Really simple problem that I can't seem to figure out, my number of jpeg count isn't going up after a loop iteration","",""
"192439456354140161","jiho#6232","12-Apr-20 08:45 PM","It stays at zero even though I have numJpeg++ in both of my if(first jpeg) and else(not first jpeg) inside of my if(start of jpeg)","",""
"144632818046074880","Yama#6436","12-Apr-20 09:15 PM","I got a question regards open and read. How come we need to read a file after we have opened it? Is this similar to if we envisioned a room and opening the door results in fopen() and we are unable to know whats in the room until we do a fread() ?","",""
"361235692019384323","Sanath#7244","12-Apr-20 09:15 PM","Fopen basically does stuff under the hood that allows you to access the file","",""
"361235692019384323","Sanath#7244","12-Apr-20 09:16 PM","Fread allows controlled reading of that","",""
"144632818046074880","Yama#6436","12-Apr-20 09:19 PM","@Sanath oh! guess that makes sense. Thanks for that explanation üôÇ","",""
"651110562176172045","m.sharifit88#2964","12-Apr-20 09:34 PM","> @m.sharifit88 it's working thanks a ton
@Nick_jo Nice to hear that. No p üôÇ","",""
"187953953210630145","Fatman Jo | Turjo#0790","12-Apr-20 10:27 PM","Hello stuck on PSET4 recover

I understand that as we iterate over each block of 512 bytes, fread returns the number of items of size size and usually it is equal to number until we reach the end of file. My confusion is regarding writing a condition that can check if withing fread size and number are equal? I am unsure of the syntax of how to present this.","",""
"187953953210630145","Fatman Jo | Turjo#0790","12-Apr-20 10:33 PM","Please kindly @ me if anyone could explain","",""
"192439456354140161","jiho#6232","12-Apr-20 11:13 PM","@Fatman Jo | Turjo fread returns the number of items read so you can declare an int to the function fread, then compare that int variable to 512","",""
"187953953210630145","Fatman Jo | Turjo#0790","12-Apr-20 11:15 PM","Sorry I'm a bit confused","",""
"187953953210630145","Fatman Jo | Turjo#0790","12-Apr-20 11:15 PM","Let me take a minute to process what you just said","",""
"246033603329392651","guilleacq#9467","13-Apr-20 12:09 AM","I am stuck, I can't seem to check where a JPEG file starts. This is what I have so far in relation to that","",""
"246033603329392651","guilleacq#9467","13-Apr-20 12:11 AM","","https://cdn.discordapp.com/attachments/395684916056031245/699003674910785717/SPOILER_unknown.png",""
"671601274780778499","manolo#9615","13-Apr-20 12:39 AM","Your buffer is an int","",""
"671601274780778499","manolo#9615","13-Apr-20 12:39 AM","you use int to store numbers","",""
"671601274780778499","manolo#9615","13-Apr-20 12:40 AM","try to chose the right tool for the job. You use int for numbers, you are not checking numbers.","",""
"187953953210630145","Fatman Jo | Turjo#0790","13-Apr-20 01:08 AM","> https://gist.github.com/jihocs/5413e5ce64df386d75af8f63bedec391
@jiho So I looked at your code and I can see that your numJpeg is being reset to zero within ur loops","",""
"187953953210630145","Fatman Jo | Turjo#0790","13-Apr-20 01:09 AM","as in everytime you perform fread, then you declare numJpeg  to 0 so even if in ur inner loops you increment it, wouldn't it reset and go back to zero later on?","",""
"192439456354140161","jiho#6232","13-Apr-20 03:05 AM","oh my-","",""
"192439456354140161","jiho#6232","13-Apr-20 03:05 AM","thank you so much","",""
"192439456354140161","jiho#6232","13-Apr-20 03:05 AM","ahahaha i missed the simplest thing","",""
"192439456354140161","jiho#6232","13-Apr-20 03:06 AM","@Fatman Jo | Turjo did you get the fread part?","",""
"192439456354140161","jiho#6232","13-Apr-20 03:06 AM","i can explain further if you want","",""
"246033603329392651","guilleacq#9467","13-Apr-20 03:23 AM","@manolo I tried with characters but it wouldn't work","",""
"192439456354140161","jiho#6232","13-Apr-20 07:21 AM","@guilleacq theres a section that explains how to declare BYTE as a datatype","",""
"192439456354140161","jiho#6232","13-Apr-20 07:21 AM","then make buffer an array of BYTEs","",""
"603799118867070999","lawfulevilgenius#6705","13-Apr-20 07:54 AM","why does it say unsupported image format in my ide? Is that my fault or is something wrong with my browser/pc?","https://cdn.discordapp.com/attachments/395684916056031245/699120181665857596/Screenshot_from_2020-04-12_23-53-12.png",""
"187953953210630145","Fatman Jo | Turjo#0790","13-Apr-20 09:01 AM","@jiho no problem. Did you manage to execute your program correctly?","",""
"187953953210630145","Fatman Jo | Turjo#0790","13-Apr-20 09:06 AM","https://github.com/Turjo119/recover/blob/master/recover.c
I keep getting only 22 images and they're all incorrect. I think my problems lies in not being able to understand how to write the condition for when the end of file has been reached.","",""
"651110562176172045","m.sharifit88#2964","13-Apr-20 10:02 AM","@guilleacq I explained this problem for Nick_jo. A few messages up and you will find that.","",""
"374847129568673794","Fat Vorior#9160","13-Apr-20 12:27 PM","I don't know why my program exits suddenly","",""
"374847129568673794","Fat Vorior#9160","13-Apr-20 12:27 PM","Could someone please take a look at my code?","",""
"374847129568673794","Fat Vorior#9160","13-Apr-20 12:28 PM","https://pastebin.com/hFZ1BrVD","",""
"374847129568673794","Fat Vorior#9160","13-Apr-20 12:28 PM","It creates 000.jpg but then suddenly exits","",""
"374847129568673794","Fat Vorior#9160","13-Apr-20 12:28 PM","I tried using debug50 to spot the bug but failed","",""
"685782168030806059","lukehoang195#0618","13-Apr-20 03:53 PM","hey guys, it seem like the program cant pass through the while loop condition. Did i make a mistake somewhere above or the card.raw cant be read?
edit: when i hover the card.draw file its said there is 0 bytes.","https://cdn.discordapp.com/attachments/395684916056031245/699240839586644078/SPOILER_unknown.png",""
"144632818046074880","Yama#6436","13-Apr-20 04:02 PM","Mine says it has 3.57 MB when I hover it (can't check spoiler since I'm still trying to solve the problem. Stuck at trying to figure out how to read the file).","","ü§£ (1)"
"144632818046074880","Yama#6436","13-Apr-20 04:08 PM","Hello üôÇ Hopefully I can get some help with my misunderstanding of `fopen` and `fread` From my understanding, `fopen` gets the file read in order to perform actions on it. We then do `fread` in order to read everything within the file. What I'm confused is the properties of `fread`. How would we know how to input those properties? For example the size in bytes for each element to be read? Wouldn't it be of random size each? Thanks for the help in getting my head around the start.","",""
"685782168030806059","lukehoang195#0618","13-Apr-20 04:25 PM","@Yama  thanks heaps. I just re-downloaded the file. I've been stuck right there this whole morning. silly me .","",""
"365430370570731520","Dr. Nihil#2560","13-Apr-20 04:25 PM","guys when you open a file, you can open it in either ""r' mode or ""rb"" mode where rb is read bytes, when i use ""r"" my jpg files gets corrupted but when i use ""rb"" it works fine","",""
"365430370570731520","Dr. Nihil#2560","13-Apr-20 04:26 PM","why is that?","",""
"144632818046074880","Yama#6436","13-Apr-20 04:33 PM","@lukehoang195 Glad to know it's working for you üòÑ","",""
"244497172412760064","Nick_jo#6430","13-Apr-20 04:43 PM","Hi, Can somebody help me out with my code, I'm always getting ""Segmentation Fault"".","https://cdn.discordapp.com/attachments/395684916056031245/699253465834192926/SPOILER_recover.PNG",""
"144632818046074880","Yama#6436","13-Apr-20 05:21 PM","Hello üôÇ I watched the intro video to the problem a few times and was hoping for some advice in regards to the buffer in fread.","",""
"144632818046074880","Yama#6436","13-Apr-20 05:21 PM","||BYTE buffer = []; fread(buffer, sizeof(BYTE) * 512, 1, file);||","",""
"144632818046074880","Yama#6436","13-Apr-20 05:21 PM","Isn't the buffer what is used to store everything we open? I'm asking since I'm getting an error that fread expect a void buffer üòÆ","",""
"144632818046074880","Yama#6436","13-Apr-20 05:23 PM","Actually may have found the solution online. Thanks üòÑ","",""
"144632818046074880","Yama#6436","13-Apr-20 05:23 PM","solution to my question I mean ü•≥","",""
"442388456467988490","Animo#3415","13-Apr-20 06:30 PM","Hello, Does anyone know how to solve this:
Fatal error: glibc detected an invalid studio handle
Aborted
Does not give any error while compiling but whenever I try to run it gives the same error","",""
"442388456467988490","Animo#3415","13-Apr-20 06:34 PM","","https://cdn.discordapp.com/attachments/395684916056031245/699281382462980157/Screenshot_8.png",""
"361235692019384323","Sanath#7244","13-Apr-20 06:53 PM","Check what you're passing to the file functions","",""
"651110562176172045","m.sharifit88#2964","13-Apr-20 06:55 PM","@Dr. Nihil Likely you make your filename string without considering null character. Filename needs 8 bytes and you set it on 7; right?","",""
"365430370570731520","Dr. Nihil#2560","13-Apr-20 06:56 PM","No not that, my filename is fine, it's just when I'm reading from a file and writing to a file","",""
"365430370570731520","Dr. Nihil#2560","13-Apr-20 06:56 PM","Instead of just using ""r"" to read. I use ""rb"" to read and it's the same for writing.","",""
"365430370570731520","Dr. Nihil#2560","13-Apr-20 06:57 PM","Rb = read bytes","",""
"365430370570731520","Dr. Nihil#2560","13-Apr-20 06:57 PM","Then it works fine. But everyone is using ""r"".","",""
"651110562176172045","m.sharifit88#2964","13-Apr-20 06:58 PM","@Dr. Nihil We need your code to determine. üòê","",""
"365430370570731520","Dr. Nihil#2560","13-Apr-20 06:58 PM","Alright, I'll tag u, if I ever post it.","",""
"365430370570731520","Dr. Nihil#2560","13-Apr-20 06:59 PM","But thanks though.","",""
"651110562176172045","m.sharifit88#2964","13-Apr-20 06:59 PM","@Dr. Nihil üôÇ","",""
"442388456467988490","Animo#3415","13-Apr-20 07:00 PM","Everything fine till line 29. Feel like there is an error in line 30 but used to same syntax earlier in code. Nothing prints after line 30 so i figured something to do with fread","https://cdn.discordapp.com/attachments/395684916056031245/699287802235584573/SPOILER_Screenshot_7.png",""
"246033603329392651","guilleacq#9467","13-Apr-20 07:43 PM","Thank you so much @m.sharifit88 and @jiho. I appreciate the help :)","",""
"246033603329392651","guilleacq#9467","13-Apr-20 08:32 PM","I am stuck again, I can't come up with how to continue writing to the same JPG file","",""
"246033603329392651","guilleacq#9467","13-Apr-20 08:33 PM","","https://cdn.discordapp.com/attachments/395684916056031245/699311194137296966/SPOILER_unknown.png",""
"676272958322245672","Taiel#2422","13-Apr-20 08:45 PM","you have to use an else if","",""
"192439456354140161","jiho#6232","13-Apr-20 10:36 PM","you have to have an ```else(if the first 4 bytes are not a jpeg header) {keep writing}``` @guilleacq","",""
"246033603329392651","guilleacq#9467","14-Apr-20 12:06 AM","Ahaaaa","",""
"246033603329392651","guilleacq#9467","14-Apr-20 12:06 AM","Thank you!","",""
"620893387058315264","monamoe#3382","14-Apr-20 12:43 AM","hello üôÇ im getting images 000 - 049 but they come out distorted, ive looked over a few times but i cant see the problem in my process, can i get some help?","",""
"620893387058315264","monamoe#3382","14-Apr-20 12:46 AM","","https://cdn.discordapp.com/attachments/395684916056031245/699375023806218340/SPOILER_unknown.png",""
"236625588868087808","psychodoughb0y#0892","14-Apr-20 12:51 AM","What does fopen w do if the file already exists?","",""
"620893387058315264","monamoe#3382","14-Apr-20 12:52 AM","im not sure, i just assumed that it opens the existing file and continues adding onto the data already in it","",""
"620893387058315264","monamoe#3382","14-Apr-20 12:54 AM","but if thats not the case, then fopen might be removing the existing file and creating a blank .jpg with the same name?","",""
"620893387058315264","monamoe#3382","14-Apr-20 12:54 AM","ill try changing how i use fopen and ill see if that fixes my problem","",""
"620893387058315264","monamoe#3382","14-Apr-20 12:56 AM","that fixed it, thank you psychodoughb0y üôÇ","",""
"236625588868087808","psychodoughb0y#0892","14-Apr-20 12:56 AM","Happy to help","",""
"187953953210630145","Fatman Jo | Turjo#0790","14-Apr-20 01:53 AM","Update I've finally managed to do it... Thank you for always engaging in conversation with me. It helps me see what I might be doing wrong or stimulate a different way of thinking that helped me get the right answer!","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 07:38 AM","im getting this error: ""glibc detected an invalid stdio handle"" would somebody mind reviewing over my code and maybe you will see something i'm missing? i've been working on this for a week now.","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 07:46 AM","","https://cdn.discordapp.com/attachments/395684916056031245/699480735328895026/SPOILER_recoverpic.xcf",""
"442388456467988490","Animo#3415","14-Apr-20 07:47 AM","@lawfulevilgenius Same here. Didn't get any help as of now. Stuck at it since yesterday üôÅ","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 07:48 AM","@Animo you want to review each others code? maybe i can catch what you are missing and vice versa?","",""
"442388456467988490","Animo#3415","14-Apr-20 07:49 AM","yes sure. You can find my code above. Posted it yesterday","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 07:52 AM","","https://cdn.discordapp.com/attachments/395684916056031245/699482181852069938/SPOILER_Screenshot_from_2020-04-13_23-52-08.png",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 07:58 AM","@Animo on line 31 why do you still have the bang(!) before checking to see if the bytes match a JPEG file? i get why you did it on line 18 but not 31","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 08:01 AM","@Animo also, i keep seeing a = this and a = that. i dont think i understand what you are doing there. could you explain it to me?","",""
"374847129568673794","Fat Vorior#9160","14-Apr-20 08:02 AM","Can someone tell me in what situations the last pic wouldn‚Äôt match","",""
"374847129568673794","Fat Vorior#9160","14-Apr-20 08:02 AM","I ran check50 in my program","",""
"374847129568673794","Fat Vorior#9160","14-Apr-20 08:02 AM","All the images except the last matched","",""
"374847129568673794","Fat Vorior#9160","14-Apr-20 08:02 AM","It looks fine but I‚Äôm probably missing something","",""
"442388456467988490","Animo#3415","14-Apr-20 08:03 AM","coz im trying to find the end of each jpeg file and writing it at the same time in the while loop. when i find it i come out of that loop and then again create the next jpeg and repeat","",""
"442388456467988490","Animo#3415","14-Apr-20 08:03 AM","a basically stores the number of bytes fread is successfully able to read. if not 512 then that means EOF.","",""
"442388456467988490","Animo#3415","14-Apr-20 08:04 AM","btw my code isnt running till 31. it exits after fread in line 30 for some reason","",""
"442388456467988490","Animo#3415","14-Apr-20 08:06 AM","@lawfulevilgenius in your code at line 35 it should be sizeof(BYTE) instead of (BYTE*) ? coz size of every pointer is atleast 4 i guess and here we are reading just 1 byte each","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 08:09 AM","oh yeah, good call. that actually fixed my ""glibc detected an invalid stdio handle"" problem","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 08:09 AM","but my program stil isnt writing the images correctly","",""
"442388456467988490","Animo#3415","14-Apr-20 08:10 AM","and in line 46 the else block will be executed if counter!=0 and also the if block after the else coz both satisfies the condition","",""
"442388456467988490","Animo#3415","14-Apr-20 08:10 AM","that means everytime just after writing 512 bytes in a jpeg it will close and create a new jpeg in eaach iteration","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 08:16 AM","yeah i see what you mean","",""
"442388456467988490","Animo#3415","14-Apr-20 08:17 AM","that if on line 54 most probably should be outside the line 36 if","",""
"442388456467988490","Animo#3415","14-Apr-20 08:17 AM","within an else block i guess","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 08:18 AM","that one on line 54 is me trying to figure out how to keep writting until finding a new sequence of JPEG indicator bytes","",""
"442388456467988490","Animo#3415","14-Apr-20 08:20 AM","ok so basically if it finds the start of jpeg it will create a new jpeg else it should check whether the counter is 0. if not the it should continue writing","",""
"442388456467988490","Animo#3415","14-Apr-20 08:21 AM","in your case it will only enter that (line 36)if block if it finds the start of a new jpeg. write the first 512 bytes and the exit. but a jpeg may have data in multiple 512bytes block","",""
"442388456467988490","Animo#3415","14-Apr-20 08:22 AM","if its not start of jpeg then imo you should write an else block and check counter whether its 0 and then write","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 08:23 AM","so like this","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 08:24 AM","","https://cdn.discordapp.com/attachments/395684916056031245/699490272316358756/SPOILER_Screenshot_from_2020-04-14_00-24-20.png",""
"442388456467988490","Animo#3415","14-Apr-20 08:26 AM","no, you should create an else block for the line 36 if......that line 54 if will never be executed","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 08:27 AM","oh yea","",""
"442388456467988490","Animo#3415","14-Apr-20 08:28 AM","and line 35 fread is not reqd imo coz you are already calling it in the while condition","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 08:31 AM","ah yes, thats because this was my original line 32 and i hadnt changed it yet:","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 08:31 AM","while (!feof(memcardfile))","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 08:34 AM","did you see my question i asked about your line 31?","",""
"442388456467988490","Animo#3415","14-Apr-20 08:35 AM","yes because basically im trying to find the start of the next jpeg and while doing that writing all the contents in the present jpeg","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 08:36 AM","","https://cdn.discordapp.com/attachments/395684916056031245/699493160438464542/SPOILER_recover-1.PNG",""
"244497172412760064","Nick_jo#6430","14-Apr-20 08:36 AM","@animo can you help me out, please?","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 08:36 AM","I'm getting seg faults when I run the program","",""
"442388456467988490","Animo#3415","14-Apr-20 08:37 AM","fread in while should should be buffer and not &buffer","",""
"442388456467988490","Animo#3415","14-Apr-20 08:38 AM","how did you declare buffer ?","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 08:38 AM","@Animo what type of variable did you declare a as?","",""
"442388456467988490","Animo#3415","14-Apr-20 08:39 AM","int","",""
"442388456467988490","Animo#3415","14-Apr-20 08:41 AM","@Nick_jo i dont actually understand what malloc(512) means, like it allocates memory for which variable ?","",""
"442388456467988490","Animo#3415","14-Apr-20 08:42 AM","coz nothing is mentioned for which pointer","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 08:47 AM","so i successfully recovered all of the images but check50 is still not giving me all smileys and i'm not sure why","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 08:47 AM","all of the images i recovered look good","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 08:59 AM","üò¶ recovers 049.jpg correctly
    recovered image does not match","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:00 AM","@Animo  buffer is declared as BYTE Buffer[512] above the while loop.
And malloc (512) allocates memory for the image to be created.  Is that wrong?","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:00 AM","Am I missing something really obvious here? üòÖ","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 09:02 AM","@Nick_jo you have to explicitly declare what you are allocating the [512] for","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 09:03 AM","like: blank = malloc(512);","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 09:06 AM","in other words, when you use malloc you allocate memory in your computer's ram. but unless you assign that space of memory to something then your pc doesnt know what its for","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:09 AM","So, it should be for ""outptr"" here right?","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:10 AM","I mean the image must have memory allocated to it first , and then the blocks of bytes should be copied, right?","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 09:10 AM","yeah so up top instead of declaring  outptr = NULL;","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 09:11 AM","if it were me","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 09:11 AM","i would do outptr = malloc(512)","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:11 AM","Oh, okay!","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:12 AM","I'll try tweaking my code according to this! Thanks  @lawfulevilgenius & @Animo","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 09:12 AM","you're welcome, hope i was a little help anyway","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 09:14 AM","also you dont need the ampersand sign before buffer. only use & when you want to access the address of a pointer. @Nick_jo","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 09:16 AM","""&"" literally gives you the hexadecimal address of a pointer","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:18 AM","Oh okay","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 09:18 AM","@Nick_jo so what you are doing by putting &buffer is reading something like 0xff8721a","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:18 AM","Just tried it, it doesn't worküòÖ still seg faults üòÇ","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 09:19 AM","dang","",""
"603799118867070999","lawfulevilgenius#6705","14-Apr-20 09:19 AM","let me see the new code","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:19 AM","Sure one sec","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:21 AM","@lawfulevilgenius Here's the new code.","https://cdn.discordapp.com/attachments/395684916056031245/699504537425150012/SPOILER_recover.PNG",""
"442388456467988490","Animo#3415","14-Apr-20 09:24 AM","why are you allocating memory for the file pointer ?","",""
"442388456467988490","Animo#3415","14-Apr-20 09:24 AM","malloc is not required at all","",""
"442388456467988490","Animo#3415","14-Apr-20 09:25 AM","you are reading the bytes in buffer","",""
"442388456467988490","Animo#3415","14-Apr-20 09:25 AM","you just need to open outptr thats it","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:25 AM","Uhmm I thought for storing file data we had to create memory & thereby malloc","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:25 AM","Okay.","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:26 AM","I mean I am opening outptr everywhere","",""
"442388456467988490","Animo#3415","14-Apr-20 09:26 AM","when you are creating a file it has ample amount of storage available","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:26 AM","But still there is seg fault","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:26 AM","Yeah I guess so...","",""
"442388456467988490","Animo#3415","14-Apr-20 09:27 AM","evem after removing malloc s ?","",""
"442388456467988490","Animo#3415","14-Apr-20 09:27 AM","damn","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:27 AM","Wait I'll try removing the mallocs","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:28 AM","Yep","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:28 AM","Even after removing malloc","",""
"442388456467988490","Animo#3415","14-Apr-20 09:28 AM","ohk and instead of char* outfile...try using char outfile[7]","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:28 AM","Ok","",""
"442388456467988490","Animo#3415","14-Apr-20 09:29 AM","i think i was getting seg fault while using char*. maybe i needed to allocate it but didnt try. It was fixed when i used array of char","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:29 AM","Okay","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:30 AM","Just one sec","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:30 AM","I'm compiling","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:31 AM","Nah","",""
"361235692019384323","Sanath#7244","14-Apr-20 09:32 AM","you dont need any malloc calls in the entire program","",""
"442388456467988490","Animo#3415","14-Apr-20 09:32 AM","if you are using %03i.jpeg the use outfile[8] and if %03i.jpg then outfile[7]","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:32 AM","It's telling me array initializer must be an initializer list","",""
"361235692019384323","Sanath#7244","14-Apr-20 09:32 AM","no, you need to use jpg and 8 because of the \0","",""
"442388456467988490","Animo#3415","14-Apr-20 09:32 AM","ohh damn got it my bad","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:32 AM","Okay","",""
"361235692019384323","Sanath#7244","14-Apr-20 09:33 AM","are you assigning to an array?","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:33 AM","","https://cdn.discordapp.com/attachments/395684916056031245/699507530354655242/JPEG_20200414_120305.jpg",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:33 AM","Yes","",""
"361235692019384323","Sanath#7244","14-Apr-20 09:33 AM","thats an array of pointers not an array of chars","",""
"361235692019384323","Sanath#7244","14-Apr-20 09:33 AM","and you cant assign to arrays that way anyway","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:34 AM","Oh","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:34 AM","So, is it just ""char outfile[8]""","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:34 AM","Because even that doesn't work","",""
"442388456467988490","Animo#3415","14-Apr-20 09:34 AM","thanks @Sanath i was making the same jpg and size 7 mistake. damn it. anyways thanks for the help","",""
"361235692019384323","Sanath#7244","14-Apr-20 09:35 AM","@Nick_jo sounds right","",""
"442388456467988490","Animo#3415","14-Apr-20 09:35 AM","@Nick_jo still seg fault ?","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:35 AM","Okay I'll try thx @Sanath & @Animo","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:35 AM","Wait I'll try","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:37 AM","Voillaaaaaaa! It's working!!!!!!!!!!","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:37 AM","Wow!","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:37 AM","This had me up for 3 days!!!!!","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:37 AM","Thanks @Sanath & @Animo !!!","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 09:37 AM","","https://cdn.discordapp.com/attachments/395684916056031245/699508705992900658/JPEG_20200414_120745.jpg","üòÑ (2)"
"244497172412760064","Nick_jo#6430","14-Apr-20 10:28 AM","Btw, can I know when to use malloc/ calloc & when not to?","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 10:29 AM","Because although I think I can work with pointers, memory is what confuses me a bit.","",""
"361235692019384323","Sanath#7244","14-Apr-20 10:33 AM","large memory allocation, if you need the memory to remain after the block you create it in goes out of scope, if you dont know the allocation needed at compile time","",""
"244497172412760064","Nick_jo#6430","14-Apr-20 10:45 AM","Oh, okay! Thats why! Thanks!","",""
"374847129568673794","Fat Vorior#9160","14-Apr-20 06:00 PM","Can someone please check my code and tell me why the last pic (049.jpg) doesn't match? Thanks!","https://cdn.discordapp.com/attachments/395684916056031245/699635211251744859/SPOILER_recover.txt",""
"246033603329392651","guilleacq#9467","14-Apr-20 08:53 PM","@Fat Vorior I executed your code and everything seems to be working well. 049 is the right picture","",""
"603799118867070999","lawfulevilgenius#6705","15-Apr-20 02:25 AM","i'm confused. when i run my program it works. I recover all of the pictures clearly, including 049. However, when i run check50 im not getting a smiley for the 049. Whats going on?","",""
"244497172412760064","Nick_jo#6430","15-Apr-20 07:06 AM","@lawfulevilgenius Actually I had the same issue, it was because I did ""free(512)"" @ the end of my code. Maybe it's the same issue?","",""
"244497172412760064","Nick_jo#6430","15-Apr-20 07:46 AM","*free(outptr)","",""
"685782168030806059","lukehoang195#0618","15-Apr-20 07:53 AM","is there anyone manage to get 49 imgs but cant open because of unsupported format? I'm trying to firgure out what wrong","",""
"244497172412760064","Nick_jo#6430","15-Apr-20 07:55 AM","@lukehoang195 I made a mistake like that, when I used jpeg instead of jpg is it the same issue?","",""
"685782168030806059","lukehoang195#0618","15-Apr-20 07:57 AM","is this the rightway?","https://cdn.discordapp.com/attachments/395684916056031245/699845722715193424/unknown.png",""
"685782168030806059","lukehoang195#0618","15-Apr-20 07:58 AM","FYI ,  char* filename = malloc(8);","",""
"244497172412760064","Nick_jo#6430","15-Apr-20 08:17 AM","No filename should be an areay","",""
"244497172412760064","Nick_jo#6430","15-Apr-20 08:17 AM","*array","",""
"244497172412760064","Nick_jo#6430","15-Apr-20 08:18 AM","Think of how many characters you need for that array & initialize it.","",""
"361235692019384323","Sanath#7244","15-Apr-20 08:19 AM","doesnt matter if filenames a pointer to a char, that should work","",""
"361235692019384323","Sanath#7244","15-Apr-20 08:20 AM","but i would still recommend an array, you dont have to bother freeing that","",""
"685782168030806059","lukehoang195#0618","15-Apr-20 10:09 AM","thanks @Sanath ! by changing from dynamic allocation to static, the program run fine. But i can't help wondering why malloc behave that way.","",""
"361235692019384323","Sanath#7244","15-Apr-20 10:28 AM","should be no difference","",""
"361235692019384323","Sanath#7244","15-Apr-20 10:28 AM","between malloc(8) and a 8 element array","",""
"685782168030806059","lukehoang195#0618","15-Apr-20 10:31 AM","yeah, i replace buffer malloc(512) with buffer[512] -> image readable.","",""
"685782168030806059","lukehoang195#0618","15-Apr-20 10:31 AM","üò¶","",""
"361235692019384323","Sanath#7244","15-Apr-20 10:34 AM","youre messing up somewhere else","",""
"618339779607658535","sgg#0001","15-Apr-20 10:34 AM","@Sanath, test","",""
"618339779607658535","sgg#0001","15-Apr-20 10:34 AM","@sgg, test","",""
"618339779607658535","sgg#0001","15-Apr-20 10:34 AM","@sgg, test","",""
"618339779607658535","sgg#0001","15-Apr-20 10:34 AM","@sgg, test","",""
"618339779607658535","sgg#0001","15-Apr-20 10:34 AM","@sgg, test","",""
"618339779607658535","sgg#0001","15-Apr-20 10:34 AM","@sgg, test","",""
"618339779607658535","sgg#0001","15-Apr-20 10:34 AM","@sgg, test","",""
"618339779607658535","sgg#0001","15-Apr-20 10:34 AM","@sgg, test","",""
"618339779607658535","sgg#0001","15-Apr-20 10:35 AM","@sgg, test","",""
"618339779607658535","sgg#0001","15-Apr-20 10:35 AM","@sgg, test","",""
"618339779607658535","sgg#0001","15-Apr-20 10:35 AM","@sgg, test","",""
"618339779607658535","sgg#0001","15-Apr-20 10:35 AM","@sgg, test","",""
"618339779607658535","sgg#0001","15-Apr-20 10:35 AM","@sgg, test","",""
"618339779607658535","sgg#0001","15-Apr-20 10:35 AM","@sgg, test","",""
"618339779607658535","sgg#0001","15-Apr-20 10:35 AM","@sgg, test","",""
"618339779607658535","sgg#0001","15-Apr-20 10:35 AM","@sgg, test","",""
"618339779607658535","sgg#0001","15-Apr-20 10:35 AM","@sgg, test","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 12:55 PM","Hi guys I'm quite clueless about this assignment","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 12:56 PM","I watched the walkthrough over and over and I'm still not sure about how I should approach this problem.
Any hints?","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 01:45 PM","Okay I read through the convo here and it helped me a lot, but the images come out mostly blank","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 01:45 PM","@monamoe I saw that you had the same problem, can you please help me fix it?","",""
"620893387058315264","monamoe#3382","15-Apr-20 09:20 PM","@RoyalSeraph#9004","",""
"620893387058315264","monamoe#3382","15-Apr-20 09:21 PM","@RoyalSeraph i didnt understabd what fopen does to the file if the filr name given already exists","",""
"269227960156946454","GhostDragon#7128","15-Apr-20 09:21 PM","imagine that the file is like a book","",""
"269227960156946454","GhostDragon#7128","15-Apr-20 09:21 PM","you have to actually open the book in order to read it","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 09:22 PM","Yeah but you wrote that you changed something about it that helped the photos stop being distorted","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 09:22 PM","and that's the thing I couldn't figure out","",""
"620893387058315264","monamoe#3382","15-Apr-20 09:22 PM","Yes, i changed how i used the fopen method","",""
"620893387058315264","monamoe#3382","15-Apr-20 09:23 PM","Before i was calling fopen everytime i wanted to add data to the file","",""
"620893387058315264","monamoe#3382","15-Apr-20 09:23 PM","I changed my program so that it calls fopen once for every filename","",""
"361235692019384323","Sanath#7244","15-Apr-20 09:23 PM","Fopen by default overwrites the file every time","",""
"620893387058315264","monamoe#3382","15-Apr-20 09:24 PM","Yeah, i assumed that it didnt and thats was why i was getting distorted images","",""
"620893387058315264","monamoe#3382","15-Apr-20 09:25 PM","@RoyalSeraph look at where you are calling your fopen function","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 09:25 PM","right after the sprintf, maybe that's why","",""
"620893387058315264","monamoe#3382","15-Apr-20 09:27 PM","how many times does your program call it? after the first block is written to the file is it possible that another block will be added to that same file","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 09:28 PM","it calls it once in the (count==0) condition and once in its else","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 09:30 PM","```           if (jpgcount == 0)
            {
                outptr = fopen(out, ""w+"");//open the file which has it
                sprintf(out, ""%03i.jpg"", 0);//store the name
                fwrite(buffer, sizeof(BYTE), 512, outptr);//write from buffer
                jpgcount++;
            }
            else
            {
                fclose(outptr);
                jpgcount++;
                outptr = fopen(out, ""w+"");//open the file which has it
                sprintf(out, ""%03i.jpg"", jpgcount);//store the name
                fwrite(buffer, sizeof(BYTE), 512, outptr);//write from buffer
            }```","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 09:30 PM","here's the relevant part","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 09:31 PM","I moved the fopen to before the sprintf and it didn't really change much so there's probably something I miss here(?)","",""
"620893387058315264","monamoe#3382","15-Apr-20 09:39 PM","where is the part of your program that checks for the jpg file header? my problem was related to that step","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 09:39 PM","I used it as a function and called the prototype before the main","",""
"620893387058315264","monamoe#3382","15-Apr-20 09:41 PM","my program would check for the jpg file header, if it didnt find it then that meant that the next block of data was to be attached onto the previous jpg file. this was where i had the extra fopen function that was deleting the data in my files","",""
"620893387058315264","monamoe#3382","15-Apr-20 09:43 PM","i deleted the ""sprintf"" line and the ""img = fopen"" line inside the else statement, and the program worked because it was no longer deleting data i had already written into the file","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 09:45 PM","```     if (filestart(buffer))
        {
            ...(((the code I sent above)))...
        }
        else
        {
            fwrite(buffer, sizeof(BYTE), 1, f);
        }```","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 09:45 PM","This is how it looks in my code","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 09:47 PM","(filestart is the function)","",""
"620893387058315264","monamoe#3382","15-Apr-20 09:52 PM","change the 1 in fwrite to 512","",""
"620893387058315264","monamoe#3382","15-Apr-20 09:54 PM","when you use fread(), it returns an int number of sizeof(BYTE) the function was able to return from the raw data file","",""
"620893387058315264","monamoe#3382","15-Apr-20 09:54 PM","i set that int to a variable, and used that variable in fwrite()","",""
"620893387058315264","monamoe#3382","15-Apr-20 09:56 PM","that way if fread() returns a number that is less than 512, fwrite() will write the remaining blocks of data without crashing the program (if you try to write 512 blocks of data when there arent that many remaining)","",""
"620893387058315264","monamoe#3382","15-Apr-20 09:56 PM","also, if fread() returns a number less than 512, i know that i have reached the end of the file and i can exit my while loop","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 09:59 PM","> change the 1 in fwrite to 512
Didn't help sadly üò¶","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 10:00 PM","> i set that int to a variable, and used that variable in fwrite()
So instead of ```sizeof(BYTE)``` write the variable's name?","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:02 PM","not quite, fread returns a number","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:02 PM","so like this","https://cdn.discordapp.com/attachments/395684916056031245/700058586276954122/SPOILER_unknown.png",""
"620893387058315264","monamoe#3382","15-Apr-20 10:03 PM","and then when writing to a file, you would use that variable like this","https://cdn.discordapp.com/attachments/395684916056031245/700058799100133376/SPOILER_unknown.png",""
"620893387058315264","monamoe#3382","15-Apr-20 10:04 PM","and then my condition for the while loop is checking if readingNumber is still equal to 512","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 10:06 PM","That actually sounds brilliant","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 10:06 PM","I'll give it a try","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 10:15 PM","So for some reason it still doesn't work","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 10:15 PM","","https://cdn.discordapp.com/attachments/395684916056031245/700061830634143754/SPOILER_coderecover.png",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 10:16 PM","this is the full code in case I really really missed the point","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:28 PM","@RoyalSeraph ur last fwrite has *f passed into it for the file","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:29 PM","It should be outptr, not f","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:29 PM","f is the file u are reading from","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:30 PM","I think thats why ur getting blanks","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 10:31 PM","just changed it, segfault","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:31 PM","Hm","",""
"242503403345805313","Buttah#2936","15-Apr-20 10:31 PM","does anyone know what to do if the terminal is in a continuous loop? how do i stop the program from running?","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:31 PM","Control c","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 10:31 PM","^","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:31 PM","In the terminal","",""
"242503403345805313","Buttah#2936","15-Apr-20 10:31 PM","thanks","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:31 PM","Np","",""
"242503403345805313","Buttah#2936","15-Apr-20 10:32 PM","to keep reading a file, why cant we use feof function?","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:32 PM","@RoyalSeraph also ur using fread only once before the while loop even runs","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:33 PM","U are only read the first block from the raw data file","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:34 PM","U need it in your while loop","",""
"242503403345805313","Buttah#2936","15-Apr-20 10:35 PM","@monamoe why can't I do while(!feof(f)) where f is the pointer for fopen","",""
"242503403345805313","Buttah#2936","15-Apr-20 10:35 PM","it puts me into a continuous loop","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 10:36 PM","in the loop but before the condition, right?","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:37 PM","@Buttah i don't know haha sorry, im still learning this as i go","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:38 PM",":p","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:41 PM","@RoyalSeraph the condition requires that value, but you also need to make sure you are getting a new block of data from the rawdata file everytime your.loop runs","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:42 PM","Because if you dont, you will only have accessed the first block of the file","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 10:42 PM","``` while (fread(buffer, sizeof(BYTE), 512, f) == 512)
    {
        readnum = fread(buffer,sizeof(BYTE), 512, f);
        if (buffer[0] == 0xff && buffer[1] == 0 ...```
I changed it to this and still get segfault","",""
"651110562176172045","m.sharifit88#2964","15-Apr-20 10:44 PM","@RoyalSeraph Why you call fread twice in each iteration?","",""
"651110562176172045","m.sharifit88#2964","15-Apr-20 10:45 PM","That's source of many problems.","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 10:46 PM","Fair point, though I changed it (removed the 2nd line in my last message and changed all other times I called the integer back to simply 512) and still segfault","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:47 PM","The problem with doing it that way is that you are usinf fread twice as sharifit88 said","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:48 PM","Ur gonna have to find a workaround to get the loop to work while having the fread function inside","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 10:49 PM","I'm quite clueless at this point but I'll try","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 10:49 PM","Thanks for the help though!","",""
"651110562176172045","m.sharifit88#2964","15-Apr-20 10:54 PM","@RoyalSeraph while loop itself call fread once; no need to call fread again. When you check the condition inside the while loop it has to call fread.","",""
"620893387058315264","monamoe#3382","15-Apr-20 10:55 PM","Hm","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 10:55 PM","But here's the thing - I removed the second fread and left only the one in the while condition and I still get a segfault","",""
"651110562176172045","m.sharifit88#2964","15-Apr-20 10:56 PM","@RoyalSeraph Because your program bug is not related to this part of the code.","",""
"651110562176172045","m.sharifit88#2964","15-Apr-20 10:59 PM","Also you would consider changing size of byte and 512 for reading whole 512 bytes block in each iteration and improve your code efficiency. Also change condition to while(fread(blah blah blah) > 0).","",""
"433756010511990784","supercoolperson#3477","15-Apr-20 11:03 PM","Hi sorry to interrupt but would anyone be able to help me figure out why check50 is saying that my outputs aren't working? I suspect it might have to do with my sprintf() on line 24, but I could be wrong in a lot of other places. I'm kind of stuck","https://cdn.discordapp.com/attachments/395684916056031245/700073865854058656/SPOILER_Recover.png",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 11:07 PM","> Also you would consider changing size of byte and 512 for reading whole 512 bytes block in each iteration and improve your code efficiency. Also change condition to while(fread(blah blah blah) > 0).
@m.sharifit88 so what you mean is: Instead of while (fread(¬¢‚Ç¨¬•¬£¬¢) == 512), I should write while (fread(¬£¬¢¬•¬£¬£‚Ç¨) > 0), I understand why you're suggesting this.

And consider *what* about changing of the sizeof(BYTE) and all else? I didn't understand that part and why I should change it.","",""
"651110562176172045","m.sharifit88#2964","15-Apr-20 11:10 PM","@RoyalSeraph In the code you wrote, you read 1 byte 512 times but if you use fread(buffer, 512, 1, file) you can read 512 bytes one time. That would be more efficient.","",""
"238801079339450368","RoyalSeraph#9004","15-Apr-20 11:11 PM","ü§î I see. I'll try it, thanks!","",""
"651110562176172045","m.sharifit88#2964","15-Apr-20 11:11 PM","No problem. üòÄ","",""
"144632818046074880","Yama#6436","16-Apr-20 12:21 AM","Hello everyone üòÑ has anyone ran into an error of `Segmentation fault`?","",""
"361235692019384323","Sanath#7244","16-Apr-20 12:21 AM","memory error","",""
"361235692019384323","Sanath#7244","16-Apr-20 12:22 AM","youre accessing memoryyou shouldnt","",""
"144632818046074880","Yama#6436","16-Apr-20 12:24 AM","üôè I'll look into that one. Thank you for the help ü•≥","",""
"144632818046074880","Yama#6436","16-Apr-20 12:28 AM","Fixed. Thank you for the tip üòÑ also interesting where that error was being thrown.","",""
"242503403345805313","Buttah#2936","16-Apr-20 12:31 AM","Can someone provide a hint as to how to determine how large the string in the function sprintf needs to be?","",""
"361235692019384323","Sanath#7244","16-Apr-20 12:31 AM","8","",""
"242503403345805313","Buttah#2936","16-Apr-20 12:31 AM","Why is it 8?","",""
"361235692019384323","Sanath#7244","16-Apr-20 12:31 AM","count the chars","",""
"242503403345805313","Buttah#2936","16-Apr-20 12:32 AM","I thought int = 4 bits","",""
"242503403345805313","Buttah#2936","16-Apr-20 12:32 AM","so 000 is 12 bits right there?","",""
"242503403345805313","Buttah#2936","16-Apr-20 12:32 AM","or am I thinking about this the wrong way","",""
"361235692019384323","Sanath#7244","16-Apr-20 12:33 AM","bytes not bits, but more importantly the character '0' is very different from the integer 0","",""
"361235692019384323","Sanath#7244","16-Apr-20 12:33 AM","chars are 1 byte","",""
"242503403345805313","Buttah#2936","16-Apr-20 12:34 AM","oh so the function converts the int to a char","",""
"242503403345805313","Buttah#2936","16-Apr-20 12:34 AM","so is it because it's 7 chars and 1  \0?","",""
"361235692019384323","Sanath#7244","16-Apr-20 12:35 AM","well, to a string which is made ofchars","",""
"361235692019384323","Sanath#7244","16-Apr-20 12:35 AM","yes","",""
"242503403345805313","Buttah#2936","16-Apr-20 12:35 AM","thank you","",""
"242503403345805313","Buttah#2936","16-Apr-20 12:35 AM","that makes a lot more sense","",""
"144632818046074880","Yama#6436","16-Apr-20 12:58 AM","Hoping to get a hint. But has anyone ran into the problem where a bunch of files are created but all of them has like 50+ by 50+ boxes colors grey and white without an image?","",""
"393854278764068875","curiouskiwi#1671","16-Apr-20 01:01 AM","that sounds like each image is only the first block.  what's the size  run `ls -l` to see the list with sizes","",""
"144632818046074880","Yama#6436","16-Apr-20 01:03 AM","I've I'm understanding correctly. I'm running it as","",""
"144632818046074880","Yama#6436","16-Apr-20 01:03 AM","||while (fread(buffer, 512, 1, file)) {||","",""
"393854278764068875","curiouskiwi#1671","16-Apr-20 01:04 AM","so what are the filesizes of your jpgs?","",""
"144632818046074880","Yama#6436","16-Apr-20 01:04 AM","Says 512 bytes","",""
"393854278764068875","curiouskiwi#1671","16-Apr-20 01:07 AM","which means that you aren't writing all the blocks.","",""
"393854278764068875","curiouskiwi#1671","16-Apr-20 01:09 AM","for example, 000.jpg should be 114176","",""
"144632818046074880","Yama#6436","16-Apr-20 01:14 AM","Oh! wow. Hm, it seems I have misunderstood a part. When we use the while loop, aren't we suppose to write then close the new jpeg file (then create a new one) each time we meet the conditional that the part is a jpeg by looking at the first 4 indexes?","",""
"393854278764068875","curiouskiwi#1671","16-Apr-20 01:15 AM","you keep writing blocks until you get a signature (which means a new jpg) and at that point, you close the first jpg and open a second one","",""
"144632818046074880","Yama#6436","16-Apr-20 01:17 AM","Thank you üôÇ That hints was a big help. Seeing all the pictures now. Yey","",""
"144632818046074880","Yama#6436","16-Apr-20 01:34 AM","Quick question for debugging check50. When I run locally, I'm seeing all images being loaded on my end. But the check50 says there isn't a single file being created. How would one approach this problem? If what it's saying doesn't match locally and we can't run a debugger for check50?","",""
"393854278764068875","curiouskiwi#1671","16-Apr-20 01:40 AM","what's your check50 results url?","",""
"144632818046074880","Yama#6436","16-Apr-20 01:41 AM","||https://submit.cs50.io/check50/08517062134f3940261670691c2f356f0951e9ff||","",""
"393854278764068875","curiouskiwi#1671","16-Apr-20 01:42 AM","can you paste a screenshot showing your directory  running `ls -l`?","",""
"393854278764068875","curiouskiwi#1671","16-Apr-20 01:43 AM","or, maybe quicker, are you sure your files are named 000.jpg to 049.jpg?","",""
"144632818046074880","Yama#6436","16-Apr-20 01:43 AM","ah! there lies the problem. I'm naming them jpeg","",""
"144632818046074880","Yama#6436","16-Apr-20 01:44 AM","It all checked out. Sorry about that one. It was such an obvious one but somehow I didn't see the .jpg different from .jpeg when I kept going back an forth.","",""
"144632818046074880","Yama#6436","16-Apr-20 01:45 AM","üôè","",""
"242503403345805313","Buttah#2936","16-Apr-20 02:19 AM","Anyone know how are the jpgs written? For example, let's assume that the first jpg is of size 700 bytes, or 1 full 512 bytes + 188 bytes of the second 512-byte block. Where does the second jpg signature start: (i) the 189th byte of the second 512-byte block or (ii) the 0th byte of the third 512-byte block?","",""
"236625588868087808","psychodoughb0y#0892","16-Apr-20 02:20 AM","The problem specifies it will always be the start of the next block.","",""
"393854278764068875","curiouskiwi#1671","16-Apr-20 02:20 AM","the jpg signatures are aligned to the 512 block so the 0th byte","",""
"242503403345805313","Buttah#2936","16-Apr-20 02:24 AM","@psychodoughb0y @curiouskiwi thanks","",""
"242503403345805313","Buttah#2936","16-Apr-20 03:37 AM","Can someone take a look at my code and tell me what is causing an incomplete 000.jpg? Just focusing on the very first jpg right now","https://cdn.discordapp.com/attachments/395684916056031245/700142794873896970/SPOILER_unknown.png",""
"242503403345805313","Buttah#2936","16-Apr-20 03:37 AM","Here is the incomplete 000.jpg:","https://cdn.discordapp.com/attachments/395684916056031245/700142910061936640/SPOILER_AqVqcOIB6FEjAAAAAElFTkSuQmCC.png",""
"393854278764068875","curiouskiwi#1671","16-Apr-20 03:43 AM","that's actually the top of 049.jpg","",""
"393854278764068875","curiouskiwi#1671","16-Apr-20 03:43 AM","or should be","",""
"393854278764068875","curiouskiwi#1671","16-Apr-20 03:43 AM","you don't appear to be closing each jpg when you are finished","",""
"698961971252559892","bcunning68#7493","16-Apr-20 06:42 AM","Need some advice on the Lack of Forensic Image error.  I created a blank file, card1.raw, and processed it and was able to get the Segmentation Error.  I fixed the code and it works locally with the blank file.  Then I created file, card2.raw, and copied the first 10 lines from the card.raw file.  My program loops several times, finds nothing and exist with no issue.  No idea why I am getting this error on the check50.","",""
"236625588868087808","psychodoughb0y#0892","16-Apr-20 06:47 AM","What does your program do if you just run ""./recover"" with no arguments?","","üëç (1)"
"698961971252559892","bcunning68#7493","16-Apr-20 06:53 AM","WOW!  That was working and then I changed the code I must have removed the RETURN 1; for the first two checks.  I added the RETURN 1; for the ARGC and ARGV checks and it passed.  Thanks for the help.","","üëç (2)"
"238801079339450368","RoyalSeraph#9004","16-Apr-20 07:19 AM","> Can someone take a look at my code and tell me what is causing an incomplete 000.jpg? Just focusing on the very first jpg right now
Holy crap, that was my issue!!!! The else statement at the bottom!!","",""
"238801079339450368","RoyalSeraph#9004","16-Apr-20 07:19 AM","I changed it and it my code works now perfectly!!!!!","",""
"238801079339450368","RoyalSeraph#9004","16-Apr-20 07:19 AM","Thank you all for the help, wouldn't get it without you üòÑ","",""
"238801079339450368","RoyalSeraph#9004","16-Apr-20 07:20 AM","> What does your program do if you just run ""./recover"" with no arguments?
@psychodoughb0y it should print this:
```Usage: ./recover image```","",""
"242503403345805313","Buttah#2936","16-Apr-20 07:24 AM","> Thank you all for the help, wouldn't get it without you üòÑ
@RoyalSeraph glad that helped. I am able to get to 049.jpg, but having a bit of trouble for 050.jpg","",""
"242503403345805313","Buttah#2936","16-Apr-20 07:25 AM","can you provide a hint if you got pass this?","",""
"238801079339450368","RoyalSeraph#9004","16-Apr-20 07:26 AM","Actually.... I was just about to write that I have a new problem now lol","",""
"238801079339450368","RoyalSeraph#9004","16-Apr-20 07:26 AM","The check50 still fails it","",""
"238801079339450368","RoyalSeraph#9004","16-Apr-20 07:26 AM","even though I see all images very clearly","",""
"242503403345805313","Buttah#2936","16-Apr-20 07:26 AM","do you have a complete 050?","",""
"242503403345805313","Buttah#2936","16-Apr-20 07:26 AM","i cant even produce a 050.jpg lol","",""
"238801079339450368","RoyalSeraph#9004","16-Apr-20 07:26 AM","up to 049, I thought it was normal","",""
"242503403345805313","Buttah#2936","16-Apr-20 07:27 AM","can you give me a hint on how you approached producing 050.jpg? i know you said the check50 check still fails, but at least you are able to get a 050.jpg","",""
"393854278764068875","curiouskiwi#1671","16-Apr-20 07:30 AM","there is no 050.jpg","",""
"393854278764068875","curiouskiwi#1671","16-Apr-20 07:30 AM","there are 50 jpgs total.  000.jpg to 049.jpg","",""
"242503403345805313","Buttah#2936","16-Apr-20 07:30 AM","oh stupid me","",""
"242503403345805313","Buttah#2936","16-Apr-20 07:30 AM","thanks!","",""
"238801079339450368","RoyalSeraph#9004","16-Apr-20 07:38 AM","> The check50 still fails it
SOLVED! I was apparently starting from 001 without knowing it (as in: 001 was written as 000)","",""
"242503403345805313","Buttah#2936","16-Apr-20 07:47 AM","@curiouskiwi do you know if unsigned char is the same as uint8_t? The prompt hinted at using uint8_t but it seems like unsigned char does the trick as well","",""
"393854278764068875","curiouskiwi#1671","16-Apr-20 08:11 AM","strictly speaking they aren't guaranteed to be the same, but in the IDE they are the same, since unsigned char is an 8 bit type","",""
"530382988249399296","wut#7543","16-Apr-20 12:36 PM","hi can someone help with me","",""
"530382988249399296","wut#7543","16-Apr-20 12:36 PM","this is my code it fails the check for image049.jpg","https://cdn.discordapp.com/attachments/395684916056031245/700278400056557578/SPOILER_unknown.png",""
"530382988249399296","wut#7543","16-Apr-20 12:36 PM","but when i open image049 it looks correct","https://cdn.discordapp.com/attachments/395684916056031245/700278546408407070/unknown.png",""
"530382988249399296","wut#7543","16-Apr-20 12:44 PM","ohh nvm i figured it out after reading past msgs, i was doing read write check instead of read check write","",""
"530382988249399296","wut#7543","16-Apr-20 12:44 PM","so ended up writing the last block twice","",""
"530382988249399296","wut#7543","16-Apr-20 12:44 PM","dont do the same mistake guys üòÖ","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 03:08 PM","hey can anyone tell me why i am getting some 20 images in the set of 50 as bad images like the below one rest as perfect","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 03:08 PM","","https://cdn.discordapp.com/attachments/395684916056031245/700316662792060938/007.jpg",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 03:08 PM","?what am i doing wrong?","",""
"698961971252559892","bcunning68#7493","16-Apr-20 03:37 PM","Can you share a screenshot of your loop?","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 05:17 PM","Ok","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 05:24 PM","```c
check=fread(array,1,512,f);

    //i for index usage and flag for else conditions
    int i=0,flag=0;

    //image name buffer
    char filename[6];

    while (check==512)
    {       
            //checking of jpeg format conditions
            if (array[i]==0xff)
            {
                if(array[i+1]==0xd8)
                {
                    if(array[i+2]==0xff)
                    {
                        if((array[i+3] & 0xf0)==0xe0)
                        {                            
                            //printing name in image name buffer
                            sprintf(filename,""%03i.jpg"", imgcount);

                            //image file pointer along with name
                            img=fopen(filename,""w"");
                
                            //writing new file
                            fwrite(array,1,512,img);
                            flag=1;
                            imgcount++;  
                        }    
                    }
                }
            }
            
            //if no new jpeg header continue to write
            else if(flag==1)
            {
                fwrite(array,1,512,img);
            }


        //reassignment of check condition
        check=fread(array,1,512,f);
    
```","",""
"361235692019384323","Sanath#7244","16-Apr-20 05:25 PM","filename should most definitely not be 6 bytes","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 05:27 PM","Why?","",""
"361235692019384323","Sanath#7244","16-Apr-20 05:28 PM","3 chars for file number, 4 for "".jpg"", 1 for '\0'","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 05:45 PM","oh ya corrected that","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 05:45 PM","but still same results","",""
"361235692019384323","Sanath#7244","16-Apr-20 05:46 PM","where are you incrementing i?","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 05:48 PM","is it required ? cause we are seeing block block right and we need to check the first 4 elements ?","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 05:48 PM","cause initially i did that and got  no results","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 05:48 PM","so am i wrong ?","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 05:52 PM","i am getting most of the pictures around 30 perfectly but others carry some faults","",""
"361235692019384323","Sanath#7244","16-Apr-20 05:57 PM","then that i shouldnt even be there, just use array[0], array[1], wtc","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 05:57 PM","ah yes","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 05:57 PM","that can be changed","",""
"361235692019384323","Sanath#7244","16-Apr-20 05:58 PM","you also want to fclose the previous file when you find a new one","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 05:58 PM","oh ok","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 05:58 PM","that i missed","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 06:03 PM","done still no effect","",""
"269227960156946454","GhostDragon#7128","16-Apr-20 06:08 PM","please put your code under spoiler tag @ThunderStriker","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 06:09 PM","i am really sorry and how should i do that ?","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 06:09 PM","i don't know actually how to do that","",""
"269227960156946454","GhostDragon#7128","16-Apr-20 06:10 PM","put || on either side of your code (same thing as the OR operator in C)","",""
"269227960156946454","GhostDragon#7128","16-Apr-20 06:10 PM","||
```c
int main(void) {

}
```
||","",""
"269227960156946454","GhostDragon#7128","16-Apr-20 06:10 PM","hmm","",""
"269227960156946454","GhostDragon#7128","16-Apr-20 06:11 PM","thats strange","",""
"269227960156946454","GhostDragon#7128","16-Apr-20 06:11 PM","doesnt seem to work","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 06:11 PM","yes","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 06:12 PM","how do we do that again please ?","",""
"361235692019384323","Sanath#7244","16-Apr-20 06:13 PM","doesnt work in code blocks for pc","",""
"269227960156946454","GhostDragon#7128","16-Apr-20 06:13 PM","just post a screenshot and tag that as spoiler","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 06:13 PM","trying","",""
"698961971252559892","bcunning68#7493","16-Apr-20 06:14 PM","Your while loop is checking for a complete block of 512, how will your loop handle a partial block?","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 06:15 PM","partial block in the sense the jpeg tags in the middle ?","",""
"698961971252559892","bcunning68#7493","16-Apr-20 06:15 PM","Yes or last block read is not a full 512.","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 06:17 PM","so how do we use fwrite in that case  by writing 1 by 1 ?","",""
"698961971252559892","bcunning68#7493","16-Apr-20 06:18 PM","Another question to consider with the deep IF structure.  What happens to the block if the first IF=TRUE, but the second IF fails?","",""
"698961971252559892","bcunning68#7493","16-Apr-20 06:18 PM","You really only need to know if there is data left to review to continue the loop.","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 06:20 PM","i am not getting the way in which the jpgs are stored in the card.raw. Isn't it containg 512blocks with the jpeg's header only at starting ?","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 06:21 PM","> You really only need to know if there is data left to review to continue the loop.
@bcunning68 what does this mean ?","",""
"698961971252559892","bcunning68#7493","16-Apr-20 06:23 PM","I constructed my loop to make sure that the data returned was GT 1.  Mine is constructed a little differently then your loop.  I was trying to modify my code to see if I could duplicate the error, but the construction on my code will not compile if I set it equal to 512.","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 06:23 PM","> so how do we use fwrite in that case  by writing 1 by 1 ?
and is this the way to do this ?","",""
"698961971252559892","bcunning68#7493","16-Apr-20 06:26 PM","The example in the video does a complete check of all 4 positions in one IF, that way you do not have embedded IF and only two options for where to go.  The way I am reading your code is if the the first bit is 0xff and the second is something other than 0xd8 you will skip the write from the first ELSE statement.","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 06:27 PM","oh ok this can be the major flaw wait let me modify the condition","","üëç (1)"
"598749318001852416","ThunderStriker#7144","16-Apr-20 06:31 PM","@bcunning68 thanks a lot !!!!","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 06:31 PM","Worked","",""
"598749318001852416","ThunderStriker#7144","16-Apr-20 06:31 PM","i didn't noticed that major one !
thanks once again @bcunning68","",""
"698961971252559892","bcunning68#7493","16-Apr-20 06:33 PM","No problem.  Glad I could help.","",""
"433756010511990784","supercoolperson#3477","16-Apr-20 08:01 PM","When I run my program, I get no output. I feel like my loop on line 16 might be wrong, and there may be other issues that I am not seeing. It compiles okay. Am I on the right track here, or is there something that I'm missing? Thanks!","https://cdn.discordapp.com/attachments/395684916056031245/700390312354512926/SPOILER_Recover_2.png",""
"236625588868087808","psychodoughb0y#0892","16-Apr-20 08:06 PM","How does everyone seem to know this &0f0 trick?","",""
"698961971252559892","bcunning68#7493","16-Apr-20 08:12 PM","@supercoolperson rethink the FOR loop.  Think about the data on the card as varying in length and we are just reading it 512 bytes at a time. How does your program get the second 512 bytes?","",""
"698961971252559892","bcunning68#7493","16-Apr-20 08:14 PM","@psychodoughb0y Brian mentioned it in the Recover video.  Do a YouTube search on bitwise math, there a lot of short videos that will walk you through the idea.","","üëç (2)"
"433756010511990784","supercoolperson#3477","16-Apr-20 09:38 PM","@bcunning68 So maybe I should use a WHILE loop instead of a FOR, i.e. WHILE there is still memory left? I don‚Äôt know how I would write that though, because how could we compare the memory used and the total amount of card memory? Maybe I need to use malloc before the loop?","",""
"361235692019384323","Sanath#7244","16-Apr-20 09:40 PM","Loop choice doesn't really matter","",""
"361235692019384323","Sanath#7244","16-Apr-20 09:40 PM","And you don't need ro use malloc at all","",""
"433756010511990784","supercoolperson#3477","16-Apr-20 10:10 PM","@Sanath Okay so if I can use the FOR loop then, maybe instead of i++, I have i += 512? That wouldn't work with my sprintf function though, where I base the file name off of i. And I'm not sure what the second parameter in the FOR loop would be, since it can't loop forever","",""
"361235692019384323","Sanath#7244","16-Apr-20 10:12 PM","Idk why you're looping 512 times, you seem to have misunderstood","",""
"433756010511990784","supercoolperson#3477","16-Apr-20 10:15 PM","Would i += 512 mean that it loops 512 times? I thought it meant that it increases by 512 each time, so it goes one block at a time. I don‚Äôt know what an end condition would be though, so that it stops looping when it iterates through the entire memory card","",""
"698961971252559892","bcunning68#7493","16-Apr-20 11:00 PM","@supercoolperson I did not use malloc in my solution.  Try replacing your FOR loop with a while and make sure your FREAD has data.  Also, take a look at the FREAD in your code, you are grabbing 1 byte  512 times.","",""
"433756010511990784","supercoolperson#3477","16-Apr-20 11:20 PM","All right, I got rid of my malloc/free statements and changed my FOR loop to a WHILE loop. I changed my fread statement too. The walkthrough says that the loop is supposed to ""Repeat until end of card"", but I'm not sure how to represent the end of the card in code. @bcunning68","https://cdn.discordapp.com/attachments/395684916056031245/700440476398125566/Recover_5.png",""
"433756010511990784","supercoolperson#3477","16-Apr-20 11:20 PM","Oops sorry meant to mark as spoiler","",""
"698961971252559892","bcunning68#7493","16-Apr-20 11:31 PM","I had to draw pics on my dry erase board to get this down, let me try explaining it like this.  Imagine the card data is a book and we have no idea how many pages are in the book. FREAD is grabbing 1 page (512 bits) and then needs to process it.  Once it has processed it you need to grab the next page, again 512 bits, and process that page. The while loop should act in your code as the turning of the page and should handle any books regardless of page count.","",""
"433756010511990784","supercoolperson#3477","16-Apr-20 11:36 PM","Hmm so maybe something about -- in pseudocode -- while(there is still more JPEG data to read)? Because if the loop has iterated through all of the JPEG data, it should exit the WHILE loop. I'm not quite sure how to syntactically implement that though. Perhaps the WHILE loop does not have to do with the 512 bytes in each block. Could it have something to do with the idea of NULL? I'm trying to think of the default value if there is no data to read","",""
"433756010511990784","supercoolperson#3477","16-Apr-20 11:42 PM","Ooh maybe while(filenumber < itemsRead), and just move line 19 above the while statement?","",""
"698961971252559892","bcunning68#7493","16-Apr-20 11:44 PM","You are on track with the approach using the While Loop.  Check out the value of FREAD when it holds data, use this value to make sure there is data to review.","",""
"433756010511990784","supercoolperson#3477","16-Apr-20 11:45 PM","Yeah I think that should work because I'm comparing the current file number to the total amount of files from fread. Not entirely sure that my fread function has the correct parameters","",""
"433756010511990784","supercoolperson#3477","16-Apr-20 11:46 PM","Also my program compiles correctly but where am I supposed to see the output? Because no JPEGs are appearing anywhere that I can see, or maybe it's just that my program still has another error","",""
"698961971252559892","bcunning68#7493","16-Apr-20 11:55 PM","Once everything work correctly you will get 50 jpgs in the same folder as the card.raw file.","",""
"698961971252559892","bcunning68#7493","16-Apr-20 11:55 PM","/pset4/recover","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 12:27 AM","Thank you! I went through my program (and the walkthrough) again, and I made some changes. Still no output though. üò¶ I'm kind of lost lol","https://cdn.discordapp.com/attachments/395684916056031245/700457250401157150/SPOILER_Recover_7_-_Edited.png",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 12:30 AM","Does char *img = NULL; work without throwing errors?  I wouldn't think that would work.","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 12:34 AM","It doesn't give me any errors when I have line 23 commented out, but I get multiple errors when I put it back in. @psychodoughb0y","",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 12:35 AM","23 wouldn't work before the declaration on 24.","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 01:12 AM","True... I commented both of those out, but I'm still getting errors. I moved my FILE declaration of outptr down into my nested IF statement, but I'm getting more compiler errors of ""use of unidentified identifier 'filename'"" and ""use of unidentified identifier 'outptr'"". I thought I defined these, so why is clang saying they're unidentified? @psychodoughb0y","https://cdn.discordapp.com/attachments/395684916056031245/700468717724893184/SPOILER_Recover_8.png",""
"694328176859545650","Cranum#1500","17-Apr-20 01:16 AM","It say the 49 images doesn't match. How?","https://cdn.discordapp.com/attachments/395684916056031245/700469783493214238/SPOILER_Screen_Shot_2020-04-16_at_6.15.30_PM.png",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 01:23 AM","When do you declare filename?  I don't see that anywhere.","",""
"694328176859545650","Cranum#1500","17-Apr-20 01:40 AM","Here:","https://cdn.discordapp.com/attachments/395684916056031245/700475632269656174/SPOILER_Screen_Shot_2020-04-16_at_6.39.36_PM.png",""
"694328176859545650","Cranum#1500","17-Apr-20 01:43 AM","Never mind, I just had to return 0, so the program would stop, without going through~","",""
"694328176859545650","Cranum#1500","17-Apr-20 01:43 AM","Thanks","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 01:51 AM","I made some more changes to make mine more in line with the walkthrough. It compiles again, but returns a seg fault when I run it. I guess this is better than it returning nothing? debug50 says the seg fault is on line 18, but I don't know what's wrong with it. Sorry for all the questions; I just want to make sure that I'm doing this right. Thanks! @psychodoughb0y","https://cdn.discordapp.com/attachments/395684916056031245/700478494655774750/SPOILER_Recover_9.png",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 01:52 AM","I'm pretty sure it's the char *outptr == NULL that's the problem.","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 01:56 AM","When I comment out that line, clang says that outptr is unidentified in its future uses... When I get rid of the "" = NULL"" part, clang says ""note: initialize the variable 'outptr' to silence this warning"" and suggests making the "" = NULL"" so that's where I got the idea from @psychodoughb0y","",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 01:56 AM","I think you need to initialize it to the proper size of the data you want to store in it.","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 01:57 AM","with malloc you mean? or an array?","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 01:58 AM","Would outptr even be a char * then","",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 01:58 AM","Try one and see if it works.","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 02:04 AM","All righty, I tried an array. I'm still getting an error on line 18 though. I could be wrong, but this seems pretty off base...","https://cdn.discordapp.com/attachments/395684916056031245/700481775914188881/SPOILER_Recover_10.png",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 02:08 AM","wait, you're trying to use that in fopen?","",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 02:08 AM","fopen takes a file name, to know which file to open.","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 02:12 AM","What argument would I use for  the new file I want to write to? Would I just use f, since that's the only other file I've declared? That still results in a similar error","",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 02:13 AM","You need to give the file a name if it's a new file.","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 02:18 AM","Yeah my output file name is img, so now I have FILE *img = fopen(f, ""w""); but that results in an error saying that I am passing ""incompatible pointer types""","",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 02:19 AM","No, fopen(""file_name"", ""w"");","",""
"417994379278680064","Muhammed Zagros#9934","17-Apr-20 02:32 AM","hi","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 02:32 AM","Ohh okay so I put img in my argument of fopen and that is good (thanks)! Those errors are gone now, and it compiles. It makes a new file, called img, so that is good progress. But, debug50 says that it jumps to the else statement, and it seg faults for some reason at line 32. Shouldn't it go through the first IF statement, since (I'm assuming) the first thing on the card is a JPEG?","https://cdn.discordapp.com/attachments/395684916056031245/700488857069813760/SPOILER_Recover_11.png",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 02:33 AM","The first thing on the card is not a jpg.","",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 02:33 AM","That's why you have to find them.","",""
"417994379278680064","Muhammed Zagros#9934","17-Apr-20 02:36 AM","I just finished recover problem and the program runs without  any problem and recovers and renames all the 50 image files correctly but it  fails in the check50","https://cdn.discordapp.com/attachments/395684916056031245/700489727719243786/chrome_gROWlThZ9q.png",""
"417994379278680064","Muhammed Zagros#9934","17-Apr-20 02:36 AM","","https://cdn.discordapp.com/attachments/395684916056031245/700489741358989373/chrome_kBpL2uG9cG.png",""
"417994379278680064","Muhammed Zagros#9934","17-Apr-20 02:37 AM","did anyone had this problem?","",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 02:40 AM","Look at the file names.","",""
"417994379278680064","Muhammed Zagros#9934","17-Apr-20 02:41 AM","they are okay","",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 02:41 AM","Compare the file name you made to the one in check 50 closely.","",""
"417994379278680064","Muhammed Zagros#9934","17-Apr-20 02:41 AM","they stat with 000 and end with 049","",""
"417994379278680064","Muhammed Zagros#9934","17-Apr-20 02:41 AM","okay wait","",""
"417994379278680064","Muhammed Zagros#9934","17-Apr-20 02:41 AM","hahaha silly me","",""
"417994379278680064","Muhammed Zagros#9934","17-Apr-20 02:42 AM","jpeg instead of jpg","",""
"417994379278680064","Muhammed Zagros#9934","17-Apr-20 02:43 AM","thanks bro everything is fine  now","",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 02:43 AM","Congrats.","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 03:50 AM","@psychodoughb0y It looks like my WHILE loop is only running twice though, then going to my fclose(img); line and then seg faulting for some reason. Why would it seg fault there, and how can I get it to stay in the loop","",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 03:52 AM","There's a lot going on in your code that isn't correct.","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 03:55 AM","I thought as much üò¶ I've been staring at this for a while and felt that I was quite off track lol","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 03:56 AM","Perhaps I should just start over since I can't get it to show any images idk","",""
"365699593339404288","jkart#9902","17-Apr-20 05:51 PM","Hi all. I seem to get the first file just fine, but im having trouble getitng my loop to continue reading. Any tips on proceeding to the next image?","",""
"365699593339404288","jkart#9902","17-Apr-20 05:52 PM","https://pastebin.com/w9PwBvjB","",""
"365699593339404288","jkart#9902","17-Apr-20 06:15 PM","nvm, my counter condition wasn't incrementing","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 07:17 PM","My code compiles again and doesn't have any seg faults (yay)! It only outputs an empty file, called filename. But why isn't it going through my if statements so it can write photo files? Thanks!","https://cdn.discordapp.com/attachments/395684916056031245/700741691845378228/SPOILER_Recover_14_-_Edited.png",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 08:24 PM","You're doing fopen(""filename""  instead of fopen(variable_holding_filename","",""
"651110562176172045","m.sharifit88#2964","17-Apr-20 09:37 PM","@supercoolperson Why did you use int buffer? That's like to be a BYTE array or unsigned char. üôÅ üòê üòê","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 10:33 PM","@psychodoughb0y @m.sharifit88 Thank you for catching these mistakes. I decided to start over, so there are a few little changes here, but it is mostly the same. (The reason I declare FILE *img = NULL so early is so that I wouldn't get an undeclared compiler error because of it being used in line 48.) I still don't get any output though","https://cdn.discordapp.com/attachments/395684916056031245/700791089849958510/SPOILER_Recover_15A.png",""
"433756010511990784","supercoolperson#3477","17-Apr-20 10:34 PM","","https://cdn.discordapp.com/attachments/395684916056031245/700791322541555783/SPOILER_Recover_15B.png",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 10:39 PM","What output do you get?","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 10:43 PM","","https://cdn.discordapp.com/attachments/395684916056031245/700793501310517258/Recover_Output_-_Edited.png",""
"433756010511990784","supercoolperson#3477","17-Apr-20 10:43 PM","","https://cdn.discordapp.com/attachments/395684916056031245/700793539281551530/Recover_Output_2.png",""
"433756010511990784","supercoolperson#3477","17-Apr-20 10:44 PM","I don't get any new files that appear. debug50 shows that the loop executes a few times (3, I think), and then blocksread changes from 512 to 0 for some reason. This causes the loop to exit, but idk why blocksread would go to 0 if it's not the end of the memory card","",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 10:51 PM","That's really odd.  Maybe I'm reading something wrong, but it looks like it should at least create one file.","",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 10:52 PM","Try a breakpoint on line 31.","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 11:01 PM","@psychodoughb0y The breakpoint on line 31 doesn't do anything, since the if statement on line 28 never gets evaluated to true.","",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 11:03 PM","That's odd.","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 11:04 PM","The loop evaluates five times, with that if statement resulting to false each time, then blocksread becomes 0 on line 27 for some reason, so the while condition is false","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 11:04 PM","No clue why it changes like that too (especially on the fifth time -- idk what would be so special about the fifth time that makes it work four times before)","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 11:10 PM","Also interesting is that when I compile, these two files show up. When I open them, the IDE just says ""Could not open file: /pset4/recover/ÔøΩR
The file could not be found on the file system."" and then it closes the file","https://cdn.discordapp.com/attachments/395684916056031245/700800403586940958/Recover_Output_3_-_Edited.png",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 11:24 PM","Weird.","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 11:38 PM","Apparently, 000.jpg is correct. I don't see it in my files though. Could there be some other place where it's stored?","https://cdn.discordapp.com/attachments/395684916056031245/700807320518525030/Recover_check50.png",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 11:39 PM","It should be in the same directory since you didn't specify a directory.","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 11:49 PM","Maybe it has to do with the cryptic new files then","",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 11:55 PM","I feel like sprintf should give the right file name.","",""
"236625588868087808","psychodoughb0y#0892","17-Apr-20 11:55 PM","Other stuff is wrong, but that should work.","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 11:59 PM","Especially because 000.jpg apparently works","",""
"433756010511990784","supercoolperson#3477","17-Apr-20 11:59 PM","I just can't see where it is","",""
"132641595769094144","Tovarish#1013","18-Apr-20 12:40 AM","I'm having trouble understanding fread() as explained in the main lecture.
https://youtu.be/cF6YkH-8vFk?t=6106","",""
"132641595769094144","Tovarish#1013","18-Apr-20 12:41 AM","I don't understand why the above example worked.  From the shorts and googling it seems to me that the size of should be 1 byte and be read 3 times in order to be stored in array of bytes?","",""
"132641595769094144","Tovarish#1013","18-Apr-20 12:42 AM","but he wrote size of 3 bytes, and read once.  Wouldn't that mean that the array would attempt to store only store a single element of size 3?","",""
"132641595769094144","Tovarish#1013","18-Apr-20 12:43 AM","or is it because it's a pointer, it doesn't really matter because fread() just stores everything in line and the array just iterates from 0..1..2 every byte?","",""
"132641595769094144","Tovarish#1013","18-Apr-20 12:50 AM","I just tried it in the sandbox IDE.  I changed fread() function from:
`fread(bytes, 3, 1, file);`
to:
`fread(bytes, 1, 3, file);`
And the result is exactly the same.  So I guess I answered my own question?","",""
"236625588868087808","psychodoughb0y#0892","18-Apr-20 01:11 AM","Yep.  The only difference is one returns 1, and one returns 3, because one reads 1 item of size 3, and the other reads 3 items of size 1.","","üëç (2)"
"433756010511990784","supercoolperson#3477","18-Apr-20 05:52 AM","@psychodoughb0y I got my code to work! Thank you for your help.","","üëç (1)"
"236625588868087808","psychodoughb0y#0892","18-Apr-20 05:55 AM","Congrats!","",""
"382987188796915713","cos#6467","18-Apr-20 06:55 AM","Finally got this one. Still a bit confused about how I can declare, say, `FILE *img;` outside of a while loop and then when i call `img = fopen(filename, ""w"")` it's a different img every loop?","",""
"236625588868087808","psychodoughb0y#0892","18-Apr-20 06:56 AM","It's the same img, it's just being told to point to something new by fopen.","",""
"382987188796915713","cos#6467","18-Apr-20 06:56 AM","I'm gonna rewatch the videos on pointers","",""
"382987188796915713","cos#6467","18-Apr-20 06:57 AM","@psychodoughb0y hmmm interesting. so actually is the *img? is it just a pointer?","",""
"236625588868087808","psychodoughb0y#0892","18-Apr-20 06:57 AM","Right.  That's what the * in a declaration means.","",""
"382987188796915713","cos#6467","18-Apr-20 06:57 AM","then when i call fopen i just say hey now point to this new object with this filename","",""
"382987188796915713","cos#6467","18-Apr-20 06:57 AM","oh ok i thought that but the pointers confuse me","",""
"236625588868087808","psychodoughb0y#0892","18-Apr-20 06:57 AM","Exactly.","",""
"382987188796915713","cos#6467","18-Apr-20 06:57 AM","hopefully as i progress further i will get better with them. thanks","",""
"361235692019384323","Sanath#7244","18-Apr-20 09:32 AM","fopen keeps track of how far its read","",""
"381484885048688651","SuperKrej#9569","18-Apr-20 12:56 PM","video confuse me is it the 4th byte that is 0xe1-f or the last byte","",""
"381484885048688651","SuperKrej#9569","18-Apr-20 01:14 PM","nvm guess the 4th","",""
"381484885048688651","SuperKrej#9569","18-Apr-20 02:20 PM","Am I correct in thinking : /spoiler because I need to look at each individual byte, I should maybe store what I read with fread() in a buffer array of chars because they are 1 byte of storage size?","",""
"381484885048688651","SuperKrej#9569","18-Apr-20 05:15 PM","Hm how do I with fread read the next chunk of 512 bytes, or should I store the entire file in memory at once? that sounds expensive","",""
"361235692019384323","Sanath#7244","18-Apr-20 05:20 PM","Fread keeps track of how far is already read","",""
"381484885048688651","SuperKrej#9569","18-Apr-20 05:30 PM","hm so I can loop the same line of code and it starts on the next chunk on its own?","",""
"361235692019384323","Sanath#7244","18-Apr-20 05:39 PM","Yes","",""
"651110562176172045","m.sharifit88#2964","18-Apr-20 06:24 PM","@Sanath Hi. From your opinion, how will be speller problem for me? I'm comfortable with pointers, linked lists and trees. Is it going to be hard for me? ü§î üòï","",""
"361235692019384323","Sanath#7244","18-Apr-20 06:25 PM","Nah. If you're comfortable with linked lists/pointers it's easy","",""
"361235692019384323","Sanath#7244","18-Apr-20 06:25 PM","Optimisation is harder","",""
"651110562176172045","m.sharifit88#2964","18-Apr-20 06:26 PM","@Sanath Very good. Thank you. So what do you mean by optimisation?","",""
"365699593339404288","jkart#9902","18-Apr-20 06:26 PM","Does anyone know why the last image seems tricky to get correctly? It seems the soccer cleats are cut off, so I'm wondering if I'm missing a row?","",""
"361235692019384323","Sanath#7244","18-Apr-20 06:27 PM","Secondary goal in speller is to make your program run as fast as possible","",""
"361235692019384323","Sanath#7244","18-Apr-20 06:27 PM","That can be harder","",""
"651110562176172045","m.sharifit88#2964","18-Apr-20 06:28 PM","and check50 going to check the runtime? üôÅ","",""
"361235692019384323","Sanath#7244","18-Apr-20 06:28 PM","You'll see, it doesn't count for your grade though","",""
"361235692019384323","Sanath#7244","18-Apr-20 06:29 PM","Check out the big board section on the speller pset for more info","",""
"651110562176172045","m.sharifit88#2964","18-Apr-20 06:29 PM","God will help me during each problem. Thank you @Sanath üôÇ","",""
"365699593339404288","jkart#9902","18-Apr-20 06:36 PM","@Sanath do you know why tabs and spaces are treated differently?","",""
"344186630598557696","Rezendrix#5225","18-Apr-20 06:44 PM","||int count = 0;

    BYTE byteArray[512];

    while(fread(byteArray, 1, 512, file))
    {
        if(byteArray[0] == 0xff && byteArray[1] == 0xd8 && byteArray[2] == 0xff && (byteArray[3] & 0xf0) ==0xe0)
        {
            printf(""Found a jpg. %i\n"", count);

            char filename;
            sprintf(&filename, ""%03i.jpg"", count);
            FILE *img = fopen(&filename, ""w"");

            fwrite(byteArray, 1, 512, img);

            fclose(img);

            count++;
        }
    }
return 0;||","",""
"344186630598557696","Rezendrix#5225","18-Apr-20 06:45 PM","Can anyone help me understand why isn¬¥t the fwrite function working?","",""
"344186630598557696","Rezendrix#5225","18-Apr-20 06:46 PM","I get 50 jpgs from 000 to 049, but the files are just empty","",""
"344186630598557696","Rezendrix#5225","18-Apr-20 06:46 PM","can¬¥t see why fwrite is not writing","",""
"365699593339404288","jkart#9902","18-Apr-20 06:47 PM","you're writing to the image and then closing it shortly after","",""
"365699593339404288","jkart#9902","18-Apr-20 06:48 PM","do you have a condition for when a 512 byte block is not the start of a JPEG?","",""
"344186630598557696","Rezendrix#5225","18-Apr-20 06:48 PM","right above it","",""
"651110562176172045","m.sharifit88#2964","18-Apr-20 06:52 PM","@Rezendrix You have not a condition to write actual bytes after signature to the jpg file. See the Walkthrough and follow brian pseudocode.","",""
"344186630598557696","Rezendrix#5225","18-Apr-20 07:02 PM","when i run","",""
"344186630598557696","Rezendrix#5225","18-Apr-20 07:03 PM","||fread(byteArray, 1, 512, file)|| doesn¬¥t it stores 512 bytes of whatever is in the file in the buffer array?","",""
"361235692019384323","Sanath#7244","18-Apr-20 07:11 PM","the jpegs arent 512 bytes, theyre composed of blocks of 512 bytes, youre just writing the first 512 bytes of every jpgto the file","",""
"344186630598557696","Rezendrix#5225","18-Apr-20 07:12 PM","> the jpegs arent 512 bytes, theyre composed of blocks of 512 bytes, youre just writing the first 512 bytes of every jpgto the file
@Sanath That helps me to see it another way. Thanks.","",""
"344186630598557696","Rezendrix#5225","18-Apr-20 08:03 PM","Got it to work. Thanks again @m.sharifit88  and @Sanath.","",""
"344186630598557696","Rezendrix#5225","18-Apr-20 08:22 PM","The pseudocode just made me more confused with all those if and elses. Once I got rid of it, my original code ran fine. I just added a one line else after it.","",""
"344186630598557696","Rezendrix#5225","18-Apr-20 08:25 PM","and got rid of the 'fclose' that I only added because of the pseudocode explanation","",""
"382987188796915713","cos#6467","18-Apr-20 08:37 PM","I had a similar thing where I added a free(buffer) statement then realized i never used malloc lol","",""
"382987188796915713","cos#6467","18-Apr-20 08:37 PM","I think i was just looking at the pseudocode and saying like i need to free something","",""
"651110562176172045","m.sharifit88#2964","18-Apr-20 09:49 PM","> Got it to work. Thanks again @m.sharifit88  and @Sanath.
@Rezendrix Good news üëç üòÄ","",""
"216858547609272320","Bunny#4969","18-Apr-20 11:19 PM","Struggling with this... seems I have the basic ok - I open the file, I read 512 bytes in, and then I get to the interesting part... I can make the program read the 4 bytes and see if its a jpeg start point or not. That gives me 2 branches to climb. One branch (jpeg ok) lets me make a new picture, but I also need to check, if I already have a open jpg. I think my program goes wrong about here","",""
"236625588868087808","psychodoughb0y#0892","18-Apr-20 11:22 PM","That logic sounds right.","",""
"216858547609272320","Bunny#4969","18-Apr-20 11:23 PM","I seem to have a main if-else for jpeg detection - and a new / resume for making a picture or resuming the one I have","",""
"216858547609272320","Bunny#4969","18-Apr-20 11:23 PM","the main if/else also looks for existing pic in the else clause","",""
"216858547609272320","Bunny#4969","18-Apr-20 11:24 PM","I believe I have this mixed up...","",""
"216858547609272320","Bunny#4969","18-Apr-20 11:24 PM","fwrite(filename , 512, 1, img);","",""
"216858547609272320","Bunny#4969","18-Apr-20 11:27 PM","the name img doesn't get carried over it seems....","",""
"216858547609272320","Bunny#4969","18-Apr-20 11:36 PM","can I run a loop map by anyone here?","",""
"132641595769094144","Tovarish#1013","19-Apr-20 12:26 AM","@Bunny did you get help with that loop?  If not feel free to PM me","","üòù (1)"
"216858547609272320","Bunny#4969","19-Apr-20 01:55 AM","Crappy program... üòÑ","",""
"693870020387667999","Dyna-Soar#5783","19-Apr-20 02:22 AM","How to while loop ""fread()"" for each block ?","",""
"236625588868087808","psychodoughb0y#0892","19-Apr-20 02:23 AM","Look into what fread returns.","","üëç (2)"
"675025521519755284","vnc_zrz#0254","19-Apr-20 06:09 AM","Hi if anyone could please point me in the right direction please, i seem to be having difficulty correctly outputting the jpegs with my program. It will output all 50 but they are all unsupported files","",""
"675025521519755284","vnc_zrz#0254","19-Apr-20 06:09 AM","thank you!","",""
"236625588868087808","psychodoughb0y#0892","19-Apr-20 06:10 AM","Please make your code with a spoiler tag.","",""
"236625588868087808","psychodoughb0y#0892","19-Apr-20 06:11 AM","jpg, not jpeg.","","üëç (1)"
"675025521519755284","vnc_zrz#0254","19-Apr-20 06:12 AM","","https://cdn.discordapp.com/attachments/395684916056031245/701268893922099260/SPOILER_Screen_Shot_2020-04-18_at_8.07.22_PM.png",""
"675025521519755284","vnc_zrz#0254","19-Apr-20 06:14 AM","ü§¶‚Äç‚ôÇÔ∏è thank you!","",""
"329653274045317123","Mathieu F#3981","19-Apr-20 01:52 PM","> fwrite(filename , 512, 1, img);
@Bunny Are you sure ""filename"" is a pointer ? Because 1rst arg for fwrite should be pointer (I choose the adress of the spotted byte, with ""&""). See Bryan video","",""
"329653274045317123","Mathieu F#3981","19-Apr-20 02:05 PM","I keep struggling how to go from one bloc to another. Now I just put many bits (for example 100 blocs) in a buffer and check buffer[512*i] , [512*i+1], ... (3 first and then jump 510 blocs). ( i from 0 to 1000 )
It works ok for 1 image but it is heavy and I guess it is not supposed to work like this.
I think we should use blocs number (numb in fread) and not indexes, but don't know how.","",""
"329653274045317123","Mathieu F#3981","19-Apr-20 03:00 PM","@vnc_zrz I thought your program was checking other the same bloc again and again. But no. I made a program using the same loop, but only looking for jpg headers. I found 50 headers. So this works. Seems the while loop make fread *implicitely* go to the next bloc. This fread function is  kind of weird...","",""
"329653274045317123","Mathieu F#3981","19-Apr-20 03:04 PM","So, in order to go to the next bloc, it seems one only needs to call fread one more time. Simple but tricky because not explicit at all...","",""
"381484885048688651","SuperKrej#9569","19-Apr-20 06:41 PM","someone explained to me this works because the file stream / pointer whatever is moved when you read so you pick up the next read where it left of I understood it... something like this, also couldn't wrap my head around how to move to the next block before that @Mathieu F","","üëç (1)"
"381484885048688651","SuperKrej#9569","19-Apr-20 06:42 PM","So I guess the file stream is moved but never moved back or something, so it works","",""
"381484885048688651","SuperKrej#9569","19-Apr-20 06:42 PM","Totally have no idea what I'm talking about btw","","üòÇ (1)"
"329653274045317123","Mathieu F#3981","19-Apr-20 06:51 PM","Too bad this wasn't mentionned in the lecture or one of the short video","",""
"329653274045317123","Mathieu F#3981","19-Apr-20 06:51 PM","I guess we had all wrap head around unless confortable with C üòÇ","",""
"329653274045317123","Mathieu F#3981","19-Apr-20 06:53 PM","Definitely the harder exercice so far in CS50 !","",""
"381484885048688651","SuperKrej#9569","19-Apr-20 06:53 PM","yeah agreed but now there is light in the end of the tunnel lel","","üëç (1)"
"381484885048688651","SuperKrej#9569","19-Apr-20 06:54 PM","I thought making my buffer array of chars cause they are 1 byte in size but I get this problem when checking for the headers now:","",""
"381484885048688651","SuperKrej#9569","19-Apr-20 06:55 PM","||error: result of comparison of constant 255 with expression of type 'char' is always false||","",""
"329653274045317123","Mathieu F#3981","19-Apr-20 07:05 PM","My buffer is ""size of the bloc"" + 1","",""
"329653274045317123","Mathieu F#3981","19-Apr-20 07:08 PM","Type BYTE","",""
"381484885048688651","SuperKrej#9569","19-Apr-20 07:10 PM","like BYTE buffer[512] ?","",""
"381484885048688651","SuperKrej#9569","19-Apr-20 07:10 PM","no such type rite?","",""
"329653274045317123","Mathieu F#3981","19-Apr-20 07:19 PM","Need a library though","",""
"329653274045317123","Mathieu F#3981","19-Apr-20 07:26 PM","Just like they explain in exercice web page","",""
"381484885048688651","SuperKrej#9569","19-Apr-20 07:32 PM","ok i need to read that again","",""
"381484885048688651","SuperKrej#9569","19-Apr-20 08:37 PM","ok that helped","",""
"381484885048688651","SuperKrej#9569","19-Apr-20 08:38 PM","Now instead im struggling with a segfault","",""
"381484885048688651","SuperKrej#9569","19-Apr-20 08:38 PM","||
#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>

typedef uint8_t BYTE;

int main(int argc, char *argv[])
{
    if(argc != 2)
    {
        printf(""Useage: ./recover image\n"");
        return 1;
    }

    FILE *file = fopen(argv[1], ""r"");
    FILE *img;

    BYTE buffer[512];
    int filenumber = -1;
    char *filename = ""000.jpg"";

    while(fread(buffer, 512, 1, file) == 1)
    {
        if(buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) ==  0xe0)
        {
            if(filenumber > -1)
                fclose(img);

            printf(""Found a header!! %i\n"", filenumber);
            filenumber++;

            sprintf(filename, ""%03i.jpg"", filenumber);


            img = fopen(filename, ""w"");
        }

        if(filenumber > -1)
            fwrite(buffer, 512, 1, img);
    }
    fclose(img);
    fclose(file);
}||","",""
"381484885048688651","SuperKrej#9569","19-Apr-20 08:42 PM","something to do with my filename and sprintf line I think","",""
"216858547609272320","Bunny#4969","19-Apr-20 09:22 PM","I had the joy of hunting the same error for 4 hours last night üôÇ","",""
"216858547609272320","Bunny#4969","19-Apr-20 09:23 PM","But yes, you should have a look at how you declare filename","","üëç (1)"
"701499997673357362","Apso3#3610","19-Apr-20 09:43 PM","I'm having trouble of where to start with recover. Is there any pseudocode or suggestions to help. Also feel like I'm missing something because there seems to be a big jump from the lecture to the problem because there are many things I don't know how to do for it.","",""
"216858547609272320","Bunny#4969","19-Apr-20 09:44 PM","Did you watch Brians video?","",""
"701499997673357362","Apso3#3610","19-Apr-20 09:46 PM","I only have one but even with I'm still confused","",""
"216858547609272320","Bunny#4969","19-Apr-20 09:46 PM","He ends the video with pseudocode","",""
"601251448017125387","chaoticgoodgenius#4938","20-Apr-20 04:09 AM","ive been stuck for a while now and i need some help. So my code seems to be working fine. It compiles and runs just fine. When i self check, I am able to successfully recover and view all of the images. However, 049.jpg is not passing on check50. Anybody know what the problem is?","",""
"169513243054833664","Kaerum#8580","20-Apr-20 11:19 AM","you might be appending extra 0's to the end of your file","",""
"689575154870780028","RandmTask#7556","20-Apr-20 12:50 PM","Completely lost with recover and can barely get started. Apart from the lecture, lecture notes and short videos, where do you get all the information that you need to make this program?","",""
"500774099749044235","r.catacora#9046","20-Apr-20 01:17 PM","@RandmTask you can start with the walkthrough","",""
"500774099749044235","r.catacora#9046","20-Apr-20 01:17 PM","Brian give some pointers to start and a pseudocode, besides you already know how to handle command line arguments","",""
"500774099749044235","r.catacora#9046","20-Apr-20 01:18 PM","you can start with that then try to follow what the pseudocode says I'm still trying to understand it tho","",""
"689575154870780028","RandmTask#7556","20-Apr-20 01:36 PM","Thanks I already watched the walkthrough. Just looks like there is a lot of information that hasn't been covered that we need to complete this task","",""
"689575154870780028","RandmTask#7556","20-Apr-20 03:26 PM","never mind, finally got it all working and submitted!","",""
"465384139756011532","Nelson#3994","20-Apr-20 05:56 PM","The staff really went overboard with this, didn't they? xD","",""
"465384139756011532","Nelson#3994","20-Apr-20 05:56 PM","Was fun to do","",""
"688529095168229386","livsWorld#0147","20-Apr-20 09:28 PM","Does anyone know how to check if a file is already open? I've gotten as far as detecting if there's a JPEG, opening a new file, and writing 512 bytes to that file... I'm stuck on how to continue writing to that same file on successive blocks","",""
"688529095168229386","livsWorld#0147","20-Apr-20 09:29 PM","Or how to determine if I haven't encountered any JPEGs yet","",""
"525882255093137418","Mateuzz#7469","20-Apr-20 09:41 PM","if the file pointer is null","",""
"525882255093137418","Mateuzz#7469","20-Apr-20 09:42 PM","you check if is jpeg, and so you check if the file is null, if not, you close. You write if its not null also","",""
"688529095168229386","livsWorld#0147","20-Apr-20 09:43 PM","@Mateuzz Thank you. I'm a little confused what you mean by the file being null. Does that mean that the file is closed?","",""
"525882255093137418","Mateuzz#7469","20-Apr-20 09:44 PM","you initiliaze the FILE variable to the macro NULL (NULL pointer)","",""
"525882255093137418","Mateuzz#7469","20-Apr-20 09:44 PM","FILE *file = NULL","",""
"525882255093137418","Mateuzz#7469","20-Apr-20 09:44 PM","when you open it, it's not null anymore","",""
"688529095168229386","livsWorld#0147","20-Apr-20 09:44 PM","Ohhhh","",""
"688529095168229386","livsWorld#0147","20-Apr-20 09:45 PM","So if file returns NULL, then it is closed?","",""
"525882255093137418","Mateuzz#7469","20-Apr-20 09:48 PM","you mean using fclose?","",""
"688529095168229386","livsWorld#0147","20-Apr-20 09:49 PM","yes","",""
"525882255093137418","Mateuzz#7469","20-Apr-20 09:49 PM","no","",""
"525882255093137418","Mateuzz#7469","20-Apr-20 09:49 PM","it will be null if you assigned it to NULL, or if the fopen fails","",""
"688529095168229386","livsWorld#0147","20-Apr-20 09:50 PM","ok","",""
"525882255093137418","Mateuzz#7469","20-Apr-20 09:50 PM","so it's a good idea initialize it to NULL, and before write or try to close, check if it's NULL","",""
"688529095168229386","livsWorld#0147","20-Apr-20 09:51 PM","Ohhh ok","",""
"688529095168229386","livsWorld#0147","20-Apr-20 09:55 PM","There's one more thing I don't quite get... am I able to close a file that I've declared locally? I've made a pointer called img that opens a new file, but I don't know if I can refer to that file in a different part of the code (like in a different conditional)","",""
"525882255093137418","Mateuzz#7469","20-Apr-20 09:55 PM","it depends if that conditional is inside were you declared it","",""
"688529095168229386","livsWorld#0147","20-Apr-20 09:56 PM","ok","",""
"525882255093137418","Mateuzz#7469","20-Apr-20 09:57 PM","you can declare it in the beginning of the main function, and open later, it will still be visible to all main","",""
"688529095168229386","livsWorld#0147","20-Apr-20 09:57 PM","ok thats a good idea","",""
"688529095168229386","livsWorld#0147","20-Apr-20 09:57 PM","Thank you!","",""
"525882255093137418","Mateuzz#7469","20-Apr-20 09:59 PM","üëç","",""
"479291859680755713","Anin#5742","20-Apr-20 10:29 PM","I need some help please.  I keep getting a segmentation problem and I am not sure where I am going wrong.","https://cdn.discordapp.com/attachments/395684916056031245/701877224046854226/SPOILER_Screenshot_2020-04-20_at_21.26.45.png",""
"382987188796915713","cos#6467","20-Apr-20 11:36 PM","Take a look at where you are declaring your filenames @Anin","",""
"214629297107894273","Annie#7474","21-Apr-20 02:14 AM","can someone explain to me why the buffer size of the array that you want to store data in fread is 512? arent there many many blocks of 512 bytes in the digital camera file? how would we read all of it into just an array size of 512?","",""
"204736232545058816","Mintage#7507","21-Apr-20 02:56 AM","Because as far as I understand it, you're storing 1 block in it and then writing it away or something, to then loop again and overwrite the buffer. I've only worked on the pseudocode for this one though, so not 100% sure.","",""
"236625588868087808","psychodoughb0y#0892","21-Apr-20 02:58 AM","The problem set states that the memory is in 512 byte blocks.  And that you want to read one block at a time.","",""
"214629297107894273","Annie#7474","21-Apr-20 04:29 AM","so the array size would be 512 to read one block and after its done reading one block, the array will somehow be emptied and then read 512 from another block and so forth?","",""
"356245550737260554","strawnks#8488","21-Apr-20 04:34 AM","you can create the array inside of a loop, that way every time the loop goes through (new 512 block), we have a new array for it","",""
"382987188796915713","cos#6467","21-Apr-20 05:07 AM","from what i understand you can initialize a buffer outside of your loop and then when you call fread it will read through the amount you specify in your loop and reset each time","",""
"149435714684059648","Meta#1337","21-Apr-20 05:49 AM","My code passes all the tests but seems to be missing the last few lines on the last file","",""
"149435714684059648","Meta#1337","21-Apr-20 05:49 AM","Seems like it's bailing out of reading the file too early?","",""
"149435714684059648","Meta#1337","21-Apr-20 07:09 AM","I fixed that... but now I have a weird issue where it will sometimes work.","",""
"149435714684059648","Meta#1337","21-Apr-20 07:10 AM","I think it's probably a memory issue but Valgrind isn't really giving me anything I can latch onto and figure out","",""
"382987188796915713","cos#6467","21-Apr-20 07:15 AM","whats the error @Meta","",""
"149435714684059648","Meta#1337","21-Apr-20 07:16 AM","Never mind, I was assuming a null terminating character but it's binary, so that's not really a thing","",""
"204736232545058816","Mintage#7507","21-Apr-20 02:57 PM","I'm getting a segmentation fault and having a hard time figuring out why. Anyone's got any pointers?","",""
"204736232545058816","Mintage#7507","21-Apr-20 02:57 PM","||https://pastebin.com/4BFRaaBa||","",""
"204736232545058816","Mintage#7507","21-Apr-20 03:14 PM","I figured out the seg fault, it was on line 62. Now I only get half an image that looks like this: https://puu.sh/FAqVn/e8c57d6b6a.png","",""
"699279545529925742","Higgy#0383","21-Apr-20 03:18 PM","@Mintage you fread() twice per loop, once on line 41 and the other line 43 so move along the file 1024 bytes each time. Get rid of line 43","",""
"699279545529925742","Higgy#0383","21-Apr-20 03:18 PM","Even though it's in the while check, fread() still works as usual.","",""
"204736232545058816","Mintage#7507","21-Apr-20 03:19 PM","ohhhhh","",""
"204736232545058816","Mintage#7507","21-Apr-20 03:19 PM","Thanks","",""
"699279545529925742","Higgy#0383","21-Apr-20 03:20 PM","it's ok üôÇ","",""
"204736232545058816","Mintage#7507","21-Apr-20 03:20 PM","So now it works for 1 image","",""
"699279545529925742","Higgy#0383","21-Apr-20 03:20 PM","also you don't need the else{","",""
"699279545529925742","Higgy#0383","21-Apr-20 03:20 PM","cont}","",""
"699279545529925742","Higgy#0383","21-Apr-20 03:20 PM","does nothing","",""
"204736232545058816","Mintage#7507","21-Apr-20 03:22 PM","Got that all done, thanks! Now to figure out why it's not doing 50 images as it should.. ü§î","",""
"699279545529925742","Higgy#0383","21-Apr-20 03:23 PM","maybe just try while(fread()) without the == 152. The trailing zeros might not count","",""
"699279545529925742","Higgy#0383","21-Apr-20 03:25 PM","get rid of the quote marks around jpeg on line 52","",""
"699279545529925742","Higgy#0383","21-Apr-20 03:26 PM","it's the char* jpeg not a new string with the value of ""jpeg""","",""
"204736232545058816","Mintage#7507","21-Apr-20 03:26 PM","oh god","",""
"204736232545058816","Mintage#7507","21-Apr-20 03:26 PM","Thanks a lot. I feel like a moron with this PSET honestly","",""
"204736232545058816","Mintage#7507","21-Apr-20 03:27 PM","Yep.. that worked","",""
"699279545529925742","Higgy#0383","21-Apr-20 03:27 PM","It's by far the hardest so far!","",""
"204736232545058816","Mintage#7507","21-Apr-20 03:28 PM","Yeah by quite a few miles actually, just because of the amount of new functions and their syntax, but it's been a real pleasure trying to find it out","",""
"662482573867483141","agilePanda#4379","21-Apr-20 05:38 PM","Hi - Has anyone tried to first write and test the code for recover on their local machine?  Wrote the part of the program that identifies a JPEG, as per the pset specs, and it correctly identifies 50 images in the CS50 IDE, but when I run it on my local it does not.  Has anyone had any success?","",""
"382987188796915713","cos#6467","21-Apr-20 06:50 PM","@agilePanda by does not do you mean it doesn‚Äôt compile at all or it just doesn‚Äôt work correctly","",""
"662482573867483141","agilePanda#4379","21-Apr-20 06:51 PM","It compiles...it just does not work as expected.","",""
"662482573867483141","agilePanda#4379","21-Apr-20 06:53 PM","Same exact code, which I found odd.","",""
"662482573867483141","agilePanda#4379","21-Apr-20 06:54 PM","When I run a plain vanilla JPEG file, it picks it up correctly, but not getting the expected behavior when passing the card.raw file.","",""
"377012869314773002","DuckLuckWTF#5213","21-Apr-20 11:38 PM","hi everyone, I seem to be completely stuck. somehow when reading the first chunk, the whole array of bytes is 0000 (as per the debugger). Any ideas where the fault may lie?","",""
"377012869314773002","DuckLuckWTF#5213","21-Apr-20 11:39 PM","Pastebin: ||https://pastebin.com/USXZD41E||","",""
"393854278764068875","curiouskiwi#1671","22-Apr-20 02:36 AM","there's no guarantee that the first jpg is at the beginning of the raw file.","",""
"393854278764068875","curiouskiwi#1671","22-Apr-20 02:37 AM","You can use `xxd` to view the hex of the raw file, and can confirm that that the first block is indeed all 0.  ```xxd -l 512 card.raw```  will show the first 512 bytes of the file.","",""
"393854278764068875","curiouskiwi#1671","22-Apr-20 02:37 AM","```xxd -s 512 -l 512 card.raw``` will skip the first 512 bytes and then show you the next.  You can use `xxd` to investigate the raw file as needed.","","üëç (1)"
"393854278764068875","curiouskiwi#1671","22-Apr-20 02:37 AM","@DuckLuckWTF","",""
"194207644536274944","CAPNCLAP#7898","22-Apr-20 04:37 AM","is there a difference between int* a, and int *a?","",""
"393854278764068875","curiouskiwi#1671","22-Apr-20 04:39 AM","@CAPNCLAP No, it's only a style choice.  For CS50x, we use the latter.","",""
"538924469603794955","hailesuper#6162","22-Apr-20 06:39 AM","Hi all, may I know whether the fread() function will read from the BEGINNING of the file. After finishing the fread(), and do the function fread() again without closing the file, will it continue reading where it has stopped previously?","",""
"236625588868087808","psychodoughb0y#0892","22-Apr-20 06:43 AM","Yes.","",""
"538924469603794955","hailesuper#6162","22-Apr-20 06:44 AM","so it will continue to read where it stopped?","",""
"393854278764068875","curiouskiwi#1671","22-Apr-20 06:46 AM","yes","",""
"538924469603794955","hailesuper#6162","22-Apr-20 06:46 AM","ok. thanks. üòç","",""
"515140133159436309","Graeme#0328","22-Apr-20 08:47 AM","Hi all, why does the while loop ||while (fread(buffer, 512, 1, ptr1) == 1 )|| successfully exit when it reaches the end end of the file but ||while (fread(buffer, 512, 1, ptr1) != EOF )|| will never exit the loop?","",""
"515140133159436309","Graeme#0328","22-Apr-20 09:56 AM","and something weird that I have noticed, my images wont open, I'm getting an ""invalid or unsupported file"" when i inspect the hex i notice that it starts from 00d8 not 0xff. My write statement look like: || fwrite(buffer,512, 1, img);||","",""
"515140133159436309","Graeme#0328","22-Apr-20 09:58 AM","Is this normal? Or is it the reason im getting ""invalid or unsupported file"" ?","",""
"538924469603794955","hailesuper#6162","22-Apr-20 11:27 AM","Anyone has any ideas why my code has segmentation fault?
https://pastebin.com/AavBxmh9","",""
"311363799640702976","robin#9650","22-Apr-20 02:23 PM","sprintf(filename, ""%03i.jpg"", num_of_files);","",""
"516200827984019457","rby2005#7062","22-Apr-20 03:38 PM","thanks","",""
"516200827984019457","rby2005#7062","22-Apr-20 04:00 PM","Can someone tell me why I am getting a segmentation fault?","https://cdn.discordapp.com/attachments/395684916056031245/702504207776874537/SPOILER_segment.png",""
"516200827984019457","rby2005#7062","22-Apr-20 04:10 PM","for some reason the error(segmentation...) doesn't come when i remove line 42","",""
"516200827984019457","rby2005#7062","22-Apr-20 04:10 PM","but nothing happens though","",""
"516200827984019457","rby2005#7062","22-Apr-20 04:10 PM","no jpegs found...","",""
"701147821105086517","memedocaixao#6271","22-Apr-20 04:45 PM","> for some reason the error(segmentation...) doesn't come when i remove line 42
@rby2005 it seems to me that your current code does not properly handle blocks that don't contain the jpeg header","",""
"516200827984019457","rby2005#7062","22-Apr-20 04:47 PM","Now, instead of creating jpegs, it is creating something called filename!!","https://cdn.discordapp.com/attachments/395684916056031245/702515956286750820/SPOILER_filename.png",""
"516200827984019457","rby2005#7062","22-Apr-20 04:47 PM","Can u tell me what's wrong","",""
"701147821105086517","memedocaixao#6271","22-Apr-20 04:49 PM","i dont know if this is the cause for the seg error but you can fix that later","",""
"701147821105086517","memedocaixao#6271","22-Apr-20 04:50 PM","right now i think you should tell the computer what to do in two different situations:","",""
"701147821105086517","memedocaixao#6271","22-Apr-20 04:51 PM","1. you find a block with a jpg header. that's the if got there inside the while
2. you find a block without a jpg header","",""
"701147821105086517","memedocaixao#6271","22-Apr-20 04:52 PM","maybe yiu shiuld add an else statement after the if. can you see that?","",""
"311363799640702976","robin#9650","22-Apr-20 04:52 PM","FILE *img = fopen(""filename"", ""w"") is creating filename","",""
"516200827984019457","rby2005#7062","22-Apr-20 04:54 PM","how do i create jpegs?","",""
"701147821105086517","memedocaixao#6271","22-Apr-20 04:54 PM","yeah","",""
"701147821105086517","memedocaixao#6271","22-Apr-20 04:55 PM","you should declare the filename variable outside the loop since you are gonna change it dynamically i guess","",""
"516200827984019457","rby2005#7062","22-Apr-20 04:56 PM","isn't it already outside??","",""
"701147821105086517","memedocaixao#6271","22-Apr-20 04:58 PM","like said above by @robin in FILE *img = fopen(""filename"", ""w"") you are creting a file named filename","",""
"516200827984019457","rby2005#7062","22-Apr-20 04:58 PM","so do i declare img as a null variable ?","",""
"516200827984019457","rby2005#7062","22-Apr-20 04:58 PM","FILE *img = NULL;","",""
"311363799640702976","robin#9650","22-Apr-20 04:58 PM","leave it FILE *img;","",""
"516200827984019457","rby2005#7062","22-Apr-20 04:58 PM","oh ok","",""
"516200827984019457","rby2005#7062","22-Apr-20 04:59 PM","no it is throwing an error saying i have to declare as null","",""
"516200827984019457","rby2005#7062","22-Apr-20 05:00 PM","and when i declare it as null, it is saying i have a seg fault","",""
"516200827984019457","rby2005#7062","22-Apr-20 05:00 PM","üò©","",""
"701147821105086517","memedocaixao#6271","22-Apr-20 05:04 PM","from what i understood when you do FILE *img = NULL you are saying the img file may not be open yet because you are pointing to null","",""
"701147821105086517","memedocaixao#6271","22-Apr-20 05:05 PM","that means fwrite (..., img) won't work","",""
"516200827984019457","rby2005#7062","22-Apr-20 05:07 PM","what about now?","https://cdn.discordapp.com/attachments/395684916056031245/702521039023898652/SPOILER_segmentation.png",""
"516200827984019457","rby2005#7062","22-Apr-20 05:11 PM","> that means fwrite (..., img) won't work
@memedocaixao so what do i declare it as?","",""
"516200827984019457","rby2005#7062","22-Apr-20 05:12 PM","just leaving it clearly blank doesn't work....","",""
"701147821105086517","memedocaixao#6271","22-Apr-20 05:13 PM","think about this issue in this way","",""
"701147821105086517","memedocaixao#6271","22-Apr-20 05:14 PM","use fwrite to write to img only if img in not NULL","",""
"701147821105086517","memedocaixao#6271","22-Apr-20 05:16 PM","i think you should check that inside your loop","",""
"701147821105086517","memedocaixao#6271","22-Apr-20 05:19 PM","that verification should happen whether you want to write to a new file or to a file that is already open","",""
"698494613601648681","Pedrorocha#4986","22-Apr-20 06:34 PM","hi guys! anyone could help me with this error ?                                                                             üò¶ recovers 000.jpg correctly
    timed out while waiting for program to exit
üò¶ recovers middle images correctly
    timed out while waiting for program to exit
üò¶ recovers 049.jpg correctly
    timed out while waiting for program to exit                                                                                   This is my code","https://cdn.discordapp.com/attachments/395684916056031245/702542940651782164/pset4.recover.txt",""
"308277085154050048","Alven#4081","22-Apr-20 06:50 PM","Hello again guys, I hope you are doing well. I started this exercise three days ago and after trying thousands of different things I've been able to print the images at least. Before asking, I've checked this topic since 1st of April and @Sanath was very helpful with the instructions to follow. To be honest, several times I made the right thing just by trying ""random code"" than actually understanding what I was doing (because ""fread"" and ""fread"" were kind of difficult to understand for me). I haven't even used ""BYTE"" or ""malloc"" because my knowledge is very limited (even if I've watched the lecture and the sorts many times) and I don't still get how to use that information but thankfully, my approach worked. There is only one issue, I print 50 images but only half of them are actually right. Only the even images but not the odd ones are fully printed in the right way. Any idea about why it's doing that? Thank you very much in advance! I really appreciate all the information previously shared in this post!","",""
"377012869314773002","DuckLuckWTF#5213","22-Apr-20 07:20 PM","@Alven could you share your code with pastebin? It's hard to diagnose this without seeing the code","",""
"377012869314773002","DuckLuckWTF#5213","22-Apr-20 07:21 PM","@Pedrorocha what happens when you run debug50 and set the break-point at your while-loop?","",""
"377012869314773002","DuckLuckWTF#5213","22-Apr-20 07:22 PM","I attribute at 90% of my assignment to debug50 üòÑ","",""
"308277085154050048","Alven#4081","22-Apr-20 07:36 PM","Hello @DuckLuckWTF, thank you for your reply. I just fixed. ü§¶‚Äç‚ôÇÔ∏è I should have paid more attention when Brian says ""The first jpg image"" in the pseucode explanation (and only the first one). Now, dealing with a new issue. I actually print the last image but somehow Check50 says that it's not right. I think someone had the same issue in this topic just before. I'm  going to check.","",""
"377012869314773002","DuckLuckWTF#5213","22-Apr-20 07:37 PM","is it at all possible that your last image is 050.jpg instead of 049.jpg?","",""
"308277085154050048","Alven#4081","22-Apr-20 07:37 PM","Nope, I made sure of that, well, at least the first image is 000.jpg. Unless it prints something different in the ""index""... But I don't think so...","",""
"311363799640702976","robin#9650","22-Apr-20 07:38 PM","there are only 50 images, 000-049","",""
"308277085154050048","Alven#4081","22-Apr-20 07:38 PM","Yep","",""
"308277085154050048","Alven#4081","22-Apr-20 07:54 PM","Fixed. I should have told the program to stop writing information at the right moment. Thank you for asking, guys. Finally done after so many days...","",""
"697545235462488164","lfvr#5029","22-Apr-20 08:01 PM","Hi all, hoping someone could please hint at where I might have gone wrong? The program prints around 90% of the first image fine, but then quits. I have put my code into a paste bin here: https://pastebin.com/CBWZJr1A","",""
"377012869314773002","DuckLuckWTF#5213","22-Apr-20 08:04 PM","@lfvr at first glance it seems that you're writing 512 times the size of the byte","",""
"377012869314773002","DuckLuckWTF#5213","22-Apr-20 08:05 PM","instead do fwrite(buffer, 512, 1, img)","",""
"377012869314773002","DuckLuckWTF#5213","22-Apr-20 08:05 PM","that should do the trick","",""
"377012869314773002","DuckLuckWTF#5213","22-Apr-20 08:05 PM","because you know that every chunk is 512 bytes, and you're writing one at a time","",""
"697545235462488164","lfvr#5029","22-Apr-20 08:08 PM","@DuckLuckWTF thank you! I originally had it as that, then changed it when I had a different error. Should have thought to change back. I had assumed that writing 512 x 1 bytes (for this specific PSET) was no different to writing 1 x 512 bytes each time. I'll go do some reading!","",""
"698494613601648681","Pedrorocha#4986","22-Apr-20 08:25 PM","@Alven  Now i have the same issue, what exactly did you do? the 0.49 does not match","",""
"377012869314773002","DuckLuckWTF#5213","22-Apr-20 08:39 PM","@lfvr I don't think you wrote 1 x 512. Maybe your BYTE buffer declaration changed something","",""
"377012869314773002","DuckLuckWTF#5213","22-Apr-20 08:39 PM","anyway, glad it worked","",""
"697545235462488164","lfvr#5029","22-Apr-20 08:41 PM","@DuckLuckWTF yeah I think you're right, using sizeof(BYTE) seemed to be the issue rather than the order of 1 and 512. I'll check how *sizeof typedef* and *uint8_t*work in more detail üôÇ","",""
"698494613601648681","Pedrorocha#4986","22-Apr-20 09:11 PM","Anyone knows why is this happening?","https://cdn.discordapp.com/attachments/395684916056031245/702582291464978632/SPOILER_049.png",""
"377012869314773002","DuckLuckWTF#5213","22-Apr-20 09:13 PM","can you pastebin your code? @Pedrorocha","",""
"308277085154050048","Alven#4081","22-Apr-20 10:03 PM","Sorry for the late reply @Pedrorocha I was afk. Did you fix the issue? In my case, it was very silly what was happening.","",""
"700064052914946049","tomkoc#0645","22-Apr-20 11:11 PM","i am getting only 26 pictures and incomplete - did anyone have same issue?","",""
"572464626646777880","pi_master#6782","22-Apr-20 11:20 PM","I get all the pics but incomplete","",""
"356245550737260554","strawnks#8488","23-Apr-20 01:51 AM","@pi_master maybe your file names?","",""
"601251448017125387","chaoticgoodgenius#4938","23-Apr-20 06:17 AM","ive been stuck for a while now and i need some help. So my code seems to be working fine. It compiles and runs just fine. When i self check, I am able to successfully recover and view all of the images. However, 049.jpg is not passing on check50. Anybody know what the problem is?","",""
"601251448017125387","chaoticgoodgenius#4938","23-Apr-20 06:17 AM","049.jpg is the only one not passing on check50, even though i can see it clearly when i self test.","",""
"393854278764068875","curiouskiwi#1671","23-Apr-20 06:26 AM","common reason if you are writing the last 512 block twice due to how you are determining you are at the end of the file","",""
"601251448017125387","chaoticgoodgenius#4938","23-Apr-20 06:33 AM","hmm, im using the","",""
"601251448017125387","chaoticgoodgenius#4938","23-Apr-20 06:33 AM","if (!feof(memcard))","",""
"601251448017125387","chaoticgoodgenius#4938","23-Apr-20 06:33 AM","method","",""
"393854278764068875","curiouskiwi#1671","23-Apr-20 06:38 AM","feof only gets set when you try to read **past** the end of the file","",""
"601251448017125387","chaoticgoodgenius#4938","23-Apr-20 06:42 AM","oh ok, i didnt know that. thanks","",""
"601251448017125387","chaoticgoodgenius#4938","23-Apr-20 07:52 AM","ok so what does (fread(buffer, sizeof(BYTE), 512, memcardfile) == 1) 
 mean exactly? because i am having trouble understanding the logic of how a function can be compared to an integer.","",""
"269227960156946454","GhostDragon#7128","23-Apr-20 07:55 AM","In C, remember that Booleans are essentially integers","",""
"601251448017125387","chaoticgoodgenius#4938","23-Apr-20 07:58 AM","ok then i guess i dont understand how fread(buffer, sizeof(BYTE), 512, memcardfile) is equal to 1","",""
"601251448017125387","chaoticgoodgenius#4938","23-Apr-20 07:58 AM","and not say 2","",""
"269227960156946454","GhostDragon#7128","23-Apr-20 07:59 AM","I would look at the documentation for fread","",""
"601251448017125387","chaoticgoodgenius#4938","23-Apr-20 08:00 AM","ok thanks\","",""
"601251448017125387","chaoticgoodgenius#4938","23-Apr-20 08:44 AM","got it working, thanks guys","",""
"516200827984019457","rby2005#7062","23-Apr-20 09:21 AM","why am i getting this error-Invalid or Unsupported Image Format","",""
"516200827984019457","rby2005#7062","23-Apr-20 09:22 AM","","https://cdn.discordapp.com/attachments/395684916056031245/702766389697577090/SPOILER_Opera_Snapshot_2020-04-23_115213_us-west-2.console.aws.amazon.com.png",""
"515140133159436309","Graeme#0328","23-Apr-20 09:29 AM","I struggled with that for a super long time","",""
"515140133159436309","Graeme#0328","23-Apr-20 09:30 AM","still not sure why it happened but what repaired it was declaring the img file pointer outside of the while loop","",""
"515140133159436309","Graeme#0328","23-Apr-20 09:35 AM","but what might help is initialising the filename array with all 0s so random memory does not throw it off","",""
"515140133159436309","Graeme#0328","23-Apr-20 09:35 AM","char filename[7] = {0,0,0,0,0,0,0};","",""
"515140133159436309","Graeme#0328","23-Apr-20 10:03 AM","I feel like I'm close to the end of this but I have a behaviour in my code I cant explain. The images are rendering partially correctly as below:","",""
"515140133159436309","Graeme#0328","23-Apr-20 10:03 AM","","https://cdn.discordapp.com/attachments/395684916056031245/702776674546221086/Screen_Shot_2020-04-23_at_09.02.16.png",""
"515140133159436309","Graeme#0328","23-Apr-20 10:03 AM","","https://cdn.discordapp.com/attachments/395684916056031245/702776696159338568/Screen_Shot_2020-04-23_at_09.02.32.png",""
"515140133159436309","Graeme#0328","23-Apr-20 10:03 AM","here is my code for the function https://pastebin.com/XtZCR4Sv","",""
"515140133159436309","Graeme#0328","23-Apr-20 10:05 AM","I assume I'm writing data to the image incorrectly and I wonder if its because maybe the hex that identifies photos is perhaps appearing in the middle of a block but im still writing the entire block to a file?","",""
"515140133159436309","Graeme#0328","23-Apr-20 10:06 AM","Any help would be greatly appreciated","",""
"515140133159436309","Graeme#0328","23-Apr-20 10:27 AM","Maybe I'm not declaring the buffer correctly? || unsigned char buffer[512];||","",""
"223136221872914432","maltchik#4372","23-Apr-20 10:55 AM","Hello all.
Just started the recover problem.
For no other purpose than curiosity, I opened the card.raw file with my windows bloc note.
And I saw a strange cs50.ly/surprise at the begining of the file.
If you want a good laugh, just use it as an URL ... üòÅ","https://cdn.discordapp.com/attachments/395684916056031245/702789787387428924/unknown.png",""
"516200827984019457","rby2005#7062","23-Apr-20 12:27 PM","@Graeme Nope didn't work","",""
"516200827984019457","rby2005#7062","23-Apr-20 12:27 PM","not sure what's wrong","",""
"219337493395406849","The Manly Fairy#8453","23-Apr-20 12:43 PM","@Graeme might be a bit silly, but could it be because you're opening files with append instead of write?","",""
"223136221872914432","maltchik#4372","23-Apr-20 01:06 PM","@Graeme I see few strange things on your code:
- Line 10: I think the fread function is not working as expecting. You mixed the arguments. Look at the walkthrough video for a nice example (ptr1 refers to nothing in your code)
-Same thing for all your fwrite function.

fwrite(data, size, number,outptr)

data = pointer to bytes that will be written to file
size = size of EACH element to write (number of bytes), somethin like sizeof(BYTE)
number = number of element to write (512 in our case)","",""
"219337493395406849","The Manly Fairy#8453","23-Apr-20 01:09 PM","so does that mean fwrite should be instructed to write 512 elements the size of BYTE? not a single element the size of 512 bytes?","",""
"223136221872914432","maltchik#4372","23-Apr-20 01:09 PM","and in line 43, i think just ""else"" might work instead of your long condition line. You have to many conditions and maybe skiping some bytes","",""
"223136221872914432","maltchik#4372","23-Apr-20 01:11 PM","@The Manly Fairy Oh i didn't see it that way ....","",""
"219337493395406849","The Manly Fairy#8453","23-Apr-20 01:11 PM","im legit asking cuz that's what i did, tho my code isnt working just yet","",""
"219337493395406849","The Manly Fairy#8453","23-Apr-20 01:12 PM","well, it is, but for some reason image 000 is broken","",""
"223136221872914432","maltchik#4372","23-Apr-20 01:12 PM","ahah i have the opposite problem, 049 is broken on my side","",""
"223136221872914432","maltchik#4372","23-Apr-20 01:17 PM","and @Graeme shouldn't filename be 8 byte long ? 7 char for the numbers/letters/. and one for the null character ?","",""
"219337493395406849","The Manly Fairy#8453","23-Apr-20 01:18 PM","wow i absolutely forgot about that detail","",""
"219337493395406849","The Manly Fairy#8453","23-Apr-20 01:19 PM","that literally just solved the last of my bugs and now check50 is all green, thank you","",""
"223136221872914432","maltchik#4372","23-Apr-20 01:19 PM","once again, i am not sure if there is an impact","",""
"223136221872914432","maltchik#4372","23-Apr-20 01:19 PM","oh, maybe then","",""
"219337493395406849","The Manly Fairy#8453","23-Apr-20 01:20 PM","C can have the silliest of problems
it didnt let me free(buffer) and now that i changed the file name to 8 char array it doesnt promp an error anymore","",""
"223136221872914432","maltchik#4372","23-Apr-20 01:22 PM","@The Manly Fairy Did you do something special for the end of your file ? I still have a problem on the 49th picture.","",""
"219337493395406849","The Manly Fairy#8453","23-Apr-20 01:23 PM","no, not particularly","",""
"223136221872914432","maltchik#4372","23-Apr-20 01:23 PM","","https://cdn.discordapp.com/attachments/395684916056031245/702826892922978314/unknown.png",""
"219337493395406849","The Manly Fairy#8453","23-Apr-20 01:24 PM","honestly i wrote my code while building off mostly on what graeme did","",""
"219337493395406849","The Manly Fairy#8453","23-Apr-20 01:24 PM","with some tweaks and changes of my own for better efficiency","",""
"223136221872914432","maltchik#4372","23-Apr-20 01:25 PM","you kept the 512, 1 or you switched yo the 1, 512 ?","",""
"219337493395406849","The Manly Fairy#8453","23-Apr-20 01:25 PM","","https://cdn.discordapp.com/attachments/395684916056031245/702827480532123718/unknown.png",""
"223136221872914432","maltchik#4372","23-Apr-20 01:29 PM","I tried the two solutions and they give the same result -_-","",""
"219337493395406849","The Manly Fairy#8453","23-Apr-20 01:47 PM","put your code in pastebin and lets have a look","",""
"223136221872914432","maltchik#4372","23-Apr-20 01:51 PM","I found my mistake, an extra useless line.","",""
"223136221872914432","maltchik#4372","23-Apr-20 01:51 PM","thx though@The Manly Fairy","",""
"515140133159436309","Graeme#0328","23-Apr-20 02:04 PM","> @Graeme I see few strange things on your code:
> - Line 10: I think the fread function is not working as expecting. You mixed the arguments. Look at the walkthrough video for a nice example (ptr1 refers to nothing in your code)
> -Same thing for all your fwrite function.
> 
> fwrite(data, size, number,outptr)
> 
> data = pointer to bytes that will be written to file
> size = size of EACH element to write (number of bytes), somethin like sizeof(BYTE)
> number = number of element to write (512 in our case)
@maltchik I should of added the entire piece of code, please find entire code.  https://pastebin.com/LMhLWrV5","",""
"515140133159436309","Graeme#0328","23-Apr-20 02:05 PM","prt1 points to FILE* ptr1 = fopen(argv[1], ""r"");","",""
"515140133159436309","Graeme#0328","23-Apr-20 02:08 PM","Tried simplifying the if else to just an else but it breaks the first image. Gonna take a crack at defining the write statement with bytes","",""
"515140133159436309","Graeme#0328","23-Apr-20 02:11 PM","> @Graeme might be a bit silly, but could it be because you're opening files with append instead of write?
@The Manly Fairy Gave it a go, didnt seem to make a difference to the output of photos. My thinking is append is correct because data is added on to the end of an existing file.","",""
"223136221872914432","maltchik#4372","23-Apr-20 02:20 PM","@Graeme Apparently The manly fairy solved his problem by making a filename with 8 elements (7 characters, plus the null at the end)","",""
"515140133159436309","Graeme#0328","23-Apr-20 02:39 PM","ah forgot about the /0","",""
"219298751347556352","Arge6#1562","23-Apr-20 02:40 PM","how do you close a file","",""
"219298751347556352","Arge6#1562","23-Apr-20 02:40 PM","i keep getting errors","",""
"219298751347556352","Arge6#1562","23-Apr-20 02:40 PM","so i'm not using it right, i'm assuming","",""
"515140133159436309","Graeme#0328","23-Apr-20 02:51 PM","fclose(pointer to file)","",""
"219298751347556352","Arge6#1562","23-Apr-20 03:08 PM","oh boy i got files","",""
"219298751347556352","Arge6#1562","23-Apr-20 03:08 PM","splotches of colors lol","",""
"219337493395406849","The Manly Fairy#8453","23-Apr-20 03:41 PM","@Graeme the big difference between your code and mine is that i made my buffer with calloc instead of unsigned char[512]
when you do it your way, it's likely some of those bytes are getting some garbade data, meanwhile calloc not only assigns you the data size you want, it also makes sure it starts off completely zeroed out
some of my condition checks are also different to yours","",""
"219337493395406849","The Manly Fairy#8453","23-Apr-20 03:43 PM","you're also missing two things: the first like maltchik said to use 8 chars for the name to give room for terminating character
the second is you're not doing fclose for ptr1 at the end of your program","",""
"515140133159436309","Graeme#0328","23-Apr-20 03:48 PM","Thanks @The Manly Fairy I guess it must be that crappy data is been written to the images. I updated my filename array to 8 elements üôÇ will let you guys know the result.","",""
"329708552866234368","tayko53#5839","23-Apr-20 03:55 PM","@The Manly Fairy may i ask how did you use the calloc function? am having the same problem as graeme","",""
"219337493395406849","The Manly Fairy#8453","23-Apr-20 04:16 PM","calloc takes two arguements, the amount of memory blocks you want and the size of each block
it then returns a pointer to the start of that memory block and it's up to you to cast it into the data type you're working with
in this case, buffer is an unsigned char, so it should look like this
unsigned char *buffer = (unsigned char \*)calloc(512, sizeof(uint8_t))
from this point onwards you can think of buffer like an array of 512 blocks the size of one byte each","","üëç (2)"
"537666175702794240","Nevish302#1873","23-Apr-20 06:20 PM","what is the diff between calloc and malloc?","",""
"219337493395406849","The Manly Fairy#8453","23-Apr-20 06:30 PM","slightly different syntax and calloc makes sure all the memory you just took up is full of 0's, malloc just assigns memory without cleaning it first so it's potentially harboring junk data","",""
"582951365723160598","Ravenface#8746","23-Apr-20 07:34 PM","Hi, did anyone ever come upon a seg fault that disappears when you look for it with the debugger?","",""
"582951365723160598","Ravenface#8746","23-Apr-20 07:36 PM","It runs smoothly no matter where I place the break, recovering the photos correctly, but only when I am using the debugger.","",""
"701315638102196254","LCH#9093","23-Apr-20 07:54 PM","What is the difference between fread(buffer, sizeof(BYTE), 512, file) where my BYTE is uint8_t and BYTE buffer[512]  AND fread (buffer, 1 ,512, file ) where my buffer is unsigned char buffer[512] ?","",""
"219337493395406849","The Manly Fairy#8453","23-Apr-20 09:32 PM","@Ravenface debug50 does some variable initializations for you, so that might be the reason it's not working
 did you make sure all of your variables are properly initialized?","",""
"219337493395406849","The Manly Fairy#8453","23-Apr-20 09:35 PM","@LCH there's no actual difference if BYTE is unit8_t, which is the size of a single byte
keep in mind however BYTE is just a representation. in reality it could be anything else all the same behind the scenes, so really you'd be using sizeof() mostly when you don't know the specific size of the element you're reading or writing","",""
"582951365723160598","Ravenface#8746","23-Apr-20 10:29 PM","@The Manly Fairy thanks, I've been looking for this bug for hours.","",""
"515140133159436309","Graeme#0328","24-Apr-20 08:58 AM","> and in line 43, i think just ""else"" might work instead of your long condition line. You have to many conditions and maybe skiping some bytes
@maltchik This allowed my code to pass! the weird condition i had was causing double writing of data! Thanks for your suggestion.","",""
"515140133159436309","Graeme#0328","24-Apr-20 08:59 AM","This problem took me a week, i was convinced it was a memory issue but in the end it was just an unnecessarily complicated If statement","",""
"516200827984019457","rby2005#7062","24-Apr-20 09:04 AM","does anyone why i am getting this error-unsupported or invalid image format??","",""
"698085870644756510","Greatness123#7854","24-Apr-20 09:08 AM","Are u using jpeg instead of jpg?","",""
"702009782403596358","Alwaysconfused#6273","24-Apr-20 09:19 AM","Is there an error in passing arguments to fread in the video by Lloyd (https://www.youtube.com/watch?v=bOF-SpEAYgk) at the 15:41 mark? I kept trying this way and did not work.","",""
"516200827984019457","rby2005#7062","24-Apr-20 09:19 AM","Check it out","https://cdn.discordapp.com/attachments/395684916056031245/703128064376176660/Opera_Snapshot_2020-04-24_114923_us-west-2.console.aws.amazon.com.png",""
"698085870644756510","Greatness123#7854","24-Apr-20 09:31 AM","There isnt any condition in line 25","",""
"698085870644756510","Greatness123#7854","24-Apr-20 09:34 AM","Also u arent using fwrite() so there is nothing being written into the new file u are creating","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:16 AM","","https://cdn.discordapp.com/attachments/395684916056031245/703142217207775322/HO0Zqw7mQloUQAAAABJRU5ErkJggg.png",""
"219298751347556352","Arge6#1562","24-Apr-20 10:16 AM","lol what's going on here?","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:16 AM","am i not writing enough to a file?","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:23 AM","Maybe your writing the wrong bytes into the new jpg??","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:23 AM","But i cant be sure without looking at the code","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:46 AM","@Greatness123","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:46 AM","there ya go","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:48 AM","||I think changing from a while loop to a do while can help||","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:48 AM","Cuz that was my mistake at first","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:49 AM","that is a do while loop","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:49 AM","Sry i meant the opposite","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:49 AM","oh","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:49 AM","just say while fread > 0","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:49 AM","instead of do while","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:49 AM","Yes","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:50 AM","weird, wonder why they would be different","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:50 AM","Oh wait i think i got it","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:50 AM","||U should do the while loop and see if it works||","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:51 AM","sure changing it now","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:51 AM","||Also get rid of the fread inside the loop||","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:51 AM","inside the loop?","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:51 AM","Yes","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:51 AM","","https://cdn.discordapp.com/attachments/395684916056031245/703151222630121512/5RFX55IgEASeisDDl770paNB4FNl5PogEASCwJIIhACXNEuUCgJBYAYCIcAZKEdGEAgCSyIQAlzSLFEqCASBGQiEAGegHBlBIAgs.png",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:52 AM","Fread keeps track of where it left off so the next time u use it it satrts from there","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:52 AM","the fread in the while loop is doing that?","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:52 AM","interesting","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:52 AM","Ya cuz its reading twice","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:52 AM","that does makes sense","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:52 AM","why i'm getting half pictures","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:52 AM","So skipping 512 bytes with every iteration","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:52 AM","and nothing makes sense","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:52 AM","i bet that's it","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:53 AM","","https://cdn.discordapp.com/attachments/395684916056031245/703151580337274971/4vGYW2OzOA64AAAAASUVORK5CYII.png",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:53 AM","Nice","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:53 AM","","https://cdn.discordapp.com/attachments/395684916056031245/703151672335007744/mnTaIUBdnGwAAAAABJRU5ErkJggg.png",""
"219298751347556352","Arge6#1562","24-Apr-20 10:53 AM","even 49 came out","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:53 AM","was expecting problems there","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:53 AM","Try check50","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:55 AM","100%","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:55 AM","nice","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:55 AM","Great congrats","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:55 AM","wasn't expecting to be so close, with those pictures","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:56 AM","Its just the one extra line that makes all the difference","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:56 AM","haha awesome, thanks, that was a learning curve for sure","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:56 AM","Np dude","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:56 AM","yeah, I never considered reading twice would cause only 26 jpg's to form","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:56 AM","but that makes logical sense","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:56 AM","Yup","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:57 AM","how's my code style wise?","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:57 AM","There was an extra else at the bottom","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:57 AM","U dont need that","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:58 AM","If none of the conditions are satisfied it will just go to the next iteration automatically","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:59 AM","the continue else?","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:59 AM","Yup","",""
"219298751347556352","Arge6#1562","24-Apr-20 10:59 AM","oh, that does makes sense","",""
"698085870644756510","Greatness123#7854","24-Apr-20 10:59 AM","The rest i think is fine","",""
"219298751347556352","Arge6#1562","24-Apr-20 11:00 AM","i was surprised to see the files changed when i inputted n in sprintf","",""
"219298751347556352","Arge6#1562","24-Apr-20 11:00 AM","i was so confused for a little bit lol","",""
"219298751347556352","Arge6#1562","24-Apr-20 11:00 AM","n is my count integer","",""
"698085870644756510","Greatness123#7854","24-Apr-20 11:01 AM","Wdym by changed?","",""
"219298751347556352","Arge6#1562","24-Apr-20 11:01 AM","the file names","",""
"219298751347556352","Arge6#1562","24-Apr-20 11:01 AM","000","",""
"219298751347556352","Arge6#1562","24-Apr-20 11:01 AM","001","",""
"219298751347556352","Arge6#1562","24-Apr-20 11:01 AM","etc","",""
"219298751347556352","Arge6#1562","24-Apr-20 11:01 AM","once i got that, it all really started cocming together","",""
"698085870644756510","Greatness123#7854","24-Apr-20 11:02 AM","Ohhhhh","",""
"698085870644756510","Greatness123#7854","24-Apr-20 11:02 AM","Ok i gtg","",""
"219298751347556352","Arge6#1562","24-Apr-20 11:02 AM","take care","",""
"538924469603794955","hailesuper#6162","24-Apr-20 12:48 PM","My code ran well but when checking with check50, there was problem with pic49. Any idea?
https://pastebin.com/us6LgwJZ","",""
"516200827984019457","rby2005#7062","24-Apr-20 12:58 PM","Can anyone tell me what's wrong","https://cdn.discordapp.com/attachments/395684916056031245/703183047096271018/SPOILER_re.png",""
"516200827984019457","rby2005#7062","24-Apr-20 12:58 PM","the jpeg's get created...but nothing's in them","",""
"698085870644756510","Greatness123#7854","24-Apr-20 01:20 PM","U forgot the part where if the block of 512 bytes doesnt start with the jpg characteristics then just keep on printing to the same image","",""
"537666175702794240","Nevish302#1873","24-Apr-20 01:20 PM","all my images are recovered but, im having problems with how to detect eof","",""
"537666175702794240","Nevish302#1873","24-Apr-20 01:21 PM","help please","",""
"698085870644756510","Greatness123#7854","24-Apr-20 01:21 PM","> My code ran well but when checking with check50, there was problem with pic49. Any idea?
> https://pastebin.com/us6LgwJZ
@hailesuper that is coz ur code is running one extra time and there are a bunch of extra zeroes in the end of the last image which dont appear in the jpg","",""
"698085870644756510","Greatness123#7854","24-Apr-20 01:22 PM","> all my images are recovered but, im having problems with how to detect eof
@Nevish302 u might want to think about what fread returns","",""
"537666175702794240","Nevish302#1873","24-Apr-20 01:22 PM","it returns a file pointer","",""
"537666175702794240","Nevish302#1873","24-Apr-20 01:23 PM","but eof is at last","",""
"537666175702794240","Nevish302#1873","24-Apr-20 01:23 PM","and if i do check that i get exceed file size","",""
"698085870644756510","Greatness123#7854","24-Apr-20 01:23 PM","I dont think so u might wanna have another look at brians walkthrough video","",""
"537666175702794240","Nevish302#1873","24-Apr-20 01:24 PM","ok. and how do we create 3 digit decimal numbers","",""
"537666175702794240","Nevish302#1873","24-Apr-20 01:24 PM","a new data type?","",""
"698085870644756510","Greatness123#7854","24-Apr-20 01:24 PM","that question is also answered in the same vid","",""
"537666175702794240","Nevish302#1873","24-Apr-20 01:25 PM","ok. ill have a  look at it thanks","",""
"698085870644756510","Greatness123#7854","24-Apr-20 01:25 PM","Ya np","",""
"538924469603794955","hailesuper#6162","24-Apr-20 01:25 PM","> @hailesuper that is coz ur code is running one extra time and there are a bunch of extra zeroes in the end of the last image which dont appear in the jpg
@Greatness123 any idea how to fix the problem? How this problem occurred? I used while( return of fread = 512)","",""
"698085870644756510","Greatness123#7854","24-Apr-20 01:25 PM","But not the first time it is iterating","",""
"698085870644756510","Greatness123#7854","24-Apr-20 01:26 PM","The first time n has been defined to 512","",""
"698085870644756510","Greatness123#7854","24-Apr-20 01:29 PM","||The condition is correct but u might wanna see what fread returns and check it in the condition itself instead of creating another variabl||","",""
"538924469603794955","hailesuper#6162","24-Apr-20 01:29 PM","> /The condition is correct but u might wanna see what fread returns and check it in the condition itself instead of creating another variable/
@Greatness123 Thank you. I fixed it. It ran perfectly. Still dont understand how can the last image added extra 0","",""
"698085870644756510","Greatness123#7854","24-Apr-20 01:30 PM","If there were extra zeroes on the raw file itself then they will appear on the image","",""
"698085870644756510","Greatness123#7854","24-Apr-20 01:31 PM","||Coz the loop will keep printing to the image as long as it hasnt reached the end of raw file||","",""
"538924469603794955","hailesuper#6162","24-Apr-20 01:31 PM","I see. I got it now. Because the condition is checked after run 1 time without checking. It will add 1 time of block 512B to the last.","",""
"538924469603794955","hailesuper#6162","24-Apr-20 01:31 PM","Thank you very much.","",""
"698085870644756510","Greatness123#7854","24-Apr-20 01:43 PM","Yup","",""
"537666175702794240","Nevish302#1873","24-Apr-20 02:46 PM","it''s not working","",""
"537666175702794240","Nevish302#1873","24-Apr-20 02:46 PM","still cannot detect eof","",""
"537666175702794240","Nevish302#1873","24-Apr-20 02:47 PM","m = fread(unit,sizeof(BYTE),512,filer);","",""
"537666175702794240","Nevish302#1873","24-Apr-20 02:47 PM","then check i if it's  512","",""
"219337493395406849","The Manly Fairy#8453","24-Apr-20 03:08 PM","that's not the right condition","",""
"219337493395406849","The Manly Fairy#8453","24-Apr-20 03:08 PM","remember, just because you're reading 512 bytes at a time doesnt mean the memory card is a size that divides perfectly by 512, and you're essentially reading the entire card from start to finish","",""
"219337493395406849","The Manly Fairy#8453","24-Apr-20 03:11 PM","you want to make sure to keep reading as long as there is something to read, even if it's going to be a blank space","",""
"326039502898462722","Dawx#5035","24-Apr-20 06:12 PM","can someone explain me a bit more function fread, i think i got it wrong, ||first argument(data) is writing data in new file? then second argument should be 512 bytes? third argument is size of file / 512? and last is just argv[1]?||","",""
"540201766965477376","Ma_cow#4124","24-Apr-20 07:40 PM","cs50.ly/surprise","",""
"356245550737260554","strawnks#8488","24-Apr-20 08:46 PM","@Dawx fread(), the first argument takes in where you want to actually put the data that you've read, for example an array of strings. the second argument is the size of each element, which yes should be 512. the third argument is the number of elements you're reading, in this case just one. the last should be pointing to the file that you've already opened using fopen().","",""
"537666175702794240","Nevish302#1873","24-Apr-20 11:20 PM","Finally Done & Submitted,  Thanks @Greatness123","",""
"537666175702794240","Nevish302#1873","24-Apr-20 11:32 PM","BTW @The Manly Fairy  The condition's right, i did a few modifications, and completed the program","",""
"326039502898462722","Dawx#5035","25-Apr-20 12:42 PM","@strawnks ty","",""
"326039502898462722","Dawx#5035","25-Apr-20 12:47 PM","why is it importand to check if we already found first file?","",""
"703538419795492935","Adarsh001#3888","25-Apr-20 01:34 PM","Hii","",""
"703538419795492935","Adarsh001#3888","25-Apr-20 01:34 PM","Im new student 8n this course","",""
"703538419795492935","Adarsh001#3888","25-Apr-20 01:34 PM","In","",""
"703538419795492935","Adarsh001#3888","25-Apr-20 01:35 PM","Please help me","",""
"223136221872914432","maltchik#4372","25-Apr-20 01:42 PM","> cs50.ly/surprise
@Ma_cow  ahah you found it too ! How did you get on this link ? On my part I opened the card.raw with notepad and that was the only line which made sense.","",""
"627639391229181952","risen_hate / soangrypanda#0710","25-Apr-20 02:16 PM","Hi! I don t quite understand specification of the pset. 
1)Are these first bytes defining jpg always situated in the beginning of 512 chunk? 
2)Before very first image in card.raw, are there any blank space that should be skipped and not written, or the filte starts with very first image?","",""
"627639391229181952","risen_hate / soangrypanda#0710","25-Apr-20 02:17 PM","Would appreciate if you could help, thank you in advance!","",""
"361235692019384323","Sanath#7244","25-Apr-20 02:30 PM","1) yes
2) the file might not start with an image, but the images are guaranteed to be together","",""
"627639391229181952","risen_hate / soangrypanda#0710","25-Apr-20 02:35 PM","Got it, thank you.","",""
"627639391229181952","risen_hate / soangrypanda#0710","25-Apr-20 02:42 PM","Recover done! Yay!","",""
"540201766965477376","Ma_cow#4124","25-Apr-20 04:14 PM","@maltchik I actually printed the link and I had a bug so it only printed that","",""
"291096730186022913","RM#5016","26-Apr-20 06:23 AM","Hi, my program compiles and after running it, shows all the images in card.raw, yet I'm still getting the following error messages in check50:
 üò¶ recovers 000.jpg correctly
    expected exit code 0, not None
üò¶ recovers middle images correctly
    expected exit code 0, not None
üò¶ recovers 049.jpg correctly
    expected exit code 0, not None","",""
"291096730186022913","RM#5016","26-Apr-20 06:23 AM","is there any reason why?","",""
"291096730186022913","RM#5016","26-Apr-20 06:27 AM","when opening the image files, it shows an image and looks correct. I can't figure out why i'm getting the errors","",""
"393854278764068875","curiouskiwi#1671","26-Apr-20 06:30 AM","are you files named 000.jpg to 049.jpg?  @RM","",""
"393854278764068875","curiouskiwi#1671","26-Apr-20 06:31 AM","also, are you sure your program takes the card file name from the command line?","",""
"393854278764068875","curiouskiwi#1671","26-Apr-20 06:31 AM","and does it complete in under a second (pretty instantly)?","",""
"291096730186022913","RM#5016","26-Apr-20 06:31 AM","yes, they all the file names are from 000 to 049","",""
"291096730186022913","RM#5016","26-Apr-20 06:32 AM","> also, are you sure your program takes the card file name from the command line?
@curiouskiwi what does this mean","",""
"291096730186022913","RM#5016","26-Apr-20 06:32 AM","if you mean does it work when ./recover card.raw, thats how i ran the program","",""
"393854278764068875","curiouskiwi#1671","26-Apr-20 06:33 AM","yes, just making sure that you haven't hardcoded ""card.raw"" in your program","",""
"291096730186022913","RM#5016","26-Apr-20 06:33 AM","no, i didnt write ""card.raw"" anywhere in my program","",""
"291096730186022913","RM#5016","26-Apr-20 06:33 AM","however when opening the images it does take a second or two to load","",""
"393854278764068875","curiouskiwi#1671","26-Apr-20 06:33 AM","I don't mean opening the images","",""
"393854278764068875","curiouskiwi#1671","26-Apr-20 06:33 AM","running recover","",""
"393854278764068875","curiouskiwi#1671","26-Apr-20 06:34 AM","if you do this ```
time ./recover card.raw``` how much time does it take?","",""
"291096730186022913","RM#5016","26-Apr-20 06:34 AM","double free or corruption (out)
Aborted

real    0m0.023s
user    0m0.004s
sys     0m0.003s","",""
"291096730186022913","RM#5016","26-Apr-20 06:34 AM","this is the output","",""
"393854278764068875","curiouskiwi#1671","26-Apr-20 06:35 AM","so your program is crashing","",""
"393854278764068875","curiouskiwi#1671","26-Apr-20 06:36 AM","that's what the Aborted means","",""
"291096730186022913","RM#5016","26-Apr-20 06:36 AM","but then why do all the images work?","",""
"393854278764068875","curiouskiwi#1671","26-Apr-20 06:36 AM","it crashes after it recovers them?","",""
"291096730186022913","RM#5016","26-Apr-20 06:36 AM","why does that happen?","",""
"393854278764068875","curiouskiwi#1671","26-Apr-20 06:36 AM","are you trying to close a file twice?","",""
"393854278764068875","curiouskiwi#1671","26-Apr-20 06:36 AM","if you run ```valgrind ./recover card.raw```  does it show you the line?","",""
"291096730186022913","RM#5016","26-Apr-20 06:37 AM","Memcheck, a memory error detector
==6023== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==6023== Using Valgrind-3.13.0 and LibVEX; rerun with -h for copyright info
==6023== Command: ./recover card.raw
==6023== 
==6023== Invalid free() / delete / delete[] / realloc()
==6023==    at 0x4C30D3B: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==6023==    by 0x400967: main (recover.c:52)
==6023==  Address 0x1fff000320 is on thread 1's stack
==6023==  in frame #1, created by main (recover.c:6)
==6023== 
==6023== 
==6023== HEAP SUMMARY:
==6023==     in use at exit: 27,048 bytes in 49 blocks
==6023==   total heap usage: 102 allocs, 54 frees, 237,048 bytes allocated
==6023== 
==6023== 27,048 bytes in 49 blocks are still reachable in loss record 1 of 1
==6023==    at 0x4C2FB0F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==6023==    by 0x5694E49: __fopen_internal (iofopen.c:65)
==6023==    by 0x5694E49: fopen@@GLIBC_2.2.5 (iofopen.c:89)
==6023==    by 0x4008E1: main (recover.c:40)
==6023== 
==6023== LEAK SUMMARY:
==6023==    definitely lost: 0 bytes in 0 blocks
==6023==    indirectly lost: 0 bytes in 0 blocks
==6023==      possibly lost: 0 bytes in 0 blocks
==6023==    still reachable: 27,048 bytes in 49 blocks
==6023==         suppressed: 0 bytes in 0 blocks
==6023== 
==6023== For counts of detected and suppressed errors, rerun with: -v
==6023== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)","",""
"291096730186022913","RM#5016","26-Apr-20 06:37 AM","this is the output, seems like there is one error","",""
"393854278764068875","curiouskiwi#1671","26-Apr-20 06:39 AM","`(recover.c:52)`  so what's line 52?","",""
"291096730186022913","RM#5016","26-Apr-20 06:39 AM","free(buffer);","",""
"393854278764068875","curiouskiwi#1671","26-Apr-20 06:40 AM","so you malloced buffer before your loop?  and this frees it after the loop finishes?","",""
"291096730186022913","RM#5016","26-Apr-20 06:41 AM","i think i forgot to malloc","",""
"291096730186022913","RM#5016","26-Apr-20 06:41 AM","that could be the reason","",""
"393854278764068875","curiouskiwi#1671","26-Apr-20 06:41 AM","then you don't need to free","",""
"393854278764068875","curiouskiwi#1671","26-Apr-20 06:41 AM","you don't have to use malloc","",""
"291096730186022913","RM#5016","26-Apr-20 06:41 AM","ok","",""
"393854278764068875","curiouskiwi#1671","26-Apr-20 06:42 AM","there's no need to in this problem","",""
"393854278764068875","curiouskiwi#1671","26-Apr-20 06:42 AM","since you know your buffer is 512 bytes","",""
"393854278764068875","curiouskiwi#1671","26-Apr-20 06:42 AM","if you call `free(buffer)` when `buffer` wasn't allocated using malloc, you'll crash as you are.","",""
"291096730186022913","RM#5016","26-Apr-20 06:42 AM","it doesnt return the error message now. thanks!","",""
"703538419795492935","Adarsh001#3888","26-Apr-20 08:44 AM","I m beginner please help  and suget me","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 09:29 AM","about fread","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 09:30 AM","does it loop through the file every time it is called?","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 09:30 AM","or do i have to seek 512 bytes?","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 09:38 AM","i mean if i use fread for 512 bytes will the next fread read next 512 bytes or do i have to seek to the start of next 512 bytes","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 11:48 AM","||#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>
#include <cs50.h>

typedef uint8_t BYTE;

int main(int argc, char *argv[])
{
    if (argc != 2)
    {
        printf(""Usage: ./recover forensic_image\n"");
        return 1;
    }

    FILE *raw = fopen(argv[1], ""r"");

    if (raw == NULL)
    {
        printf(""The forensic image cannot be opened\n"");
        return 1;
    }

    BYTE *buffer = malloc(513);
    bool isopen = false;
    char *filename = malloc(8);
    int i = 0;
    sprintf(filename, ""%03i.jpg"", i);
    int fr;
    FILE *out = NULL;

    do
    {
        fr = fread(buffer, 1, 512, raw);

        if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[4] & 0xf0) == 0xe0)
        {
            if (!isopen)
            {
                out = fopen(filename, ""a"");
                isopen = true;
            }
            else
            {
                fclose(out);
                i++;
                sprintf(filename, ""%03i.jpg"", i);
                out = fopen(filename, ""a"");
            }
            fwrite(buffer, 1, 512, out);
        }
        else if (out != NULL)
        {

            fwrite(buffer, 1, 512, out);
        }

        fseek(raw, 512, SEEK_CUR);

    }
    while (fr == 512);

    free(buffer);
    free(filename);

}
||","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 11:48 AM","no output","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 11:50 AM","no jpg files are formed","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 11:50 AM","no errors in valgrind as well","",""
"393153359693086721","ddbon#2508","26-Apr-20 12:06 PM","@Muktesharyan change buffer[4] to buffer[3] in the if statement where you are checking for jpg signature","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 12:37 PM","i should stop coding","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 12:38 PM","from 3 hours i was changing my code again and againüò©","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 12:38 PM","thx @ddbon","",""
"692697361616601169","Parminder#9117","26-Apr-20 01:45 PM","This is my source code for recover.","https://cdn.discordapp.com/attachments/395684916056031245/703919591893631086/message.txt",""
"692697361616601169","Parminder#9117","26-Apr-20 01:45 PM","And I am getting segmentation fault in it.","",""
"692697361616601169","Parminder#9117","26-Apr-20 01:45 PM","Can anyone help me to fix it!","",""
"326039502898462722","Dawx#5035","26-Apr-20 02:25 PM","i have same problem and think the problem is in fread, but still dont know how to fix it","",""
"326039502898462722","Dawx#5035","26-Apr-20 02:42 PM","@Parminder are you maybe looping outside of memory?","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 03:15 PM","What is (int *)calloc
 @Parminder","",""
"692697361616601169","Parminder#9117","26-Apr-20 03:26 PM","calloc is contiuos memory allocation in c","",""
"692697361616601169","Parminder#9117","26-Apr-20 03:27 PM","and (int *) is type conversion, explicitly.","",""
"692697361616601169","Parminder#9117","26-Apr-20 03:28 PM","i.e., converting the return pointer of calloc to integer type.","",""
"692697361616601169","Parminder#9117","26-Apr-20 03:28 PM","@Muktesharyan","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 03:29 PM","K","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 03:30 PM","@Parminder found a problem","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 03:30 PM","while condition","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 03:30 PM","Why did u use int?","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 03:31 PM","use BYTE or char","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 03:31 PM","0xff is one byte","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 03:32 PM","512/4 = 128","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 03:32 PM","Your buffer only stores 128 elements","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 03:34 PM","Use unsigned char * or int buffer","",""
"326039502898462722","Dawx#5035","26-Apr-20 03:34 PM","@Muktesharyan do you know maybe why wouldn't last image match in check50?","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 03:38 PM","@Dawx your loop is running one extra time","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 03:38 PM","atleast thats why my 49 was wrong","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 03:38 PM","it was adding more 000000s","",""
"326039502898462722","Dawx#5035","26-Apr-20 03:39 PM","im using while when fread returns 512 B","",""
"326039502898462722","Dawx#5035","26-Apr-20 03:39 PM","shouldn't that stop when it comes to block less than 512","",""
"326039502898462722","Dawx#5035","26-Apr-20 03:42 PM","@Muktesharyan ty i managed to get it work somehow xd","",""
"692697361616601169","Parminder#9117","26-Apr-20 03:44 PM","> @Muktesharyan  I changed my buffer to BYTE","",""
"692697361616601169","Parminder#9117","26-Apr-20 03:45 PM","and also changed my while loop as follow:","",""
"692697361616601169","Parminder#9117","26-Apr-20 03:46 PM","||while (fread(buffer, 1, 512, f) == 512)||","",""
"692697361616601169","Parminder#9117","26-Apr-20 03:46 PM","but it shows the same result","",""
"692697361616601169","Parminder#9117","26-Apr-20 03:46 PM","Segmentation Fault!","",""
"361235692019384323","Sanath#7244","26-Apr-20 03:50 PM","use valgrind/debug50 to see where it is","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 03:53 PM","@Parminder lemme see the rest of code","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 03:54 PM","After changing all ints","",""
"692697361616601169","Parminder#9117","26-Apr-20 04:06 PM","Also when I am using debug50","",""
"692697361616601169","Parminder#9117","26-Apr-20 04:06 PM","It shows a warning like the below:","",""
"692697361616601169","Parminder#9117","26-Apr-20 04:07 PM","WARNING: Could not set any breakpoints. Try deleting ./recover and re-compiling
your code. Be sure to compile with -ggdb3.","",""
"692697361616601169","Parminder#9117","26-Apr-20 04:17 PM","Here's my updated version of the code.üôÇ","https://cdn.discordapp.com/attachments/395684916056031245/703958012871835739/message.txt",""
"326039502898462722","Dawx#5035","26-Apr-20 04:21 PM","i think u arent reading card on every loop","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 05:02 PM","Its not <= 512 its ==512 in while condition @Parminder
It will always be true","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 05:03 PM","U need to add a breakpoint for using debug50
Right click on line number of line from where u want to debug and select set breakpoint","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 05:14 PM","And it has a problem with the outer else","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 05:14 PM","if the first byte is not having a jpeg file","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 05:15 PM","it will still do fwrite","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 05:15 PM","so change it to else if (image no. != 0)","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 05:16 PM","this is the cause for seg fault
Even if a file is not opened ur trying to write on it","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 05:16 PM","@Parminder","",""
"692697361616601169","Parminder#9117","26-Apr-20 05:26 PM","> Its not <= 512 its ==512 in while condition @Parminder
> It will always be true
@Muktesharyan Initially I had tried == 512 but it seems to show SEG fault so I just experimented.","",""
"692697361616601169","Parminder#9117","26-Apr-20 05:29 PM","> so change it to else if (image no. != 0)
@Muktesharyan I had changed it to else if (image_no != 0) but it's showing SEG FAULT again","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 05:29 PM","> And it has a problem with the outer else
@Muktesharyan this is the reaon","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 05:29 PM","fclose(img)","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 05:30 PM","Outside the loops","",""
"692697361616601169","Parminder#9117","26-Apr-20 05:31 PM","> fclose(img)
@Muktesharyan Tried right now but didn't work","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 05:37 PM","How many bugs are there
Is it still seg?","",""
"698788302270103572","Mordi Goldstein#9248","26-Apr-20 05:39 PM","Hi all. I am struggling a little with this problem set. Really not feeling like I have a sufficient understanding of how all this reading and writing from/to files works. I have attempted the problem set but keep running into segmentation faults. If anyone would be happy to look at my code and point me in the right direction it would be much appreciated. Please message me directly if you are happy to take a look. Thanks in advance!","",""
"692697361616601169","Parminder#9117","26-Apr-20 05:41 PM","> How many bugs are there
> Is it still seg?
@Muktesharyan Yes, Its seg!","",""
"588150974422581268","Muktesharyan#5091","26-Apr-20 05:45 PM","I cant find anything I myself was having this problem and struggles 4hrs today till someone else pointed the mistake","",""
"692697361616601169","Parminder#9117","26-Apr-20 05:52 PM","> I cant find anything I myself was having this problem and struggles 4hrs today till someone else pointed the mistake
@Muktesharyan Ok and thank you very much for the help. I'll try tomorrow, maybe I'll start from the beginning lets see what happens. Once again thanks.","",""
"305794025644883969","Rinnerdos#6883","26-Apr-20 07:52 PM","So I'm having segmentation faults, of course","",""
"305794025644883969","Rinnerdos#6883","26-Apr-20 07:53 PM","Does || while(fread(buffer, sizeof(BYTE), 512, f) == 512) || do what I think it does? || Does it keep looping over the entire card, updating the buffer after it's gone through all? ||","",""
"305794025644883969","Rinnerdos#6883","26-Apr-20 07:54 PM","Wait, || I explicitly use fread one line into this while loop as well. Is this necessary? ||","",""
"305794025644883969","Rinnerdos#6883","26-Apr-20 08:19 PM","Fixed it","",""
"305794025644883969","Rinnerdos#6883","26-Apr-20 08:22 PM","Got it guys easy game","",""
"305794025644883969","Rinnerdos#6883","26-Apr-20 08:22 PM","","https://cdn.discordapp.com/attachments/395684916056031245/704019669538963496/butiful.png",""
"305794025644883969","Rinnerdos#6883","26-Apr-20 08:27 PM","The first buffer seems to write correctly.. Then it fucks up","",""
"305794025644883969","Rinnerdos#6883","26-Apr-20 08:39 PM","fixed it","",""
"379003401188409345","shirt#3740","27-Apr-20 12:05 AM","where should I go from here? How could I check if I am not at the end of the card and am not at the end of a jpeg","",""
"379003401188409345","shirt#3740","27-Apr-20 12:05 AM","||#include <stdio.h>
#include <stdlib.h>
//a jpeg starts with 0xff, 0xd8,0xff, and 0xe(x)
int main(int argc, char *argv[])
{
    char* picName;
    int count = 0;
    int pictureCount = 0;
    if (argc != 2)
    {
        printf(""Usage: ./recover image"");
        return 1;
    }

    FILE *camera = fopen(argv[1], ""r"");
    long buffer[512];
    //read a byte with size 8, with there being 512 bytes? Store in buffer
    fread(buffer, 8, 512, camera);
    //checking for jpeg header
    //for (int i = 0; i < len(card); i++)
    if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff)
    {   //checking to see if 4th byte is jpeg header valid
        if (buffer[3] >= 0xe0 && buffer[3] <= 0xff)
        {
            //checking if we are at the end of the memory block
            count += 1; //count is number of jpegs found
            sprintf(""picName"", ""%03i.jpg"", count);
            FILE *img = fopen(picName, ""w"");
            //writing to a file
            fwrite(buffer, 8, 512, img);

        }
    }
}||","",""
"531591809575682048","PSI-King#0262","27-Apr-20 01:40 AM","so....I don't undertand, after reading the first 512 byte block how do i tell fread to read the next block?","",""
"693151891017826394","rb#1417","27-Apr-20 01:51 AM","You don't if you are using a while loop, you need to close and open a new file . Fread should keep reading untill the end of the file","",""
"379003401188409345","shirt#3740","27-Apr-20 02:42 AM","How do you tell if you are at the end of a block?","",""
"693151891017826394","rb#1417","27-Apr-20 03:20 AM","Check fread manual. As long as it returns 1 things are cool as soon as is a not 1 or and error or end of file, fread does not know","",""
"379003401188409345","shirt#3740","27-Apr-20 03:54 AM","how do you loop through each 512 byte block of card.raw","",""
"393854278764068875","curiouskiwi#1671","27-Apr-20 03:59 AM","fread","",""
"379003401188409345","shirt#3740","27-Apr-20 04:12 AM","like","",""
"379003401188409345","shirt#3740","27-Apr-20 04:12 AM","how do you find the length of the card","",""
"379003401188409345","shirt#3740","27-Apr-20 04:12 AM","how many blocks there are in it","",""
"693151891017826394","rb#1417","27-Apr-20 04:19 AM","Bro you are the thinking about it the wrong way. There's no need to know the length of the raw file. As long as there are blocks just keep going...","",""
"379003401188409345","shirt#3740","27-Apr-20 04:20 AM","so like this?","",""
"379003401188409345","shirt#3740","27-Apr-20 04:20 AM","while(fread(buffer, 8, 512, camera) >= 512)","",""
"693151891017826394","rb#1417","27-Apr-20 04:21 AM","The last bit should be == 1","",""
"693151891017826394","rb#1417","27-Apr-20 04:21 AM","Check the man pages","",""
"379003401188409345","shirt#3740","27-Apr-20 04:26 AM","I thought it would return 512","",""
"379003401188409345","shirt#3740","27-Apr-20 04:26 AM","Doed fread return the count number?","",""
"393854278764068875","curiouskiwi#1671","27-Apr-20 05:50 AM","the way you are writing it, it will return 512 if it successfully read 512 blocks of 8-byte size","",""
"393854278764068875","curiouskiwi#1671","27-Apr-20 05:51 AM","but you should be reading 512 bytes (ie, either 1 block of 512 bytes, or 512 blocks of 1 byte)","",""
"379003401188409345","shirt#3740","27-Apr-20 06:14 AM","Got it","",""
"379003401188409345","shirt#3740","27-Apr-20 06:14 AM","I was thinking 8 bits","",""
"692697361616601169","Parminder#9117","27-Apr-20 06:33 AM","> Does || while(fread(buffer, sizeof(BYTE), 512, f) == 512) || do what I think it does? || Does it keep looping over the entire card, updating the buffer after it's gone through all? ||
@Rinnerdos Hey how did you fixed it? I used the same type of while loop:","",""
"692697361616601169","Parminder#9117","27-Apr-20 06:33 AM","||while (fread(buffer, 1, 512, f) == 512)||","",""
"692697361616601169","Parminder#9117","27-Apr-20 06:34 AM","Can you tell me is there any problem in it or is it something else?","",""
"693151891017826394","rb#1417","27-Apr-20 07:00 AM","You need to read blocks of 512 bytes one at the time  and return 1, (one block) if it returns less or o means there is a smaller block or no more blocks, end of file.","",""
"692697361616601169","Parminder#9117","27-Apr-20 07:10 AM","@rb I tried but it didn't worked!","",""
"692697361616601169","Parminder#9117","27-Apr-20 07:11 AM","Here's my code:","",""
"692697361616601169","Parminder#9117","27-Apr-20 07:11 AM","","https://cdn.discordapp.com/attachments/395684916056031245/704182821874565150/message.txt",""
"693151891017826394","rb#1417","27-Apr-20 07:14 AM","Try posting on something like pastebin. Or send my a dm","",""
"692697361616601169","Parminder#9117","27-Apr-20 07:37 AM","Problem solved!!!","","üëç (1)"
"692697361616601169","Parminder#9117","27-Apr-20 07:37 AM","Its just a silly mistake!","",""
"379003401188409345","shirt#3740","27-Apr-20 07:50 AM","So I've figured out how to read till the end of the card, but where should I proceed from here?","",""
"379003401188409345","shirt#3740","27-Apr-20 07:50 AM","||#include <stdio.h>
#include <stdlib.h>

//a jpeg starts with 0xff, 0xd8,0xff, and 0xe(x)
int main(int argc, char *argv[])
{
    char* picName;
    int count = 0;
    int pictureCount = 0;
    if (argc != 2)
    {
        printf(""Usage: ./recover image"");
        return 1;
    }

    FILE *camera = fopen(argv[1], ""r"");
    long buffer[512];
    FILE *img;
    //read a byte with size 1, with there being 512 bytes. Store in buffer
    while(fread(buffer, 512, 1, camera) == 1) //keep reading the card, each block is 512 bytes
    {
        fread(buffer, 512, 1, camera);
        //checking for jpeg header

        if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff)
        {   //checking to see if 4th byte is jpeg header valid
            if (buffer[3] >= 0xe0 && buffer[3] <= 0xef)
            {
                count += 1; //count is number of jpegs found
                //closing jpeg if it is not the first
                if (count > 1)
                {
                    fclose(img);
                }
                sprintf(""picName"", ""%03i.jpg"", count);
                img = fopen(picName, ""w"");
                //writing to a file
                fwrite(buffer, 512, 1, img);
                //keep writing blocks of 512 until the next jpeg is found

            }
        }
    }
}
||","",""
"305794025644883969","Rinnerdos#6883","27-Apr-20 08:57 AM","Is the program faster if you read and write 1 block of 512 bytes in stead of 512 blockes of 1 byte? Just curious","",""
"305794025644883969","Rinnerdos#6883","27-Apr-20 08:58 AM","@shirt Look at the walkthrough video","",""
"305794025644883969","Rinnerdos#6883","27-Apr-20 08:58 AM","In the end he has the structure of the pseudocode","",""
"305794025644883969","Rinnerdos#6883","27-Apr-20 08:58 AM","use that","",""
"662231617963556875","Mousa#1979","27-Apr-20 05:17 PM","Hi there !
if I use fread or fread more then one time.. does is it read the same things over and over or does it read/write starting from where the function left off the time before ?","",""
"379003401188409345","shirt#3740","27-Apr-20 05:24 PM","@Rinnerdos I'm not sure but I think reading 512 once Is as fast if not faster","",""
"379003401188409345","shirt#3740","27-Apr-20 05:31 PM","Found out the problem","",""
"379003401188409345","shirt#3740","27-Apr-20 05:31 PM","my code is only looking at the first 4 bytes of the whole card","",""
"379003401188409345","shirt#3740","27-Apr-20 05:42 PM","first block","",""
"215563267211264001","viola#2988","27-Apr-20 05:43 PM","Hey, just finished recover, and some inputs for those who are having trouble:

While it's not the most long and  complicated (code-wise) pset, it's definitely one with the most new concepts to be learned and applied until now. I spent at least one hour to truly understand how ```fread``` and ```fwrite``` works, and I'm still not sure if I understood it correctly. So I'm probably going to redo this pset before continuing.","",""
"379003401188409345","shirt#3740","27-Apr-20 05:45 PM","@viola if you fwrite to an array twice","",""
"379003401188409345","shirt#3740","27-Apr-20 05:45 PM","say the array has size 512","",""
"379003401188409345","shirt#3740","27-Apr-20 05:45 PM","and you fwrite to it twice","",""
"379003401188409345","shirt#3740","27-Apr-20 05:45 PM","does the array gain more space?","",""
"379003401188409345","shirt#3740","27-Apr-20 05:46 PM","or does the array overwrite the old 512 bytes","",""
"215563267211264001","viola#2988","27-Apr-20 05:51 PM","@shirt From my understanding, the array will not increase in size, unless explicitly commanded to.","",""
"215563267211264001","viola#2988","27-Apr-20 05:53 PM","So, two things could happen, which I'm not sure but I'll look into it
1 - the array will resume writing from the last ""empty"" byte
2 - it will start writing again from byte 0, overwriting every data from before","",""
"379003401188409345","shirt#3740","27-Apr-20 05:53 PM","hmm","",""
"379003401188409345","shirt#3740","27-Apr-20 05:53 PM","thank you","",""
"581007767360241677","TimSebas#4802","27-Apr-20 05:54 PM","üôÇ recover.c exists.
üôÇ recover.c compiles.
üôÇ handles lack of forensic image
üò¶ recovers 000.jpg correctly
    recovered image does not match
üò¶ recovers middle images correctly
    recovered image does not match
üò¶ recovers 049.jpg correctly
    recovered image does not match","",""
"379003401188409345","shirt#3740","27-Apr-20 05:54 PM","same","",""
"581007767360241677","TimSebas#4802","27-Apr-20 05:54 PM","The first two lines of pixels of the first image are shown, after each recovered image is white?","",""
"215563267211264001","viola#2988","27-Apr-20 05:55 PM","There's probably an issue with the fwrite","",""
"215563267211264001","viola#2988","27-Apr-20 05:56 PM","share your code using spoiler tags, I'll have a look into it","",""
"581007767360241677","TimSebas#4802","27-Apr-20 05:56 PM","How can I add spoiler tags?","",""
"581007767360241677","TimSebas#4802","27-Apr-20 05:57 PM","Or are you talking to shirt perhaps?","",""
"379003401188409345","shirt#3740","27-Apr-20 05:57 PM","use || and end the text with 2 more vertical bars","",""
"379003401188409345","shirt#3740","27-Apr-20 05:57 PM","for spoiler","",""
"581007767360241677","TimSebas#4802","27-Apr-20 05:57 PM","|| test ||","",""
"581007767360241677","TimSebas#4802","27-Apr-20 05:58 PM","|| #include <stdio.h>
#include <stdlib.h>
#include <cs50.h>

// PSEUDOCODE
// Check command line argument and whether the file exists

// Open memory card

// Repeat until end of card:
// Read 512 bytes into a buffer
// Look for beginning of a JPEG, if start?
    // Write
// End of file = close files & end program


int main(int argc, char *argv[])
{

    // Check command line argument
    if (argc != 2)
    {
        printf(""Usage: ./recover file name\n"");
        return 1;
    }

    FILE *file = fopen(argv[1], ""r"");

    //If the file does not exist, throw an error
    if (file == NULL)
    {
        printf(""Could not open %s. File does not exist.\n"", argv[1]);
        return 1;
    }

    //Creation of output file
    FILE *img = NULL;

    // Create buffer and filename arrays
    unsigned char buffer[512];
    char filename[8];

    //Set counter for filename
    int counter = 0;

    //Set flag
    bool flag;
    flag = false;
    

    // Read the file 512 bytes at the time
    while(fread(buffer, 512, 1, file) == 1)
    {
        
        // Make sure we are reading a jpeg file
        if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0)
        {
            //Close current JPEG, so the next can be read
            if (flag == true)
            {
                fclose(img);
            }
            //Condition for found JPEG, so FLAG because we found a JPEG
            else
            {
                flag = true;
            }

            //Print the filename, open a new image file with that filename and increase the counter by 1
            sprintf(filename, ""%03i.jpg"", counter);
            img = fopen(filename, ""w"");
            counter++;

            //Write recovered image
            if (flag == true)
            {
                fwrite(&buffer, 512, 1, img);
            }
        }
    }
    
    //Close all files
        fclose(file);
        fclose(img);

    //Success
    return 0;
} ||","",""
"379003401188409345","shirt#3740","27-Apr-20 05:58 PM","When I print buffer[1] or anything from buffer[0] to buffer [511], why is it an extremely long hexadecimal","",""
"379003401188409345","shirt#3740","27-Apr-20 05:58 PM","For instance, this is less than a quarter of buffer[1], f796c2e823978ab35b80494a5167ae3999c67d4b76c52da74cfe16953638d375679596d23e0be3796d2c721a9529da59cac98c078c59b7512856e2eece5382b93633a92904939879da95a6ac179109869e629d62005956bdb45f41bf03ac4754eb0794721357b497567945a84e833e20bd1c3c52b1fd5d83bd514a8c42b63a7532600d57a7d12427e37638791ee727ce9164d3d115ba4a65183ae51b846d712700ffe3ba5b9d63a2de49a1658b7a09c28636a6c1d1e513943ffbd9d2697624627abaf6f0b30644425e568da46e5352695b865f","",""
"379003401188409345","shirt#3740","27-Apr-20 05:58 PM","it seems this will not register as a jpeg","",""
"581007767360241677","TimSebas#4802","27-Apr-20 05:59 PM","But why are you printing the buffer array?","",""
"379003401188409345","shirt#3740","27-Apr-20 05:59 PM","just to see what is inside it","",""
"379003401188409345","shirt#3740","27-Apr-20 05:59 PM","because my jpeg check was not running","",""
"379003401188409345","shirt#3740","27-Apr-20 05:59 PM","should have no effect no submit50","",""
"379003401188409345","shirt#3740","27-Apr-20 06:00 PM","on","",""
"581007767360241677","TimSebas#4802","27-Apr-20 06:01 PM","Ah okay. My guess is that the hexadecimals are the individual pixels of each image","",""
"379003401188409345","shirt#3740","27-Apr-20 06:01 PM","hmm","",""
"379003401188409345","shirt#3740","27-Apr-20 06:01 PM","Is it okay if i put some code in spoiler tags?","",""
"581007767360241677","TimSebas#4802","27-Apr-20 06:01 PM","sure","",""
"379003401188409345","shirt#3740","27-Apr-20 06:02 PM","I'm trying to find out why each array index stores extremely long hexadecimals, easily several lines of just numbers and letters","",""
"379003401188409345","shirt#3740","27-Apr-20 06:02 PM","||
    FILE *camera = fopen(argv[1], ""r"");
    int buffer[512];
    FILE *img;
    //read a byte with size 1, with there being 512 bytes. Store in buffer
    while(fread(buffer, 512, 1, camera) == 1) //keep reading the card, each block is 512 bytes
    {
        fread(buffer, 512, 1, camera);
        printf(""%x"", buffer[1]);||","",""
"215563267211264001","viola#2988","27-Apr-20 06:04 PM","@TimSebas  your fread should be ```(buffer, 1, 512, file);```","",""
"215563267211264001","viola#2988","27-Apr-20 06:04 PM","I also did that mistake","",""
"215563267211264001","viola#2988","27-Apr-20 06:05 PM","== 512","",""
"215563267211264001","viola#2988","27-Apr-20 06:06 PM","so it will read 1 byte at a time, 512 times, and your while condition will run while fread returns 512","",""
"379003401188409345","shirt#3740","27-Apr-20 06:07 PM","Is the code in the spoiler correct","",""
"379003401188409345","shirt#3740","27-Apr-20 06:07 PM","the way I open the camera and store it in a buffer","",""
"215563267211264001","viola#2988","27-Apr-20 06:09 PM","@shirt Don't repeat the fread function in the while loop and right afterwards","",""
"215563267211264001","viola#2988","27-Apr-20 06:09 PM","It's fine to use it only in the while condition","",""
"379003401188409345","shirt#3740","27-Apr-20 06:09 PM","oh","",""
"379003401188409345","shirt#3740","27-Apr-20 06:10 PM","So I should write outside of the while loop","",""
"215563267211264001","viola#2988","27-Apr-20 06:10 PM","Nope, that's your main condition for the loop, it needs to be in it","",""
"379003401188409345","shirt#3740","27-Apr-20 06:10 PM","what's wrong with writing in the while loop though","",""
"379003401188409345","shirt#3740","27-Apr-20 06:12 PM","The way I read into buffer seems incorrect because printing any index is very long","",""
"215563267211264001","viola#2988","27-Apr-20 06:16 PM","try ```fread(buffer, 1, 512, camera);```","",""
"215563267211264001","viola#2988","27-Apr-20 06:22 PM","@TimSebas I've tried your code in my file, and the way you used fread also worked. Let me go through your code again and I'll get back to you","",""
"215563267211264001","viola#2988","27-Apr-20 06:47 PM","@TimSebas I got it, you should put your fwrite function outside the jpg IF validation, and then it should work properly","",""
"215563267211264001","viola#2988","27-Apr-20 07:06 PM","You need to iterate multiple times from different chunks of memory to create the whole image, and you only need to validate if it's a JPG at the start of each image (so, only once per image). The way you wrote run this JPG validation for every chunk of memory, and runs fwrite only if the chunk starts with 0xff, 0xd8 and so on.","",""
"693151891017826394","rb#1417","27-Apr-20 07:16 PM","hi. I tried to out of curiosity and compiles but at least in my code the redundancy totally destroys the data","",""
"693871765935357962","kirillsh93#9287","27-Apr-20 07:45 PM","Hello guys!
How to check my program if there is memory leak?","",""
"693871765935357962","kirillsh93#9287","27-Apr-20 07:50 PM","Also I have a question about `fread` function.
How it keeps track of bytes it's already read? I mean how it doesn't start to read from start on each loop iteration, but continue reading next 512 bytes. How does it work?

Thanks","",""
"693151891017826394","rb#1417","27-Apr-20 08:22 PM","@kirillsh93 1.- for memory leak. use valgrind.
2.- the idea of the while loop is to keep reading until the end of file (as long as there are 512 bytes blocks keep reading) inside the while loop, if jpeg header is found give a name to your output and add to your images counter. no header? keep writing output (blocks of memory).","",""
"581007767360241677","TimSebas#4802","27-Apr-20 08:25 PM","@viola aha that makes sense... thanks so much, that did it for me!","",""
"693871765935357962","kirillsh93#9287","27-Apr-20 08:26 PM","> @kirillsh93 1.- for memory leak. use valgrind.
> 2.- the idea of the while loop is to keep reading until the end of file (as long as there are 512 bytes blocks keep reading) inside the while loop, if jpeg header is found give a name to your output and add to your images counter. no header? keep writing output (blocks of memory).
@rb so continue reading the file it's how 'while' loop works? not the fread function","",""
"693151891017826394","rb#1417","27-Apr-20 08:28 PM","fread will do what you say, in this case is reading chunks of 512 bytes one at the time. (read the manual) so, as long as is spiting entire (1) chunks the condition in the while loop holds","",""
"693151891017826394","rb#1417","27-Apr-20 08:29 PM","i say spitting because is reading into buffer","",""
"693871765935357962","kirillsh93#9287","27-Apr-20 08:34 PM","I got the idea of condition (if fread returns 512, continue loop). This part is clear.
Just don't get why it doesn't start reading from the beginning of the file. (First 512 B chunk). So it should keep somewhere info (I already read, for example, 2048 B of that file, so now I should read next 512)
And I don't get where)","",""
"693871765935357962","kirillsh93#9287","27-Apr-20 08:34 PM","@rb","",""
"693871765935357962","kirillsh93#9287","27-Apr-20 08:35 PM","> I got the idea of condition (if fread returns 512, continue loop). This part is clear.
> Just don't get why it doesn't start reading from the beginning of the file. (First 512 B chunk). So it should keep somewhere info (I already read, for example, 2048 B of that file, so now I should read next 512)
> And I don't how exactly it works)
@kirillsh93","",""
"693151891017826394","rb#1417","27-Apr-20 08:35 PM","check the walkthrough video.","",""
"693871765935357962","kirillsh93#9287","27-Apr-20 08:36 PM","ok, thx","",""
"379003401188409345","shirt#3740","27-Apr-20 08:36 PM","why does fread[0] or any other index output an extremely long hexadecimal when printed","",""
"379003401188409345","shirt#3740","27-Apr-20 08:36 PM","not fread","",""
"379003401188409345","shirt#3740","27-Apr-20 08:36 PM","printf(""%i"", buffer[0])","",""
"693871765935357962","kirillsh93#9287","27-Apr-20 08:37 PM","> check the walkthrough video.
@rb just to clarify, I've already done the pset, just want to clarify this moment, how exactly it works.","",""
"693151891017826394","rb#1417","27-Apr-20 08:37 PM","it starts from the beginning of file. as long as i know it only outputs the number of chunks has read.","",""
"693151891017826394","rb#1417","27-Apr-20 08:40 PM","@kirillsh93 sorry. I didn't mean to be rude.  I like to try to help because it helps me understand better too.","",""
"693871765935357962","kirillsh93#9287","27-Apr-20 08:41 PM","don't think you were rude)","",""
"693871765935357962","kirillsh93#9287","27-Apr-20 08:47 PM","> @rb I got the fread function)
> https://cs50.stackexchange.com/questions/26277/if-i-use-fread-in-a-while-loop-will-it-move-the-file-pointer
> 
> here's the answer to my question, if you interested üòâ","",""
"547111859329957889","!dynamo#6374","27-Apr-20 08:48 PM","How do I store hexadecimal value read from the file? Which datatype should be used..?","",""
"693871765935357962","kirillsh93#9287","27-Apr-20 08:49 PM","> How do I store hexadecimal value read from the file? Which datatype should be used..?
@!dynamo you should define new type BYTE, read Hint section","",""
"547111859329957889","!dynamo#6374","27-Apr-20 08:52 PM","My bad.. I only watched the walk through video provided","",""
"693151891017826394","rb#1417","27-Apr-20 09:19 PM","@kirillsh93 thanks :)","",""
"379003401188409345","shirt#3740","27-Apr-20 10:57 PM","I think this code should work, but it is not creating any jpegs","",""
"379003401188409345","shirt#3740","27-Apr-20 10:57 PM","||","https://cdn.discordapp.com/attachments/395684916056031245/704421043548323850/message.txt",""
"409623218517704705","Thien#0976","28-Apr-20 12:52 AM","I think the fread in while's condition is already reading the file
you don't need another fread","",""
"379003401188409345","shirt#3740","28-Apr-20 01:04 AM","so does the fread in the while condition keep reading the file","",""
"379003401188409345","shirt#3740","28-Apr-20 01:04 AM","or does it only do it once","",""
"393854278764068875","curiouskiwi#1671","28-Apr-20 01:08 AM","every time it is called, it will read the next block","",""
"379003401188409345","shirt#3740","28-Apr-20 01:17 AM","Does having it in a while loop call it multiple times","",""
"379003401188409345","shirt#3740","28-Apr-20 01:17 AM","If it is the condition of the while loop","",""
"393854278764068875","curiouskiwi#1671","28-Apr-20 01:18 AM","yes, it has to call it in order to find out the value","",""
"379003401188409345","shirt#3740","28-Apr-20 01:23 AM","Ok thanks","",""
"692903518436196373","Kimmeh#3195","28-Apr-20 03:47 AM","Hey, guys. Can any of you guide me as to what I'm doing wrong in my code? The jpegs are being created but all say 'Invalid or Unsupported Image Format'

Update: it's okay, I figured everything out","https://cdn.discordapp.com/attachments/395684916056031245/704493968083255467/SPOILER_Screenshot_43.png",""
"537666175702794240","Nevish302#1873","28-Apr-20 07:34 AM","You might want to open and see them if they're empty","",""
"537666175702794240","Nevish302#1873","28-Apr-20 07:34 AM","Or sth","",""
"692903518436196373","Kimmeh#3195","28-Apr-20 07:43 AM","@Nevish302 i figured out my mistakes but thank you for your advice, I appreciate it","",""
"703480567970398218","AhmedShoman94#6153","28-Apr-20 09:03 AM","I get a segmentation  fault every time i come across this line :
sprintf(filename, ""%03i.jpg"", i);
any ideas or help?","",""
"379003401188409345","shirt#3740","28-Apr-20 09:07 AM","try intializing filename into an array","",""
"379003401188409345","shirt#3740","28-Apr-20 09:08 AM","with type char","",""
"379003401188409345","shirt#3740","28-Apr-20 09:08 AM","or you can keep it as a string and allocate memory to it beforehand","",""
"379003401188409345","shirt#3740","28-Apr-20 09:08 AM","@AhmedShoman94","",""
"379003401188409345","shirt#3740","28-Apr-20 09:09 AM","very close to finishing recover, can anybody help with writing blocks to a jpeg until the next jpeg is found? I have been doing so but in the process also accidentally skip over half of the jpegs so I recover 25 complete jpegs only","",""
"379003401188409345","shirt#3740","28-Apr-20 09:09 AM","https://pastebin.com/ZkW49rmr","",""
"703480567970398218","AhmedShoman94#6153","28-Apr-20 09:11 AM","ok i'll try and feedback , thanks","",""
"379003401188409345","shirt#3740","28-Apr-20 09:11 AM","sure","",""
"703480567970398218","AhmedShoman94#6153","28-Apr-20 09:14 AM","it worked perfectly with allocating memory 
thanks !","",""
"379003401188409345","shirt#3740","28-Apr-20 09:15 AM","np","",""
"379003401188409345","shirt#3740","28-Apr-20 09:21 AM","next time pls put it in a pastebin","",""
"379003401188409345","shirt#3740","28-Apr-20 09:21 AM","code spoiler","",""
"703480567970398218","AhmedShoman94#6153","28-Apr-20 09:21 AM","ok sorry","",""
"379003401188409345","shirt#3740","28-Apr-20 09:21 AM","also check the filt it may only have 512 bytes, or 0 bytes, or look like a corrupted version of the file","",""
"379003401188409345","shirt#3740","28-Apr-20 09:21 AM","*file","",""
"698085870644756510","Greatness123#7854","28-Apr-20 09:22 AM","@shirt ur using fread twice in one iteration","",""
"698085870644756510","Greatness123#7854","28-Apr-20 09:23 AM","Fread keeps track of where it left off","",""
"379003401188409345","shirt#3740","28-Apr-20 09:23 AM","which lines?","",""
"698085870644756510","Greatness123#7854","28-Apr-20 09:23 AM","So it is essentially writing from where it left off last","",""
"698085870644756510","Greatness123#7854","28-Apr-20 09:24 AM","Lines 23 and 48","",""
"703480567970398218","AhmedShoman94#6153","28-Apr-20 09:24 AM","yes i'm gonna fix that thanks
sorry for the spoilers üòÖ","",""
"379003401188409345","shirt#3740","28-Apr-20 09:24 AM","ah thanks","",""
"379003401188409345","shirt#3740","28-Apr-20 09:25 AM","I removed the fread on line 48","",""
"379003401188409345","shirt#3740","28-Apr-20 09:25 AM","have 50 images but only 512 bytes","",""
"379003401188409345","shirt#3740","28-Apr-20 09:26 AM","@Greatness123 after removing line 48, how could I keep writing to the img file until the next jpg signature?","",""
"698085870644756510","Greatness123#7854","28-Apr-20 09:33 AM","||All u need to check is if the no.of images is more than 0||","",""
"379003401188409345","shirt#3740","28-Apr-20 09:33 AM","sorry what do you mean","",""
"698085870644756510","Greatness123#7854","28-Apr-20 09:34 AM","||Because the images are one after the other so once u find the first one the next 49 images all come after it||","",""
"379003401188409345","shirt#3740","28-Apr-20 09:36 AM","I understand that but how could I write into an image until I see the next jpeg header, the problem is I only write one block of 512 bytes and miss most of the image","",""
"698085870644756510","Greatness123#7854","28-Apr-20 09:37 AM","||if (imagecount > 0)
{
    // keep on writing to same file
}
Else if (first 4 bytes are the jpg bytes)
{
   //make a new file and write to it
}||","",""
"698085870644756510","Greatness123#7854","28-Apr-20 09:37 AM","||U dont need a double loop just one loop is enough||","",""
"379003401188409345","shirt#3740","28-Apr-20 09:45 AM","sorry","",""
"379003401188409345","shirt#3740","28-Apr-20 09:45 AM","im still not sure on how to keep on writing to same file","",""
"277999856214081536","nannergirl#5123","28-Apr-20 10:24 AM","||here's kinda how i did it
if (jpeg headers match)
{
    if (count == 0)
    {
        // This is your first image find, write that block into img with fwrite and increase counter
    }
    else if (count > 0)
    {
        // you discovered a new file, so close the img and open a new one and start writing again, increase counter
    }
else if (counter > 0)
{
    // you haven't found that the next block matches the header file, therefore, you need to keep writing these blocks into the image because it's the same image
}||","",""
"379003401188409345","shirt#3740","28-Apr-20 10:43 AM","@nannergirl","",""
"379003401188409345","shirt#3740","28-Apr-20 10:43 AM","finally","",""
"379003401188409345","shirt#3740","28-Apr-20 10:43 AM","i did it","","üëè (1)"
"379003401188409345","shirt#3740","28-Apr-20 10:43 AM","thank you very much","",""
"531591809575682048","PSI-King#0262","28-Apr-20 09:41 PM","Hello, I have a problem i haven't had before.....when i run my program it'll seg fault at random, when it does run it creates the jpegs just fine, but i won't always run. I have no idea why this is.","https://cdn.discordapp.com/attachments/395684916056031245/704764321955053688/error2.png",""
"531591809575682048","PSI-King#0262","28-Apr-20 10:00 PM","I have no idea of how to debug this","https://cdn.discordapp.com/attachments/395684916056031245/704769024445120552/SPOILER_recoverTest.c",""
"531591809575682048","PSI-King#0262","28-Apr-20 10:03 PM","@brian sorry to bother you, but i'm at loss here","",""
"393153359693086721","ddbon#2508","28-Apr-20 10:15 PM","@PSI-King I think you need to change jpeg to jpg","",""
"531591809575682048","PSI-King#0262","28-Apr-20 10:17 PM","you mean in the file name for the images?","",""
"393153359693086721","ddbon#2508","28-Apr-20 10:19 PM","yeah I don't know if it matters and I don't know how to fix the segmentation fault","",""
"531591809575682048","PSI-King#0262","28-Apr-20 10:19 PM","thanks anyways ddbon, just tried it and still got the seg fault","",""
"531591809575682048","PSI-King#0262","28-Apr-20 10:21 PM","thing that bothers me is the fact that it'll work seemingly at random xD","",""
"236625588868087808","psychodoughb0y#0892","28-Apr-20 10:33 PM","Seg fault means you accessed memory you don't have access to.  Sometimes it will ""work"" because the accidental memory access just happens to be another piece of data that you have access to.","",""
"704404489721085993","Mark Van Hare#3458","28-Apr-20 10:45 PM","Hey all. I have completed recover.c and successfully submitted the code, but I have one quick follow-up question: The CS50 Programmer's Manual indicates that fwrite requires two pointers, one for where the data is coming from and another for where the data is being written to:

     size_t fwrite(const void *ptr, size_t size, size_t nmemb, FILE *stream);

     The function fwrite() writes nmemb items of data, each size bytes long, to the stream pointed 
     to by stream, obtaining them from the location given by ptr.

But in my code I used this syntax: fwrite(buffer, 512, 1, img); where buffer is an array of bytes (unsigned integers). Why does my code work if buffer is not a pointer?","",""
"531591809575682048","PSI-King#0262","28-Apr-20 10:48 PM","@psychodoughb0y I figured as much, but my problem is that i don't really know how to spot it in my code.","",""
"379003401188409345","shirt#3740","28-Apr-20 11:03 PM","how do you open c files","",""
"379003401188409345","shirt#3740","28-Apr-20 11:03 PM","from your pc into the ide","",""
"379003401188409345","shirt#3740","28-Apr-20 11:04 PM","or any editor","",""
"236625588868087808","psychodoughb0y#0892","28-Apr-20 11:04 PM","You're doing the file name in a very roundabout way.  It feels like there could be a problem with that.  Do you ever notice file names being wrong?  Like having extra characters?","",""
"379003401188409345","shirt#3740","28-Apr-20 11:04 PM","nvm","",""
"379003401188409345","shirt#3740","28-Apr-20 11:04 PM","i got notepad","",""
"379003401188409345","shirt#3740","28-Apr-20 11:06 PM","jnames = fopen(""filename.txt"", ""w"");
printf(jnames, ""%03i.jpeg\n"", jpegCount);","",""
"379003401188409345","shirt#3740","28-Apr-20 11:07 PM","@PSI-King i dont know if this is the segfault error but i used sprintf over printf","",""
"236625588868087808","psychodoughb0y#0892","28-Apr-20 11:07 PM","Also it will fail with jpeg, the spec says .jpg.","",""
"531591809575682048","PSI-King#0262","28-Apr-20 11:16 PM","@psychodoughb0y yeah....I corrected the naming process, I'm using sprintf now.","",""
"531591809575682048","PSI-King#0262","28-Apr-20 11:16 PM","i'm going to try changing to jpg and check if that's the problem.","",""
"531591809575682048","PSI-King#0262","28-Apr-20 11:17 PM","btw thanks for the help guys","",""
"531591809575682048","PSI-King#0262","28-Apr-20 11:43 PM","so I check and by commenting the steps out, and the segfault occurs when I write the jpegs","",""
"531591809575682048","PSI-King#0262","28-Apr-20 11:46 PM","so here's the updated code","https://cdn.discordapp.com/attachments/395684916056031245/704795786189209630/SPOILER_recoverTest.c",""
"379003401188409345","shirt#3740","29-Apr-20 12:18 AM","May want to put it in pastebin","",""
"379003401188409345","shirt#3740","29-Apr-20 12:18 AM","Cant open on mobile","",""
"531591809575682048","PSI-King#0262","29-Apr-20 12:26 AM","Thanks @shirt I solved it xD......i think I just needed to step away form ir 4 a while","",""
"379003401188409345","shirt#3740","29-Apr-20 12:30 AM","Good stuff","",""
"702323044869341184","cfeight#8669","29-Apr-20 12:49 AM","Hi all, has anyone encountered having issues with recovering their last image? my program compiles fine and I can see all 50 images but when running check50, it says 049's recovered image does not match... no other errors. Does anyone have any idea as to why this could be?","",""
"393854278764068875","curiouskiwi#1671","29-Apr-20 12:50 AM","more than likely, you are writing the final 512 block of bytes twice.  Are you sure your loop ends (and you don't write any more blocks) once you've read in the last byte?  (hint. if you are using feof as your while loop condition, you probably aren't)","",""
"702323044869341184","cfeight#8669","29-Apr-20 12:52 AM","I am not using feof, but this is probably still my issue, thanks!","",""
"702323044869341184","cfeight#8669","29-Apr-20 01:26 AM","after looking at my code more, I dont know if I am looping through my final block of bytes twice... I am closing the image/file after I no longer pick up any more images. How would I ensure my loop ends after I've read the last byte?","",""
"393854278764068875","curiouskiwi#1671","29-Apr-20 01:56 AM","are you checking the return value of fread to determine if you can't read any more?","",""
"702323044869341184","cfeight#8669","29-Apr-20 02:43 AM","I am trying to/ I thought I was but it doesnt seem to be doing much. If you have time to look, this is what I am doing:","https://cdn.discordapp.com/attachments/395684916056031245/704840271342469280/SPOILER_unknown.png",""
"393854278764068875","curiouskiwi#1671","29-Apr-20 02:48 AM","so imagine you are at the end of the file.  `n` will still be 512 from the last time it was set.  Your loop will run again.  `n` will get set to 0 since there's nothing to read.  What do you do next?","",""
"702323044869341184","cfeight#8669","29-Apr-20 02:56 AM","close the file? I tried to add this (and a few other variations of this), thinking this is what I needed, but it doesnt seem to fix the issue","https://cdn.discordapp.com/attachments/395684916056031245/704843457436450867/SPOILER_unknown.png",""
"393854278764068875","curiouskiwi#1671","29-Apr-20 02:57 AM","no, look at your loop again.  what happens after you read in a block?","",""
"393854278764068875","curiouskiwi#1671","29-Apr-20 02:57 AM","and because you are at the end, `n` is set to 0","",""
"702323044869341184","cfeight#8669","29-Apr-20 03:12 AM","hmm it appears I am missing something conceptually. after I read a block, I believe I loop back and go through my if statements.","",""
"393854278764068875","curiouskiwi#1671","29-Apr-20 03:16 AM","you've got ``` 
while (n == 512)
{
    set n = the number of bytes read    
    // do all of this
}```   so my question is, you read the last block the last time the loop ran, so n is 512.  Now, since n == 512, this loop will run again.  You read from the file, but there are no more bytes, so you set `n` to 0.  Then what happens?  You will keep going until you reach the end of the loop, right?    
I'd suggest that you move your actual fread into the while condition itself, so that when you no longer read in any bytes, the loop doesn't run.","",""
"702323044869341184","cfeight#8669","29-Apr-20 03:20 AM","Oh, thanks so much. Sorry it took me a second to come around but I understand the issue now. Thanks!","",""
"494003143261028372","SHADOW#1913","29-Apr-20 05:28 AM","> But in my code I used this syntax: fwrite(buffer, 512, 1, img); where buffer is an array of bytes (unsigned integers). Why does my code work if buffer is not a pointer?
@Mark Van Hare","",""
"494003143261028372","SHADOW#1913","29-Apr-20 05:29 AM","because array name is pointer to first element of array","","üëç (1)"
"397043573457027072","yobow#6450","29-Apr-20 05:18 PM","#recover  hey may someone check why it doesn't work? its says 
    failed to execute program due to segmentation fault
üò¶ recovers middle images correctly
    failed to execute program due to segmentation fault
üò¶ recovers 049.jpg correctly
    failed to execute program due to segmentation fault
To","https://cdn.discordapp.com/attachments/395684916056031245/705060363963727912/SPOILER_recover-1.c",""
"236625588868087808","psychodoughb0y#0892","29-Apr-20 08:24 PM","@yobow Have you tried running this code yourself to see the output?","",""
"397043573457027072","yobow#6450","29-Apr-20 08:30 PM","it says segmentation fault","",""
"236625588868087808","psychodoughb0y#0892","29-Apr-20 08:33 PM","That means you're trying to access data you don't have access to.","",""
"236625588868087808","psychodoughb0y#0892","29-Apr-20 08:34 PM","You're taking an array of characters, and trying to use it as a string, without adding the end \0 character.","",""
"236625588868087808","psychodoughb0y#0892","29-Apr-20 08:35 PM","I think.","",""
"236625588868087808","psychodoughb0y#0892","29-Apr-20 08:35 PM","I'd have to look to see if sprintf does that for you.","",""
"236625588868087808","psychodoughb0y#0892","29-Apr-20 08:37 PM","Either that or your file is null, since you aren't checking for that anywhere.","",""
"397043573457027072","yobow#6450","29-Apr-20 10:02 PM","so what should i do tho","",""
"277999856214081536","nannergirl#5123","30-Apr-20 12:58 AM","@yobow curious as to why your sprintf has your counter as the third arg","",""
"236625588868087808","psychodoughb0y#0892","30-Apr-20 01:00 AM","@nannergirl What else would they have as their third argument?","",""
"277999856214081536","nannergirl#5123","30-Apr-20 01:03 AM","I made a character array","",""
"277999856214081536","nannergirl#5123","30-Apr-20 01:05 AM","unless i got myself mixed up here.. i did this problem a little over a week ago lol","",""
"277999856214081536","nannergirl#5123","30-Apr-20 01:06 AM","ah i did.. just looked up the thing..","",""
"393854278764068875","curiouskiwi#1671","30-Apr-20 01:07 AM","@yobow  look at your signature check ... you are never finding a signature, so your program crashes at the end when you try to close `img` and it's never been opened.","",""
"250157065887023105","Danny Deermouse#7534","30-Apr-20 01:57 AM","can someone help me with understanding the fread() function for this assignment? I was understanding it like this - ` fread(buffer, 512, (imageSize / 512), inputImage);`","",""
"250157065887023105","Danny Deermouse#7534","30-Apr-20 01:59 AM","where it will put it into an array buffer[0][] would be the first 512 block, buffer[1][] would be the 2nd block etc","",""
"250157065887023105","Danny Deermouse#7534","30-Apr-20 01:59 AM","but i feel like this isnt how it is at all and i am misunderstanding it","",""
"236625588868087808","psychodoughb0y#0892","30-Apr-20 02:03 AM","That is not how it is.  Buffer is just an array of bytes, and it reads it one block at a time.","",""
"250157065887023105","Danny Deermouse#7534","30-Apr-20 02:07 AM","so if i did buffer[512]; and had 

fread(buffer, 512, (imageSize /512), inputImage);

is the fread a for loop basically?","",""
"250157065887023105","Danny Deermouse#7534","30-Apr-20 02:08 AM","i am super confused now lol","",""
"236625588868087808","psychodoughb0y#0892","30-Apr-20 02:08 AM","You only want to read 1 block of 512, not imageSize/512.","",""
"250157065887023105","Danny Deermouse#7534","30-Apr-20 02:08 AM","ok that makes sense","",""
"250157065887023105","Danny Deermouse#7534","30-Apr-20 02:09 AM","im just trying to figure out how to read the next 512 bytes after reading the first 512 into buffer.","",""
"236625588868087808","psychodoughb0y#0892","30-Apr-20 02:14 AM","It remembers your place for you, and the next time you call it reads the next section.","",""
"250157065887023105","Danny Deermouse#7534","30-Apr-20 02:16 AM","ohhhh","",""
"250157065887023105","Danny Deermouse#7534","30-Apr-20 02:16 AM","ok that makes much more sense","",""
"250157065887023105","Danny Deermouse#7534","30-Apr-20 02:17 AM","i think i remember david saying that in the lecture, i just forgot. thanks","",""
"250157065887023105","Danny Deermouse#7534","30-Apr-20 03:23 AM","","https://cdn.discordapp.com/attachments/395684916056031245/705212779098931271/Recover.png",""
"250157065887023105","Danny Deermouse#7534","30-Apr-20 03:24 AM","getting this

 error: result of comparison of constant 255 with expression of type 'char' is always false","",""
"250157065887023105","Danny Deermouse#7534","30-Apr-20 03:24 AM","when i try to compile recover","",""
"250157065887023105","Danny Deermouse#7534","30-Apr-20 03:24 AM","not sure what im doing wrong because it looks the same as what david is doing in the lecture i thought?","",""
"393854278764068875","curiouskiwi#1671","30-Apr-20 03:34 AM","is your buffer an array of 512 bytes?","",""
"250157065887023105","Danny Deermouse#7534","30-Apr-20 03:36 AM","yes i have it declared above everything like this -","",""
"250157065887023105","Danny Deermouse#7534","30-Apr-20 03:36 AM","char buffer[512];","",""
"393854278764068875","curiouskiwi#1671","30-Apr-20 03:37 AM","a char only has values from -128 to 127","",""
"393854278764068875","curiouskiwi#1671","30-Apr-20 03:37 AM","you need a byte (an unsigned char)","",""
"250157065887023105","Danny Deermouse#7534","30-Apr-20 03:44 AM","ok i put it as unsigned and it compiles now. that makes sense","",""
"397043573457027072","yobow#6450","30-Apr-20 11:13 AM","@curiouskiwi i have just tried to delete the line of the ""fclose(img);"" and it says ""000.jpf not found""","",""
"397043573457027072","yobow#6450","30-Apr-20 11:41 AM","and indeed the debug50 says the problem there, but what am i suppose to do?","",""
"360955023058010114","Ubis#6373","30-Apr-20 03:26 PM","Hi quick question if the first input of fread() is the pointer to where i want to store the data, why can i use an array ""bytes"" as the input? shouldnt it be ""&bytes"" so that it gives the pointer or address to the array? Please tell me if i made any conceptual errors in my statements, thanks","",""
"662724182139863050","Scizain#3621","30-Apr-20 03:30 PM","I dont understand how i am going to implement recover problem any help please","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:21 PM","@Ubis because for the array you have to tell and declare the contents of the array, but if you create a pointer and allocate memory to it you have in itself an array. Once you declare the pointer to can store the values of fread with the function so thats why you dont need the & (at least thats how I understand it). I hope it helps","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:22 PM","@Scizain hey, first try to understand the concepts, it was very difficult for me as well, so I recommend drawing or writing is pseudocode what you need to do.","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:26 PM","You need:
1. Open the file where you are gonna read from (fopen)
2. Read in chuncks of 512 BYTES (fread)
3. Store that data in a buffer (pointer)
4. Check the first 4 chunks of memory of the buffer to see if is a jpeg
5. If it is, create a file and write to it
6. If it‚Äôs not just keep reading until you find it
7. Repeat until end of the file
8. Consider that if fread keeps reading until end of file but you have to keep in consideration the return value to see the end of the file
9. Consider once you have a file created you have to keep writing until you find another jpeg, then you need to close that file and create another one and keep writing until find another jpeg or end of file","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:26 PM","Hope it helps","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:28 PM","@Crussader So when an array is used as a value it gives the address/pointer the the first element in the array?","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:29 PM","and thanks for replying","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:30 PM","When you want to add values to and array individually you have to use array[] = something","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:30 PM","That would be the value stored in that [] of the array","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:30 PM","yes","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:30 PM","But if you create a pointer and add data to it, it fills the array","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:30 PM","So you can acces the [] that you want","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:31 PM","I‚Äôm a noob so probably there are better explanations from people that knows better but that‚Äôs how I understood it","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:32 PM","nah man","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:32 PM","The pointer is just the arrow to the array","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:32 PM","ok","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:32 PM","So if you create the pointer:
Int *buffer = malloc(...)","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:32 PM","Then you can add data to buffer","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:33 PM","Because you allocated memory to it and an addres","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:33 PM","So then fread knows where to store the data","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:33 PM","so int *buffer is basically creating an array called buffer and can from there on store values","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:33 PM","Values type int","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:33 PM","In this case you dont have to store int","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:33 PM","You have to store BYTES","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:33 PM","ohh thanks","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:34 PM","That was very confusing to me as well","",""
"361235692019384323","Sanath#7244","30-Apr-20 04:34 PM","int *buffer is not an array, you need to malloc space","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:34 PM","Exactly, you have to allocate memory to it","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:34 PM","Imagine the example with the mail boxes","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:35 PM","You are giving the program the address of that box and telling the program the size of the box","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:35 PM","alright so if i do int *buffer then for each integer i want to store i need to allocate 4 bytes for each one","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:35 PM","Then with fread(buffer...) you are telling the program, go to that adress and store data","",""
"361235692019384323","Sanath#7244","30-Apr-20 04:35 PM","sizeof(int) is a better way, but yes","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:36 PM","i see","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:36 PM","Yes, I always use sizeof(type of variable)","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:37 PM","right now im at the step of making a jpeg file so that i can store the bytes in it","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:37 PM","and im not sure how to use sprintf","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:37 PM","does it allocate a file and a name to it?","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:38 PM","That was very difficult for me as well","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:38 PM","So basically you have to create a pointer for the name an allocate enough memory to store the characters of the name","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:38 PM","Then with sprintf you ‚Äúoverwrite‚Äù that name","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:39 PM","And use the name to create the file","",""
"361235692019384323","Sanath#7244","30-Apr-20 04:39 PM","theres no reason to complicate things with pointers, just use an array","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:39 PM","So sprintf overwrites the name and creates a file in a single function","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:39 PM","Basically would be like:
1. Create the pointer for the name and allocate memory
2. Change the name to the correct one
3. Use the name to create file","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:40 PM","No, the file you create it with fopen(..., ‚Äúw‚Äù) for write","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:40 PM","If the file does not exists it creates the file for oyu","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:41 PM","so sprintf handles the name of the file, but fopen creates the file?","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:41 PM","Exactly","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:41 PM","Thats why the order is important","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:41 PM","ahh thanks","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:41 PM","You have to allocate the correct name BEFORE creating the file","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:41 PM","I see","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:41 PM","So you don‚Äôt overwrite the next jpeg","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:42 PM","thanks for the help","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:43 PM","No worries","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:44 PM","needing to learn sprintf, fopen, fwrite and handle BYTES and FILEs for the first time in one problem is abit overwhelming","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:45 PM","I though so too, and I found the explanations in the lesson or the walkthough not enough this time, although I believe that‚Äôs the point of it","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:46 PM","Yeah if its not hard enough then we're not gonna learn much","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:47 PM","i‚Äôm about to start with the next pset and honestly it looks a bit overwhelming as well","",""
"699973344992165949","Crussader#0552","30-Apr-20 04:50 PM","If you need any more help dont hesitate to hit me up, good luck!","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:52 PM","thanks","",""
"360955023058010114","Ubis#6373","30-Apr-20 04:52 PM","good luck as well!","",""
"360955023058010114","Ubis#6373","30-Apr-20 06:04 PM","YES","",""
"360955023058010114","Ubis#6373","30-Apr-20 06:04 PM","i did it but idk how my code worked and its messy af","",""
"360955023058010114","Ubis#6373","30-Apr-20 06:05 PM","i expected it to return errors so that i could change it but it worked somehow lol","",""
"699973344992165949","Crussader#0552","30-Apr-20 07:33 PM","Hahaha","",""
"699973344992165949","Crussader#0552","30-Apr-20 07:33 PM","Amazing!","",""
"699973344992165949","Crussader#0552","30-Apr-20 07:33 PM","Did you check50 ?","",""
"126931002072236032","Ty#8784","30-Apr-20 08:24 PM","How do I create a buffer for fread() of size 512 so that it matches the inptr","",""
"684089188639178806","Selene#6180","30-Apr-20 08:46 PM","Hello everyone! I've been stuck in the same error for 3 days now, and I really don't know where the problem is. I have been trying several things, and trying to get info from the debugger but probably I am not (yet) very capable of understanding everything I see in there. I still get the same error about the first JPEG... I get 49, all complete and beautiful, but the first one is just white and empty, not even 1 pixel!!! Anyone has any clue or can give me any hints? THANKS!!","https://cdn.discordapp.com/attachments/395684916056031245/705475093278490644/Screenshot_2020-04-28_at_12.51.09.png",""
"699973344992165949","Crussader#0552","30-Apr-20 09:22 PM","Without seeing the code it‚Äôs difficult","",""
"699973344992165949","Crussader#0552","30-Apr-20 09:22 PM","","https://cdn.discordapp.com/attachments/395684916056031245/705484312878776418/image0.png","üëÄ (2)"
"699973344992165949","Crussader#0552","30-Apr-20 09:23 PM","Thats what i did","",""
"699973344992165949","Crussader#0552","30-Apr-20 09:24 PM","I dont know how to make it as a spoiler","",""
"684089188639178806","Selene#6180","30-Apr-20 09:35 PM","Hi @Crussader, that's exactly what I've done... spoiler for the first JPEG","https://cdn.discordapp.com/attachments/395684916056031245/705487487320981525/SPOILER_Screenshot_2020-04-29_at_18.04.13.png",""
"126931002072236032","Ty#8784","30-Apr-20 09:56 PM","How do I ensure that after fread() finishes one block of 512 bytes, it will move on to the next block of 512 bytes in the same file?","",""
"126931002072236032","Ty#8784","30-Apr-20 10:25 PM","When I put only my fread() into a simply while (true) loop, it doesn't compile and asks if I meant 'free' instead of 'true'. What's going on here?","",""
"126931002072236032","Ty#8784","30-Apr-20 11:07 PM","How do you ensure that sprintf()'s new file will have enough memory?","",""
"699973344992165949","Crussader#0552","30-Apr-20 11:15 PM","@Selene what is your else? Because probably what is happening is that the beggining of the card has no header","",""
"699973344992165949","Crussader#0552","30-Apr-20 11:15 PM","@Ty the function fread keeps reading until the end","",""
"699973344992165949","Crussader#0552","30-Apr-20 11:16 PM","You just have to make a condition for the loop to find the end of the file","",""
"699973344992165949","Crussader#0552","30-Apr-20 11:17 PM","For sprintf you first need to create a pointer to a name that has enough space for as many characters in the name are required, then with sprintf you change the name, then you create the file with that name","",""
"699973344992165949","Crussader#0552","30-Apr-20 11:17 PM","Check my mind map to help you","",""
"126931002072236032","Ty#8784","30-Apr-20 11:45 PM","@Crussader This seems backwards. Don't you have to check if there is a header file before you know if it's the first jpeg or not?","",""
"126931002072236032","Ty#8784","01-May-20 12:39 AM","How do I detect end of file?","",""
"126931002072236032","Ty#8784","01-May-20 12:39 AM","something less than 512?","",""
"440685186456223764","Underhill#0770","01-May-20 02:45 AM","I'm having some trouble with the pseudocode in the walkthrough for this assignment.","",""
"440685186456223764","Underhill#0770","01-May-20 02:46 AM","It says to open, write, and close each jpeg as part of this loop, but the compiler gives me errors saying that the file I'm using is an ""underclared identifier"" every time I try to close it.","",""
"440685186456223764","Underhill#0770","01-May-20 02:51 AM","Oh, this was definitely no obvious from the videos unless I missed something.","",""
"440685186456223764","Underhill#0770","01-May-20 02:52 AM","It looks like there's real trouble if you open a file inside of a loop, but if I open it outside the loop it works. When I reopen it though, I guess I have to do it without the FILE * thing. Can any experts confirm?","",""
"393854278764068875","curiouskiwi#1671","01-May-20 02:52 AM","if you declare it like `FILE *img = NULL;` before the loop, then inside the loop, you would just set it with `img = fopen(...`","",""
"440685186456223764","Underhill#0770","01-May-20 03:01 AM","Did I miss that somewhere in the lecture?","",""
"440685186456223764","Underhill#0770","01-May-20 03:01 AM","Did I miss that somewhere in the lecture?","",""
"440685186456223764","Underhill#0770","01-May-20 05:42 AM","I tried to create a string by doing this: char* filename = malloc(8 *sizeof(char)); and then filename = ""000.jpg"", but I can't edit it with ""sprintf"" without getting a segmentation fault. Anyone have any insight?","",""
"393854278764068875","curiouskiwi#1671","01-May-20 05:43 AM","when you did `filename = ""000.jpg"";`  you threw away the 8 bytes of memory you had malloced and instead pointed your variable at read-only memory where it stored that string literal.","",""
"393854278764068875","curiouskiwi#1671","01-May-20 05:43 AM","you can't set a string using `=`","",""
"393854278764068875","curiouskiwi#1671","01-May-20 05:44 AM","I'd suggest you don't use malloc and use a char array instead.  It's perfectly fine to do something like `char name[] = ""hello"";`  and then change the chars to another string using sprintf.","",""
"440685186456223764","Underhill#0770","01-May-20 06:06 AM","I see.","",""
"440685186456223764","Underhill#0770","01-May-20 06:06 AM","Will try that, thanks.","",""
"440685186456223764","Underhill#0770","01-May-20 06:21 AM","So when you allocate memory for a string using malloc, you have to add each character to the string individually then using a loop?","",""
"393854278764068875","curiouskiwi#1671","01-May-20 06:38 AM","or maybe use strcpy  or sprintf","",""
"126931002072236032","Ty#8784","01-May-20 08:13 AM","Ooh I'm making progress. I was able to recover the first picture, but then all the jpg file names get messed up from then on and give me new symbols after the 'g' in jpg including even a spade symbol.","",""
"126931002072236032","Ty#8784","01-May-20 08:27 AM","Here's some of what the rm command seems to indicate their names were: https://i.imgur.com/3XcgBUC.png","",""
"393854278764068875","curiouskiwi#1671","01-May-20 08:29 AM","that looks like you are running sprintf either in the wrong place, or your filename char array isn't the right size, or something.","",""
"126931002072236032","Ty#8784","01-May-20 08:34 AM","Where should sprintf() go relative to calling it?","",""
"393854278764068875","curiouskiwi#1671","01-May-20 08:35 AM","each time you find a new jpg","",""
"126931002072236032","Ty#8784","01-May-20 08:35 AM","I had it outside the while loop","",""
"393854278764068875","curiouskiwi#1671","01-May-20 08:36 AM","you update your filename with the new filename","",""
"126931002072236032","Ty#8784","01-May-20 08:36 AM","so everytime I call it it probably doesn't take the new count or something","",""
"393854278764068875","curiouskiwi#1671","01-May-20 08:36 AM","not if you are only calling it once before the loop","",""
"126931002072236032","Ty#8784","01-May-20 08:43 AM","It works!","",""
"126931002072236032","Ty#8784","01-May-20 08:45 AM","Now I just need to fix middle and final images","",""
"126931002072236032","Ty#8784","01-May-20 08:48 AM","How can I use the debugger to set it so that there is a breakpoint but on a certain iteration of the loop like 4,000?","",""
"126931002072236032","Ty#8784","01-May-20 08:53 AM","Nvm seen through search that it's not supported by debug50; unfortunate.","",""
"676603200421363773","gezimhakramaj#6523","01-May-20 08:56 AM","Your trying to start your loop from the middle you mean?","",""
"676603200421363773","gezimhakramaj#6523","01-May-20 08:56 AM","If that‚Äôs what u mean then set the variable your using to iterate through the loop as 4000 or 3999. So it starts at the middle and you get the ‚Äúmiddle‚Äù image I used this on blur to see the middle pixel","",""
"676603200421363773","gezimhakramaj#6523","01-May-20 08:57 AM","If that‚Äôs not what u meant then disregard lmao üòÇ","",""
"126931002072236032","Ty#8784","01-May-20 09:01 AM","What exactly is different about the middle and final images that I should be taking into account?","",""
"126931002072236032","Ty#8784","01-May-20 09:01 AM","For some reason my while loop ends on picture 25","",""
"676603200421363773","gezimhakramaj#6523","01-May-20 09:02 AM","Idk bro I didn‚Äôt start it yet tbh.","",""
"126931002072236032","Ty#8784","01-May-20 09:05 AM","The condition that makes the while loop stop is when what's inside is false. I have mine set to the fread() == 1: ||https://i.imgur.com/816binp.png||

I got this idea after seeing a comment from curiouskiwi mentioning to look at what fread() returns which is nmemb or '1' for this specific problem I guess. TutorialsPoint says if nmemb differs then it means either an error has occured or EOF has been reached.","",""
"126931002072236032","Ty#8784","01-May-20 09:06 AM","Since I know I haven't reached EOF because I only got 25 pictures instead of 50, that means some error must be occurring around picture 26 that makes the return value differ from nmemb I guess.","",""
"126931002072236032","Ty#8784","01-May-20 09:06 AM","https://www.tutorialspoint.com/c_standard_library/c_function_fread.htm","",""
"126931002072236032","Ty#8784","01-May-20 09:19 AM","Wait a minute. I just thought of something. What if it's actually finishing just fine because it reaches EOF, but in my code I'm actually making it skip over blocks by not making it go back and write to a new file the one that was just checked.","",""
"126931002072236032","Ty#8784","01-May-20 09:20 AM","To confirm this, can anyone tell me if the 3rd picture (002.jpg) is of a man on one knee, putting something into a paper bag?","",""
"126931002072236032","Ty#8784","01-May-20 09:48 AM","Alright I'm definitely skipping somehow","",""
"432646708611121156","Ash Tray Kamar#8136","01-May-20 10:48 AM","Is this right for the conditional statement: ||if (buffer[0] == '0xff' && buffer[1] == '0xd8' && buffer[2] == '0xff' && (buffer[3] == '0xf0') == '0xe0') || ?","",""
"432646708611121156","Ash Tray Kamar#8136","01-May-20 10:48 AM","where i previously had ||char buffer[512]; ||","",""
"699973344992165949","Crussader#0552","01-May-20 10:51 AM","Yeah thats the right one","",""
"432646708611121156","Ash Tray Kamar#8136","01-May-20 10:51 AM","sweet thx","",""
"684089188639178806","Selene#6180","01-May-20 11:22 AM","@Crussader I have 2 elses: one for when it is a JPEG but not the first one (so close file, open file, write and count++) and the other down outside this inner condition for when it's not a JPEG, but it has to keep writing","",""
"699973344992165949","Crussader#0552","01-May-20 11:24 AM","Yeah thats what i did i think","",""
"699973344992165949","Crussader#0552","01-May-20 11:24 AM","Basically i set a boolean for if jpeg found = false","",""
"699973344992165949","Crussader#0552","01-May-20 11:25 AM","It‚Äôs only gonna serve for the first one, but if its false it means I hasn‚Äôt found any jpeg yet","",""
"699973344992165949","Crussader#0552","01-May-20 11:25 AM","And then a counter of the jpeg that will increase after creating a new file (to use it for the name of the jpeg)","",""
"699973344992165949","Crussader#0552","01-May-20 11:27 AM","So if jpegfound == FALSE && you found a new header => do the whole thing of creating the file and write","",""
"699973344992165949","Crussader#0552","01-May-20 11:29 AM","Else:
- if you find a new header of jpeg (and in this case jpegfound is true so its not the first jpeg) => close previous file, and do the whole thing again...
- if you didnt find the header (in this case you are already writing a file) => keep writing","",""
"699973344992165949","Crussader#0552","01-May-20 11:29 AM","Hope it helps","",""
"684089188639178806","Selene#6180","01-May-20 12:55 PM","Thanks! I will try creating the boolean, haven't tried that yet","",""
"500327094006317077","goku98#9031","01-May-20 02:32 PM","Hello everyone! I'm having a problem in getting the correct output.
||
typedef uint8_t BYTE;
BYTE buffer[512];
while(fread(buffer, sizeof(buffer), 1, inptr) == 1)
||
Is that correct?","",""
"699973344992165949","Crussader#0552","01-May-20 02:52 PM","BYTE buffer[512] creates an array of 512 bytes","",""
"699973344992165949","Crussader#0552","01-May-20 02:53 PM","You want a pointer with enough memory to store 512 bytes","",""
"500327094006317077","goku98#9031","01-May-20 02:55 PM","Isn't it the same thing?","",""
"699973344992165949","Crussader#0552","01-May-20 02:59 PM","Kind of but no","",""
"699973344992165949","Crussader#0552","01-May-20 03:00 PM","The pointer with memory behaves as an array","",""
"699973344992165949","Crussader#0552","01-May-20 03:00 PM","But the array is not like the pointer, and you need to free the memory at the end as well","",""
"699973344992165949","Crussader#0552","01-May-20 03:01 PM","Also for the array you have to give the individual values and with the buffer you can write in order until the end of memory","",""
"699973344992165949","Crussader#0552","01-May-20 03:01 PM","That's how I understand it","",""
"361235692019384323","Sanath#7244","01-May-20 03:06 PM","you can use it interchangeably in this case though","",""
"361235692019384323","Sanath#7244","01-May-20 03:06 PM","his usage is fine","",""
"361235692019384323","Sanath#7244","01-May-20 03:09 PM","uint_8 isnt a type but im assuming thats a typo","",""
"500327094006317077","goku98#9031","01-May-20 03:17 PM","@Sanath 
Yeah! that's a typo, I meant uint8_t.","",""
"500327094006317077","goku98#9031","01-May-20 03:23 PM","@Crussader 
So, when I use pointer, 2 problems are there-
1. could not create 021.jpg
2. all other jpg's created have 8 bytes > 0 and all other bytes are zero.","",""
"699973344992165949","Crussader#0552","01-May-20 03:24 PM","Weird","",""
"699973344992165949","Crussader#0552","01-May-20 03:24 PM","How did you create the pointer?","",""
"500327094006317077","goku98#9031","01-May-20 03:27 PM","@Crussader 
If you don't mind, can I pm you my code?","",""
"699973344992165949","Crussader#0552","01-May-20 03:27 PM","Sure but i‚Äôm a noob xD","",""
"368285338335969280","Snowboy#4733","01-May-20 05:07 PM","Anyone know how to fix this funny bug? I'm not sure why it adds a underscore after my filename","https://cdn.discordapp.com/attachments/395684916056031245/705782469114200094/unknown.png",""
"669952266651959317","windows-user0#9717","01-May-20 05:09 PM","Isn't it a new line","",""
"669952266651959317","windows-user0#9717","01-May-20 05:09 PM","Maybe your sprintf has \n somewhere","",""
"669952266651959317","windows-user0#9717","01-May-20 05:09 PM","Or a tab","",""
"368285338335969280","Snowboy#4733","01-May-20 05:09 PM","I think it comes from this sprintf(filename, ""%03i.jpg"", count);","",""
"669952266651959317","windows-user0#9717","01-May-20 05:28 PM","Hmm, i have no idea then","",""
"669952266651959317","windows-user0#9717","01-May-20 05:29 PM","My guess is youre getting some garbage value in your file name variable","",""
"669952266651959317","windows-user0#9717","01-May-20 05:29 PM","Because its not initialized","",""
"274619187228442626","Weltfremd#9387","01-May-20 08:00 PM","my god i tried for hours and my sanity slowly left me... but I somehow managed to delete the contents of card.raw in my first few attempts it seems, so now I can finally begin","",""
"500327094006317077","goku98#9031","01-May-20 09:09 PM","@Snowboy 
Make sure that your filename array is of length >= 8.","","üëç (1)"
"515286492889743361","bigschatz#5073","02-May-20 02:59 AM","I'm having a bit of trouble comprehending the first steps of this pset.
Am i on the right track here? 
|| while (!feof(file))
    {
        // Allocate buffer size (an array of bytes)
        int *buffer = malloc(sizeof(BYTE) * 512);

        // Read data from memory card in 512 Byte chunks and store it in buffer
        fread(buffer, sizeof(BYTE), 512, file);
||","",""
"515286492889743361","bigschatz#5073","02-May-20 03:09 AM","oh. its not an array of ints. It's an array of bytes","",""
"515286492889743361","bigschatz#5073","02-May-20 05:04 AM","Got this for #49

üò¶ recovers 049.jpg correctly
recovered image does not match

There is definitely an image there.  Not sure what the problem is.. Has anyone else had this issue?","",""
"393854278764068875","curiouskiwi#1671","02-May-20 05:19 AM","read more about `feof`   when does it actually become true?  How might that impact your loop?","",""
"515286492889743361","bigschatz#5073","02-May-20 05:24 AM","hmm the documentation is pretty cryptic.  But what i could find is that it _returns non zero if its EOF_","",""
"515286492889743361","bigschatz#5073","02-May-20 05:24 AM","while (!feof(file) is not a good enough test aye?","",""
"515286492889743361","bigschatz#5073","02-May-20 05:26 AM","i was trying to find an alternative to putting an fread() statement in the conditional","",""
"515286492889743361","bigschatz#5073","02-May-20 06:54 AM","@curiouskiwi I think feof(file) runs longer than its supposed to.  Could you please verify the file size of the file 049.jpg? Thank you!","",""
"393854278764068875","curiouskiwi#1671","02-May-20 07:01 AM","512 bytes smaller than yours. üôÇ","",""
"282643444076380180","coolbox#5258","02-May-20 07:03 AM","hey guys, i have a problem where i get all 49 imgs right but at the start i get a blank 000.jpg, could someone give a hint of what could be happening?","",""
"393854278764068875","curiouskiwi#1671","02-May-20 07:04 AM","are you writing the bytes from the beginning without checking that there's a jpg signature?","",""
"282643444076380180","coolbox#5258","02-May-20 07:04 AM","no, i write them inside of an if statement","",""
"282643444076380180","coolbox#5258","02-May-20 07:05 AM","||//Checks for the start of the first jpg
        if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0 && !firstFound)
        {
            firstFound = true;

            //Creation of the new files
            char filename[8];

            sprintf(filename, ""%03i.jpg"", jpeg_count);

            jpeg = fopen(filename, ""w"");

            //Write the contents of the start of the file
            fwrite(buffer, 512, 1, jpeg);

            jpeg_count++;

        }||","",""
"282643444076380180","coolbox#5258","02-May-20 07:05 AM","this if statement checks the start of the first jpg and writes its data into the file","",""
"282643444076380180","coolbox#5258","02-May-20 07:06 AM","and the following data input is handled by this guy","",""
"282643444076380180","coolbox#5258","02-May-20 07:06 AM","||//If the first jpg has already been found
        if (firstFound)
        {
            //Start of new jpg, but not first
            if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0)
            {
                fclose(jpeg);

                //Creation of the new files
                char filename[8];

                sprintf(filename, ""%03i.jpg"", jpeg_count);

                jpeg = fopen(filename, ""w"");

                //Write the contents of the start of the file
                fwrite(buffer, 512, 1, jpeg);

                jpeg_count++;

            }
            //Jpg's are cramped together, thus if it is not the start of the file it must be the insides of it
            else
            {
                fwrite(buffer, 512, 1, jpeg);
            }
        }||","",""
"282643444076380180","coolbox#5258","02-May-20 07:06 AM","it's really weird because it outputs all 49 imgs but with a blank one at first","",""
"393854278764068875","curiouskiwi#1671","02-May-20 07:08 AM","what's the size of 000.jpg?","",""
"282643444076380180","coolbox#5258","02-May-20 07:08 AM","10.42KB","",""
"218990011041841152","Nox Eternis#0185","02-May-20 10:17 AM","can i get a ELI5 explanation of fread cause apparently its not saving to my buffer therefore i cant really start making jpegs","",""
"218990011041841152","Nox Eternis#0185","02-May-20 10:19 AM","heres my buffer code","https://cdn.discordapp.com/attachments/395684916056031245/706042110574329856/SPOILER_buffer.PNG",""
"218990011041841152","Nox Eternis#0185","02-May-20 10:19 AM","when debugging, the values saved in buffer are all 0","",""
"218990011041841152","Nox Eternis#0185","02-May-20 10:20 AM","does anyone have a explanation?","",""
"393854278764068875","curiouskiwi#1671","02-May-20 10:21 AM","are you only checking the first time?  There's no guarantee that the first jpg is in the first block.","",""
"218990011041841152","Nox Eternis#0185","02-May-20 10:22 AM","i think so....

if the first jpg is not in the 1st block, how do i ""increment"" fread?","",""
"393854278764068875","curiouskiwi#1671","02-May-20 10:22 AM","every time it runs, it starts where it left off","",""
"218990011041841152","Nox Eternis#0185","02-May-20 10:23 AM","still not getting it sadly","",""
"218990011041841152","Nox Eternis#0185","02-May-20 10:23 AM","üò¶","",""
"393854278764068875","curiouskiwi#1671","02-May-20 10:24 AM","your while loop will read 512 bytes into the buffer each time.","",""
"218990011041841152","Nox Eternis#0185","02-May-20 10:26 AM","so i need to make another loop such that my buffer check code would go through each buffer[index] so that it has a chance of finding it?","",""
"393854278764068875","curiouskiwi#1671","02-May-20 10:27 AM","no, you only need to check the first 4 bytes of each 512 block as you are doing","",""
"393854278764068875","curiouskiwi#1671","02-May-20 10:28 AM","why are you breaking out of the loop if it's not a signature?","",""
"218990011041841152","Nox Eternis#0185","02-May-20 10:29 AM","coz i just started so i need to first find the 1st jpeg in order to get a hold of the situation","",""
"393854278764068875","curiouskiwi#1671","02-May-20 10:30 AM","but as I said, the first jpg might not be at the beginning, so if you don't find it there, your loop stops and you never read any more blocks.","",""
"393854278764068875","curiouskiwi#1671","02-May-20 10:31 AM","which explains why your buffer never gets updated after the first time","",""
"393854278764068875","curiouskiwi#1671","02-May-20 10:31 AM","and you're assuming that all the zeros are a problem","",""
"393854278764068875","curiouskiwi#1671","02-May-20 10:32 AM","and not just what the rawfile happens to start with","",""
"393854278764068875","curiouskiwi#1671","02-May-20 10:32 AM","you can use `xxd` to look at the hex values of any file.  So if you run ```
xxd -l 512 card.raw```  that will show you the first 512 bytes of card.raw","",""
"393854278764068875","curiouskiwi#1671","02-May-20 10:33 AM","and ```xxd -s 512 -l 512 card.raw``` will skip (-s) the first 512 bytes and show you the next 512 bytes.","",""
"393854278764068875","curiouskiwi#1671","02-May-20 10:33 AM","if you want to compare to what the debugger is telling you is in the buffer...","",""
"218990011041841152","Nox Eternis#0185","02-May-20 10:35 AM","ok, i tried to make a loop but i unfortunately run into segfaults","",""
"218990011041841152","Nox Eternis#0185","02-May-20 10:36 AM","i should be clearing my buffer right?","",""
"393854278764068875","curiouskiwi#1671","02-May-20 10:36 AM","no","",""
"393854278764068875","curiouskiwi#1671","02-May-20 10:36 AM","it will be overwritten next time you call fread in the loop (in your while condition)","",""
"218990011041841152","Nox Eternis#0185","02-May-20 10:37 AM","thanks","",""
"218990011041841152","Nox Eternis#0185","02-May-20 10:38 AM","managed to find the jpeg using goto loops and debug50","",""
"515286492889743361","bigschatz#5073","02-May-20 10:43 AM","I have ditched the !feof(file) condition and instead used || fread(buffer, 512, 1, card) == 1 || but now I get 000-022 instead of 000-049.  That was quite unexpected because i thought checking == 1 would ensure i havent reached the end of the file... ?","",""
"393854278764068875","curiouskiwi#1671","02-May-20 10:45 AM","are you calling fread twice?  or did you remove from inside the loop","",""
"515286492889743361","bigschatz#5073","02-May-20 10:47 AM","OMG!  Kiwi! You are da bomb!","",""
"515286492889743361","bigschatz#5073","02-May-20 10:48 AM","Yes I removed it from the loop and that worked.","",""
"515286492889743361","bigschatz#5073","02-May-20 10:49 AM","Didn't realize the fread call can happen in the conditional! Thank you ‚ò∫Ô∏è","",""
"515286492889743361","bigschatz#5073","02-May-20 10:54 AM","Does this mean I haven't properly free()'d? 

HEAP SUMMARY:
==16784==     in use at exit: 27,048 bytes in 49 blocks
==16784==   total heap usage: 153 allocs, 104 frees, 264,616 bytes allocated","",""
"361235692019384323","Sanath#7244","02-May-20 10:54 AM","yes","",""
"515286492889743361","bigschatz#5073","02-May-20 10:56 AM","Hmm i malloc()'d and free()'d only two things.  filename and buffer.","",""
"515286492889743361","bigschatz#5073","02-May-20 10:57 AM","||
free(filename);
free(buffer);
fclose(image);
fclose(card);
||","",""
"361235692019384323","Sanath#7244","02-May-20 10:58 AM","your malloc is probably in the loop while your free isnt","",""
"515286492889743361","bigschatz#5073","02-May-20 10:58 AM","My malloc() is made before the loop begins and free is called after the while loop.","",""
"393854278764068875","curiouskiwi#1671","02-May-20 10:59 AM","I wouldn't bother with malloc at all in this program","",""
"393854278764068875","curiouskiwi#1671","02-May-20 10:59 AM","there's nothing dynamic that needs memory.  you know the size of the buffer and the size of the filename in advance.","",""
"515286492889743361","bigschatz#5073","02-May-20 11:02 AM","Good call, i'll fix that.  Malloc is used mostly for user input?  What are some practical uses?","",""
"515286492889743361","bigschatz#5073","02-May-20 11:03 AM","I only used malloc because it was used in the lecture!","",""
"361235692019384323","Sanath#7244","02-May-20 11:03 AM","very large allocations, variable length allocations","",""
"361235692019384323","Sanath#7244","02-May-20 11:03 AM","you'll use them next pset","",""
"218990011041841152","Nox Eternis#0185","02-May-20 11:03 AM","question: is filename just the 3 digits of the jpeg files?","",""
"393854278764068875","curiouskiwi#1671","02-May-20 11:03 AM","""000.jpg""","",""
"361235692019384323","Sanath#7244","02-May-20 11:03 AM","plus the extension","",""
"218990011041841152","Nox Eternis#0185","02-May-20 11:03 AM","so... filename is just array[7]?","",""
"361235692019384323","Sanath#7244","02-May-20 11:04 AM","1 for the \0","",""
"218990011041841152","Nox Eternis#0185","02-May-20 11:04 AM","so array[8]","",""
"515286492889743361","bigschatz#5073","02-May-20 11:07 AM","if an array is really just a pointer, do we really need to do this:
```c
BYTE *buffer[512];
```
or can we just do:
```c
BYTE buffer[512];
```","",""
"393854278764068875","curiouskiwi#1671","02-May-20 11:08 AM","the latter","",""
"393854278764068875","curiouskiwi#1671","02-May-20 11:08 AM","an array of 512 bytes","",""
"393854278764068875","curiouskiwi#1671","02-May-20 11:08 AM","the first is an array of 512 pointers","",""
"515286492889743361","bigschatz#5073","02-May-20 11:08 AM","I see","",""
"393854278764068875","curiouskiwi#1671","02-May-20 11:09 AM","and an array isn't really a pointer.  The name of an array will ""decay"" to a pointer when it is required.  So you can say `fread(buffer ...` or `fread(&buffer ...` and both would work","",""
"515286492889743361","bigschatz#5073","02-May-20 11:11 AM","Yes! the name i meant.. is a pointer to the first block's address.. correct?","",""
"393854278764068875","curiouskiwi#1671","02-May-20 11:11 AM","yes","",""
"397043573457027072","yobow#6450","02-May-20 11:50 AM","hey, got segmentation fault, help pls.","https://cdn.discordapp.com/attachments/395684916056031245/706065005220462673/SPOILER_Screen_Shot_2020-05-02_at_11.48.40.png",""
"699973344992165949","Crussader#0552","02-May-20 12:17 PM","Your conditions should start with IF and the following ones with ELSE IF","",""
"699973344992165949","Crussader#0552","02-May-20 12:17 PM","And also consider to close the image that you are writing only when you are finished with it","",""
"699973344992165949","Crussader#0552","02-May-20 12:18 PM","If you need to keep writing just dont close it and continue writing to it until you find the next jpeg or reach the end of the file","",""
"397043573457027072","yobow#6450","02-May-20 12:18 PM","i think i got right, thanks. used debug50 and kinda helped","",""
"699973344992165949","Crussader#0552","02-May-20 12:18 PM","Also, rethink the size of the values that you are reading in fread","",""
"699973344992165949","Crussader#0552","02-May-20 12:18 PM","What are you trying to read?","",""
"699973344992165949","Crussader#0552","02-May-20 12:19 PM","Right now you are reading 512 what?","",""
"397043573457027072","yobow#6450","02-May-20 12:37 PM","thank u, i've changed the code a little bit and still get seg fault","",""
"397043573457027072","yobow#6450","02-May-20 12:37 PM","","https://cdn.discordapp.com/attachments/395684916056031245/706076909951254528/SPOILER_Screen_Shot_2020-05-02_at_11.48.40.png",""
"397043573457027072","yobow#6450","02-May-20 12:40 PM","it is sooo annoying","",""
"218990011041841152","Nox Eternis#0185","02-May-20 01:53 PM","does fwrite work like fread and it remembers its last known position?","",""
"699973344992165949","Crussader#0552","02-May-20 01:57 PM","@Nox Eternis yes","",""
"699973344992165949","Crussader#0552","02-May-20 01:58 PM","@yobow what is check?","",""
"699973344992165949","Crussader#0552","02-May-20 01:59 PM","You should consider different escenarios:
- you still havent found any jpegs and you read and find nothing
- you still havent found any jpegs and you read and you find the header
- you are writing a jpeg and you read again and didnt find another header
- you are writing a jpeg and you read and find the header of a jpeg","",""
"699973344992165949","Crussader#0552","02-May-20 02:00 PM","Keep in mind that you dont need to close the file everytime, only when you are already writing a jpeg and find another one","",""
"336990200846876683","Endovelic#7437","02-May-20 02:06 PM","Did anyone else solve this using recursion?","",""
"218990011041841152","Nox Eternis#0185","02-May-20 02:07 PM","still dont know how recursion works sadly","",""
"218990011041841152","Nox Eternis#0185","02-May-20 02:08 PM","i kinda get the idea but i kinda dont","",""
"218990011041841152","Nox Eternis#0185","02-May-20 02:27 PM","üò¶ recovers 049.jpg correctly

file termination issues lemme guess?","",""
"218990011041841152","Nox Eternis#0185","02-May-20 02:34 PM","screw it i hardcoded the last file condition","",""
"336990200846876683","Endovelic#7437","02-May-20 02:40 PM","Each time my fread-fwrite loop finds a new jpeg signature header (after the first one) it opens a new output file and calls a recursive function to do the reading-writing until it finds another header, in which case it closes the previous output file, opens a new one and calls itself. The base case is finding the end of the file.
@Nox Eternis tideman was a crucial exercise for beginning to understand recursion","",""
"699973344992165949","Crussader#0552","02-May-20 03:18 PM","@Nox Eternis the las image has a chunk of data < 512 bytes, so if you use EOF to make the condition for the loop it wont work","",""
"699973344992165949","Crussader#0552","02-May-20 03:19 PM","You have to use the return value of fread for the condition","",""
"602356321991262209","sedje#5698","02-May-20 03:41 PM","should you also consider finding an image header within the 512byte block?","",""
"602356321991262209","sedje#5698","02-May-20 03:42 PM","like... at pos348","",""
"361235692019384323","Sanath#7244","02-May-20 03:42 PM","no","",""
"457474609478893580","Ion Varsescu#0966","02-May-20 04:09 PM","Hello, i have some problem with my code on check50. I get the 000 image correctly, but i get errors on middle imgaes and 049. I can see the images if i dounleclick on them, so can someone point me to the solution?","",""
"457474609478893580","Ion Varsescu#0966","02-May-20 04:11 PM","Oh, i can see that the images don't look to well...","",""
"457474609478893580","Ion Varsescu#0966","02-May-20 04:28 PM","Now those are okexcept the last one","",""
"397043573457027072","yobow#6450","02-May-20 05:53 PM","@Crussader first of all, thank u . the code i wrote down n sent ya is totally fine i just wrote in the conditions for a jpg buffer[3] twice instead buffer[2] n buffer[3].","","üëç (1)"
"397043573457027072","yobow#6450","02-May-20 05:54 PM","lol im on this mission for like a week only cause of that","",""
"699973344992165949","Crussader#0552","02-May-20 06:12 PM","Something similar happened to me in recover, I know the feeling","",""
"699973344992165949","Crussader#0552","02-May-20 06:12 PM","Glad you managed!","",""
"500327094006317077","goku98#9031","02-May-20 08:23 PM","@curiouskiwi 
Hello! My code is creating 52 jpgs from 000.jpg to 051.jpg and check 50 says that middle images are incorrect.
My code is-","https://cdn.discordapp.com/attachments/395684916056031245/706194140236480563/SPOILER_recover.PNG",""
"699973344992165949","Crussader#0552","02-May-20 08:24 PM","Check your fread function","",""
"699973344992165949","Crussader#0552","02-May-20 08:24 PM","You need to read and write 512 BYTES","",""
"699973344992165949","Crussader#0552","02-May-20 08:25 PM","fread(where to read from, size of element to read, amount of elements to read, where to read to)","",""
"699973344992165949","Crussader#0552","02-May-20 08:26 PM","Return value = amount of elements read * size in bytes","",""
"500327094006317077","goku98#9031","02-May-20 08:28 PM","sizeof(buffer) is 512, I had checked it.","",""
"699973344992165949","Crussader#0552","02-May-20 08:33 PM","Thats the buffer","",""
"699973344992165949","Crussader#0552","02-May-20 08:33 PM","But you have to modify you fread function","",""
"699973344992165949","Crussader#0552","02-May-20 08:34 PM","You want to store in each of those elements of buffer, a BYTE of information","",""
"699973344992165949","Crussader#0552","02-May-20 08:34 PM","Buffer only has to appear once in the function, telling where you are getting the info from","",""
"699973344992165949","Crussader#0552","02-May-20 08:35 PM","The rest of the function you dont need buffer, you just tell the function, read me 512 * bytes, from buffer to file","",""
"699973344992165949","Crussader#0552","02-May-20 08:36 PM","The order of the elements is wrong, you have to put 1 (byte) where you put 512, and vice versa","",""
"699973344992165949","Crussader#0552","02-May-20 08:42 PM","Sorry i meant from file to buffer","",""
"699973344992165949","Crussader#0552","02-May-20 08:42 PM","From buffer to file would be fwrite","",""
"282643444076380180","coolbox#5258","02-May-20 10:06 PM","guys i just solved the problem of 000.jpg being empty and now i get my 49 jpgs","",""
"282643444076380180","coolbox#5258","02-May-20 10:06 PM","but somehow check50 tells me that 049.jpg doesn't match","",""
"282643444076380180","coolbox#5258","02-May-20 10:07 PM","isn't 049.jpg this img?","",""
"282643444076380180","coolbox#5258","02-May-20 10:07 PM","","https://cdn.discordapp.com/attachments/395684916056031245/706220266258169916/gXii1FsbW3iP6dNohQc078OAAAAAElFTkSuQmCC.png",""
"282643444076380180","coolbox#5258","02-May-20 10:07 PM","if it is then i don't know what's wrong","",""
"699973344992165949","Crussader#0552","02-May-20 10:54 PM","What condition did you use for reading until end of file","",""
"282643444076380180","coolbox#5258","02-May-20 11:05 PM","||while(!feof(image))||","",""
"699973344992165949","Crussader#0552","02-May-20 11:15 PM","yeah thats the problem","",""
"699973344992165949","Crussader#0552","02-May-20 11:15 PM","we all had it","",""
"699973344992165949","Crussader#0552","02-May-20 11:15 PM","so basically the last image has a chunk of data < 512 so if you use EOF it will write some extra data in the file that you dont want","",""
"699973344992165949","Crussader#0552","02-May-20 11:16 PM","you have to use the return value of fread in order to behave correctly","",""
"282643444076380180","coolbox#5258","02-May-20 11:33 PM","ohh ok","",""
"282643444076380180","coolbox#5258","02-May-20 11:34 PM","thank you","",""
"282643444076380180","coolbox#5258","02-May-20 11:35 PM","i thought the slack space wouldn't present a problem","",""
"282643444076380180","coolbox#5258","02-May-20 11:38 PM","because it said this: ||But not to worry. Because this memory card was brand-new when I started snapping photos, odds are it‚Äôd been ‚Äúzeroed‚Äù (i.e., filled with 0s) by the manufacturer, in which case any slack space will be filled with 0s. It‚Äôs okay if those trailing 0s end up in the JPEGs you recover; they should still be viewable.||","",""
"282643444076380180","coolbox#5258","02-May-20 11:38 PM","but whatever","",""
"282643444076380180","coolbox#5258","02-May-20 11:38 PM","thank you so much","",""
"282643444076380180","coolbox#5258","02-May-20 11:38 PM","it now behaves correctly","",""
"699973344992165949","Crussader#0552","03-May-20 12:04 AM","üëçüëç","",""
"691157455702458388","brewster#5751","03-May-20 12:34 AM","||`FILE *file = fopen(argv[1], ""r"");
if (file == NULL)
    {
        printf (""Could not open file\n"");
        return 1;
    }                                                                                                                                                             
if (argc != 2)
    {
        printf(""Usage: ./recover image\n"");
        return 1;
    }
int counter = 0;                                                                                                                                 BYTE buffer[512];
while (512 == fread(buffer, sizeof(BYTE), 512, file))`||                                                              
      Im having a problem with my code, it doesnt seem to enter the while loop. Any thoughts?","",""
"356245550737260554","strawnks#8488","03-May-20 01:38 AM","i don't think that's what `fread()` outputs?","",""
"706292835053469767","miguel-badillo#3073","03-May-20 03:11 AM","Hi my proyect create all the images, but when I check , I have this errors üò¶ recovers 000.jpg correctly
    timed out while waiting for program to exit
üò¶ recovers middle images correctly
    timed out while waiting for program to exit
üò¶ recovers 049.jpg correctly
    timed out while waiting for program to exit","",""
"706292835053469767","miguel-badillo#3073","03-May-20 03:12 AM","do someone knows why?","",""
"691157455702458388","brewster#5751","03-May-20 05:03 AM","But shouldnt fread() return the number of elements read if done so successfully? In this case 512?","",""
"699973344992165949","Crussader#0552","03-May-20 10:02 AM","Yes","",""
"698435959317856288","Velocity#2449","03-May-20 10:04 AM","","https://cdn.discordapp.com/attachments/395684916056031245/706400846962884699/unknown.png",""
"698435959317856288","Velocity#2449","03-May-20 10:05 AM","would this error be due to my print statement but i think its correct.","",""
"698435959317856288","Velocity#2449","03-May-20 10:06 AM","","https://cdn.discordapp.com/attachments/395684916056031245/706401299863961600/SPOILER_unknown.png",""
"363639827465371649","KeosMyto#8744","03-May-20 10:18 AM","@Velocity I had this as well initially. If you use debug50 you'll likely see it's breaking around your sprintf statement. 

Have you looped through using debug50 to see what's happening?","",""
"698435959317856288","Velocity#2449","03-May-20 10:18 AM","not yet","",""
"363639827465371649","KeosMyto#8744","03-May-20 10:19 AM","The other thing that *could* be happening is how the data in the buffer is being stored. Are you storing it in the correct data type?","",""
"698435959317856288","Velocity#2449","03-May-20 10:19 AM","||`typedef uint8_t BYTE;`||","",""
"698435959317856288","Velocity#2449","03-May-20 10:20 AM","||` BYTE buffer[512];`||","",""
"363639827465371649","KeosMyto#8744","03-May-20 10:20 AM","Hmm. I and I think others used malloc. But I think that should work as well.","",""
"363639827465371649","KeosMyto#8744","03-May-20 10:21 AM","I'd step through with debug50, easiest way to see where it's 'crapping' out. I assume you're also just getting image 000 created and no other images?","",""
"698435959317856288","Velocity#2449","03-May-20 10:25 AM","I have all 50 images created but they cannot be opened","",""
"363639827465371649","KeosMyto#8744","03-May-20 10:28 AM","How is your fwrite statement writing to your file? If you're creating files, but the data is corrupt, then it's likely to do with the data being written. I'd guess","",""
"698435959317856288","Velocity#2449","03-May-20 10:30 AM","","https://cdn.discordapp.com/attachments/395684916056031245/706407438416609352/SPOILER_unknown.png",""
"698435959317856288","Velocity#2449","03-May-20 10:31 AM","@KeosMyto","",""
"698435959317856288","Velocity#2449","03-May-20 10:31 AM","Anyways let me play with the debugger","",""
"363639827465371649","KeosMyto#8744","03-May-20 10:42 AM","No no. Your write to the image file.","",""
"363639827465371649","KeosMyto#8744","03-May-20 10:43 AM","that's just saying you can't open the source file. I mean how are you writing to your new image files? Are you writing anything to them?","",""
"602356321991262209","sedje#5698","03-May-20 10:45 AM","something tells me this is not what the image is supposed to look like","https://cdn.discordapp.com/attachments/395684916056031245/706410972776235038/unknown.png",""
"698435959317856288","Velocity#2449","03-May-20 10:45 AM","","https://cdn.discordapp.com/attachments/395684916056031245/706411079487717396/SPOILER_unknown.png",""
"363639827465371649","KeosMyto#8744","03-May-20 10:47 AM","Hmm looks ok. Think this will just have to be a case of stepping through it. Sorry can't help more.","",""
"602356321991262209","sedje#5698","03-May-20 12:06 PM","hm, for some reason, my files keep coming out in a jumbled way... what am I doing wrong here?","",""
"602356321991262209","sedje#5698","03-May-20 12:15 PM","wait... found it! üòÑ","",""
"602356321991262209","sedje#5698","03-May-20 12:15 PM","should've closed the image in the if{} too!","",""
"602356321991262209","sedje#5698","03-May-20 12:20 PM","removed the spoiler as it contained the complete code for his assignment (excluding that one fix üòÑ )","",""
"318593003898011650","luk#2240","04-May-20 03:05 AM","i wrote some code for pset4 recover and didn't expect it to work because i have very little grasp of whats going on, even after watching all the lectures and shorts, and i dont know where to go from here","",""
"318593003898011650","luk#2240","04-May-20 03:05 AM","pls help","",""
"318593003898011650","luk#2240","04-May-20 03:06 AM","||#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>

typedef uint8_t BYTE;

int main(int argc, char *argv[])
{
    if (argc != 2)
    {
        printf(""Usage: ./recover image"");
        return 1;
    }
    
    FILE *f = fopen(argv[1], ""r"");
    BYTE *buffer = malloc(sizeof(BYTE) * 512);
    char *filename = malloc(17);
    int counter = 0;
    
    while(fread(buffer, 1, 512, file)==512))
    {
        freadV = fread(buffer, sizeof(BYTE), 512, f);
        if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0)
        {
            counter++;
            if (counter != 1)
            {
                fclose(img);
            }
            sprintf(filename,""%03i.jpg"", counter);
            FILE *img = fopen(filename, ""w"");
            fwrite(buffer, sizeof(BYTE), 512, img);
        }
        else if (counter !=0)
        {
            fwrite(buffer, sizeof(BYTE), 512, img);
        }
        else
        {
            continue;
        }
    }
}||","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 03:49 AM","|| https://pastebin.com/Qz59ShGS || ok i have no idea why this is not working, ive been staring at it for the past 20 minutes, it creates the first jpg when detected, then seems to write it, loops back around and segfaults. also the jpg it creates has 0 bytes, on debugging and inspection of the buffer, the buffer has the jpg data, so i have no idea why it isnt writing.","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 03:52 AM","(are we allowed to ping staff for help or smth)","",""
"363639827465371649","KeosMyto#8744","04-May-20 04:20 AM","@PhazonicRidley 

This. 

```else
            {
                fclose(writer);
                writingJpg = 0;
            }```

Why are you closing the new file here?

Also, you're checking if 
```    if (!writingJpg)```

And then opening a file. 
Then changing that to 1. 

Then...","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 04:20 AM","ah i see, i tied myself up","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 04:21 AM","thanks mate, will give it a go","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 04:33 AM","@KeosMyto hm ok, removing that flag (just if header found write to file) didnt help, that line runs, but nothing is actually written for some reason. also the segfault is on the second time around with fread after finding the first  jpg","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 04:37 AM","ok fixed that","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 04:37 AM","wasnt flushing","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 04:37 AM","~~must remember this aint python~~","",""
"245202636113051649","Paco#3569","04-May-20 05:39 AM","trying to outline the code for this, how do I call fread when I don't know how large to make the buffer size and how many elements I'll need to read (of 512 bytes)?","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 05:40 AM","you wanna make a buffer (an array) of 512 bytes","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 05:40 AM","then load the file data into it using  fread","",""
"245202636113051649","Paco#3569","04-May-20 05:42 AM","oh so with fread we're just reading one 512 block at a time","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 05:46 AM","yeah","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 05:47 AM","i just wish i could figure out why mine is segfaulting on the second time round","",""
"245202636113051649","Paco#3569","04-May-20 05:48 AM","have you tried debug50?","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 05:52 AM","many times","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 05:52 AM","that and hexeditors","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 05:52 AM",":wagu:","",""
"393854278764068875","curiouskiwi#1671","04-May-20 05:55 AM","> i just wish i could figure out why mine is segfaulting on the second time round
@PhazonicRidley have you run valgrind","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 05:56 AM","i have not, i will do so","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 05:56 AM","thanks","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:04 AM","am i not allowed to just overwrite my buffer to read the file again?","",""
"363639827465371649","KeosMyto#8744","04-May-20 06:04 AM","> oh so with fread we're just reading one 512 block at a time
@Paco You may have missed this in the explanation. It does say to read 512 bytes at a time there too. (did you happen to watch the walk through)?","",""
"363639827465371649","KeosMyto#8744","04-May-20 06:04 AM","> am i not allowed to just overwrite my buffer to read the file again?
@PhazonicRidley Why wouldn't you?","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:05 AM","i am","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:05 AM","and it doesnt like that","",""
"363639827465371649","KeosMyto#8744","04-May-20 06:05 AM","> @KeosMyto hm ok, removing that flag (just if header found write to file) didnt help, that line runs, but nothing is actually written for some reason. also the segfault is on the second time around with fread after finding the first  jpg
@PhazonicRidley Ahh not quite what I meant.","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:05 AM","hm?","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:05 AM","i fixed the writting issue","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:05 AM","it was never flushing due to the segfault","",""
"363639827465371649","KeosMyto#8744","04-May-20 06:07 AM","I just overwrite my buffer file. You're just replacing data.

There's a 'flaw' for want of a better word in your ""writing"" logic.","",""
"363639827465371649","KeosMyto#8744","04-May-20 06:07 AM","you're still getting the seg fault right?","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:07 AM","yep","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:08 AM","its only after i read the first jpg","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:08 AM","oh","",""
"363639827465371649","KeosMyto#8744","04-May-20 06:08 AM","yeah. Obviously because you're trying to access something that doesn't exist. 

Step through your logic....","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:08 AM","i think i figured it out","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:08 AM","with filestreams: the buffer can only be  used by one at  a time  right?","",""
"363639827465371649","KeosMyto#8744","04-May-20 06:09 AM","hmm...not sure I understand what you mean","",""
"393854278764068875","curiouskiwi#1671","04-May-20 06:10 AM","double check that you have enough room in your filename string to hold a properly terminated string like ""000.jpg""","",""
"363639827465371649","KeosMyto#8744","04-May-20 06:11 AM","^ oh that. Wow. I missed that too.","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:11 AM","....huh","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:12 AM",".....that was it","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:12 AM","i hate everything","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:12 AM","but one question","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:13 AM","why was it failing on the reader","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:13 AM","instead of sprintf","",""
"393854278764068875","curiouskiwi#1671","04-May-20 06:14 AM","sprintf doesn't care if there's enough room. it will just write to the memory","",""
"393854278764068875","curiouskiwi#1671","04-May-20 06:15 AM","and if there's not enough room, it will just overwrite whatever was there","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:15 AM","i see","",""
"393854278764068875","curiouskiwi#1671","04-May-20 06:15 AM","and potentially overwrite something important","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:15 AM","that makes  sense,  UB and what not","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 06:17 AM","photo album looks awesome","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 10:29 AM","@curiouskiwi hey,  check50 is detecting segfaults for the jpgs but im not sure why. all 50 images generate,  i cleaned up all memory and fixed all memory leaks (or at least according to valgrind) so i have no idea why this is happening. i have tried with the buffer both on the head and on the stack","",""
"393854278764068875","curiouskiwi#1671","04-May-20 10:30 AM","what's your check50 results url?","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 10:30 AM","https://submit.cs50.io/check50/c87e6e8869d9410c85bb08985f4ab3c9a5f41164","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 10:31 AM","","https://cdn.discordapp.com/attachments/395684916056031245/706769859853287484/unknown.png",""
"393854278764068875","curiouskiwi#1671","04-May-20 10:32 AM","what's your github username?","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 10:32 AM","PhazonicRidley","",""
"393854278764068875","curiouskiwi#1671","04-May-20 10:34 AM","|| sprintf(filename, ""output/%03i.jpg"", jpgCounter++);||  check50's machine doesn't have that folder","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 10:34 AM","ah","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 10:35 AM","well im still glad i did all  that memory clean up","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 10:35 AM","important to not leak memory","",""
"286488483994927109","PhazonicRidley#1432","04-May-20 10:36 AM","thanks man, you have been a great help these  past  couple of weeks :bloblove:","",""
"393854278764068875","curiouskiwi#1671","04-May-20 10:37 AM","üôÇ","",""
"698375995970813992","_master_#8654","04-May-20 11:17 AM","why my images are not coming....","https://cdn.discordapp.com/attachments/395684916056031245/706781556319977532/SPOILER_Capture.JPG",""
"699973344992165949","Crussader#0552","04-May-20 11:52 AM","Review your fwrite parameters (and probably your fread too, the should match)","",""
"699973344992165949","Crussader#0552","04-May-20 11:52 AM","You want to read","",""
"699973344992165949","Crussader#0552","04-May-20 11:52 AM","512 blocks of 1 byte","",""
"699973344992165949","Crussader#0552","04-May-20 11:53 AM","First the size of the block and then the amount of blocks","",""
"698375995970813992","_master_#8654","04-May-20 11:59 AM","i hed decalred buffsize  = 512 initially..","",""
"698375995970813992","_master_#8654","04-May-20 11:59 AM","*had","",""
"698375995970813992","_master_#8654","04-May-20 12:00 PM","it also compiles correctly.......but dont creating the iimages.","",""
"698375995970813992","_master_#8654","04-May-20 12:01 PM","üòï","",""
"699973344992165949","Crussader#0552","04-May-20 12:04 PM","Check the order of the parameters","",""
"699973344992165949","Crussader#0552","04-May-20 12:04 PM","Fwrite(from, bytes, number of bytes, destination)","",""
"699973344992165949","Crussader#0552","04-May-20 12:05 PM","You have fwrite(from,...,..., destination)","",""
"699973344992165949","Crussader#0552","04-May-20 12:05 PM","So you have to write in BYTES, 512 at a time","",""
"698375995970813992","_master_#8654","04-May-20 12:38 PM","i m sorry i didnt get you...           ||fwrite(buffer, 512, 1, image);
||","",""
"698375995970813992","_master_#8654","04-May-20 12:38 PM","you mean like this.....","",""
"699973344992165949","Crussader#0552","04-May-20 01:05 PM","Swap 512 and 1","",""
"699973344992165949","Crussader#0552","04-May-20 01:05 PM","And let me know if it worked","",""
"699973344992165949","Crussader#0552","04-May-20 01:06 PM","Also in fread","",""
"311191207709638656","pawndriver#4048","04-May-20 02:02 PM","hi, im really struggling on how to initialize the whole scanning process at the beginning; im guessing you are meant to read the file in 512 byte blocks and then read each block to see if there's the bytes that signify the start of the jpg right?","",""
"311191207709638656","pawndriver#4048","04-May-20 02:04 PM","but when i use this code it suffers a segmentation fault and when i run the debug it seems no data is passed onto the buffer","",""
"311191207709638656","pawndriver#4048","04-May-20 02:04 PM","||FILE *image = malloc(sizeof(F));
        BYTE buffer[512];
        fread(image, sizeof(BYTE), 512, F);
        fread(buffer, 1, 512, image);||","",""
"337259224507744276","AK#4520","04-May-20 02:40 PM","Isn't the maximum size of a BYTE 255?","",""
"337259224507744276","AK#4520","04-May-20 02:41 PM","How would 'BYTE buffer[512];' work","",""
"337259224507744276","AK#4520","04-May-20 02:49 PM","I'm confused myself too so I would probably wait for someone else to reply üòÖ","",""
"582438084692541440","jeffy#0562","04-May-20 03:20 PM","Does anyone know what is the difference between fread(&buffer, ...) and fread(buffer,...)?

I try print the outputs of fread and found they are the same though &buffer and buffer are not the same?

buffer is
unsigned char buffer[512];","",""
"699973344992165949","Crussader#0552","04-May-20 03:29 PM","> I'm confused myself too so I would probably wait for someone else to reply üòÖ
@AK  because you are creating an Array of 512 BYTES","",""
"699973344992165949","Crussader#0552","04-May-20 03:30 PM","At the end of the explanation of how to do the exercises it says something like you can create a new type of file called BYTES","",""
"699973344992165949","Crussader#0552","04-May-20 03:30 PM","then you use that instead of an int or a string","",""
"699973344992165949","Crussader#0552","04-May-20 03:31 PM","To create an array of 512 bytes, where each element of the array is a BYTE","",""
"699973344992165949","Crussader#0552","04-May-20 03:32 PM","> hi, im really struggling on how to initialize the whole scanning process at the beginning; im guessing you are meant to read the file in 512 byte blocks and then read each block to see if there's the bytes that signify the start of the jpg right?
@pawndriver  don't allocate memory to the file, allocate memory for the buffer, you will keep adding stuff to the image so you don't know how big it is so just create a file pointer to the file and it will be automatic","",""
"337259224507744276","AK#4520","04-May-20 04:23 PM","Oh ok, thanks.","",""
"699973344992165949","Crussader#0552","04-May-20 04:32 PM","Keep in mind these things:
- fread will read in chunks of days that you assigned (512 blocks of 1 byte)
- fread will return how many blocks was able to read each time (keep in mind to create the condition of the loop to read until the end of the file)
- fwrite behaves like fread, it will write (if you assign so) 512 blocks of 1 byte","",""
"699973344992165949","Crussader#0552","04-May-20 04:33 PM","You don't need to close a file to keep writing to it so no need to open a close Everytime","",""
"699973344992165949","Crussader#0552","04-May-20 04:33 PM","You store the data read from fread in a pointer/array with enough space for 512 blocks of 1 byte","",""
"699973344992165949","Crussader#0552","04-May-20 04:34 PM","And you write the data stored in that buffer you your file","",""
"699973344992165949","Crussader#0552","04-May-20 04:34 PM","","https://cdn.discordapp.com/attachments/395684916056031245/706861324763660318/image0.jpg",""
"699973344992165949","Crussader#0552","04-May-20 04:34 PM","I did this to help myself","",""
"699973344992165949","Crussader#0552","04-May-20 04:34 PM","Hope it helps","",""
"311191207709638656","pawndriver#4048","04-May-20 04:45 PM","thanks, when doing the fread function it only does it once right?  how would you be able to loop it so that it goes from one block to the next in the file?","",""
"311191207709638656","pawndriver#4048","04-May-20 04:46 PM","i think for now it's the case that i do the fread function but after it looks through the first 512 bytes it just ends","",""
"453896638730338305","TheHotatoPotato#6194","04-May-20 04:50 PM","@Crussader why do we need to check for enough memory?","",""
"699973344992165949","Crussader#0552","04-May-20 05:05 PM","no, fread keeps reading it if you set the condition in the loop","",""
"699973344992165949","Crussader#0552","04-May-20 05:06 PM","> @Crussader why do we need to check for enough memory?
@TheHotatoPotato  Allocate memory and then check if you allocated the memory with an IF ... == NULL then return 1","",""
"699973344992165949","Crussader#0552","04-May-20 05:07 PM","Everytime you allocate memory check with an if null statement, it can happen that your program couldn't allocate memory so you want it to stop if it couldn't","",""
"453896638730338305","TheHotatoPotato#6194","04-May-20 05:18 PM","I see. thanks.","",""
"157815562846601216","Jacob#6236","04-May-20 05:38 PM","I'm confused. What type is each block of 512 bytes supposed to consist of? Char? ""byte""? (this type doesn't seem to exist)","",""
"699973344992165949","Crussader#0552","04-May-20 05:43 PM","You have to create the type BYTE","",""
"699973344992165949","Crussader#0552","04-May-20 05:43 PM","At the bottom of the page of the walkthrough video it explains how to","",""
"157815562846601216","Jacob#6236","04-May-20 05:45 PM","a-ha, so a case of not reading far enough. D'oh. Thanks!","",""
"699973344992165949","Crussader#0552","04-May-20 05:50 PM","üëç","",""
"699973344992165949","Crussader#0552","04-May-20 05:50 PM","Good luck","",""
"691996143810379828","RodrigoRD#8506","04-May-20 07:01 PM","Hi everyone! Please, does anyone know any supplementary documentation that I can consult to facilitate the resolution of this case?","",""
"269227960156946454","GhostDragon#7128","04-May-20 07:02 PM","documentation for what?","",""
"691996143810379828","RodrigoRD#8506","04-May-20 07:19 PM","for exemple, i dont know what is this typedef uint8_t BYTE;  how or when i use etc...","",""
"269227960156946454","GhostDragon#7128","04-May-20 07:24 PM","you are essentially declaring a new datatype, BYTE, which is the size of an 8 byte unsigned integer","",""
"691996143810379828","RodrigoRD#8506","04-May-20 07:29 PM","ok tksss","",""
"387423827837190144","BBZ#3311","04-May-20 08:27 PM","I'm trying to make sense of the fopen/fread functions and I'm not sure how to interpret a discrepency from the official documentation and the implementation of the function. Take fopen for instance, the official C99 Standard doc says : 
`FILE *fopen(const char * restrict filename, const char * restrict mode);`
Or, more cleaned out,  `FILE *fopen(filename, mode);`
How do you go from that structure to the implementation which usually has the fopen on one side of the = and FILE *someVariable on the other one? I.e. :
`FILE *file = fopen(filename, mode);`
I'm just not sure how I would be supposed to know the latter code is the usual (correct?) implementation if I only saw the above former codeline..","",""
"282643444076380180","coolbox#5258","04-May-20 08:36 PM","that's because of the return of fopen(), you assign it to a pointer variable","",""
"338680201892462593","Juan518#6277","04-May-20 08:39 PM","In the the walkthrough video it's hinted that the buffer, where the ""block"" being read is stored might have to be an array, if i set it as such, how can i point the program to read the first 4 bytes of the array to check if it's the beginning of a new image?","",""
"337259224507744276","AK#4520","04-May-20 08:45 PM","Use a for loop to check if i, i+1, i+2, and i+3 are the required bytes?
> In the the walkthrough video it's hinted that the buffer, where the ""block"" being read is stored might have to be an array, if i set it as such, how can i point the program to read the first 4 bytes of the array to check if it's the beginning of a new image?
@Juan518","",""
"337259224507744276","AK#4520","04-May-20 08:46 PM","My code in progress:
||
if (buffer[i] == 0xff && buffer[i + 1] == 0xd8 && buffer[i + 2] == 0xff &&
                (buffer[i + 3] & 0xf0) == 0xe0)
                {
                    counter++;
                    sprintf(char* jpgfile, ""%03i.jpg"", counter);
                    FILE *img = fopen(jpgfile, ""w"");
                    fwrite(buffer, 1, 512, jpgfile);
                }
                else
                {
                    fclose(jpgfile);
                }
||

Why does it say jpgfile is an undeclared identifier?","",""
"338680201892462593","Juan518#6277","04-May-20 08:52 PM","i've just started writing the program, so what i say is probably wrong, but you have to declare it first","",""
"338680201892462593","Juan518#6277","04-May-20 08:53 PM","||char *filename = malloc(7 * sizeof(char));
sprintf(filename, ""%03i.jpg"", j);||
This is how i have coded it","",""
"337259224507744276","AK#4520","04-May-20 08:57 PM","Oh, thanks, I'll try that!","",""
"338680201892462593","Juan518#6277","04-May-20 09:38 PM","Console says ""img"" and ""image"" doesn't exist yet they are declared on line 45 & 47, have i done it wrong?","https://cdn.discordapp.com/attachments/395684916056031245/706937852402860192/SPOILER_unknown.png",""
"337259224507744276","AK#4520","04-May-20 09:42 PM","Try declaring them globally?","",""
"337259224507744276","AK#4520","04-May-20 09:43 PM","||
while(fread(buffer, sizeof(buffer), 1, f) == 1)
    {
        for (int i = 0; i < sizeof(buffer); i++)
        {
            if (buffer[i] == 0xff && buffer[i + 1] == 0xd8 && buffer[i + 2] == 0xff &&
            (buffer[i + 3] & 0xf0) == 0xe0)
            {
                if (counter == 0)
                {
                    // Prints name of file
                    sprintf(jpgfile, ""%03i.jpg"", counter);

                    // Opens new file
                    img = fopen(jpgfile, ""w"");

                    // Writes to file
                    fwrite(buffer, sizeof(buffer), 512, img);

                    // Increments counter
                    counter++;
                }
                else
                {
                    // Closes file
                    fclose(img);

                    // Prints file name
                    sprintf(jpgfile, ""%03i.jpg"", counter);

                    // Opens new file
                    img = fopen(jpgfile, ""w"");

                    // Writes data into new file
                    fwrite(buffer, sizeof(buffer), 512, img);

                    // Increments counter
                    counter++;
                }
            }
            else
            {
                // Writes data into file
                fwrite(buffer, sizeof(buffer), 512, img);
            }

        }
    }
||","",""
"337259224507744276","AK#4520","04-May-20 09:44 PM","This is my code for the problem. It recovers 50 .jpg images (apparently), but I cannot open them, because they apparently are of an invalid file format. Could anyone help me with this please? 
Thanks in advance!","",""
"338680201892462593","Juan518#6277","04-May-20 09:48 PM","@AK  what data type did you use for ""img""?","",""
"337259224507744276","AK#4520","04-May-20 09:49 PM","I believe I declared it with ‚ÄòFILE‚Äô.","",""
"338680201892462593","Juan518#6277","04-May-20 09:49 PM","thanks","",""
"699973344992165949","Crussader#0552","04-May-20 10:04 PM","> ||char *filename = malloc(7 * sizeof(char));
> sprintf(filename, ""%03i.jpg"", j);||
> This is how i have coded it
@Juan518  I allocated for 8 char to keep in mind the \0 but I don't know if that was necessary","",""
"338680201892462593","Juan518#6277","04-May-20 10:06 PM","it may be, i have got to the point of the program compiling and has a segmentation fault, that might be the issue","",""
"699973344992165949","Crussader#0552","04-May-20 10:07 PM","@AK why are you reading one BYTE and writing 512? Your fread and fwrite values should match","",""
"699973344992165949","Crussader#0552","04-May-20 10:07 PM","You have to read 512 bytes and write 512 bytes","",""
"338680201892462593","Juan518#6277","04-May-20 10:12 PM","> You have to read 512 bytes and write 512 bytes
@Crussader  is this the right syntax?
||fwrite(buffer, sizeof(buffer), 512, img);||","",""
"699973344992165949","Crussader#0552","04-May-20 10:13 PM","üëåüèª","",""
"338680201892462593","Juan518#6277","04-May-20 10:13 PM","great thanks","",""
"699973344992165949","Crussader#0552","04-May-20 10:13 PM","No worries","",""
"699973344992165949","Crussader#0552","04-May-20 10:13 PM","Where are you from Juan?","",""
"338680201892462593","Juan518#6277","04-May-20 10:18 PM","Argentina","",""
"699973344992165949","Crussader#0552","04-May-20 10:36 PM","Ol√© ah√≠! Yo de Espa√±a üòÅ","",""
"699973344992165949","Crussader#0552","04-May-20 10:36 PM","Si necesitas m√°s ayuda me dices","",""
"338680201892462593","Juan518#6277","04-May-20 11:01 PM","Dale mil gracias!","",""
"236916803874455553","senator_dz#7256","05-May-20 04:22 AM","guys i need help","",""
"236916803874455553","senator_dz#7256","05-May-20 04:22 AM","","https://cdn.discordapp.com/attachments/395684916056031245/707039404874530886/unknown.png",""
"704465538851668029","pocoyo#7912","05-May-20 05:26 AM","greetings juan, im from arg aswell","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","05-May-20 07:31 AM","@senator_dz save and recompile","",""
"157815562846601216","Jacob#6236","05-May-20 09:42 AM","I'm getting: ""error: use of undeclared identifier 'image'
                      fclose(image);

...for identifiers that have been declared. Is it because I declared them inside another if bracket?","",""
"157815562846601216","Jacob#6236","05-May-20 10:16 AM","The problem seems to be that if I do NOT find a jpg header in a block, then I specifically need the program to NOT open a new .jpg file but instead keep writing to the file I opened and initialized in the last iteration where a jpg header was found.  But the compiler says the file variable is uninitialized when used in the condition where a jpg header was not found. Then how can I use the already opened file during an iteration where no new file is opened?","",""
"157815562846601216","Jacob#6236","05-May-20 10:18 AM","Okay solved this (for now) by initializing them to NULL at the beginning of the loop.","",""
"698375995970813992","_master_#8654","05-May-20 12:05 PM","> Swap 512 and 1
> And let me know if it worked
> Also in fread @Crussader it dosnt work.","",""
"698375995970813992","_master_#8654","05-May-20 12:06 PM","||#include <stdio.h>
#include <stdlib.h>
#include<stdint.h>
#include<cs50.h>

typedef uint8_t BYTE;
#define buffsize 512
bool find_jpeg(BYTE buffer[]);
FILE *new_file(FILE *, char[], int,BYTE []);


int main(int argc, char *argv[])
{
    if(argc != 2)
    {
        printf(""Usage: ./recover image"");
    }



    FILE *file = fopen(argv[1], ""r"");

    if(!file)
    {
        return 1;
    }

    BYTE buffer[buffsize];
    int jpeg_count = 0;
    char filename[50];
    FILE *image = NULL;

    while(!feof(file))
    {

        fread(&buffer, 1, buffsize, file);


        if(find_jpeg(buffer) == true)
        {
          if(jpeg_count == 0)
          {
              sprintf(filename, ""%03d.jpeg"", jpeg_count);
              jpeg_count++;
              image = fopen(filename, ""w"");
              fwrite(&buffer, 1, buffsize, image);
              fclose(file);

          }
          else
          {
              fclose(image);
              sprintf(filename, ""%03d.jpeg"", jpeg_count);
              image = fopen(filename, ""w"");
              fwrite(&buffer, 1, buffsize, image);
              fclose(file);
              jpeg_count++;
          }

        }

        else
        {
            if(jpeg_count== 0)
            {
                continue;
            }

            else
            {
                fwrite(buffer, 1, buffsize, image);
            }
        }

    }

    fclose(file);

    return 0;

}


bool find_jpeg(BYTE buffer[])
{
    if
    (buffer[0] == 0xff &&
     buffer[1] == 0xd8 &&
     buffer[2] == 0xff &&
     (buffer[3] & 0xf0) == 0xef )
     {
         return true;
     }

     return false;
}||

i msharing my all codes","",""
"699973344992165949","Crussader#0552","05-May-20 12:08 PM","you are using while EOF for the loop, it will give you problems, you have to use the return value of fread","",""
"699973344992165949","Crussader#0552","05-May-20 12:08 PM","Also why you gave 50 char for the name, you only need 8","",""
"699973344992165949","Crussader#0552","05-May-20 12:08 PM","###.jpg(\0)","",""
"698375995970813992","_master_#8654","05-May-20 12:10 PM","ohk...","",""
"698375995970813992","_master_#8654","05-May-20 12:13 PM","bro still it is same not giving images","",""
"698375995970813992","_master_#8654","05-May-20 12:14 PM","","https://cdn.discordapp.com/attachments/395684916056031245/707158261664710686/SPOILER_Capture5.JPG",""
"698375995970813992","_master_#8654","05-May-20 12:15 PM","","https://cdn.discordapp.com/attachments/395684916056031245/707158586790248448/SPOILER_Capture6.JPG",""
"699973344992165949","Crussader#0552","05-May-20 12:44 PM","Remove EOF from fread","",""
"699973344992165949","Crussader#0552","05-May-20 12:44 PM","From the condition I mean","",""
"699973344992165949","Crussader#0552","05-May-20 12:44 PM","And use the return value of fread for the condition","",""
"699973344992165949","Crussader#0552","05-May-20 12:45 PM","Fread returns how many blocks of the data you specified gave you back, when is less than it should, you reached the end of the file","",""
"337259224507744276","AK#4520","05-May-20 01:02 PM","> @AK why are you reading one BYTE and writing 512? Your fread and fwrite values should match
@Crussader I set it to 512, now it only recovers 6 images.","",""
"337259224507744276","AK#4520","05-May-20 01:02 PM","||
while(fread(buffer, sizeof(buffer), 512, f) == 512)
    {
        for (int i = 0; i < sizeof(buffer); i++)
        {
            if (buffer[i] == 0xff && buffer[i + 1] == 0xd8 && buffer[i + 2] == 0xff &&
            (buffer[i + 3] & 0xf0) == 0xe0)
            {
                if (counter == 0)
                {
                    // Prints name of file
                    sprintf(jpgfile, ""%03i.jpg"", counter);

                    // Opens new file
                    img = fopen(jpgfile, ""w"");

                    // Writes to file
                    fwrite(buffer, sizeof(buffer), 512, img);

                    // Increments counter
                    counter++;
                }
                else
                {
                    // Closes file
                    fclose(img);

                    // Prints file name
                    sprintf(jpgfile, ""%03i.jpg"", counter);

                    // Opens new file
                    img = fopen(jpgfile, ""w"");

                    // Writes data into new file
                    fwrite(buffer, sizeof(buffer), 512, img);

                    // Increments counter
                    counter++;
                }
            }
            else
            {
                // Writes data into file
                fwrite(buffer, sizeof(buffer), 512, img);
            }

        }
    }

    fclose(img);
    fclose(f);
    free(buffer);
    return 0;
||","",""
"699973344992165949","Crussader#0552","05-May-20 01:07 PM","Why do u use a for loop?","",""
"699973344992165949","Crussader#0552","05-May-20 01:08 PM","While loop will keep reading until end of file, you just need to give the if statements to tell the program what to do","",""
"699973344992165949","Crussader#0552","05-May-20 01:09 PM","If you find a header and it's the first one, if it's not the first one, if you didn't find any, if you didn't find but you want to keep writing","",""
"337259224507744276","AK#4520","05-May-20 01:10 PM","But don't we need to go through the array and keep writing?","",""
"699973344992165949","Crussader#0552","05-May-20 01:11 PM","No, the fread will read 512 blocks of 1 byte and the fwrite will fill your 512 blocks of 1 byte at a time, if you give the proper values, you just have to keep doing that until the end of the file","",""
"337259224507744276","AK#4520","05-May-20 01:11 PM","And write until the end of the array?","",""
"337259224507744276","AK#4520","05-May-20 01:12 PM","OH","",""
"337259224507744276","AK#4520","05-May-20 01:12 PM","Oh*","",""
"699973344992165949","Crussader#0552","05-May-20 01:12 PM","No","",""
"699973344992165949","Crussader#0552","05-May-20 01:14 PM","The process is like this:
WHILE LOOP (keep reading until end of file)
 - then you have different scenarios  
 1. You find header of jpeg and it's the first one
2. You don't find header and you haven't found any yet
3. You found a header and it's not the first one
4. You didn't find a header and but you found previously","",""
"699973344992165949","Crussader#0552","05-May-20 01:14 PM","","https://cdn.discordapp.com/attachments/395684916056031245/707173486547697724/image0.jpg",""
"699973344992165949","Crussader#0552","05-May-20 01:15 PM","Inside the conditions, fwrite will get everything from your buffer (512 bytes) and write into you new file","",""
"699973344992165949","Crussader#0552","05-May-20 01:15 PM","Then it goes again for another 512 bytes and checks your conditions","",""
"699973344992165949","Crussader#0552","05-May-20 01:16 PM","The header it's always at the beginning of the 512 bytes in your buffer, so if it's not there it means you haven't found another jpeg and you need to keep writing because the image is bigger than 512 bytes","",""
"337259224507744276","AK#4520","05-May-20 01:17 PM","It checks the conditions for the 512 bytes, right?","",""
"337259224507744276","AK#4520","05-May-20 01:17 PM","Goes through each byte and checks the condition?","",""
"699973344992165949","Crussader#0552","05-May-20 01:17 PM","It checks the conditions for the first 4 bytes, where it's supposed to be","",""
"337259224507744276","AK#4520","05-May-20 01:17 PM","Ah","",""
"699973344992165949","Crussader#0552","05-May-20 01:17 PM","If it's not on the first 4 bytes it's not on the next 508","",""
"699973344992165949","Crussader#0552","05-May-20 01:18 PM","So you read, your write until the next 512","",""
"337259224507744276","AK#4520","05-May-20 01:18 PM","Finally understood, thank you so much!","",""
"699973344992165949","Crussader#0552","05-May-20 01:18 PM","Imagine your card with a N number of 512 bytes blocks","",""
"699973344992165949","Crussader#0552","05-May-20 01:18 PM","You want to check the condition for the first 4 bytes of those N number of blocks","",""
"699973344992165949","Crussader#0552","05-May-20 01:19 PM","So you check each block at a time","",""
"337259224507744276","AK#4520","05-May-20 02:07 PM","Hmm yeah","",""
"337259224507744276","AK#4520","05-May-20 02:07 PM","I changed the fread value to 512, but now it only recovers 6 images","","ü§î (1)"
"337259224507744276","AK#4520","05-May-20 02:08 PM","But the images are viewable","",""
"410893121363247123","Bleezeling#3213","05-May-20 02:13 PM","hi @everyone someone can help me with recover? i recover all the 50 image and i have problem with check50(recovers 000.jpg correctly,recovers middle images correctly","",""
"410893121363247123","Bleezeling#3213","05-May-20 02:13 PM","pm me:)","",""
"699973344992165949","Crussader#0552","05-May-20 02:19 PM","So which one does not recover correctly?","",""
"699973344992165949","Crussader#0552","05-May-20 02:19 PM","Last one?","",""
"699973344992165949","Crussader#0552","05-May-20 02:30 PM","> But the images are viewable
@AK  post the code","",""
"337259224507744276","AK#4520","05-May-20 02:38 PM","||
while(fread(buffer, sizeof(buffer), 512, f) == 512)
    {
        if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff &&
        (buffer[3] & 0xf0) == 0xe0)
        {
            if (counter == 0)
            {
                // Prints name of file
                sprintf(jpgfile, ""%03i.jpg"", counter);

                // Opens new file
                img = fopen(jpgfile, ""w"");

                // Writes to file
                fwrite(buffer, sizeof(buffer), 512, img);

                // Increments counter
                counter++;
            }
            else if (counter > 0)
            {
                // Closes file
                fclose(img);

                // Prints file name
                sprintf(jpgfile, ""%03i.jpg"", counter);

                // Opens new file
                img = fopen(jpgfile, ""w"");

                // Writes data into new file
                fwrite(buffer, sizeof(buffer), 512, img);

                // Increments counter
                counter++;
            }
        }
        else
        {
            // Writes data into file
            fwrite(buffer, sizeof(buffer), 512, img);
        }
    }

    free(buffer);
    fclose(img);
    fclose(f);

    return 0;

||","",""
"337259224507744276","AK#4520","05-May-20 02:39 PM","I used valgrind and it says I'm trying to use a 8-byte variable that might not have a value in line 70, which is the else condition which only writes data into the file.","",""
"337259224507744276","AK#4520","05-May-20 02:40 PM","Here's the code before the while loop:","",""
"337259224507744276","AK#4520","05-May-20 02:40 PM","||
#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>

typedef uint8_t BYTE;

int main(int argc, char *argv[])
{
    // Checks for one command line argument
    if (argc != 2)
    {
        printf(""Usage: ./recover image\n"");
        return 1;
    }

    // Opens memory card
    FILE *f = fopen(argv[1], ""r"");
    if (!f (| |) f == NULL)
    {
        printf(""File could not be opened.\n"");
        return 1;
    }

    int counter = 0;
    BYTE *buffer = malloc(10 * 512);
    char jpgfile[8];
    FILE *img;
||","",""
"699973344992165949","Crussader#0552","05-May-20 02:51 PM","Your buffer malloc should be 512 * sizeof(BYTE)","",""
"699973344992165949","Crussader#0552","05-May-20 02:51 PM","Try that","",""
"337259224507744276","AK#4520","05-May-20 02:52 PM","Nope, still only recovers images until 006.jpg (7 jpgs) and gives the same error with valgrind","",""
"699973344992165949","Crussader#0552","05-May-20 03:01 PM","No idea","",""
"337259224507744276","AK#4520","05-May-20 03:02 PM","Oof","",""
"365481836924633088","OjasKataria#6396","05-May-20 03:15 PM","I just came to this problem.","",""
"365481836924633088","OjasKataria#6396","05-May-20 03:15 PM","And its killing me","",""
"365481836924633088","OjasKataria#6396","05-May-20 03:16 PM","I have watched the walkthrough five times and I am still stuck on creating the jpg file","",""
"699973344992165949","Crussader#0552","05-May-20 03:30 PM","@AK the only main difference between your code and mine is that I did a bool for jpeg found and that I did a char pointer and allocated memory for the name, both of which shouldnt really affect theresult","",""
"337259224507744276","AK#4520","05-May-20 03:32 PM","Well, it's worth a shot, I guess. You used a bool called jpegfound instead of counter?","",""
"699973344992165949","Crussader#0552","05-May-20 03:32 PM","Yes","",""
"699973344992165949","Crussader#0552","05-May-20 03:33 PM","And int for counter starting at 0","",""
"337259224507744276","AK#4520","05-May-20 03:33 PM","Oh, ok. And the char pointer?","",""
"337259224507744276","AK#4520","05-May-20 03:34 PM","But when does jpegfound become true, and when does it become false?","",""
"699973344992165949","Crussader#0552","05-May-20 03:34 PM","Char *filename = malloc(8)","",""
"699973344992165949","Crussader#0552","05-May-20 03:35 PM","Remember to free(filename) at the end of everything","",""
"699973344992165949","Crussader#0552","05-May-20 03:36 PM","I mean its not going to make a difference, your counter should work even better than mine","",""
"337259224507744276","AK#4520","05-May-20 03:36 PM","I guess","",""
"337259224507744276","AK#4520","05-May-20 03:37 PM","now it says","",""
"337259224507744276","AK#4520","05-May-20 03:37 PM","free(): invalid size
Aborted","",""
"699973344992165949","Crussader#0552","05-May-20 03:37 PM","I‚Äôll send you my code by PM","",""
"337259224507744276","AK#4520","05-May-20 03:37 PM","Yeah sure, thanks!","",""
"338680201892462593","Juan518#6277","05-May-20 04:12 PM","Every time fread loops it automatically passes to the next ""chunk"", right?","",""
"699973344992165949","Crussader#0552","05-May-20 04:25 PM","Yes","",""
"338680201892462593","Juan518#6277","05-May-20 04:45 PM","I'm getting **File size limit exceeded** and only six jpegs generated, is that a problem of malloc/free?","",""
"325380725933211660","Drew#6099","05-May-20 04:48 PM","is it just me or does this one feel like a big step up?","",""
"338680201892462593","Juan518#6277","05-May-20 04:50 PM","Well David says on the video that it may be the most complex thing taught on the course","",""
"338680201892462593","Juan518#6277","05-May-20 04:51 PM","But it's just a matter of familiarizing with the concepts","",""
"704465538851668029","pocoyo#7912","05-May-20 05:22 PM","are jpeg signatures always at start of any 512 block byte?","",""
"338680201892462593","Juan518#6277","05-May-20 05:27 PM","Yes","",""
"704465538851668029","pocoyo#7912","05-May-20 05:29 PM","damn","",""
"338680201892462593","Juan518#6277","05-May-20 05:35 PM","I have my loop like this so ||""sob"" always checks at the beginning if the buffer is different than 512||, in return the program only outputs 4 (broken) jpegs and removing that check creates 7 images with the last one having a memory leak","https://cdn.discordapp.com/attachments/395684916056031245/707239029833334834/SPOILER_unknown.png",""
"361235692019384323","Sanath#7244","05-May-20 05:39 PM","check your fread arguments","",""
"361235692019384323","Sanath#7244","05-May-20 05:40 PM","sizeof(buffer) is the sizeof a pointer, 8 on the ide","",""
"338680201892462593","Juan518#6277","05-May-20 05:43 PM","Will do, thanks","",""
"338680201892462593","Juan518#6277","05-May-20 05:48 PM","It now get's to 23 borken jpegs, it's proggres","",""
"236916803874455553","senator_dz#7256","05-May-20 05:51 PM","@E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó  its same thing happened","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","05-May-20 05:52 PM","@senator_dz search the file for k++","",""
"236916803874455553","senator_dz#7256","05-May-20 05:55 PM","@E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó  no im not talk about (k) its why i cant see pic","",""
"236916803874455553","senator_dz#7256","05-May-20 05:55 PM","","https://cdn.discordapp.com/attachments/395684916056031245/707244066512961597/unknown.png",""
"269227960156946454","GhostDragon#7128","05-May-20 05:56 PM","remove the semicolon after the curly bracket @senator_dz","",""
"269227960156946454","GhostDragon#7128","05-May-20 05:56 PM","on line 47","",""
"236916803874455553","senator_dz#7256","05-May-20 05:58 PM","","https://cdn.discordapp.com/attachments/395684916056031245/707244766156423188/unknown.png",""
"236916803874455553","senator_dz#7256","05-May-20 05:58 PM","samething","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","05-May-20 05:59 PM","@senator_dz follow your logic you are only writing to the file if the first 4 byte = bmp header","",""
"269227960156946454","GhostDragon#7128","05-May-20 05:59 PM","also you are exceeding the file size limit","",""
"236916803874455553","senator_dz#7256","05-May-20 06:00 PM","ok i will try again","",""
"361235692019384323","Sanath#7244","05-May-20 06:01 PM","card isnt going to change, you created an infinite loop","",""
"236916803874455553","senator_dz#7256","05-May-20 06:01 PM","so how i can make loop work with all file of card ?","",""
"361235692019384323","Sanath#7244","05-May-20 06:01 PM","`rm *.png` if you want to delete the files","",""
"361235692019384323","Sanath#7244","05-May-20 06:02 PM","use fread's return value","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","05-May-20 06:02 PM","look at else if statement what is it is doing","",""
"236916803874455553","senator_dz#7256","05-May-20 06:02 PM","you mean use fread in condition of loop ?","",""
"269227960156946454","GhostDragon#7128","05-May-20 06:03 PM","yes","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","05-May-20 06:03 PM","if your writing file 000 and i = 0 whats not happening","",""
"236916803874455553","senator_dz#7256","05-May-20 06:04 PM","@E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó  hmmmm its for if that not new file, just stay writing on last file","",""
"236916803874455553","senator_dz#7256","05-May-20 06:05 PM","hmmmm you can see first file is 000.jpg but after that file i dont know what happened hahaha why file with that names i dont know why","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","05-May-20 06:06 PM","you are only writing the first 512 bytes the file is going to be many block of 512","",""
"236916803874455553","senator_dz#7256","05-May-20 06:06 PM","so how i do that ?","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","05-May-20 06:06 PM","step 1 look at first block","",""
"236916803874455553","senator_dz#7256","05-May-20 06:07 PM","to write all data on file","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","05-May-20 06:07 PM","keep reading block till you find a the header agian","",""
"236916803874455553","senator_dz#7256","05-May-20 06:08 PM","","https://cdn.discordapp.com/attachments/395684916056031245/707247273188524082/unknown.png",""
"236916803874455553","senator_dz#7256","05-May-20 06:08 PM","this not right","",""
"236916803874455553","senator_dz#7256","05-May-20 06:08 PM","but how","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","05-May-20 06:09 PM","fread is a generator  so every time you call it it hands you the next value https://en.wikipedia.org/wiki/Generator_(computer_programming)","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","05-May-20 06:11 PM","so you open a file call fread it will hand you the first block (512) bytes then if you call fread again it hands you the next block of the file","",""
"236916803874455553","senator_dz#7256","05-May-20 06:13 PM","ohh","",""
"236916803874455553","senator_dz#7256","05-May-20 06:13 PM","hmmm can you tell me what number do ?","",""
"236916803874455553","senator_dz#7256","05-May-20 06:13 PM","","https://cdn.discordapp.com/attachments/395684916056031245/707248642527985755/unknown.png",""
"236916803874455553","senator_dz#7256","05-May-20 06:14 PM","size i think its size of block","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","05-May-20 06:14 PM","number of items per block","",""
"236916803874455553","senator_dz#7256","05-May-20 06:14 PM","but whats mean number","",""
"236916803874455553","senator_dz#7256","05-May-20 06:15 PM","","https://cdn.discordapp.com/attachments/395684916056031245/707249069642481774/unknown.png",""
"236916803874455553","senator_dz#7256","05-May-20 06:15 PM","its look like that ?","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","05-May-20 06:15 PM","so if i want 512 bytes size is the size of byte which is a bits and i what a block of 512 (number arg)","",""
"361235692019384323","Sanath#7244","05-May-20 06:16 PM","fread reads size * number bytes","",""
"361235692019384323","Sanath#7244","05-May-20 06:16 PM","and returns number on a successful read","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","05-May-20 06:17 PM","fread (buffer, sizeof(byte),  number of bytes (512), where to get the bytes)","",""
"236916803874455553","senator_dz#7256","05-May-20 06:17 PM","ohhh","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","05-May-20 06:19 PM","there is nothing saying the information in a file will be divisible by 512  so fread returns how many bytes it read case it might read a blcok smaller then 512  at the end of the file","",""
"236916803874455553","senator_dz#7256","05-May-20 06:20 PM","ohhhh i understanding now","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","05-May-20 06:22 PM","1 open data to read
2 check first 4 bits to see if it matches the bmp protocol 
3 if yes open new file to write blocks  
4 get next block
5 does this block have the header( this is step 1 agian)
6 if and file open write the next no block to  file
7 else if i find header agian close file i was writing to and open  new one
8 if fread returns < 512 then  fread found end of file exit loop and close files","",""
"236916803874455553","senator_dz#7256","05-May-20 06:23 PM","ok i will see how to do that","",""
"236916803874455553","senator_dz#7256","05-May-20 06:23 PM","thank so so so so so so so so much","",""
"236916803874455553","senator_dz#7256","05-May-20 07:11 PM","hmmm @E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó  whats mean
 if (!file)
{
}","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","05-May-20 07:12 PM","if not file","",""
"236916803874455553","senator_dz#7256","05-May-20 07:12 PM","ohh ok thanks üòä","",""
"410893121363247123","Bleezeling#3213","05-May-20 07:28 PM","done!","",""
"410893121363247123","Bleezeling#3213","05-May-20 07:28 PM","üôÇ","",""
"704465538851668029","pocoyo#7912","06-May-20 12:37 AM","completely lost. getting to the point of typing nonsense to see if it works instead of reasoning. I think that's not how coding is meant to be. Very frustrating","",""
"673281001815801916","nicomontaldi#6525","06-May-20 12:38 AM","Hi! I am having some trouble with recovery, as I am able to recover all the images but according to check50 the last recovered image (049.jpg) doesn't match. The check50 test and the recovered photo I get are attached... I also ran valgrind and my code has no memory leaks or segmentation errors. Any help would be much appreciated","https://cdn.discordapp.com/attachments/395684916056031245/707345450549641276/recover0.png",""
"338680201892462593","Juan518#6277","06-May-20 12:38 AM","Divide and conquer, solve one problem at a time","",""
"673281001815801916","nicomontaldi#6525","06-May-20 12:38 AM","","https://cdn.discordapp.com/attachments/395684916056031245/707345462977495060/recover1.png",""
"338680201892462593","Juan518#6277","06-May-20 12:38 AM","check it's size, it may be that","",""
"338680201892462593","Juan518#6277","06-May-20 12:40 AM","i'm having trouble with my loop condition, it currently is
||while(fread(buffer, sizeof(BYTE), 512, ogfile) >= 512);||
but it makes it stop with at 27 jpegs with all of them broken","",""
"673281001815801916","nicomontaldi#6525","06-May-20 12:40 AM","It's 78 Kb, I don't know if you were refering to that size or to the pixels","",""
"338680201892462593","Juan518#6277","06-May-20 12:41 AM","i was referring to the Kb size, if it was something bigger that would be the reason","",""
"338680201892462593","Juan518#6277","06-May-20 12:41 AM","but 78 seems correct","",""
"338680201892462593","Juan518#6277","06-May-20 12:42 AM","be sure to have your code saved with ctrl + s and then run check50","",""
"673281001815801916","nicomontaldi#6525","06-May-20 12:44 AM","that's weird, my condition is while(fread(...) == 512)","",""
"673281001815801916","nicomontaldi#6525","06-May-20 12:45 AM","Wow, I think that with your doubt I was able to solve the problem","",""
"673281001815801916","nicomontaldi#6525","06-May-20 12:45 AM","I was doing a do... while loop","",""
"673281001815801916","nicomontaldi#6525","06-May-20 12:45 AM","And I changed it to a while, and it magically worked","",""
"338680201892462593","Juan518#6277","06-May-20 12:46 AM","happened exactly the same","",""
"673281001815801916","nicomontaldi#6525","06-May-20 12:46 AM","I don't know why because it's supposed to be the same","",""
"338680201892462593","Juan518#6277","06-May-20 12:46 AM","no","",""
"338680201892462593","Juan518#6277","06-May-20 12:46 AM","**while** first checks if the condition is met, if so it will run","",""
"338680201892462593","Juan518#6277","06-May-20 12:47 AM","**do ... while** will run the program, when each loop ends it checks for the condition, if it's met i will run again","",""
"673281001815801916","nicomontaldi#6525","06-May-20 12:47 AM","Ah you are rigth","",""
"673281001815801916","nicomontaldi#6525","06-May-20 12:48 AM","I was thinking that, as the last case was the one that was failing, the do... while was the same, but I was probably writing some extra 512 bytes to the last photo","",""
"338680201892462593","Juan518#6277","06-May-20 12:49 AM","yes, and the problem says that extra bytes are empty, so while they don't affect a jpeg, they increase it's size, and that's where check50 triggers","",""
"673281001815801916","nicomontaldi#6525","06-May-20 12:50 AM","Yeah, don't know why I was like mentally stuck with that thought while doing this problem","",""
"673281001815801916","nicomontaldi#6525","06-May-20 12:50 AM","Could you solve your problem?","",""
"338680201892462593","Juan518#6277","06-May-20 12:51 AM","Is your while condition like this ||while (fread(buffer, sizeof(BYTE), 512, ogfile) == 512)|| ?","",""
"338680201892462593","Juan518#6277","06-May-20 12:51 AM","Nope","",""
"673281001815801916","nicomontaldi#6525","06-May-20 12:53 AM","yes","",""
"338680201892462593","Juan518#6277","06-May-20 12:55 AM","i'm lost, if i have that condition it only makes half those images and all broken","",""
"338680201892462593","Juan518#6277","06-May-20 12:56 AM","if i set while to something 1 == 1 so it runs forever it makes all the jpegs but the last, which fails because of a memory overflow","",""
"673281001815801916","nicomontaldi#6525","06-May-20 01:00 AM","Can you paste the code? maybe I can help you figure out the error","",""
"673281001815801916","nicomontaldi#6525","06-May-20 01:01 AM","recheck the else condition, when you get a chunck of memory that belongs to a previous jpg file but it's not the start of it","",""
"673281001815801916","nicomontaldi#6525","06-May-20 01:02 AM","because your program seems to recognize the starts of the jpg's but at some point can't write the rest of the file","",""
"673281001815801916","nicomontaldi#6525","06-May-20 01:03 AM","And it also seems that at some point it closes the file and isn't able to open a new one, or something like that","",""
"338680201892462593","Juan518#6277","06-May-20 01:04 AM","||    // Image counter
    int j = 0;
    
    //
    char *image = malloc(8 * sizeof(char));
    FILE *img = NULL;

    // Where data is passed to RAM
    BYTE *buffer = malloc(512 * sizeof(BYTE));

    // Repeat until End Of File
    while (1 == 1)//(fread(buffer, sizeof(BYTE), 512, ogfile) == 512)
    {
        int bs = fread(buffer, sizeof(BYTE), 512, ogfile);
        if (bs > 0) printf(""buffer size:%i\n"", bs);

        // Read files
        fread(buffer, sizeof(BYTE), 512, ogfile);
        
        // If start of JPEG
        if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0)
        {
            // Check if it's the first JPEG
            if (j == 0)
            {
                // Create new file
                {
                sprintf(image, ""%03i.jpg"", j);
                img = fopen(image, ""w"");
                fwrite(buffer, sizeof(BYTE), 512, img);
                j++;
                }

            }

            // Another image already exist
            else
            {
                // Close current file
                fclose(img);

                // Create new file
                sprintf(image, ""%03i.jpg"", j);
                img = fopen(image, ""w"");
                fwrite(buffer, sizeof(BYTE), 512, img);
                j++;
            }
        }

        // Not the start of a JPEG yet a image already exist
        else if (j > 0)
        {
            // Write buffer to file
            fwrite(buffer, sizeof(BYTE), 512, img);
        }
        
    } 

    //Close open files when end of card is reached
    free(buffer);
    free(image);
    fclose(img);
}||","",""
"338680201892462593","Juan518#6277","06-May-20 01:05 AM","i wrote a printf to see buffer sizes and they are always 512, i don't get it","",""
"338680201892462593","Juan518#6277","06-May-20 01:05 AM","","https://cdn.discordapp.com/attachments/395684916056031245/707352375823958137/SPOILER_unknown.png",""
"704465538851668029","pocoyo#7912","06-May-20 01:09 AM","ok, how am i supposed to know how many elements must fread read? (sizeof card.raw / 512?) I believe im gonna stay here 4ever","",""
"338680201892462593","Juan518#6277","06-May-20 01:10 AM","fread has to read a byte 512 times","",""
"673281001815801916","nicomontaldi#6525","06-May-20 01:11 AM","try deleting the last line o code","",""
"673281001815801916","nicomontaldi#6525","06-May-20 01:11 AM","the... fclose(img);","",""
"673281001815801916","nicomontaldi#6525","06-May-20 01:13 AM","and don't forget to return something if the function successfully works","",""
"673281001815801916","nicomontaldi#6525","06-May-20 01:14 AM","Also, you are reading the files 2 times!! There's the big problem","",""
"338680201892462593","Juan518#6277","06-May-20 01:16 AM","say what","",""
"673281001815801916","nicomontaldi#6525","06-May-20 01:16 AM","When you ran the while condition, you fread 512 bytes, and in the line below you ran fread again, so you are working then with half of the memory, as you are like reading 1024 bytes at a time, but working with the last 512 bytes","",""
"338680201892462593","Juan518#6277","06-May-20 01:17 AM","That was it, thanks a lot","",""
"338680201892462593","Juan518#6277","06-May-20 01:17 AM","i would have never known that the while condition stores data","",""
"338680201892462593","Juan518#6277","06-May-20 01:18 AM","i thought it only checked a condition and the deleted itself from memory","",""
"673281001815801916","nicomontaldi#6525","06-May-20 01:20 AM","in order to check the condition, it has to take action","",""
"673281001815801916","nicomontaldi#6525","06-May-20 01:21 AM","In this case, if you want to know the number returned by fread, it has to actually read the first 512 bytes of that file frome ogfile, and store it in buffer","",""
"673281001815801916","nicomontaldi#6525","06-May-20 01:21 AM","And once the condition executes, then it can check wether it is true or not","",""
"338680201892462593","Juan518#6277","06-May-20 01:22 AM","Indeed, i didn't notice that it was storing said data on the buffer","",""
"673281001815801916","nicomontaldi#6525","06-May-20 01:22 AM","Yeah, it's working now?","",""
"338680201892462593","Juan518#6277","06-May-20 01:23 AM","üôÇ","https://cdn.discordapp.com/attachments/395684916056031245/707356760989761566/unknown.png",""
"673281001815801916","nicomontaldi#6525","06-May-20 01:23 AM","Nice","",""
"236916803874455553","senator_dz#7256","06-May-20 01:24 AM","congratulation","",""
"338680201892462593","Juan518#6277","06-May-20 01:24 AM","thanks","",""
"236916803874455553","senator_dz#7256","06-May-20 01:24 AM","your style bro","",""
"236916803874455553","senator_dz#7256","06-May-20 01:24 AM","its just 0.91","",""
"236916803874455553","senator_dz#7256","06-May-20 01:24 AM","fix it","",""
"338680201892462593","Juan518#6277","06-May-20 01:24 AM","i think max is 1","",""
"236916803874455553","senator_dz#7256","06-May-20 01:25 AM","yeah","",""
"338680201892462593","Juan518#6277","06-May-20 01:26 AM","these are the things style 50 notes","https://cdn.discordapp.com/attachments/395684916056031245/707357582767030322/SPOILER_unknown.png",""
"236916803874455553","senator_dz#7256","06-May-20 01:26 AM","yeah","",""
"236916803874455553","senator_dz#7256","06-May-20 01:27 AM","You have to give them space","",""
"236916803874455553","senator_dz#7256","06-May-20 01:27 AM","in green place","",""
"236916803874455553","senator_dz#7256","06-May-20 01:27 AM","4 spaces","",""
"673281001815801916","nicomontaldi#6525","06-May-20 01:27 AM","select that 4 lines and hit tab","",""
"338680201892462593","Juan518#6277","06-May-20 01:27 AM","I usually do it, i forgot","https://cdn.discordapp.com/attachments/395684916056031245/707357930185425007/SPOILER_unknown.png",""
"236916803874455553","senator_dz#7256","06-May-20 01:27 AM","yeah","",""
"673281001815801916","nicomontaldi#6525","06-May-20 01:27 AM","that'll fix it","",""
"236916803874455553","senator_dz#7256","06-May-20 01:28 AM","mice","",""
"236916803874455553","senator_dz#7256","06-May-20 01:29 AM","n","",""
"366399059268861964","bocajbee#6122","06-May-20 02:16 AM","How would you guys rate the difficulty of this pset vs filter (more)?","",""
"366399059268861964","bocajbee#6122","06-May-20 02:16 AM","Just about to start it","",""
"704465538851668029","pocoyo#7912","06-May-20 03:25 AM","well, i had trouble understanding what some functions actually did","",""
"176385130250633217","aznx2oa#1971","06-May-20 03:44 AM","@Juan518 I am getting segmentation fault as well.  How did you solve yours?
|| unsigned char bytes[512];

    int counter = 0;

    FILE *img = NULL;
    char *filename = malloc(8*sizeof(char));

    while (!feof(file)) {
        fread(bytes, 512, 512, file);

        // Checks if the first 4 bytes is JPG header
        if (bytes[0] == 0xff && bytes[1] == 0xd8 && bytes[2] == 0xff && (bytes[3] & 0xf0) == 0xe0)
        {
            if (counter == 0) { // checks if this is the first JPG file
                sprintf(filename, ""%03i.jpg"", counter); // create jpg file name string
                img = fopen(filename, ""w""); // open new jpg file to write mode
                fwrite(bytes, 512, 512, img); // write to jpg file
                counter++;
            }
            else { //already found a jpeg
                fclose(img); // close current file

                sprintf(filename, ""%03i.jpg"", counter); // create new jpg file name
                img = fopen(filename, ""w"");
                fwrite(bytes, 512, 512, img);
                counter++;
            }
        }
        else if (counter > 0) {
            fwrite(bytes, 512, 512, img);
        }
    }
    free(filename);
    fclose(file);||","",""
"338680201892462593","Juan518#6277","06-May-20 03:46 AM","The fread and fwrite functions","",""
"338680201892462593","Juan518#6277","06-May-20 03:47 AM","The size of the element you are scanning","",""
"338680201892462593","Juan518#6277","06-May-20 03:47 AM","Remember that each ""block"" is made out of 512 bytes","",""
"176385130250633217","aznx2oa#1971","06-May-20 03:47 AM","both my read and write are doing 512","",""
"338680201892462593","Juan518#6277","06-May-20 03:47 AM","So you want to read a byte 512 times","",""
"338680201892462593","Juan518#6277","06-May-20 03:49 AM","Your code is reading 512 (bits?) 512 times","",""
"176385130250633217","aznx2oa#1971","06-May-20 03:50 AM","its in bits..it should be sizeof(bytes)?","",""
"176385130250633217","aznx2oa#1971","06-May-20 03:53 AM","@Juan518     ||fread(bytes, sizeof(bytes), 512, file);||","",""
"338680201892462593","Juan518#6277","06-May-20 03:53 AM","Correct","",""
"338680201892462593","Juan518#6277","06-May-20 03:54 AM","If you see the pset page they tell you a way to create the BYTE variable","",""
"338680201892462593","Juan518#6277","06-May-20 03:54 AM","It's very useful","",""
"176385130250633217","aznx2oa#1971","06-May-20 03:56 AM","oh i spell uint wrong lol","",""
"176385130250633217","aznx2oa#1971","06-May-20 03:57 AM","that fixed it","",""
"176385130250633217","aznx2oa#1971","06-May-20 03:57 AM","guess i did not have enough memory","",""
"704465538851668029","pocoyo#7912","06-May-20 04:19 AM","> If you see the pset page they tell you a way to create the BYTE variable
@Juan518 i ended up declaring using char, as it takes 1 byte of memory","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:33 AM","@Juan518 I have a dif problem now. I ran it once after your suggestion and it ran, however now it has free() invalid size error, and only 6 JPG images are created","",""
"338680201892462593","Juan518#6277","06-May-20 04:34 AM","Put your mouse over the last one, if it's ~500MB your loop check function is probably not working","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:35 AM","76.00kb for 006.jpg","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:36 AM","i saw 49 jpgs the first time i ran it","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:36 AM","nothing changed since then...","",""
"338680201892462593","Juan518#6277","06-May-20 04:37 AM","Do the jpegs work?","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:37 AM","yes 000.jpg opens","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:37 AM","a guy holding a pingpongball and a girl sitting behind","",""
"338680201892462593","Juan518#6277","06-May-20 04:38 AM","And the last one?","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:38 AM","barely opens","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:38 AM","it shows teh edges of a guy siting on grass","",""
"338680201892462593","Juan518#6277","06-May-20 04:38 AM","Then it's the loop check","",""
"338680201892462593","Juan518#6277","06-May-20 04:39 AM","Edit: that or a memory overflow, I had that problem but I can't remember what caused it exactly, sorry","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:40 AM","i think its mem overflow","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:40 AM","let me revert bytes to an unsigned type","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:41 AM","ok got seg fault, as expected now let me use BYTE type again","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:42 AM","valgrind did give me an error","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:42 AM","but i dont know how to read","",""
"338680201892462593","Juan518#6277","06-May-20 04:42 AM","I couldn't either","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:42 AM","```==21935== Memcheck, a memory error detector
==21935== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==21935== Using Valgrind-3.13.0 and LibVEX; rerun with -h for copyright info
==21935== Command: ./recover card.raw
==21935== 
==21935== Syscall param read(buf) points to unaddressable byte(s)
==21935==    at 0x5726081: read (read.c:27)
==21935==    by 0x56A1671: _IO_file_xsgetn (fileops.c:1364)
==21935==    by 0x56953C0: fread (iofread.c:38)
==21935==    by 0x4008C6: main (recover.c:30)
==21935==  Address 0x5a07500 is 0 bytes after a block of size 512 alloc'd
==21935==    at 0x4C2FB0F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==21935==    by 0x40087C: main (recover.c:23)
==21935== 
==21935== 
==21935== HEAP SUMMARY:
==21935==     in use at exit: 0 bytes in 0 blocks
==21935==   total heap usage: 18 allocs, 18 frees, 37,704 bytes allocated
==21935== 
==21935== All heap blocks were freed -- no leaks are possible
==21935== 
==21935== For counts of detected and suppressed errors, rerun with: -v
==21935== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)```","",""
"338680201892462593","Juan518#6277","06-May-20 04:43 AM","Your malloc function may no be assigning enough memory","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:44 AM","char *filename = malloc(8 * sizeof(char));
    BYTE *bytes = malloc(512 * sizeof(BYTE));","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:46 AM","wait i think i found it","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:47 AM","fixed it","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:48 AM","Results for cs50/problems/2020/x/recover generated by check50 v3.0.10
üôÇ recover.c exists.
üôÇ recover.c compiles.
üôÇ handles lack of forensic image
üôÇ recovers 000.jpg correctly
üôÇ recovers middle images correctly
üò¶ recovers 049.jpg correctly
    recovered image does not match","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:50 AM","but the image opens lol","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:53 AM","oh its missing .50","",""
"176385130250633217","aznx2oa#1971","06-May-20 04:53 AM","its 77.50kb","",""
"176385130250633217","aznx2oa#1971","06-May-20 05:05 AM","moving my fread to while loop condition fixed it","",""
"176385130250633217","aznx2oa#1971","06-May-20 05:05 AM","feof only returns if try to read past EOF","",""
"176385130250633217","aznx2oa#1971","06-May-20 05:08 AM","```check50 6/6 ‚Ä¢ style50 1.00 ‚Ä¢ 0 comments```","",""
"241523288239505409","rocketdonald#2128","06-May-20 05:09 AM","So ||fread(buffer, 512, 1, file) inside do-while statement|| will loop through the whole raw file or it will only read the first 512bytes data?","",""
"176385130250633217","aznx2oa#1971","06-May-20 05:16 AM","It reads 512bits one time.","",""
"176385130250633217","aznx2oa#1971","06-May-20 05:17 AM","So you want to read a byte 512 times","",""
"176385130250633217","aznx2oa#1971","06-May-20 05:44 AM","@Juan518 moving my fread to while loop condition fixed it. I was using feof. Which is a bit different and that dropped some bytes","","üíØ (1)"
"176385130250633217","aznx2oa#1971","06-May-20 05:45 AM","Finding the mem leak was worse lol. How I hate low level languages","",""
"176385130250633217","aznx2oa#1971","06-May-20 05:46 AM","But it is more used for accuracy and memory usage","",""
"692520323899195443","ahmedomar#7143","06-May-20 07:00 AM","hello all! quick question... I am creating a for loop to read the memory card! How do I implement the for loop to ensure that I am reading the entire card","",""
"692520323899195443","ahmedomar#7143","06-May-20 07:01 AM","currently my loop until i < 500,000 times just so I could test if it was working and it seems to be working 
||for (int i = 0; i < 500000; i++)
   {
        //Read 512 bytes (1 block) from file
        unsigned char bytes [512];
        fread(bytes, 3, 1, file);
            
        //Check if bytes are JPEG image
        if (bytes[0] == 0xff && bytes[1] == 0xd8 && bytes[2] == 0xff)
        {
            printf(""Maybe a JPEG\n"");
        }||","",""
"176385130250633217","aznx2oa#1971","06-May-20 07:06 AM","i suggest you use a while loop","",""
"692520323899195443","ahmedomar#7143","06-May-20 07:17 AM","thanks for the suggestion @aznx2oa ! So how will I know when I reach the end of the memory card?","",""
"692520323899195443","ahmedomar#7143","06-May-20 07:25 AM","my pseudocode is while (int i < total # of blocks)! lol I just cant figure out how to determine total # of blocks in the memory card","",""
"698435959317856288","Velocity#2449","06-May-20 07:38 AM","https://pastebin.com/wvAmcQ0W","",""
"698435959317856288","Velocity#2449","06-May-20 07:39 AM","ive got segemtation fault. could i please get some help on my code. appreciated.","",""
"157815562846601216","Jacob#6236","06-May-20 09:14 AM","@ahmedomar This is covered in Brian's walkthrough video.","",""
"176385130250633217","aznx2oa#1971","06-May-20 09:14 AM","@ahmedomar you don't need an interrator u need fread","",""
"176385130250633217","aznx2oa#1971","06-May-20 09:15 AM","When u cannot read anymore bytes it'll exit loop","",""
"221834853941772288","Secret Agent Xin Zhao#9268","06-May-20 07:27 PM","@Velocity Run debug50 and try to see which line gives seg fault","",""
"221834853941772288","Secret Agent Xin Zhao#9268","06-May-20 07:27 PM","If it's sprintf, then you will need to allocate memory dynamically, that is malloc","",""
"176385130250633217","aznx2oa#1971","06-May-20 08:10 PM","@Secret Agent Xin Zhao i thought i was in the wrong discord cuz your name is league of legends","",""
"386702217861660683","SiNiStRo#9476","06-May-20 08:18 PM","||typedef uint8_t BYTE;
BYTE chunk512[512];
fread(chunk512,1,512,file2);||

I am doing some mistake to fread, can someone point out?
I dont get any value inside the
chunk512[0];","",""
"176385130250633217","aznx2oa#1971","06-May-20 08:21 PM","you 1 is 1bit not byte","",""
"386702217861660683","SiNiStRo#9476","06-May-20 08:25 PM","> you 1 is 1bit not byte
@aznx2oa 
If I understand correctly the size is in bytes
 fread(void *ptr, size_t size, size_t nmemb, FILE *stream)
""size ‚àí This is the size in bytes of each element to be read."" https://www.tutorialspoint.com/c_standard_library/c_function_fread.htm","",""
"176385130250633217","aznx2oa#1971","06-May-20 08:25 PM","if you replace the 1 with sizeof(BYTE) seg should be fixed","",""
"386702217861660683","SiNiStRo#9476","06-May-20 08:26 PM","sizeof(BYTE) == 1","",""
"386702217861660683","SiNiStRo#9476","06-May-20 08:28 PM","> should I loop the fread 512 times?","",""
"176385130250633217","aznx2oa#1971","06-May-20 08:29 PM","no, you should keep reading until there is no more to read. Its not a definite 512","",""
"176385130250633217","aznx2oa#1971","06-May-20 08:29 PM","you use a while loop in conjunction with the fread","",""
"176385130250633217","aznx2oa#1971","06-May-20 08:29 PM","if you guys want to print out the hex for the JPG header use ""%x""","",""
"386702217861660683","SiNiStRo#9476","06-May-20 08:30 PM","I did that but I get a segmentation fault. then I did a debug and I am getting 0 after fread meaning I have no values after the reading is not working","",""
"386702217861660683","SiNiStRo#9476","06-May-20 08:30 PM","thanks for the tip of %x","",""
"176385130250633217","aznx2oa#1971","06-May-20 08:30 PM","i had zeros too until i did the sizeof(BYTE)","",""
"386702217861660683","SiNiStRo#9476","06-May-20 08:31 PM","let's do it, no harm in trying that lol","",""
"176385130250633217","aznx2oa#1971","06-May-20 08:31 PM","BYTE chunk512[512]; <-- where is the memory allocated","",""
"176385130250633217","aznx2oa#1971","06-May-20 08:31 PM","you are missing something","",""
"386702217861660683","SiNiStRo#9476","06-May-20 08:38 PM","I tried this but didnt work too
||BYTE *chunk512; 
chunk512 = malloc(512 * sizeof(BYTE));||","",""
"176385130250633217","aznx2oa#1971","06-May-20 08:39 PM","are you still doing an array?","",""
"176385130250633217","aznx2oa#1971","06-May-20 08:39 PM","or is that a typo","",""
"186998358328606720","Zivy#2628","06-May-20 08:44 PM","Hey I'm just starting out with Recovery, but I'm unsure how to loop through the file to read 4 bits at a time for a 512 bytes chunk","",""
"176385130250633217","aznx2oa#1971","06-May-20 08:45 PM","its the first 4 bytes out of 512, not 4 bits at a time","",""
"176385130250633217","aznx2oa#1971","06-May-20 08:45 PM","you use fread() via the walkthrough","",""
"176385130250633217","aznx2oa#1971","06-May-20 08:45 PM","it gives everything","",""
"186998358328606720","Zivy#2628","06-May-20 08:46 PM","yeah that's what I meant","",""
"186998358328606720","Zivy#2628","06-May-20 08:47 PM","Wouldn't we need to loop through the file though?","",""
"176385130250633217","aznx2oa#1971","06-May-20 08:48 PM","you just need a while loop for that","",""
"245243454269947914","JohanneZ#0741","06-May-20 08:49 PM","can someone join voice and help me and pinja with a project?","",""
"186998358328606720","Zivy#2628","06-May-20 08:50 PM","> you just need a while loop for that
@aznx2oa Yeah I'm unsure how to implement this","",""
"176385130250633217","aznx2oa#1971","06-May-20 08:50 PM","while (some condition) {// do something}","",""
"176385130250633217","aznx2oa#1971","06-May-20 08:51 PM","brian in the walkthrough gives u the psuedo code for the whole code","",""
"386702217861660683","SiNiStRo#9476","06-May-20 08:54 PM","the beginning of the file has zeros, I though this was the error. I opened the file in a hex file editor, the problem is somewhere else. Let me find again","",""
"697868665915441153","MasonMore#3601","06-May-20 10:17 PM","i'm having trouble with how i would write what the total bytes the card.raw is","",""
"186998358328606720","Zivy#2628","06-May-20 10:30 PM","> i'm having trouble with how i would write what the total bytes the card.raw is
@MasonMore same","",""
"186998358328606720","Zivy#2628","06-May-20 10:39 PM","The ""buffer"", what datatype would that be of?","",""
"517747246784184350","jibran#4817","06-May-20 10:43 PM","@Zivy could be BYTE, look at the hints part in the instructions","",""
"697868665915441153","MasonMore#3601","06-May-20 11:13 PM","I used the walkthrough to get this but i think in some spots where i wrote ""filename"" it shouldnt actually be ""filename"". If someone could point out where i went wrong that'd be great ||sprintf(filename, ""%03i.jpg"", count);
            FILE *img = fopen(filename, ""w"");
            fwrite(byte, 512, 512,filename) ||","",""
"325380725933211660","Drew#6099","06-May-20 11:18 PM","Would anyone whos completed this be able to look over my code? i'm really not sure what i'm missing üòí","",""
"704465538851668029","pocoyo#7912","06-May-20 11:36 PM",">            || fwrite(byte, 512, 512,filename) ||
@MasonMore what is byte in your code?","",""
"704465538851668029","pocoyo#7912","06-May-20 11:36 PM","> Would anyone whos completed this be able to look over my code? i'm really not sure what i'm missing üòí
@Drew what type of error are u getting?","",""
"325380725933211660","Drew#6099","06-May-20 11:42 PM","> @Drew what type of error are u getting?
@pocoyo segmentation, I'm using the dynamic memory and then freeing it, so I'm not too sure what the issue is...","",""
"325380725933211660","Drew#6099","06-May-20 11:42 PM","ifs its anything like the other psets i'll move one element and it'll be fine but I've had no success today..","",""
"325380725933211660","Drew#6099","06-May-20 11:48 PM","> I used the walkthrough to get this but i think in some spots where i wrote ""filename"" it shouldnt actually be ""filename"". If someone could point out where i went wrong that'd be great ||sprintf(filename, ""%03i.jpg"", count);
>             FILE *img = fopen(filename, ""w"");
>             fwrite(byte, 512, 512,filename) ||
@MasonMore without seeing the rest of your code I believe you will want to update fwrite.
Think about the size and number of elements. They shouldn't both be 512.","",""
"386702217861660683","SiNiStRo#9476","06-May-20 11:48 PM","I am not able to write a single file. I tried this simplest line of code ||fwrite(file+1024,512,223,img);|| but he file comes witth 0 bytes","",""
"704465538851668029","pocoyo#7912","06-May-20 11:48 PM","i completed this pset last night after struggling a lot, if u want i can take a look at it, but i am no expert","",""
"386702217861660683","SiNiStRo#9476","06-May-20 11:48 PM","tks","",""
"386702217861660683","SiNiStRo#9476","06-May-20 11:52 PM","> @MasonMore without seeing the rest of your code I believe you will want to update fwrite.
> Think about the size and number of elements. They shouldn't both be 512.
@Drew your fwrite is fwrite(byte,512,512,filename) that way you are recording 512 blocks of 512bytes each","",""
"325380725933211660","Drew#6099","06-May-20 11:53 PM","> @Drew your fwrite is fwrite(byte,512,512,filename) that way you are recording 512 blocks of 512bytes each
@SiNiStRo thats what I was hinting at for him lol","",""
"386702217861660683","SiNiStRo#9476","06-May-20 11:53 PM","he he he","",""
"704465538851668029","pocoyo#7912","06-May-20 11:54 PM","you need to read/write one byte 512 times","",""
"697868665915441153","MasonMore#3601","06-May-20 11:55 PM","@pocoyo  i changed it to  fwrite(byte, 512, 1,img)","",""
"704465538851668029","pocoyo#7912","06-May-20 11:56 PM","that is reading 512 bytes one time","",""
"704465538851668029","pocoyo#7912","06-May-20 11:56 PM","is byte your buffer?","",""
"698435959317856288","Velocity#2449","07-May-20 12:26 AM","https://pastebin.com/1GyqvMV5","",""
"698435959317856288","Velocity#2449","07-May-20 12:26 AM","so ive allocated memory using malloc to my filename and buffer but im still getting a segmentation fault","",""
"635713828876714004","Itz_Samuxl#6596","07-May-20 12:28 AM","","https://cdn.discordapp.com/attachments/395684916056031245/707705431039934524/JPEG_20200507_012339.jpg",""
"635713828876714004","Itz_Samuxl#6596","07-May-20 12:28 AM","Is this fine","",""
"635713828876714004","Itz_Samuxl#6596","07-May-20 12:28 AM","Plz tell.....","",""
"635713828876714004","Itz_Samuxl#6596","07-May-20 12:29 AM","It is still processing","",""
"635713828876714004","Itz_Samuxl#6596","07-May-20 12:29 AM","???","",""
"176385130250633217","aznx2oa#1971","07-May-20 12:31 AM","@Velocity why are you += 512 for counter when that is for jpg filename","",""
"635713828876714004","Itz_Samuxl#6596","07-May-20 12:32 AM","@aznx2oa u askin me?","",""
"176385130250633217","aznx2oa#1971","07-May-20 12:32 AM","@Itz_Samuxl you image is about scratch, you in the right thread?","",""
"386702217861660683","SiNiStRo#9476","07-May-20 01:15 AM","what is the exact size of image 49.jpg?","",""
"176385130250633217","aznx2oa#1971","07-May-20 01:18 AM","~77.5kb at least for me","",""
"386702217861660683","SiNiStRo#9476","07-May-20 01:22 AM","> ~77.5kb at least for me
@aznx2oa I am getting this  78.848 bytes
thanks. I am existing the looping sooner","",""
"698435959317856288","Velocity#2449","07-May-20 01:35 AM","@aznx2oa i removed it but im still getting segmentation fault","",""
"176385130250633217","aznx2oa#1971","07-May-20 01:36 AM","seg fault is caused by memory issue","",""
"698435959317856288","Velocity#2449","07-May-20 01:36 AM","this is what caused the seg fault","",""
"176385130250633217","aznx2oa#1971","07-May-20 01:36 AM","if you run debug50, where does it seg fauly","",""
"176385130250633217","aznx2oa#1971","07-May-20 01:36 AM","read or write","",""
"698435959317856288","Velocity#2449","07-May-20 01:37 AM","","https://cdn.discordapp.com/attachments/395684916056031245/707722640655384667/SPOILER_unknown.png",""
"698435959317856288","Velocity#2449","07-May-20 01:37 AM","the fwrite","",""
"393854278764068875","curiouskiwi#1671","07-May-20 01:37 AM","look at your logic","",""
"393854278764068875","curiouskiwi#1671","07-May-20 01:37 AM","if it's a header do this, else write","",""
"393854278764068875","curiouskiwi#1671","07-May-20 01:37 AM","what if there's no open jpg file to write to?","",""
"386702217861660683","SiNiStRo#9476","07-May-20 01:38 AM","I am doing valgrind to reduce the memory leaks. any tip? I am still getting blocks are definitely lost in loss record","",""
"393854278764068875","curiouskiwi#1671","07-May-20 01:39 AM","are you actually mallocing anything?","",""
"386702217861660683","SiNiStRo#9476","07-May-20 01:41 AM","> are you actually mallocing anything?
@curiouskiwi two things ( char *filename and byte *chunk512 ) 
there are some pointers. Should I free the pointers?","",""
"393854278764068875","curiouskiwi#1671","07-May-20 01:46 AM","anything you malloc you need to free","",""
"386702217861660683","SiNiStRo#9476","07-May-20 01:47 AM","> anything you malloc you need to free
@curiouskiwi thanks","",""
"698435959317856288","Velocity#2449","07-May-20 01:54 AM","@curiouskiwi https://pastebin.com/HX21UZyk","",""
"265319015994490881","ginja#8294","07-May-20 01:54 AM","hello. For some reason check50 is saying that my 049.jpg doesn't match. the size for 049.jpg is showing as 77.5k KB. And this is the image I have for it:","",""
"265319015994490881","ginja#8294","07-May-20 01:54 AM","","https://cdn.discordapp.com/attachments/395684916056031245/707727043944513586/unknown.png",""
"698435959317856288","Velocity#2449","07-May-20 01:54 AM","So ive reated a bool that checks for either if it is found or not","",""
"698435959317856288","Velocity#2449","07-May-20 01:55 AM","but i think i have something wrong with my write since that the image is `Invalid or unsupported image format`","",""
"265319015994490881","ginja#8294","07-May-20 01:59 AM","I hade that invaid or unsupported image format issue too","",""
"265319015994490881","ginja#8294","07-May-20 02:00 AM","turns out I wasn't using my buffer as the pointer to write from.","",""
"265319015994490881","ginja#8294","07-May-20 02:00 AM","when fixed that, the files finally started opening","",""
"698435959317856288","Velocity#2449","07-May-20 02:04 AM","||`BYTE *buffer = malloc(512 * sizeof(char));`||","",""
"698435959317856288","Velocity#2449","07-May-20 02:04 AM","This is my byte buffer","",""
"265319015994490881","ginja#8294","07-May-20 02:07 AM","ok, so in your fwrite line are you using buffer?","",""
"698435959317856288","Velocity#2449","07-May-20 02:08 AM","||`fwrite(buffer, sizeof(BYTE), byteRead, outptr);`||","",""
"265319015994490881","ginja#8294","07-May-20 02:09 AM","ok, it looks like you don't have the problem i had.","",""
"265319015994490881","ginja#8294","07-May-20 02:09 AM","sorry i can't help","",""
"386702217861660683","SiNiStRo#9476","07-May-20 03:53 AM","> hello. For some reason check50 is saying that my 049.jpg doesn't match. the size for 049.jpg is showing as 77.5k KB. And this is the image I have for it:
@ginja take a lofok on the eof. https://www.geeksforgeeks.org/eof-and-feof-in-c/ your file should be too big or too short by 512bytes","",""
"176385130250633217","aznx2oa#1971","07-May-20 05:08 AM","@SiNiStRo do not use feof(), i had the same issue. what feof does is it only triggers if trying to read past EOF","",""
"186998358328606720","Zivy#2628","07-May-20 07:19 AM","There must be several errors here, I'm especially unsure about the last ""else"" statement before the end","https://cdn.discordapp.com/attachments/395684916056031245/707808736965689364/SPOILER_Screenshot_2020-05-07_at_1.17.50_AM.png",""
"693019348394311710","maverick#4171","07-May-20 08:01 AM","can someone please help me with recover","",""
"693019348394311710","maverick#4171","07-May-20 08:01 AM","I have been stuck at this code for quiet a while now and i am finally able to generate all the images but the images are pixalated and not correct . I have seen online as why this might happen and changed my code but this is not helping me at all.

I am getting following messages from check50

üôÇ recover.c exists.

üôÇ recover.c compiles.

üôÇ handles lack of forensic image

üò¶ recovers 000.jpg correctly recovered image does not match

üò¶ recovers middle images correctly recovered image does not match

üò¶ recovers 049.jpg correctly recovered image does not match","",""
"693019348394311710","maverick#4171","07-May-20 08:01 AM","SPOILER #include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
//#include <stdint.h>
typedef unsigned char BYTE;

int main(int argc, char *argv[])
{
    if (argc!=2)
    {
        printf(""Usage: ./recover image"");
        return 1;
    }

    FILE *file = fopen(argv[1],""r"");
    if(file ==NULL)
    {
        printf(""cannot be opened"");
        return 1;
    }
    
    //for (   ) //here we read till it reaches end of file i.e able to read 512 bytes and not less
    
    
    
    BYTE bytes[512]; // defining buffer
    char filename[8];
    int count = -1;
    FILE *img = NULL;
    //bool flag = false;
    bool new_file = false;
    
    while ((fread(bytes,512,1,file))==1)
    {
        if((bytes[0] == 0xff) &&(bytes[1] == 0xd8) && (bytes[2] == 0xff) && ((bytes[3] & 0xf0) == 0xe0))
    {
        new_file = true;
        
        
        count++;
        sprintf(filename,""%03i.jpg"",count);
        img = fopen(filename,""w"");
        fwrite(bytes,512,1,img);
        fclose(img);
        
        
        
        
        if (new_file == false)
        {
           img = fopen(filename,""a"");
           fwrite(bytes,512,1,img);
           fclose(img);
           
        
        }
    
   
    }    
}

fclose(file);
//fclose(img);
return 0;

}","",""
"693019348394311710","maverick#4171","07-May-20 08:01 AM","this is my code please suggest changes or bugs","",""
"221834853941772288","Secret Agent Xin Zhao#9268","07-May-20 09:17 AM","> @Secret Agent Xin Zhao i thought i was in the wrong discord cuz your name is league of legends
@aznx2oa Haha","",""
"221834853941772288","Secret Agent Xin Zhao#9268","07-May-20 09:24 AM",">         if (new_file == false)
>         {
>            img = fopen(filename,""a"");
>            fwrite(bytes,512,1,img);
>            fclose(img);
>         }
@maverick It's probably this few lines","","üëç (1)"
"221834853941772288","Secret Agent Xin Zhao#9268","07-May-20 09:24 AM","It is nested inside the if () condition.","",""
"221834853941772288","Secret Agent Xin Zhao#9268","07-May-20 09:25 AM","Which will only run if the first 4 bytes is the header of a jpg file","",""
"693019348394311710","maverick#4171","07-May-20 09:26 AM","Should i use another bool instead of new_file?","",""
"221834853941772288","Secret Agent Xin Zhao#9268","07-May-20 09:32 AM","Have you watched the walkthrough by Brian?","",""
"221834853941772288","Secret Agent Xin Zhao#9268","07-May-20 09:32 AM","You should follow the pseudocode there","",""
"693019348394311710","maverick#4171","07-May-20 09:33 AM","yeah i have watched that","",""
"221834853941772288","Secret Agent Xin Zhao#9268","07-May-20 09:34 AM","It says after you found the header you should continue copying the blocks","",""
"221834853941772288","Secret Agent Xin Zhao#9268","07-May-20 09:34 AM","Your code only runs whenever it finds a jpg header","",""
"221834853941772288","Secret Agent Xin Zhao#9268","07-May-20 09:35 AM","So the rest of the picture is not copied","",""
"693019348394311710","maverick#4171","07-May-20 09:35 AM","while ((fread(bytes,512,1,file))==1)
    { new_file = false;
        if((bytes[0] == 0xff) &&(bytes[1] == 0xd8) && (bytes[2] == 0xff) && ((bytes[3] & 0xf0) == 0xe0))
    {
        new_file = true;    should this help as now it not only runs when header is jpg","",""
"693019348394311710","maverick#4171","07-May-20 09:35 AM","@Secret Agent Xin Zhao","",""
"221834853941772288","Secret Agent Xin Zhao#9268","07-May-20 09:36 AM","No","",""
"221834853941772288","Secret Agent Xin Zhao#9268","07-May-20 09:36 AM","Your code is still only copying the blocks which have the header only","",""
"221834853941772288","Secret Agent Xin Zhao#9268","07-May-20 09:37 AM","Try to look at the pseudocode and change your code","",""
"693019348394311710","maverick#4171","07-May-20 09:41 AM","sorry there was a mistake of bracket in the prev message","",""
"693019348394311710","maverick#4171","07-May-20 09:41 AM","SPOILER","",""
"693019348394311710","maverick#4171","07-May-20 09:41 AM","this works fine now , thanks a lot @Secret Agent Xin Zhao  üôÇ","",""
"693019348394311710","maverick#4171","07-May-20 09:42 AM","finally able to submit this","",""
"221834853941772288","Secret Agent Xin Zhao#9268","07-May-20 12:42 PM","üëç","",""
"487681505188118529","roughweed#9133","07-May-20 05:26 PM","```C
fread(temp, sizeof(char), 512, memory_card);
if (temp[0] == 0xff && temp[1] == 0xd8 && temp[2] == 0xff && (temp[3] & 0xf0) == 0xe0)```","",""
"487681505188118529","roughweed#9133","07-May-20 05:27 PM","Did I do anything wrong while setting up the condition? It always returns false","",""
"487681505188118529","roughweed#9133","07-May-20 05:34 PM","```C
int *temp = malloc(sizeof(char) * 512);
```","",""
"361235692019384323","Sanath#7244","07-May-20 05:36 PM","wrong variable type for temp","",""
"487681505188118529","roughweed#9133","07-May-20 05:41 PM","what should I take then?","",""
"487681505188118529","roughweed#9133","07-May-20 05:43 PM","taking `char` as variable type displays
```bash
error: result of comparison of constant 255 with expression of type 'char' is always false
```","",""
"361235692019384323","Sanath#7244","07-May-20 05:44 PM","an unsigned byte size type","",""
"361235692019384323","Sanath#7244","07-May-20 05:44 PM","its one of the hints in the problem","",""
"361235692019384323","Sanath#7244","07-May-20 05:44 PM","the highest value a char can store is 127","",""
"487681505188118529","roughweed#9133","07-May-20 05:46 PM","let me try and get to you with the update","",""
"487681505188118529","roughweed#9133","07-May-20 05:49 PM","```C
typedef unint8_t BYTE;
BYTE *temp = malloc(sizeof(char) * 512);
fread(temp, 512, 1, memory_card);
conditioned while loop
{
  if (temp[0] == 0xff && temp[1] == 0xd8 && temp[2] == 0xff && (temp[3] & 0xf0) == 0xe0)
  {
    conditions;
  }
  else
  {
    conditions;
  }
}```","",""
"487681505188118529","roughweed#9133","07-May-20 05:49 PM","yet it is going through an infinity loop","",""
"361235692019384323","Sanath#7244","07-May-20 05:50 PM","thats an issue in your loop condition","",""
"487681505188118529","roughweed#9133","07-May-20 05:51 PM","I checked with `debug50`
Shows that, the if statement is never true","",""
"361235692019384323","Sanath#7244","07-May-20 05:51 PM","i need to know what youre doing in your loop","",""
"487681505188118529","roughweed#9133","07-May-20 05:52 PM","Inbox? I'm unable to mark the codes with spoiler","",""
"361235692019384323","Sanath#7244","07-May-20 05:53 PM","sure","",""
"487681505188118529","roughweed#9133","07-May-20 06:14 PM","@Sanath can you check your inbox please?","",""
"644984262461751306","babayaro#8406","07-May-20 08:12 PM","> can someone please help me with recover
@maverick I get the same message. Th4 49th photo they showed above is 50th in my list and its the last","",""
"644984262461751306","babayaro#8406","07-May-20 08:13 PM","||if(bytes[0] == 0xff && bytes[1] == 0xd8 && bytes[2] == 0xff && (bytes[3] & 0xf0) == 0xe0)
        {
            if (counter == 0)
            {
                sprintf(filename, ""%03i.jpg"", counter++);
                img = fopen(filename, ""w"");
                fwrite(bytes, 512, 1, img);
            }
            else
                fclose(img);
                sprintf(filename, ""%03i.jpg"", counter++);
                img = fopen(filename, ""w"");
                fwrite(bytes, 512, 1, img);
            
        }
        else if (counter > 0)
            fwrite(bytes, 512, 1, img);    
    }|| Could someone check this?","",""
"487681505188118529","roughweed#9133","07-May-20 08:23 PM","Anybody knows what's wrong here?
```C
sprintf(filename, ""images/%03i.jpg"", ++count);
new_jpeg = fopen(filename, ""a"");
fwrite(temp, 512, 1, new_jpeg);
```
Shows segmentation fault. Checked with debug. Problem's with the `fwrite` function","",""
"487681505188118529","roughweed#9133","07-May-20 09:21 PM","Recovered `049.jpg` looks like this
Used `feof()` function to check EOF. chek50 says recovered `049.jpg` doesn't match. Any idea how to fix?","https://cdn.discordapp.com/attachments/395684916056031245/708020613167448074/gXii1FsbW3iP6dNohQc078OAAAAAElFTkSuQmCC.png",""
"697868665915441153","MasonMore#3601","07-May-20 09:47 PM","I'm having trouble with creating and writing to a .jpg file, I tried following along and replicating from the walkthrough but I think I took it too literally.","https://cdn.discordapp.com/attachments/395684916056031245/708027285982412930/SPOILER_unknown.png",""
"697868665915441153","MasonMore#3601","07-May-20 09:48 PM","","https://cdn.discordapp.com/attachments/395684916056031245/708027373433389106/SPOILER_unknown.png",""
"697868665915441153","MasonMore#3601","07-May-20 09:48 PM","if someone could point me in the direction where i started to go wrong it would be appreciated","",""
"487681505188118529","roughweed#9133","07-May-20 09:49 PM","`fwrite(byte)` it would be. `&` refers to the address, not the value.","",""
"697868665915441153","MasonMore#3601","07-May-20 09:51 PM","so when you are using fwrite all you have to do is tell it the value what it is writing? in my case everything that would be stored in byte?","",""
"487681505188118529","roughweed#9133","07-May-20 09:52 PM","Not the value actually. You have to refer the buffer. Not the address of the buffer.","",""
"697868665915441153","MasonMore#3601","07-May-20 09:52 PM","ok","",""
"697868665915441153","MasonMore#3601","07-May-20 09:52 PM","is the sprintf part right though?","",""
"697868665915441153","MasonMore#3601","07-May-20 09:53 PM","or am i using filename to literally from the walkthrough","",""
"487681505188118529","roughweed#9133","07-May-20 09:55 PM","`FILE* img = fopen(filename, ""a"")`","",""
"487681505188118529","roughweed#9133","07-May-20 09:55 PM","`write` attribute will delete your previous data from jpeg. Use `append`.","",""
"697868665915441153","MasonMore#3601","07-May-20 09:57 PM","@roughweed  ok, so my code that i posted was supposed to be for the first jpg so that WOULD be 'w' in this case but all after than needs to be 'a'. is that right","",""
"697868665915441153","MasonMore#3601","07-May-20 09:58 PM","or whenever the jpg is brand new i write to it then until i close that jpg and open a new one i would be appending it","",""
"487681505188118529","roughweed#9133","07-May-20 09:59 PM","Ummm... You don't need to use `w` at all. `a` works for the brand new ones too","",""
"697868665915441153","MasonMore#3601","07-May-20 10:00 PM","makes sense, because a will always add but w will overwrite","",""
"697868665915441153","MasonMore#3601","07-May-20 10:16 PM","FILE *img, does it have to be img specifically? what does img signify","",""
"176385130250633217","aznx2oa#1971","07-May-20 10:25 PM","img is just a name. it can be anything","",""
"697868665915441153","MasonMore#3601","07-May-20 10:52 PM","i'm opening a file i've called img  ||   FILE *img = fopen(filename, ""a""); || then later i'm trying to close it but it says img is undeclared","",""
"487681505188118529","roughweed#9133","07-May-20 10:59 PM","Can you show us more about your code?","",""
"644984262461751306","babayaro#8406","07-May-20 11:00 PM","> i'm opening a file i've called img  ||   FILE *img = fopen(filename, ""a""); || then later i'm trying to close it but it says img is undeclared
@MasonMore Most probably you declared img first time inside the if statement. It should be declared outside of it and you should open that already declared file inside the if statement if its true","",""
"697868665915441153","MasonMore#3601","07-May-20 11:00 PM","how do i define it?","",""
"644984262461751306","babayaro#8406","07-May-20 11:05 PM","Sorry ""declare"" is the right verbüò´","",""
"186998358328606720","Zivy#2628","07-May-20 11:10 PM","I have like 6 errors","",""
"186998358328606720","Zivy#2628","07-May-20 11:10 PM","Can somone help me out here?","https://cdn.discordapp.com/attachments/395684916056031245/708048143517745242/SPOILER_Screenshot_2020-05-08_at_1.40.05_AM.png",""
"186998358328606720","Zivy#2628","07-May-20 11:11 PM","I think I have declared "" f "" as a file in line 17, but on of my erorrs talk about how

 ""incompatible pointer types passing 'FILE **' (aka 'struct _IO_FILE **') to parameter of type 'const  char *' [-Werror,-Wincompatible-pointer-types]""","",""
"386702217861660683","SiNiStRo#9476","08-May-20 12:05 AM","you should look to fread function. that returns the number of blocks read I don't think >0 is going to serve your purpose","",""
"393854278764068875","curiouskiwi#1671","08-May-20 12:47 AM","please use spoiler tags!","",""
"393854278764068875","curiouskiwi#1671","08-May-20 12:47 AM","@Yaroslav in your logic, you say ""if it's a signature ...  do this,  else write the bytes""  What if there's no file open?","",""
"186998358328606720","Zivy#2628","08-May-20 12:59 AM","> you should look to fread function. that returns the number of blocks read I don't think >0 is going to serve your purpose
@SiNiStRo  oh thank you! I thought it returned how many blocks are left","",""
"693164086946693160","Yaroslav#9281","08-May-20 02:31 AM","Can anyone explain how BITWISE `(buffer[3] & 0xf0) == 0xe0` works?","",""
"387423827837190144","BBZ#3311","08-May-20 02:33 AM","EDIT: Well I just realized if I go deeper into memory it starts printing non-0s, guess I should've went past the first 512B. Otherwise does the code look like I'm headed the right way? I will implement ||a loop taking into account the 512 segmentation, this was just exploratory||

Can someone let me know if my code is working at all before I dig deeper into looping thru the .raw? I'm just trying to explore the card.raw and see the bytes, but it's just returning 0s, is it failing to read the file or print the hexs? If so can you point my the line I should be looking into? Thanks!! (click below to see code)
||```FILE *disk = fopen(argv[1], ""r""); // Didn't include verifications into the discord for brevity
//unsigned char threeBytes[3];  // As used in the class notes, same result as with malloc/free, it is my understanding that both options //work the same except that malloc persists outside the function scope, or something like that
unsigned char *threeBytes = malloc(300);
fread(threeBytes, 300, 1, disk);
for (int i = 0; i<300; i++)
{
    printf(""%x\n"", threeBytes[i]);
}
free(threeBytes);
fclose(disk);```||","",""
"393854278764068875","curiouskiwi#1671","08-May-20 02:57 AM","`xxd -l 512 card.raw` will show you the first 512 bytes","",""
"393854278764068875","curiouskiwi#1671","08-May-20 02:57 AM","`xxd -s 512 -l 512 card.raw` will show you the next 512 bytes (`-s ` is start and `-l` is length)","",""
"387423827837190144","BBZ#3311","08-May-20 03:15 AM","Will ||fseek(file, 512, SEEK_CUR);|| quit or crash once it reaches the end of a stream or it needs to be hardcoded? My script has been looking for a jpg with no hit for a while now","",""
"269227960156946454","GhostDragon#7128","08-May-20 03:17 AM","https://man.cs50.io/3/fseek","",""
"387423827837190144","BBZ#3311","08-May-20 03:19 AM","Guess that means it would return a EBADF error if it does overreach?","",""
"269227960156946454","GhostDragon#7128","08-May-20 03:20 AM","probably","",""
"387423827837190144","BBZ#3311","08-May-20 05:58 AM","For the last picture to save, are you supposed to find the end of it (maybe thru the slackspace?) or just grab from the first 4 bytes thru the end of the .raw (it works but feels cheaty..)? If it's thru the slackspace, how are you supposed to decide how many 0s is enough to be slack space and not pixels?","",""
"354372432838000642","humanbeing#0598","08-May-20 06:17 AM","is recover easier the filter?","",""
"354372432838000642","humanbeing#0598","08-May-20 06:17 AM","how did you guys get to here in the first place üò¶","",""
"354372432838000642","humanbeing#0598","08-May-20 06:17 AM","this is so hard","",""
"387423827837190144","BBZ#3311","08-May-20 06:25 AM","I wouldn't say it's easier but it's tapping into a different knowledgebase","",""
"387423827837190144","BBZ#3311","08-May-20 06:26 AM","To me filter was more about implementing algorithms and math(ish) formulas while recover is more about using file functions and memory","",""
"387423827837190144","BBZ#3311","08-May-20 06:26 AM","i found recover harder","",""
"387423827837190144","BBZ#3311","08-May-20 06:32 AM","You can @ me if you need a hand","",""
"354372432838000642","humanbeing#0598","08-May-20 06:42 AM","You got it figured out ?","",""
"186998358328606720","Zivy#2628","08-May-20 09:27 AM","Recover is killing me","",""
"186998358328606720","Zivy#2628","08-May-20 09:30 AM","I think I got most of the logic but the implementation is _something_","",""
"700687883874467841","funprog31#1137","08-May-20 01:46 PM","I'm really confused how to proceed, I know how to read the first 512 bytes from the file however Im really confused how to step through the rest of the memory card and don't quite know how to proceed:","",""
"700687883874467841","funprog31#1137","08-May-20 01:48 PM","||void readjpegs(FILE *file)
{
    int filecount = 0;
    char *filename;
    BYTE *memblock = malloc(sizeof(file));
    int filesize = fread(memblock, 512, sizeof(file), file);
    printf(""%i\n"", filesize);
    if (memblock[0] == 0xff && memblock[1] == 0xd8 && memblock[2] == 0xff && (memblock[3] & 0xf0) == 0xe0)
    {
        
        sprintf(filename, ""%03i.jpg"", filecount-1);
        FILE *image = fopen(filename, ""w"");
        
    }
    else
    {
        
    }
    free(memblock);
    return;
}||","",""
"700687883874467841","funprog31#1137","08-May-20 01:49 PM","It's not complete, when I try to print the amount of blocks from fread it come back with 8, I feel there should be more (i used it as a debugging tool for myself)","",""
"361235692019384323","Sanath#7244","08-May-20 02:05 PM","sizeof (file) doesnt do what you think it does","",""
"361235692019384323","Sanath#7244","08-May-20 02:06 PM","sizeof tells you how many bytes a variable takes in memory","",""
"700687883874467841","funprog31#1137","08-May-20 03:39 PM","I thought so, but i don't know how to get the size of the file to go through all of the 512 byte blocks i want it to.","",""
"361235692019384323","Sanath#7244","08-May-20 03:41 PM","you dont need the size","",""
"361235692019384323","Sanath#7244","08-May-20 03:41 PM","watch the walkthrough","",""
"700687883874467841","funprog31#1137","08-May-20 03:48 PM","ok I think I'm explaining myself the wrong way, i know that fread(memblock, 512, 1, file) will bring back the first 512B block into the buffer memblock. How do i get the next one and the on after that etc. That's what i don't get.","",""
"361235692019384323","Sanath#7244","08-May-20 03:48 PM","fread keeps track of how far its read","",""
"700687883874467841","funprog31#1137","08-May-20 03:56 PM","so if you keep call fread a second time it'll go to the 2nd 512B?","",""
"361235692019384323","Sanath#7244","08-May-20 03:56 PM","yes","",""
"700687883874467841","funprog31#1137","08-May-20 03:56 PM","Right, that makes things easier then. It wasn't explained in the walkthrough that's how it works.","",""
"700687883874467841","funprog31#1137","08-May-20 03:57 PM","Apologies but i've never worked with pointers or reading or writing to files before, this is new territory for me.","",""
"361235692019384323","Sanath#7244","08-May-20 03:59 PM","https://www.youtube.com/watch?v=bOF-SpEAYgk","",""
"361235692019384323","Sanath#7244","08-May-20 03:59 PM","this will help then","",""
"361235692019384323","Sanath#7244","08-May-20 03:59 PM","dont need any pointers other than FILE *","",""
"700687883874467841","funprog31#1137","08-May-20 04:53 PM","Thanks that is helpful, although I don't get how don't need any other pointers when we need another one to use fread and fwrite?","",""
"361235692019384323","Sanath#7244","08-May-20 05:17 PM","you only need file pointers for that though","",""
"700687883874467841","funprog31#1137","08-May-20 05:32 PM","but whatever your buffer array is it that you pass into fread should be a pointer of type BYTE no? Although I'm getting a segmentation fault, if i pass it as a FILE* it doesn't work. If i try and pass it as an integer array it won't work and if I use int * it seems to loop forever somewhere.","",""
"700687883874467841","funprog31#1137","08-May-20 05:38 PM","This is what I've got so far (I know it's not complete but I'd like to know if I'm on the right track):
||int filecount = 0;
    char *filename = NULL;
    BYTE *memblock = malloc(512);
    FILE *image = NULL;
    fread(memblock, 512, 1, file);
    while (fread(memblock, 512, 1, file) != EOF)
    {
        if (memblock[0] == 0xff && memblock[1] == 0xd8 && memblock[2] == 0xff && (memblock[3] & 0xf0) == 0xe0)
        {
            sprintf(filename, ""%03i.jpg"", filecount);
            image = fopen(filename, ""w"");
            fwrite(memblock, 512, 1, image);
            while (memblock[0] != 0xff && memblock[1] != 0xd8 && memblock[2] != 0xff && (memblock[3] & 0xf0) != 0xe0)
            {
                fread(memblock, 512, 1, file);
                fwrite(memblock, 512, 1, image);
            }
            fclose(image);
            filecount++;
        }
        else
        {
            fread(memblock, 512, 1, file);
        }
    }

    free(memblock);
    fclose(file);
        return 0;
    }||","",""
"387423827837190144","BBZ#3311","08-May-20 07:17 PM","@funprog31 I'm no expert so take it with a grain of salt. If you want to find the size of the file, look into the file handling functions, more specifically ||fseek and ftell|| are t he ones I've used, I can be more specific but that would spoil it. Did you verify that your memblock's bytes are read correctly? You can check it with ||printf(""%x"", memblock[n])|| I'm not sure why it wouldn't tho just curious if that's where it fails, I've used unsigned char * and it worked. Also your fourth byte has more possibilities, you can use ||the mod operator|| (and maybe something else) to make them fit a single if statement","",""
"195086638404206593","Your Ally#6976","08-May-20 09:42 PM","ok write will overwrite the file right?","",""
"195086638404206593","Your Ally#6976","08-May-20 09:42 PM","so do I need to create an additional pointer to append the additional values?","",""
"387423827837190144","BBZ#3311","08-May-20 09:52 PM","@Your Ally Check the fopen modes https://www.tutorialspoint.com/c_standard_library/c_function_fopen.htm, your fwrite's action will be based on it","",""
"456782789145133060","explodeguy#4116","08-May-20 10:00 PM","|| üò¶ timed out while waiting for program to exit.
Any ideas what might be causing that? I return 0 at the end but still I get the error. Thank you in advance||","",""
"456782789145133060","explodeguy#4116","08-May-20 10:02 PM","","https://cdn.discordapp.com/attachments/395684916056031245/708393382900138094/IMG_20200508_215354.jpg",""
"456782789145133060","explodeguy#4116","08-May-20 10:03 PM","Nevermind found it","",""
"195086638404206593","Your Ally#6976","08-May-20 10:05 PM","do I need to close the file pointer everytime I go to a new file?","",""
"195086638404206593","Your Ally#6976","08-May-20 10:05 PM","Or is simply changing the file enough?","",""
"361235692019384323","Sanath#7244","08-May-20 10:05 PM","yes, you need to close the previously opened file","",""
"195086638404206593","Your Ally#6976","08-May-20 10:05 PM","aight","",""
"195086638404206593","Your Ally#6976","08-May-20 10:24 PM","why is it not reading until 512","https://cdn.discordapp.com/attachments/395684916056031245/708398973064314910/unknown.png",""
"387423827837190144","BBZ#3311","08-May-20 11:00 PM","Can you share your code @Your Ally ? Kind of a lack of context","",""
"195086638404206593","Your Ally#6976","08-May-20 11:02 PM","","https://cdn.discordapp.com/attachments/395684916056031245/708408424777646181/SPOILER_unknown.png",""
"195086638404206593","Your Ally#6976","08-May-20 11:05 PM","@BBZ","",""
"387423827837190144","BBZ#3311","08-May-20 11:08 PM","Hm no idea maybe someone else can help you out, my code was quite different i'm not sure of how your is looking at the prob","",""
"195086638404206593","Your Ally#6976","08-May-20 11:08 PM","right","",""
"195086638404206593","Your Ally#6976","08-May-20 11:08 PM","I'll just take a rest for now","",""
"387423827837190144","BBZ#3311","08-May-20 11:09 PM","Can I ask what your bite[3] & 0xf0 does?","",""
"387423827837190144","BBZ#3311","08-May-20 11:10 PM","ah nevermind found it in documentation","",""
"311191207709638656","pawndriver#4048","09-May-20 12:11 AM","just wanted to know, while writing 512 bytes from the buffer onto the jpg (and looping it?), the values of the next jpg (e.g. 0xff, 0xd8, 0xff etc.) can actually appear at the middle of the buffer, right?","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","09-May-20 12:46 AM","@Your Ally you are calling freedom twice in the same loop so you are passing over 512 bytes during every loop","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","09-May-20 12:48 AM","@pawndriver  stardard block size is 512 bytes so it will mostly be true that you will the header at the beginning of  of a block if you read 512 btyes at a time","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","09-May-20 12:52 AM","There is a chance that the jpg won't be divisible by 512 so the end of the jpg could end have some garbage data in it.. the data in provided has been add to a zeroed out data file so you don't have to filter the garbage data out","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","09-May-20 12:53 AM","@Your Ally just a FYI every time you call the function fread it hands you the block of data","",""
"311191207709638656","pawndriver#4048","09-May-20 12:57 AM","thanks, so that would actually mean i just need to find where the start of the jpeg is, then keep writing in 512 byte blocks until i reach the next 0xff?","",""
"387423827837190144","BBZ#3311","09-May-20 01:15 AM","@pawndriver that's how I understood it and made it work (altho not next 0xff but next 0xff 0xd8 0xff 0xe[0-f] or whatever it was)","",""
"311191207709638656","pawndriver#4048","09-May-20 01:27 AM","thanks for the clarification now i just gotta figure out why my code is wrong then","",""
"354372432838000642","humanbeing#0598","09-May-20 03:47 AM","finally dont with filter","",""
"354372432838000642","humanbeing#0598","09-May-20 03:47 AM","thanks god","","üíØ (1)"
"181511246707818496","IkeKap#8206","09-May-20 07:46 AM","wait so with fread, how do I make sure it keeps moving through the file, not just handing me the first 512 bytes of data","",""
"195086638404206593","Your Ally#6976","09-May-20 07:55 AM","@E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó that's what I thought the first time but bite never gets the data","",""
"195086638404206593","Your Ally#6976","09-May-20 07:55 AM","So I tried doing it twice","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","09-May-20 07:59 AM","@Your Ally  look at the fread and sizeof() docs","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","09-May-20 08:01 AM","i think your problem is you open the files in append and not in write mode","",""
"186998358328606720","Zivy#2628","09-May-20 08:21 AM","Hey","",""
"186998358328606720","Zivy#2628","09-May-20 08:21 AM","","https://cdn.discordapp.com/attachments/395684916056031245/708549202015289374/Screenshot_2020-05-09_at_10.51.14_AM.png",""
"186998358328606720","Zivy#2628","09-May-20 08:21 AM","","https://cdn.discordapp.com/attachments/395684916056031245/708549226438590495/Screenshot_2020-05-09_at_10.51.07_AM.png",""
"186998358328606720","Zivy#2628","09-May-20 08:21 AM","Can someone help me out here?","",""
"195086638404206593","Your Ally#6976","09-May-20 08:29 AM","I meant bite's not reading the file when I used a read file pointer @E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó","",""
"195086638404206593","Your Ally#6976","09-May-20 08:29 AM","Or at least not passing the values to bite","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","09-May-20 08:32 AM","@Your Ally  try &bite","",""
"324472167272022016","E-Dog‚ö™‚ö™‚öÉ9üÖ∞‚ùó#5313","09-May-20 08:33 AM","it needs the memory address of your array so it knows where to store it","",""
"361235692019384323","Sanath#7244","09-May-20 08:37 AM","@IkeKap it keeps track of how far its read","",""
"181511246707818496","IkeKap#8206","09-May-20 08:38 AM","so calling it again will progress it automatically?","",""
"361235692019384323","Sanath#7244","09-May-20 08:40 AM","yes","",""
"361235692019384323","Sanath#7244","09-May-20 08:43 AM","@Your Ally can you show your typedef for BYTE?","",""
"195086638404206593","Your Ally#6976","09-May-20 09:00 AM","Can't access my computer yet","",""
"688874269098246184","bladeto#5005","09-May-20 12:34 PM","Hi guys, any thoughts what I might be missing? The image looks to be intact, however, it does not pass the last check

üò¶ recovers 049.jpg correctly
recovered image does not match
Log
running ./recover card.raw...
checking that program exited with status 0...
checking that 049.jpg exists...
hashing 049.jpg...","https://cdn.discordapp.com/attachments/395684916056031245/708612763781562438/049.jpg",""
"186998358328606720","Zivy#2628","09-May-20 05:48 PM","Hey","",""
"186998358328606720","Zivy#2628","09-May-20 05:48 PM","Is there anyone I can inbox for some help?","",""
"361235692019384323","Sanath#7244","09-May-20 05:49 PM","@bladeto you might be writing the last block twice. are you using feof?","",""
"688874269098246184","bladeto#5005","09-May-20 05:52 PM","> @bladeto you might be writing the last block twice. are you using feof?
@Sanath , nope, i simply|| use do while loop which breaks when fread returns value < 512||","",""
"688874269098246184","bladeto#5005","09-May-20 07:07 PM","> @Sanath, indeed i was writing the last block twice, added another condition and voila. thanks for the help","",""
"354372432838000642","humanbeing#0598","09-May-20 07:22 PM","did anybody finish this?","",""
"700687883874467841","funprog31#1137","09-May-20 07:47 PM","I've managed to complete recover however I want to understand the following segemntation fault issues:

1) Why if i use char * for a string for the filename variable it comes with an error? If i use an actual array of chars it's fine.

2) Why can't you use any file pointer based function in an else statement? If i use an IF statement it's fine but else throws a seg fault.","",""
"700687883874467841","funprog31#1137","09-May-20 07:57 PM","@humanbeing yes","",""
"700687883874467841","funprog31#1137","09-May-20 08:01 PM","@Sanath thanks for your help and pointers (pun intended) on this one.","",""
"361235692019384323","Sanath#7244","09-May-20 08:38 PM","For 1), you can use a char * but you need to malloc space, if you do something like `char *s = ""mystring""` you cannot change s, it is a string literal","",""
"361235692019384323","Sanath#7244","09-May-20 08:39 PM","For 2), your problem lies somewhere else","",""
"181511246707818496","IkeKap#8206","09-May-20 08:40 PM","does fread(*buffer, 512, 1, *file); if called again and again, advance through the file?","",""
"181511246707818496","IkeKap#8206","09-May-20 08:41 PM","and why is it not a good idea to try to grab all the data from the file at once and stick it into a very long array?","",""
"361235692019384323","Sanath#7244","09-May-20 08:43 PM","fread keeps track of how far its read, though you shouldnt be dereferencing buffer/file","",""
"361235692019384323","Sanath#7244","09-May-20 08:44 PM","you can read the entire file at once, its just harder to do since you dont know the file size","",""
"361235692019384323","Sanath#7244","09-May-20 08:44 PM","and you then have to parse that in blocks anyway","",""
"181511246707818496","IkeKap#8206","09-May-20 08:49 PM","ok. Do I need to catch the returned value of fread?","",""
"181511246707818496","IkeKap#8206","09-May-20 08:49 PM","also how do I use fread to tell if I've reached the end of the file?","",""
"361235692019384323","Sanath#7244","09-May-20 08:52 PM","the walkthrough covers this","",""
"688874269098246184","bladeto#5005","09-May-20 09:10 PM","> also how do I use fread to tell if I've reached the end of the file?
@IkeKap I had to google a bit about fread(), it was not super obvious to me how to use the return value syntactically as well. What I did is to ||declare an int and assign to it the value of fread and use the variable to break the loop which cycles the blocks.|| There might be a better way ü§î","",""
"186998358328606720","Zivy#2628","09-May-20 09:11 PM","I did the same as @bladeto","",""
"181511246707818496","IkeKap#8206","09-May-20 09:11 PM","ye that's what I thought of doing","",""
"181511246707818496","IkeKap#8206","09-May-20 09:12 PM","does that usage of fread still read the file into a buffer tho?","",""
"186998358328606720","Zivy#2628","09-May-20 09:12 PM","These segmentation faults are a bit unnerving","",""
"186998358328606720","Zivy#2628","09-May-20 09:12 PM","> does that usage of fread still read the file into a buffer tho?
@IkeKap I think so, yes","",""
"311191207709638656","pawndriver#4048","09-May-20 09:13 PM","about that value of fread ||to try to cut the loop||, what were the parameters used since i can only seem to get the value of 512 regardless?","",""
"688874269098246184","bladeto#5005","09-May-20 09:14 PM","> does that usage of fread still read the file into a buffer tho?
@IkeKap yes","",""
"186998358328606720","Zivy#2628","09-May-20 09:14 PM","is my syntax / logic / implementation for this bit correct?","https://cdn.discordapp.com/attachments/395684916056031245/708743738456801794/SPOILER_Screenshot_2020-05-09_at_11.43.19_PM.png",""
"181511246707818496","IkeKap#8206","09-May-20 09:20 PM","@Zivy if you;re looping over that, you'd essentially be overwriting yourself with each pass","",""
"186998358328606720","Zivy#2628","09-May-20 09:21 PM","but won't my (counter==0) clause prevent that?","",""
"186998358328606720","Zivy#2628","09-May-20 09:21 PM","","https://cdn.discordapp.com/attachments/395684916056031245/708745596953165824/SPOILER_Screenshot_2020-05-09_at_11.51.45_PM.png",""
"181511246707818496","IkeKap#8206","09-May-20 09:22 PM","Oh I only saw that section in isolation","",""
"181511246707818496","IkeKap#8206","09-May-20 09:23 PM","ye that should catch that particular error","",""
"186998358328606720","Zivy#2628","09-May-20 09:26 PM","Yeah, that's on me","",""
"186998358328606720","Zivy#2628","09-May-20 09:27 PM","I'm getting a segmentation fault here so I'm unsure about what's going wrong","",""
"693822742063218838","Sibylle#2708","09-May-20 10:25 PM","Hi guys, i tried to use one single loop but it doesn't create any file... I don't see why..  Any thoughts?","https://cdn.discordapp.com/attachments/395684916056031245/708761566870372464/SPOILER_unknown.png",""
"195086638404206593","Your Ally#6976","09-May-20 10:39 PM","@Sanath To your question earlier","https://cdn.discordapp.com/attachments/395684916056031245/708765042291507252/unknown.png",""
"195086638404206593","Your Ally#6976","09-May-20 10:39 PM","nevermind functionname()","",""
"195086638404206593","Your Ally#6976","09-May-20 11:33 PM","my variable for holding the bytes are not getting the bytes needed","",""
"195086638404206593","Your Ally#6976","09-May-20 11:33 PM","even if I kept on doing fread","",""
"195086638404206593","Your Ally#6976","09-May-20 11:34 PM","even fread isn't returning a value of 512","",""
"361235692019384323","Sanath#7244","09-May-20 11:51 PM","fread wont return 512, it will return 1","",""
"361235692019384323","Sanath#7244","09-May-20 11:52 PM","im kinda confused as to why debug50 is showing it as an int array though","",""
"195086638404206593","Your Ally#6976","09-May-20 11:54 PM","oh","",""
"195086638404206593","Your Ally#6976","09-May-20 11:55 PM","walkthrough mentions fread returning 255 tho","",""
"195086638404206593","Your Ally#6976","09-May-20 11:55 PM","Still, Idk why my variable can't hold the values read","",""
"361235692019384323","Sanath#7244","09-May-20 11:56 PM","fread returns its third argument, if it reads it properly","",""
"195086638404206593","Your Ally#6976","09-May-20 11:57 PM","oooh","",""
"361235692019384323","Sanath#7244","09-May-20 11:57 PM","im probably missing something, send me your code in a dm, ill have a look later","",""
"361235692019384323","Sanath#7244","09-May-20 11:57 PM","too sleepy to notice stuff rn lol","",""
"195086638404206593","Your Ally#6976","09-May-20 11:58 PM","aight","",""
"181511246707818496","IkeKap#8206","10-May-20 12:28 AM","so I feel like I'm almost there... I have valid images for everything up to (not including) 049","",""
"181511246707818496","IkeKap#8206","10-May-20 12:29 AM","I then error out with file size limit exceeded error","",""
"181511246707818496","IkeKap#8206","10-May-20 12:29 AM","I checked my code with valgrind and it says no leaks","",""
"181511246707818496","IkeKap#8206","10-May-20 12:29 AM","049 however is somehow 512 megabytes???","",""
"181511246707818496","IkeKap#8206","10-May-20 12:36 AM","check50 is saying timed out but I can see valid images for everything up to 049","",""
"354372432838000642","humanbeing#0598","10-May-20 12:53 AM","after i read","",""
"354372432838000642","humanbeing#0598","10-May-20 12:53 AM","i still dont know what is going on","",""
"354372432838000642","humanbeing#0598","10-May-20 12:53 AM","uhhmm","",""
"195086638404206593","Your Ally#6976","10-May-20 02:50 AM","I don't get why","",""
"195086638404206593","Your Ally#6976","10-May-20 02:51 AM","I literally copied the code on the week's notes","https://cdn.discordapp.com/attachments/395684916056031245/708828477499113502/312123123213.png",""
"195086638404206593","Your Ally#6976","10-May-20 02:51 AM","and it still won't work","",""
"195086638404206593","Your Ally#6976","10-May-20 02:52 AM","bytes isn't getting any value","",""
"181511246707818496","IkeKap#8206","10-May-20 03:49 AM","@Your Ally uhh don't you need fwrite to write to a file?","",""
"195086638404206593","Your Ally#6976","10-May-20 03:50 AM","no","",""
"181511246707818496","IkeKap#8206","10-May-20 03:50 AM","wait I read that wrong","",""
"195086638404206593","Your Ally#6976","10-May-20 03:50 AM","yeah","",""
"195086638404206593","Your Ally#6976","10-May-20 03:50 AM","I meant I tried the code in the notes and the variable still won't hold a value","",""
"181511246707818496","IkeKap#8206","10-May-20 03:51 AM","the one thing that is kinda weird is the type of your buffer variable","",""
"195086638404206593","Your Ally#6976","10-May-20 04:03 AM","like I said, I used one of the codes in the week's notes","",""
"195086638404206593","Your Ally#6976","10-May-20 04:03 AM","Which is supposed to work","",""
"195086638404206593","Your Ally#6976","10-May-20 04:03 AM","but doesn't, since I'm missing something","",""
"195086638404206593","Your Ally#6976","10-May-20 04:06 AM","oh wait I think I'm getting it","",""
"195086638404206593","Your Ally#6976","10-May-20 04:37 AM","Finally I'm done","",""
"195086638404206593","Your Ally#6976","10-May-20 04:37 AM","@Sanath it does return 1","",""
"195086638404206593","Your Ally#6976","10-May-20 04:37 AM","That was my problem","",""
"354372432838000642","humanbeing#0598","10-May-20 04:41 AM","you are done done?","",""
"354372432838000642","humanbeing#0598","10-May-20 04:42 AM","@Your Ally","",""
"195086638404206593","Your Ally#6976","10-May-20 04:42 AM","yes","",""
"195086638404206593","Your Ally#6976","10-May-20 04:42 AM","","https://cdn.discordapp.com/attachments/395684916056031245/708856496359997530/unknown.png",""
"354372432838000642","humanbeing#0598","10-May-20 04:42 AM","can you please help me?","",""
"195086638404206593","Your Ally#6976","10-May-20 04:42 AM","sure","",""
"354372432838000642","humanbeing#0598","10-May-20 04:43 AM","https://pastebin.com/ReF3zKTL","",""
"354372432838000642","humanbeing#0598","10-May-20 04:43 AM","segmentation fault","",""
"354372432838000642","humanbeing#0598","10-May-20 04:43 AM","not sure why","",""
"195086638404206593","Your Ally#6976","10-May-20 04:43 AM","aight","",""
"195086638404206593","Your Ally#6976","10-May-20 04:43 AM","your while loop","",""
"354372432838000642","humanbeing#0598","10-May-20 04:44 AM","yes?","",""
"195086638404206593","Your Ally#6976","10-May-20 04:44 AM","hmm","",""
"195086638404206593","Your Ally#6976","10-May-20 04:44 AM","does fread return 0 if it can't read anymore?","",""
"354372432838000642","humanbeing#0598","10-May-20 04:44 AM","return something less than 512","",""
"354372432838000642","humanbeing#0598","10-May-20 04:45 AM","it returns the size of size basically","",""
"195086638404206593","Your Ally#6976","10-May-20 04:45 AM","yeah","",""
"195086638404206593","Your Ally#6976","10-May-20 04:45 AM","but if it can read the whole thing it returns 1","",""
"195086638404206593","Your Ally#6976","10-May-20 04:45 AM","it was the whole thing that got me stuck","",""
"354372432838000642","humanbeing#0598","10-May-20 04:45 AM","should i put ==1 for mine too?","",""
"195086638404206593","Your Ally#6976","10-May-20 04:46 AM","I did put ==1 on mine","",""
"354372432838000642","humanbeing#0598","10-May-20 04:47 AM","i think mine does not work because of my logic","",""
"354372432838000642","humanbeing#0598","10-May-20 04:47 AM","but dont know where lol","",""
"195086638404206593","Your Ally#6976","10-May-20 04:48 AM","wait","",""
"195086638404206593","Your Ally#6976","10-May-20 04:49 AM","I'll read the whole thing","",""
"354372432838000642","humanbeing#0598","10-May-20 04:50 AM","thank you","",""
"195086638404206593","Your Ally#6976","10-May-20 04:50 AM","you're using temp to read the file","",""
"195086638404206593","Your Ally#6976","10-May-20 04:51 AM","but you're using myfile to write in some","",""
"195086638404206593","Your Ally#6976","10-May-20 04:53 AM","your sprintf is wrong too","",""
"195086638404206593","Your Ally#6976","10-May-20 04:53 AM",",jpg instead of .jpg","",""
"354372432838000642","humanbeing#0598","10-May-20 04:53 AM","should i read and write to temp ?","",""
"195086638404206593","Your Ally#6976","10-May-20 04:54 AM","no","",""
"195086638404206593","Your Ally#6976","10-May-20 04:54 AM","You should read to temp","",""
"195086638404206593","Your Ally#6976","10-May-20 04:54 AM","and write from temp","",""
"354372432838000642","humanbeing#0598","10-May-20 04:54 AM","write from temp to my new file?","",""
"195086638404206593","Your Ally#6976","10-May-20 04:55 AM","yeah","",""
"195086638404206593","Your Ally#6976","10-May-20 04:55 AM","Also","",""
"195086638404206593","Your Ally#6976","10-May-20 04:55 AM","even when it's not detecting a new jpg header, it keeps creating a new file","",""
"195086638404206593","Your Ally#6976","10-May-20 04:55 AM","you should fix sprintf","",""
"195086638404206593","Your Ally#6976","10-May-20 04:56 AM","Idk if it works with strings not stored in a variable","",""
"195086638404206593","Your Ally#6976","10-May-20 04:58 AM","You're also closing myfile in the middle","",""
"195086638404206593","Your Ally#6976","10-May-20 04:59 AM","if you do that you're stopping the process of reading","",""
"354372432838000642","humanbeing#0598","10-May-20 04:59 AM","yeah i just realize","",""
"354372432838000642","humanbeing#0598","10-May-20 04:59 AM","i deleted that","",""
"354372432838000642","humanbeing#0598","10-May-20 04:59 AM","still error though","",""
"195086638404206593","Your Ally#6976","10-May-20 05:05 AM","yeah","",""
"195086638404206593","Your Ally#6976","10-May-20 05:06 AM","wait I'll finish my code's style and I'll get back to your code","",""
"354372432838000642","humanbeing#0598","10-May-20 05:06 AM","thanks","",""
"354372432838000642","humanbeing#0598","10-May-20 05:07 AM","<https://pastebin.com/aNmUMQRu>","",""
"195086638404206593","Your Ally#6976","10-May-20 05:15 AM","ah wait","",""
"195086638404206593","Your Ally#6976","10-May-20 05:15 AM","Yep","",""
"195086638404206593","Your Ally#6976","10-May-20 05:15 AM","You probably want to use a variable to hold a string","",""
"195086638404206593","Your Ally#6976","10-May-20 05:16 AM","You're telling the computer to open a file named ""newfile"" and ""anotherfile"", and write there","",""
"195086638404206593","Your Ally#6976","10-May-20 05:16 AM","And you don't need 2 separate file names","",""
"354372432838000642","humanbeing#0598","10-May-20 05:24 AM","so justmake a string","",""
"354372432838000642","humanbeing#0598","10-May-20 05:24 AM","and put that in for both","",""
"195086638404206593","Your Ally#6976","10-May-20 05:25 AM","yeah","",""
"354372432838000642","humanbeing#0598","10-May-20 05:26 AM","how do i tell computer to just keep adding to the same file","",""
"354372432838000642","humanbeing#0598","10-May-20 05:26 AM","it does not found header","",""
"195086638404206593","Your Ally#6976","10-May-20 05:27 AM","if it doesn't find the header?","",""
"195086638404206593","Your Ally#6976","10-May-20 05:27 AM","It's in append mode","",""
"195086638404206593","Your Ally#6976","10-May-20 05:27 AM","it means as long as you don't change the name of the file it will keep on adding on it","",""
"354372432838000642","humanbeing#0598","10-May-20 05:28 AM","```else
    {
        if (first_image) //if this is the first image
        {
            continue; // skip the block
        }
        else
        {
         
            fwrite(temp,512,1,img);  //keep writing to the existing file
        }
    }
    }
```","",""
"354372432838000642","humanbeing#0598","10-May-20 05:28 AM","i am tlaking in this case","",""
"195086638404206593","Your Ally#6976","10-May-20 05:28 AM","If it detects a new one, it changes the string for the file names, and continue filling on the new file","",""
"354372432838000642","humanbeing#0598","10-May-20 05:29 AM","i need to write from *something* to temp","",""
"354372432838000642","humanbeing#0598","10-May-20 05:29 AM","without making a new file","",""
"195086638404206593","Your Ally#6976","10-May-20 05:29 AM","I think it's better if you only use fwrite once in a loop","",""
"195086638404206593","Your Ally#6976","10-May-20 05:29 AM","You are not writing to temp","",""
"195086638404206593","Your Ally#6976","10-May-20 05:29 AM","you are writing to the file","",""
"195086638404206593","Your Ally#6976","10-May-20 05:29 AM","via a file pointer","",""
"354372432838000642","humanbeing#0598","10-May-20 05:30 AM","uhhmm","",""
"354372432838000642","humanbeing#0598","10-May-20 05:31 AM","i do not want to create a new image but i wanna pass the material of the block into my file","",""
"354372432838000642","humanbeing#0598","10-May-20 05:31 AM","can i just read from temp","",""
"354372432838000642","humanbeing#0598","10-May-20 05:31 AM","instead of img","",""
"195086638404206593","Your Ally#6976","10-May-20 05:33 AM","you are reading from temp the data that you'll write into the file *img is pointing to","",""
"354372432838000642","humanbeing#0598","10-May-20 05:34 AM","how about reading from temp and write into file","",""
"354372432838000642","humanbeing#0598","10-May-20 05:34 AM","instead of read from temp and wrte into *img and read from img and write to file","",""
"354372432838000642","humanbeing#0598","10-May-20 05:35 AM","i guess it is necessary if i wanna make a new image","",""
"195086638404206593","Your Ally#6976","10-May-20 05:35 AM","yeah","",""
"195086638404206593","Your Ally#6976","10-May-20 05:35 AM","that","",""
"354372432838000642","humanbeing#0598","10-May-20 05:35 AM","butin this case i dont need to","",""
"195086638404206593","Your Ally#6976","10-May-20 05:35 AM","wait I'm confused","",""
"195086638404206593","Your Ally#6976","10-May-20 05:35 AM","Temp isnt a file","",""
"195086638404206593","Your Ally#6976","10-May-20 05:35 AM","consider it as an array that holds the data","",""
"195086638404206593","Your Ally#6976","10-May-20 05:35 AM","Now you want to put that data somewhere","",""
"195086638404206593","Your Ally#6976","10-May-20 05:36 AM","you get the data from temp, and write it to the file img is pointing to","",""
"354372432838000642","humanbeing#0598","10-May-20 05:36 AM","```sprintf (image_name, ""%03i.jpg"",counter); //make a new JPEG image
            counter++;
            FILE *img = fopen(image_name,""a""); //open the that image
            fwrite(myFile,512,1,img); // write the image into some file
```","",""
"195086638404206593","Your Ally#6976","10-May-20 05:36 AM","you don't have to get data from img","",""
"354372432838000642","humanbeing#0598","10-May-20 05:36 AM","by doing something similar like this?","",""
"195086638404206593","Your Ally#6976","10-May-20 05:37 AM","Oh","",""
"195086638404206593","Your Ally#6976","10-May-20 05:37 AM","I get what you meant now","",""
"195086638404206593","Your Ally#6976","10-May-20 05:37 AM","from file to file","",""
"195086638404206593","Your Ally#6976","10-May-20 05:37 AM","no it won't work that way","",""
"195086638404206593","Your Ally#6976","10-May-20 05:37 AM","The reason why you did temp is not only to check the header","",""
"195086638404206593","Your Ally#6976","10-May-20 05:38 AM","but use it to hold the data and use it to write to a file","",""
"354372432838000642","humanbeing#0598","10-May-20 05:38 AM","FILE *img = fopen(temp,""a"");","",""
"195086638404206593","Your Ally#6976","10-May-20 05:38 AM","no","",""
"195086638404206593","Your Ally#6976","10-May-20 05:38 AM","temp is not a file","",""
"354372432838000642","humanbeing#0598","10-May-20 05:38 AM","where does it show that i am reading from temp and write to img","",""
"195086638404206593","Your Ally#6976","10-May-20 05:39 AM","When you do  *img = fopen([randomname], ""a"");","",""
"195086638404206593","Your Ally#6976","10-May-20 05:39 AM","if the file doesnt exist","",""
"195086638404206593","Your Ally#6976","10-May-20 05:39 AM","it automatically creates the file","",""
"195086638404206593","Your Ally#6976","10-May-20 05:39 AM","If it does it just adds into it","",""
"195086638404206593","Your Ally#6976","10-May-20 05:39 AM","no","",""
"195086638404206593","Your Ally#6976","10-May-20 05:39 AM","I said you're reading from myfile and writing to img","",""
"195086638404206593","Your Ally#6976","10-May-20 05:39 AM","fwrite(myFile,512,1,img);","",""
"195086638404206593","Your Ally#6976","10-May-20 05:40 AM","line 59","",""
"195086638404206593","Your Ally#6976","10-May-20 05:40 AM","and 45","",""
"195086638404206593","Your Ally#6976","10-May-20 05:40 AM","and 36","",""
"354372432838000642","humanbeing#0598","10-May-20 05:40 AM","should it not be the other way around","",""
"195086638404206593","Your Ally#6976","10-May-20 05:41 AM","I think you got the ""way"" right","",""
"354372432838000642","humanbeing#0598","10-May-20 05:41 AM","> but use it to hold the data and use it to write to a file
@Your Ally i am trying to do exactly this","",""
"195086638404206593","Your Ally#6976","10-May-20 05:41 AM","Yeah","",""
"354372432838000642","humanbeing#0598","10-May-20 05:41 AM","but not sure how","",""
"195086638404206593","Your Ally#6976","10-May-20 05:41 AM","by myfile's not the one holding the data right now","",""
"195086638404206593","Your Ally#6976","10-May-20 05:41 AM","temp is","",""
"354372432838000642","humanbeing#0598","10-May-20 05:41 AM","somehow i am creating an image","",""
"354372432838000642","humanbeing#0598","10-May-20 05:42 AM","then that image somehow got the data from the temp","",""
"354372432838000642","humanbeing#0598","10-May-20 05:42 AM","without me doing anything","",""
"195086638404206593","Your Ally#6976","10-May-20 05:42 AM","Remember that using fread you read 512B of *myfile's data and placed it into temp","",""
"195086638404206593","Your Ally#6976","10-May-20 05:42 AM","Wait","",""
"195086638404206593","Your Ally#6976","10-May-20 05:42 AM","you're able to create an image now?","",""
"354372432838000642","humanbeing#0598","10-May-20 05:43 AM","segmentation fault still","",""
"354372432838000642","humanbeing#0598","10-May-20 05:43 AM","but logically it should be creating images","",""
"195086638404206593","Your Ally#6976","10-May-20 05:43 AM","yeah","",""
"195086638404206593","Your Ally#6976","10-May-20 05:43 AM","it should be","",""
"195086638404206593","Your Ally#6976","10-May-20 05:43 AM","but you're wrong in a way","",""
"195086638404206593","Your Ally#6976","10-May-20 05:43 AM","that you're taking data from myfile","",""
"195086638404206593","Your Ally#6976","10-May-20 05:43 AM","to write","",""
"354372432838000642","humanbeing#0598","10-May-20 05:44 AM","write into img","",""
"354372432838000642","humanbeing#0598","10-May-20 05:44 AM","yes?","",""
"354372432838000642","humanbeing#0598","10-May-20 05:44 AM","that is the problem","",""
"195086638404206593","Your Ally#6976","10-May-20 05:44 AM","remember that myfile holds only an address","",""
"195086638404206593","Your Ally#6976","10-May-20 05:44 AM","myfile doesn't hold your data","",""
"195086638404206593","Your Ally#6976","10-May-20 05:44 AM","it only holds the address to the file","",""
"195086638404206593","Your Ally#6976","10-May-20 05:44 AM","Now you use fread to get into the address, read the data and put it into temp","",""
"195086638404206593","Your Ally#6976","10-May-20 05:45 AM","let me see an example from the past psets","",""
"195086638404206593","Your Ally#6976","10-May-20 05:46 AM","https://www.youtube.com/watch?v=bOF-SpEAYgk","",""
"195086638404206593","Your Ally#6976","10-May-20 05:46 AM","have you watched this?","",""
"354372432838000642","humanbeing#0598","10-May-20 05:46 AM","yeah","",""
"195086638404206593","Your Ally#6976","10-May-20 05:46 AM","oh","",""
"195086638404206593","Your Ally#6976","10-May-20 05:47 AM","hmmm","",""
"354372432838000642","humanbeing#0598","10-May-20 05:47 AM","fread(temp, 512,1, file)  --> temp is holding 512 byte-block of data from memory card","",""
"195086638404206593","Your Ally#6976","10-May-20 05:47 AM","I'm thinking of a way to tell you in a way that doesn't spoil too much lol","",""
"195086638404206593","Your Ally#6976","10-May-20 05:47 AM","yes","",""
"195086638404206593","Your Ally#6976","10-May-20 05:47 AM","oh wait","",""
"195086638404206593","Your Ally#6976","10-May-20 05:48 AM","there's no such thing as *file in your program","",""
"195086638404206593","Your Ally#6976","10-May-20 05:48 AM","Just imagine pointers as  the mailbox","",""
"195086638404206593","Your Ally#6976","10-May-20 05:48 AM","that holds the address","",""
"195086638404206593","Your Ally#6976","10-May-20 05:48 AM","it should be fread(temp, 512,1, myfile)","",""
"195086638404206593","Your Ally#6976","10-May-20 05:49 AM","fread goes into the address *myfile points to","",""
"195086638404206593","Your Ally#6976","10-May-20 05:49 AM","gets 512 byte-block data from that file","",""
"195086638404206593","Your Ally#6976","10-May-20 05:49 AM","and puts it into temp","",""
"195086638404206593","Your Ally#6976","10-May-20 05:49 AM","oh wait sorry","",""
"195086638404206593","Your Ally#6976","10-May-20 05:49 AM","sorry","",""
"195086638404206593","Your Ally#6976","10-May-20 05:49 AM","You did have file","",""
"195086638404206593","Your Ally#6976","10-May-20 05:49 AM","You were correct","",""
"354372432838000642","humanbeing#0598","10-May-20 05:50 AM","it is on the top","",""
"195086638404206593","Your Ally#6976","10-May-20 05:50 AM","Yeah","",""
"195086638404206593","Your Ally#6976","10-May-20 05:50 AM","mb","",""
"195086638404206593","Your Ally#6976","10-May-20 05:50 AM","but yeah that's how it works","",""
"354372432838000642","humanbeing#0598","10-May-20 05:50 AM","please tell me what i should do","",""
"195086638404206593","Your Ally#6976","10-May-20 05:50 AM","right","",""
"195086638404206593","Your Ally#6976","10-May-20 05:50 AM","Right now you're using 3 file pointers","",""
"195086638404206593","Your Ally#6976","10-May-20 05:50 AM","let's just get into that problem first","",""
"195086638404206593","Your Ally#6976","10-May-20 05:51 AM","you don't need the ""write"" mode","",""
"195086638404206593","Your Ally#6976","10-May-20 05:51 AM","as you don't have to replace anything","",""
"354372432838000642","humanbeing#0598","10-May-20 05:51 AM","yeah","",""
"354372432838000642","humanbeing#0598","10-May-20 05:51 AM","i have""a""","",""
"195086638404206593","Your Ally#6976","10-May-20 05:51 AM","https://www.tutorialspoint.com/c_standard_library/c_function_fopen.htm","",""
"195086638404206593","Your Ally#6976","10-May-20 05:52 AM","yeah so now you can remove your ""w"" pointers","",""
"195086638404206593","Your Ally#6976","10-May-20 05:52 AM","next is on your ""a"" file pointer","",""
"195086638404206593","Your Ally#6976","10-May-20 05:53 AM","You're telling it to open ""newfile"" and write to that","",""
"195086638404206593","Your Ally#6976","10-May-20 05:53 AM","it just creates ""newfile"" and will write the data there every time, this is a problem, you want it to write to a new file once a header gets detected","",""
"195086638404206593","Your Ally#6976","10-May-20 05:54 AM","create a variable that holds a string and use sprintf to change the string's characters","",""
"354372432838000642","humanbeing#0598","10-May-20 05:54 AM","got it","",""
"354372432838000642","humanbeing#0598","10-May-20 07:48 AM","Why do I feel like the walkthrough confused me so much","",""
"354372432838000642","humanbeing#0598","10-May-20 07:50 AM","|| Bool check is false if no JPEG has been found. If one JPEG is found, then bool check is true. If check is true, always add temp to image file. If another jpeg if found, current image file is close. Still add temp to img file like normal.

Only when a new jpeg header is found, a new image will be created.

fopen will open a new file if that file did not already exist. It will automatically create a brand new one if requested.||","",""
"354372432838000642","humanbeing#0598","10-May-20 07:50 AM","^^ if you are stuck","",""
"436926506598400000","Echo#3703","10-May-20 08:52 AM","ngl it confused me as well","",""
"186998358328606720","Zivy#2628","10-May-20 10:34 AM","Same, I‚Äôm really lost about implementation, I keep having seg faults","",""
"705410913943158848","Jai#6105","10-May-20 10:43 AM","https://pastebin.com/8WbNrpNN","",""
"705410913943158848","Jai#6105","10-May-20 10:44 AM","im getting the images but says it is exceeding the file size","",""
"705410913943158848","Jai#6105","10-May-20 10:44 AM","https://submit.cs50.io/check50/d33654c2f39d060493518338ab2e077d53b68be0","",""
"436926506598400000","Echo#3703","10-May-20 11:11 AM","how do u guys solve it? I almost lost it while trying to figure out it's solution","",""
"436926506598400000","Echo#3703","10-May-20 11:13 AM","i don't think I've ever seen any problem set **this** hard as this one","",""
"195086638404206593","Your Ally#6976","10-May-20 11:59 AM","I still found tideman harder","",""
"195086638404206593","Your Ally#6976","10-May-20 12:00 PM","The walkthrough confused me as well","",""
"195086638404206593","Your Ally#6976","10-May-20 12:00 PM","Especially with the fread part","",""
"195086638404206593","Your Ally#6976","10-May-20 12:01 PM","What helped me solve it is creating a simple program that uses fread and fwrite","",""
"186998358328606720","Zivy#2628","10-May-20 12:23 PM","I think tideman was harder conceptually, but the syntax and implementation was easier. Recover is seemingly easy to understand, but the implementation is killing me","",""
"186998358328606720","Zivy#2628","10-May-20 01:49 PM","int readcount = fread(fptr , 512 , 1 , f );
fread(fptr , 512 , 1 , f );
     
     while ( readcount > 512 )
     {
                        //if statements and conditions
          readcount = fread(fptr , 512 , 1 , f );
      }","",""
"186998358328606720","Zivy#2628","10-May-20 01:50 PM","Do you think this while statement is correct?","",""
"186998358328606720","Zivy#2628","10-May-20 01:51 PM","So if fread returns the number of files read, if > 512 files are read then that would mean the end of the file has been reached?","",""
"354372432838000642","humanbeing#0598","10-May-20 02:25 PM","Do","",""
"354372432838000642","humanbeing#0598","10-May-20 02:25 PM","While(fread()==1)","",""
"354372432838000642","humanbeing#0598","10-May-20 02:25 PM","Because whenever it runs successfully it returns 1","",""
"436926506598400000","Echo#3703","10-May-20 02:32 PM","guys, need some help here","",""
"436926506598400000","Echo#3703","10-May-20 02:32 PM","","https://cdn.discordapp.com/attachments/395684916056031245/709004973270368276/unknown.png",""
"436926506598400000","Echo#3703","10-May-20 02:32 PM","here's my code","",""
"436926506598400000","Echo#3703","10-May-20 02:33 PM","||int main(int argc, char *argv[])
{
    if (argc != 2)
    {
        printf(""Usage: ./recover image\n"");
        return 1;
    }
    FILE *file = fopen(argv[1], ""r"");
    if (file == NULL)
    {
        printf(""Failed to open file\n"");
        return 1;
    }
    FILE *fileout = NULL;
    char name[8];
    BYTE buffer[512];
    int count = 0;
    while (&free)
    {
        unsigned char byter = fread(buffer, sizeof(BYTE), 512, file);
        if (byter == 0 && feof(file))
        {
            break;
        }
        if ((buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0) && fileout != NULL)
        {
            fclose(fileout);
            count++;
        }

        // if we found a JPEG, we need to open the file for writing
        if (buffer[0] == 0xff && buffer[1] == 0xd8 && buffer[2] == 0xff && (buffer[3] & 0xf0) == 0xe0)
        {
            sprintf(name, ""%03i.jpg"", count);
            fileout = fopen(name, ""w"");
        }

        // write anytime we have an open file
        if (fileout != NULL)
        {
            fwrite(buffer, sizeof(BYTE), byter, fileout);
        }
    }
    fclose(fileout);
    fclose(file);

}
||","",""
"610114050600206340","nixgnin#5279","10-May-20 02:45 PM","Were you able to recover the files when you‚Äôre doing manual testing?","",""
"436926506598400000","Echo#3703","10-May-20 02:59 PM","yes but their sizes become 0 bytes","",""
"436926506598400000","Echo#3703","10-May-20 03:23 PM","bro, i solved this problem by changing the ||unsigned char|| to ||unsigned int||","","üëç (1)"
"705410913943158848","Jai#6105","10-May-20 03:24 PM","https://pastebin.com/cpn62x1r @curiouskiwi","",""
"354372432838000642","humanbeing#0598","10-May-20 03:27 PM","@Echo you done done?","",""
"436926506598400000","Echo#3703","10-May-20 03:31 PM","@humanbeing somehow i managed after having so many errors","",""
"354372432838000642","humanbeing#0598","10-May-20 03:31 PM","good job good job","",""
"354372432838000642","humanbeing#0598","10-May-20 03:31 PM","check50","",""
"436926506598400000","Echo#3703","10-May-20 04:05 PM","","https://cdn.discordapp.com/attachments/395684916056031245/709028462224080947/unknown.png",""
"436926506598400000","Echo#3703","10-May-20 04:06 PM","@humanbeing ty bro","",""
"195086638404206593","Your Ally#6976","10-May-20 04:22 PM","@humanbeing How's your progress?","",""
"697348478279483445","Hera#8206","10-May-20 04:50 PM","I just came out of 2 weeks of filter, I watched the walkthrough just now. Is it that the program put the bytes in card.raw into 50 JPEG files?","",""
"221834853941772288","Secret Agent Xin Zhao#9268","10-May-20 04:55 PM","Yes","",""
"186998358328606720","Zivy#2628","10-May-20 05:04 PM","> Because whenever it runs successfully it returns 1
@humanbeing  will try, thank you","",""
"354372432838000642","humanbeing#0598","10-May-20 05:42 PM","@Your Ally fixed my stuff","",""
"354372432838000642","humanbeing#0598","10-May-20 05:42 PM","i am done","",""
"354372432838000642","humanbeing#0598","10-May-20 05:42 PM","thanks","",""
"195086638404206593","Your Ally#6976","10-May-20 05:43 PM","Nice to hear that","",""
"195086638404206593","Your Ally#6976","10-May-20 05:43 PM","even tho I wasn't able to help that much","",""
"354372432838000642","humanbeing#0598","10-May-20 05:43 PM","you are doing recover?","",""
"195086638404206593","Your Ally#6976","10-May-20 05:43 PM","I'm already done with recover","",""
"195086638404206593","Your Ally#6976","10-May-20 05:43 PM","I'm going to watch week 5's lecture","",""
"354372432838000642","humanbeing#0598","10-May-20 05:46 PM","i meant speller","",""
"235462700543508491","adamfdls#6605","10-May-20 06:56 PM","Hey guys, Ive been working on recover for hours, it finally outputs 50 jpegs. But the jpegs are all empty","",""
"235462700543508491","adamfdls#6605","10-May-20 06:57 PM","Empty jpg","https://cdn.discordapp.com/attachments/395684916056031245/709071526980354118/SPOILER_Screen_Shot_2020-05-10_at_22.56.45.png",""
"235462700543508491","adamfdls#6605","10-May-20 06:57 PM","Any clue on how to fix this? I don't know where to start debugging","",""
"693822742063218838","Sibylle#2708","10-May-20 07:02 PM","Can someone help me please, my code doesn't open any file.","https://cdn.discordapp.com/attachments/395684916056031245/709072897016332368/SPOILER_SPOILER_unknown.png",""
"693822742063218838","Sibylle#2708","10-May-20 07:03 PM","> Empty jpg
@adamfdls check how your code writes inside your files, something might be wrong there","",""
"610114050600206340","nixgnin#5279","10-May-20 07:07 PM","Fread needs to be called each time you are trying to get the next block. So in your while loop, there‚Äôs nothing new being read","",""
"610114050600206340","nixgnin#5279","10-May-20 07:09 PM","Also each time fread is called, a new block is being read so it‚Äôs being called twice. Once in your condition and another time in the while loop","",""
"186998358328606720","Zivy#2628","10-May-20 07:12 PM","I‚Äôm having the same problem, I‚Äôm unsure about how to frame the while loop then","",""
"610114050600206340","nixgnin#5279","10-May-20 07:51 PM","you can just call fread once. the block would be stored in bytes (1st parameter of fread)","",""
"610114050600206340","nixgnin#5279","10-May-20 07:52 PM","and if you've reached the end of the file, you would expect the number of elements returned by fread to be smaller than what's specified in qty of blocks (3rd parameter of fread)","",""
"697348478279483445","Hera#8206","10-May-20 08:12 PM","Do i need malloc for this?","",""
"610114050600206340","nixgnin#5279","10-May-20 08:33 PM","Not necc","",""
"186998358328606720","Zivy#2628","10-May-20 09:30 PM","Any idea why I'm getting this error?","https://cdn.discordapp.com/attachments/395684916056031245/709110032620322916/SPOILER_Screenshot_2020-05-10_at_11.59.45_PM.png",""
"265319015994490881","ginja#8294","11-May-20 05:00 AM","hello, I have been working on recover. I had an issue where everything was working except for the last jpg (it recovered and produced an image but check 50 said it was wrong), I was given advice to not use eof. So I attempted to do that, but now I am struggling with getting the right condition for my while loop.","",""
"265319015994490881","ginja#8294","11-May-20 05:01 AM","there's my code","",""
"265319015994490881","ginja#8294","11-May-20 05:02 AM","I know it still has the eof in it.","",""
"265319015994490881","ginja#8294","11-May-20 05:02 AM","but I tried a few different conditions using the returb value of fread, but I couldn't get it to work better than eof yet","",""
"265319015994490881","ginja#8294","11-May-20 05:02 AM","return*","",""
"393854278764068875","curiouskiwi#1671","11-May-20 05:05 AM","the common way is to put your fread into the while condition itself (and not inside the loop)","",""
"181511246707818496","IkeKap#8206","11-May-20 06:56 AM","My while loop condition ended up being broken.. I was too lazy to figure out why so I just put a check in the very inside that ejected me out of the program","",""
"700687883874467841","funprog31#1137","11-May-20 11:11 AM","@ginja i used a condition for EOF and it works fine, but there's a function that can help with it. Read the CS50 programmers manual and fread and it'll point you to a couple of functions you can use.","",""
"303195829676670976","mxmt2#3994","11-May-20 12:45 PM","hello could someone help me take a look at my code please! I used malloc for my filename and I free up the memory every time after filename is used, and I can recover all 50 images, but I am still getting the segmentation fault error message","",""
"303195829676670976","mxmt2#3994","11-May-20 12:45 PM","https://pastebin.com/iUbEV5yS","",""
"381840470814490624","Dale#7314","11-May-20 12:47 PM","Could you please print screen the error and paste here","",""
"303195829676670976","mxmt2#3994","11-May-20 12:49 PM","","https://cdn.discordapp.com/attachments/395684916056031245/709341481403678730/unknown.png",""
"381840470814490624","Dale#7314","11-May-20 12:50 PM","But your program revocers all images correctly?","",""
"303195829676670976","mxmt2#3994","11-May-20 12:52 PM","yeah except for the last image which looks like this","",""
"303195829676670976","mxmt2#3994","11-May-20 12:52 PM","","https://cdn.discordapp.com/attachments/395684916056031245/709342214391595008/unknown.png",""
"381840470814490624","Dale#7314","11-May-20 12:54 PM","@mxmt2 I did this last year, and need to redo it this year, if I recall correctly, shouldn't you be verifying the images width and height?","",""
"381840470814490624","Dale#7314","11-May-20 12:55 PM","So 1st you need to check if it is a jpeg image with a specific header, like you are currently doing, then you need to read in the images meta data that specifies the images height and width","",""
"303195829676670976","mxmt2#3994","11-May-20 12:59 PM","hmm the walkthrough didnt mention anything about verifying the width and height","",""
"303195829676670976","mxmt2#3994","11-May-20 12:59 PM","I'll give it a try!","",""
"303195829676670976","mxmt2#3994","11-May-20 01:00 PM","thanks","",""
"688750933311488031","DanielW78#4302","11-May-20 04:16 PM","Can anyone help me out with the errors I have here?","",""
"688750933311488031","DanielW78#4302","11-May-20 04:16 PM","","https://cdn.discordapp.com/attachments/395684916056031245/709393403322040340/unknown.png",""
"688750933311488031","DanielW78#4302","11-May-20 04:17 PM","Here is my code","https://cdn.discordapp.com/attachments/395684916056031245/709393804519800872/SPOILER_recover.c",""
"653153342687805443","Mazgaut#9883","11-May-20 04:24 PM","Hi. looks like it's dummy question but I can't understand why i'm getting segmentation fault while using sprintf (((

can anyone help me little bit?

UPDATE
I looked through lecture 4 and used malloc to allocate some memory for storing filename. Than it worked...but I can't imagine why my way didn't work as I initilize ""name"" variable exaclty as stated in
https://courses.edx.org/courses/course-v1:HarvardX+CS50+X/courseware/b94adcd6bd6b4e69b2af7eef0d828674/c1bfc2d1da914a06b9b433a5f8898bfe/?child=last on 35:11 where David using char * to initialize adequate  memory and in 53:30 uses malloc for same thing.

May be @brian or someone else can point me on something I missed?","https://cdn.discordapp.com/attachments/395684916056031245/709395484510388264/EA4qy0eHO5VDJr.png",""
"653153342687805443","Mazgaut#9883","11-May-20 04:25 PM","Code is like this:

//define result file name
    char *name = ""000.jpg"";
    int f_num = 0;
    sprintf(name, ""%03i.jpg"", f_num);","",""
"700687883874467841","funprog31#1137","11-May-20 05:14 PM","@mxmt2 looking at your code you need to search for the first image header first before carrying with your while loop.","",""
"438954466838970379","NAW Jason#6603","11-May-20 05:17 PM","Gang, I'm having a hideous time with segmentation faults and it's making me lose me mind! üò≠ 
Anyone know why this is happening?
https://pastebin.com/tSbn0VpB","",""
"438954466838970379","NAW Jason#6603","11-May-20 05:17 PM","In my mind it just has to work and I can't work it out, at all","",""
"260061133984104448","MuffinMathew#7361","11-May-20 05:18 PM","@NAW Jason are your images being generated?","",""
"438954466838970379","NAW Jason#6603","11-May-20 05:19 PM","Nope","",""
"438954466838970379","NAW Jason#6603","11-May-20 05:19 PM","Just segmentation fault whenever I run","",""
"260061133984104448","MuffinMathew#7361","11-May-20 05:20 PM","Oh","",""
"260061133984104448","MuffinMathew#7361","11-May-20 05:20 PM","I'm getting a segmentation fault too, just that my last image has a distortion a the bottom for some reason. I think it has something to do with the boolean expression in my while() loop","",""
"260061133984104448","MuffinMathew#7361","11-May-20 05:21 PM","anyone free to help?","",""
"651110562176172045","m.sharifit88#2964","11-May-20 05:21 PM","> Gang, I'm having a hideous time with segmentation faults and it's making me lose me mind! üò≠ 
> Anyone know why this is happening?
> https://pastebin.com/tSbn0VpB
@NAW Jason Use a debugger to catch segfault","",""
"438954466838970379","NAW Jason#6603","11-May-20 05:22 PM","What kind of debugger, I have VS Code, is there something there I can use","",""
"651110562176172045","m.sharifit88#2964","11-May-20 05:23 PM","> What kind of debugger, I have VS Code, is there something there I can use
@NAW Jason Use cs50 ide and debug50 tool. I couldn't set VScode debbuger for c/c++ myself. üòê","",""
"438954466838970379","NAW Jason#6603","11-May-20 05:23 PM","Oh damn, I forgot about debug50!","",""
"438954466838970379","NAW Jason#6603","11-May-20 05:23 PM","Thanks","",""
"260061133984104448","MuffinMathew#7361","11-May-20 05:28 PM","@m.sharifit88 i ran the debugger, it highlights a line in brown. is that the line where the error is occuring?","",""
"651110562176172045","m.sharifit88#2964","11-May-20 05:29 PM","@MuffinMathew yeah I think.","",""
"255858300648685572","Kiml1n#5248","11-May-20 11:40 PM","Hey guys, I'm having a hard time trying to start recover and I think I need to do a bit of research on a few things. Would someone be able to give a list of things I should look up for this assignment? I know I need to brush up on pointers and file functions. But I'm also seeing people using things like BYTE variable types? Or defining BYTE using uint8_t? These are things I just haven't encountered yet. Are they necessary for the assignment?","",""
"186998358328606720","Zivy#2628","12-May-20 05:47 AM","Information about BYTE is in the ""Hints"" sections at the bottom @Kiml1n","",""
"366399059268861964","bocajbee#6122","12-May-20 08:57 AM","heck yea boiii","https://cdn.discordapp.com/attachments/395684916056031245/709645415426818048/unknown.png",""
"366399059268861964","bocajbee#6122","12-May-20 08:57 AM","üôè","",""
